function PF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var IV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FC={exports:{}},vg={},kC={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=Symbol.for("react.element"),RF=Symbol.for("react.portal"),OF=Symbol.for("react.fragment"),HF=Symbol.for("react.strict_mode"),MF=Symbol.for("react.profiler"),VF=Symbol.for("react.provider"),KF=Symbol.for("react.context"),zF=Symbol.for("react.forward_ref"),GF=Symbol.for("react.suspense"),qF=Symbol.for("react.memo"),$F=Symbol.for("react.lazy"),Nx=Symbol.iterator;function WF(t){return t===null||typeof t!="object"?null:(t=Nx&&t[Nx]||t["@@iterator"],typeof t=="function"?t:null)}var TC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UC=Object.assign,QC={};function Pu(t,e,r){this.props=t,this.context=e,this.refs=QC,this.updater=r||TC}Pu.prototype.isReactComponent={};Pu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jC(){}jC.prototype=Pu.prototype;function Jy(t,e,r){this.props=t,this.context=e,this.refs=QC,this.updater=r||TC}var Zy=Jy.prototype=new jC;Zy.constructor=Jy;UC(Zy,Pu.prototype);Zy.isPureReactComponent=!0;var Sx=Array.isArray,LC=Object.prototype.hasOwnProperty,ew={current:null},PC={key:!0,ref:!0,__self:!0,__source:!0};function DC(t,e,r){var n,s={},i=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)LC.call(e,n)&&!PC.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:$h,type:t,key:i,ref:A,props:s,_owner:ew.current}}function YF(t,e){return{$$typeof:$h,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tw(t){return typeof t=="object"&&t!==null&&t.$$typeof===$h}function XF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ix=/\/+/g;function Q0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XF(""+t.key):e.toString(36)}function Pm(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case $h:case RF:A=!0}}if(A)return A=t,s=s(A),t=n===""?"."+Q0(A,0):n,Sx(s)?(r="",t!=null&&(r=t.replace(Ix,"$&/")+"/"),Pm(s,e,r,"",function(c){return c})):s!=null&&(tw(s)&&(s=YF(s,r+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(Ix,"$&/")+"/")+t)),e.push(s)),1;if(A=0,n=n===""?".":n+":",Sx(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+Q0(i,o);A+=Pm(i,e,r,l,s)}else if(l=WF(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+Q0(i,o++),A+=Pm(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Df(t,e,r){if(t==null)return t;var n=[],s=0;return Pm(t,n,"","",function(i){return e.call(r,i,s++)}),n}function JF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hs={current:null},Dm={transition:null},ZF={ReactCurrentDispatcher:hs,ReactCurrentBatchConfig:Dm,ReactCurrentOwner:ew};function RC(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Df,forEach:function(t,e,r){Df(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Df(t,function(){e++}),e},toArray:function(t){return Df(t,function(e){return e})||[]},only:function(t){if(!tw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=Pu;Ot.Fragment=OF;Ot.Profiler=MF;Ot.PureComponent=Jy;Ot.StrictMode=HF;Ot.Suspense=GF;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZF;Ot.act=RC;Ot.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=UC({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=ew.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)LC.call(e,l)&&!PC.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:$h,type:t.type,key:s,ref:i,props:n,_owner:A}};Ot.createContext=function(t){return t={$$typeof:KF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VF,_context:t},t.Consumer=t};Ot.createElement=DC;Ot.createFactory=function(t){var e=DC.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:zF,render:t}};Ot.isValidElement=tw;Ot.lazy=function(t){return{$$typeof:$F,_payload:{_status:-1,_result:t},_init:JF}};Ot.memo=function(t,e){return{$$typeof:qF,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=Dm.transition;Dm.transition={};try{t()}finally{Dm.transition=e}};Ot.unstable_act=RC;Ot.useCallback=function(t,e){return hs.current.useCallback(t,e)};Ot.useContext=function(t){return hs.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return hs.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return hs.current.useEffect(t,e)};Ot.useId=function(){return hs.current.useId()};Ot.useImperativeHandle=function(t,e,r){return hs.current.useImperativeHandle(t,e,r)};Ot.useInsertionEffect=function(t,e){return hs.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return hs.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return hs.current.useMemo(t,e)};Ot.useReducer=function(t,e,r){return hs.current.useReducer(t,e,r)};Ot.useRef=function(t){return hs.current.useRef(t)};Ot.useState=function(t){return hs.current.useState(t)};Ot.useSyncExternalStore=function(t,e,r){return hs.current.useSyncExternalStore(t,e,r)};Ot.useTransition=function(){return hs.current.useTransition()};Ot.version="18.3.1";kC.exports=Ot;var ce=kC.exports;const ui=DF(ce),ek=PF({__proto__:null,default:ui},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=ce,rk=Symbol.for("react.element"),nk=Symbol.for("react.fragment"),sk=Object.prototype.hasOwnProperty,ik=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ak={key:!0,ref:!0,__self:!0,__source:!0};function OC(t,e,r){var n,s={},i=null,A=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)sk.call(e,n)&&!Ak.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:rk,type:t,key:i,ref:A,props:s,_owner:ik.current}}vg.Fragment=nk;vg.jsx=OC;vg.jsxs=OC;FC.exports=vg;var a=FC.exports,HC={exports:{}},Gs={},MC={exports:{}},VC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,oe){var X=M.length;M.push(oe);e:for(;0<X;){var de=X-1>>>1,Q=M[de];if(0<s(Q,oe))M[de]=oe,M[X]=Q,X=de;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var oe=M[0],X=M.pop();if(X!==oe){M[0]=X;e:for(var de=0,Q=M.length,O=Q>>>1;de<O;){var Y=2*(de+1)-1,Z=M[Y],J=Y+1,ee=M[J];if(0>s(Z,X))J<Q&&0>s(ee,Z)?(M[de]=ee,M[J]=X,de=J):(M[de]=Z,M[Y]=X,de=Y);else if(J<Q&&0>s(ee,X))M[de]=ee,M[J]=X,de=J;else break e}}return oe}function s(M,oe){var X=M.sortIndex-oe.sortIndex;return X!==0?X:M.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,o=A.now();t.unstable_now=function(){return A.now()-o}}var l=[],c=[],h=1,f=null,p=3,g=!1,b=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var oe=r(c);oe!==null;){if(oe.callback===null)n(c);else if(oe.startTime<=M)n(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=r(c)}}function L(M){if(E=!1,_(M),!b)if(r(l)!==null)b=!0,pe(V);else{var oe=r(c);oe!==null&&ve(L,oe.startTime-M)}}function V(M,oe){b=!1,E&&(E=!1,w(B),B=-1),g=!0;var X=p;try{for(_(oe),f=r(l);f!==null&&(!(f.expirationTime>oe)||M&&!S());){var de=f.callback;if(typeof de=="function"){f.callback=null,p=f.priorityLevel;var Q=de(f.expirationTime<=oe);oe=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&n(l),_(oe)}else n(l);f=r(l)}if(f!==null)var O=!0;else{var Y=r(c);Y!==null&&ve(L,Y.startTime-oe),O=!1}return O}finally{f=null,p=X,g=!1}}var $=!1,F=null,B=-1,k=5,P=-1;function S(){return!(t.unstable_now()-P<k)}function j(){if(F!==null){var M=t.unstable_now();P=M;var oe=!0;try{oe=F(!0,M)}finally{oe?T():($=!1,F=null)}}else $=!1}var T;if(typeof y=="function")T=function(){y(j)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,xe=re.port2;re.port1.onmessage=j,T=function(){xe.postMessage(null)}}else T=function(){N(j,0)};function pe(M){F=M,$||($=!0,T())}function ve(M,oe){B=N(function(){M(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,pe(V))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var X=p;p=oe;try{return M()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,oe){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=p;p=M;try{return oe()}finally{p=X}},t.unstable_scheduleCallback=function(M,oe,X){var de=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?de+X:de):X=de,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,M={id:h++,callback:oe,priorityLevel:M,startTime:X,expirationTime:Q,sortIndex:-1},X>de?(M.sortIndex=X,e(c,M),r(l)===null&&M===r(c)&&(E?(w(B),B=-1):E=!0,ve(L,X-de))):(M.sortIndex=Q,e(l,M),b||g||(b=!0,pe(V))),M},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(M){var oe=p;return function(){var X=p;p=oe;try{return M.apply(this,arguments)}finally{p=X}}}})(VC);MC.exports=VC;var ak=MC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=ce,zs=ak;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KC=new Set,dh={};function ql(t,e){vu(t,e),vu(t+"Capture",e)}function vu(t,e){for(dh[t]=e,t=0;t<e.length;t++)KC.add(e[t])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y1=Object.prototype.hasOwnProperty,lk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fx={},kx={};function ck(t){return Y1.call(kx,t)?!0:Y1.call(Fx,t)?!1:lk.test(t)?kx[t]=!0:(Fx[t]=!0,!1)}function uk(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dk(t,e,r,n){if(e===null||typeof e>"u"||uk(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fs(t,e,r,n,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new fs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new fs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new fs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new fs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new fs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new fs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new fs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new fs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new fs(t,5,!1,t.toLowerCase(),null,!1,!1)});var rw=/[\-:]([a-z])/g;function nw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rw,nw);jn[e]=new fs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rw,nw);jn[e]=new fs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rw,nw);jn[e]=new fs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new fs(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new fs(t,1,!1,t.toLowerCase(),null,!0,!0)});function sw(t,e,r,n){var s=jn.hasOwnProperty(e)?jn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dk(e,r,s,n)&&(r=null),n||s===null?ck(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var da=ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rf=Symbol.for("react.element"),Hc=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),X1=Symbol.for("react.profiler"),zC=Symbol.for("react.provider"),GC=Symbol.for("react.context"),Aw=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),Z1=Symbol.for("react.suspense_list"),aw=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),qC=Symbol.for("react.offscreen"),Tx=Symbol.iterator;function fd(t){return t===null||typeof t!="object"?null:(t=Tx&&t[Tx]||t["@@iterator"],typeof t=="function"?t:null)}var Ur=Object.assign,j0;function Id(t){if(j0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);j0=e&&e[1]||""}return`
`+j0+t}var L0=!1;function P0(t,e){if(!t||L0)return"";L0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),A=s.length-1,o=i.length-1;1<=A&&0<=o&&s[A]!==i[o];)o--;for(;1<=A&&0<=o;A--,o--)if(s[A]!==i[o]){if(A!==1||o!==1)do if(A--,o--,0>o||s[A]!==i[o]){var l=`
`+s[A].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=A&&0<=o);break}}}finally{L0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Id(t):""}function hk(t){switch(t.tag){case 5:return Id(t.type);case 16:return Id("Lazy");case 13:return Id("Suspense");case 19:return Id("SuspenseList");case 0:case 2:case 15:return t=P0(t.type,!1),t;case 11:return t=P0(t.type.render,!1),t;case 1:return t=P0(t.type,!0),t;default:return""}}function ev(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mc:return"Fragment";case Hc:return"Portal";case X1:return"Profiler";case iw:return"StrictMode";case J1:return"Suspense";case Z1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GC:return(t.displayName||"Context")+".Consumer";case zC:return(t._context.displayName||"Context")+".Provider";case Aw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aw:return e=t.displayName||null,e!==null?e:ev(t.type)||"Memo";case Ja:e=t._payload,t=t._init;try{return ev(t(e))}catch{}}return null}function fk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ev(e);case 8:return e===iw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $C(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mk(t){var e=$C(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){n=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Of(t){t._valueTracker||(t._valueTracker=mk(t))}function WC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=$C(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tv(t,e){var r=e.checked;return Ur({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ux(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=jo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YC(t,e){e=e.checked,e!=null&&sw(t,"checked",e,!1)}function rv(t,e){YC(t,e);var r=jo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nv(t,e.type,r):e.hasOwnProperty("defaultValue")&&nv(t,e.type,jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function nv(t,e,r){(e!=="number"||hp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fd=Array.isArray;function ru(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+jo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Ur({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(qe(92));if(Fd(r)){if(1<r.length)throw Error(qe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:jo(r)}}function XC(t,e){var r=jo(e.value),n=jo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Lx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hf,ZC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hf=Hf||document.createElement("div"),Hf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pk=["Webkit","ms","Moz","O"];Object.keys(Gd).forEach(function(t){pk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gd[e]=Gd[t]})});function e4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gd.hasOwnProperty(t)&&Gd[t]?(""+e).trim():e+"px"}function t4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=e4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var gk=Ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Av(t,e){if(e){if(gk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function av(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function ow(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lv=null,nu=null,su=null;function Px(t){if(t=Xh(t)){if(typeof lv!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=bg(e),lv(t.stateNode,t.type,e))}}function r4(t){nu?su?su.push(t):su=[t]:nu=t}function n4(){if(nu){var t=nu,e=su;if(su=nu=null,Px(t),e)for(t=0;t<e.length;t++)Px(e[t])}}function s4(t,e){return t(e)}function i4(){}var D0=!1;function A4(t,e,r){if(D0)return t(e,r);D0=!0;try{return s4(t,e,r)}finally{D0=!1,(nu!==null||su!==null)&&(i4(),n4())}}function fh(t,e){var r=t.stateNode;if(r===null)return null;var n=bg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(qe(231,e,typeof r));return r}var cv=!1;if(ra)try{var md={};Object.defineProperty(md,"passive",{get:function(){cv=!0}}),window.addEventListener("test",md,md),window.removeEventListener("test",md,md)}catch{cv=!1}function vk(t,e,r,n,s,i,A,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var qd=!1,fp=null,mp=!1,uv=null,yk={onError:function(t){qd=!0,fp=t}};function wk(t,e,r,n,s,i,A,o,l){qd=!1,fp=null,vk.apply(yk,arguments)}function xk(t,e,r,n,s,i,A,o,l){if(wk.apply(this,arguments),qd){if(qd){var c=fp;qd=!1,fp=null}else throw Error(qe(198));mp||(mp=!0,uv=c)}}function $l(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function a4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dx(t){if($l(t)!==t)throw Error(qe(188))}function Bk(t){var e=t.alternate;if(!e){if(e=$l(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Dx(s),t;if(i===n)return Dx(s),e;i=i.sibling}throw Error(qe(188))}if(r.return!==n.return)r=s,n=i;else{for(var A=!1,o=s.child;o;){if(o===r){A=!0,r=s,n=i;break}if(o===n){A=!0,n=s,r=i;break}o=o.sibling}if(!A){for(o=i.child;o;){if(o===r){A=!0,r=i,n=s;break}if(o===n){A=!0,n=i,r=s;break}o=o.sibling}if(!A)throw Error(qe(189))}}if(r.alternate!==n)throw Error(qe(190))}if(r.tag!==3)throw Error(qe(188));return r.stateNode.current===r?t:e}function o4(t){return t=Bk(t),t!==null?l4(t):null}function l4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l4(t);if(e!==null)return e;t=t.sibling}return null}var c4=zs.unstable_scheduleCallback,Rx=zs.unstable_cancelCallback,bk=zs.unstable_shouldYield,Ck=zs.unstable_requestPaint,Yr=zs.unstable_now,Ek=zs.unstable_getCurrentPriorityLevel,lw=zs.unstable_ImmediatePriority,u4=zs.unstable_UserBlockingPriority,pp=zs.unstable_NormalPriority,_k=zs.unstable_LowPriority,d4=zs.unstable_IdlePriority,yg=null,dA=null;function Nk(t){if(dA&&typeof dA.onCommitFiberRoot=="function")try{dA.onCommitFiberRoot(yg,t,void 0,(t.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:Fk,Sk=Math.log,Ik=Math.LN2;function Fk(t){return t>>>=0,t===0?32:31-(Sk(t)/Ik|0)|0}var Mf=64,Vf=4194304;function kd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,A=r&268435455;if(A!==0){var o=A&~s;o!==0?n=kd(o):(i&=A,i!==0&&(n=kd(i)))}else A=r&~s,A!==0?n=kd(A):i!==0&&(n=kd(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Li(e),s=1<<r,n|=t[r],e&=~s;return n}function kk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-Li(i),o=1<<A,l=s[A];l===-1?(!(o&r)||o&n)&&(s[A]=kk(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function dv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h4(){var t=Mf;return Mf<<=1,!(Mf&4194240)&&(Mf=64),t}function R0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Li(e),t[e]=r}function Uk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Li(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function cw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Li(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ar=0;function f4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m4,uw,p4,g4,v4,hv=!1,Kf=[],go=null,vo=null,yo=null,mh=new Map,ph=new Map,to=[],Qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ox(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":mh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(e.pointerId)}}function pd(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xh(e),e!==null&&uw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function jk(t,e,r,n,s){switch(e){case"focusin":return go=pd(go,t,e,r,n,s),!0;case"dragenter":return vo=pd(vo,t,e,r,n,s),!0;case"mouseover":return yo=pd(yo,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return mh.set(i,pd(mh.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ph.set(i,pd(ph.get(i)||null,t,e,r,n,s)),!0}return!1}function y4(t){var e=Cl(t.target);if(e!==null){var r=$l(e);if(r!==null){if(e=r.tag,e===13){if(e=a4(r),e!==null){t.blockedOn=e,v4(t.priority,function(){p4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=fv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ov=n,r.target.dispatchEvent(n),ov=null}else return e=Xh(r),e!==null&&uw(e),t.blockedOn=r,!1;e.shift()}return!0}function Hx(t,e,r){Rm(t)&&r.delete(e)}function Lk(){hv=!1,go!==null&&Rm(go)&&(go=null),vo!==null&&Rm(vo)&&(vo=null),yo!==null&&Rm(yo)&&(yo=null),mh.forEach(Hx),ph.forEach(Hx)}function gd(t,e){t.blockedOn===e&&(t.blockedOn=null,hv||(hv=!0,zs.unstable_scheduleCallback(zs.unstable_NormalPriority,Lk)))}function gh(t){function e(s){return gd(s,t)}if(0<Kf.length){gd(Kf[0],t);for(var r=1;r<Kf.length;r++){var n=Kf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(go!==null&&gd(go,t),vo!==null&&gd(vo,t),yo!==null&&gd(yo,t),mh.forEach(e),ph.forEach(e),r=0;r<to.length;r++)n=to[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<to.length&&(r=to[0],r.blockedOn===null);)y4(r),r.blockedOn===null&&to.shift()}var iu=da.ReactCurrentBatchConfig,vp=!0;function Pk(t,e,r,n){var s=ar,i=iu.transition;iu.transition=null;try{ar=1,dw(t,e,r,n)}finally{ar=s,iu.transition=i}}function Dk(t,e,r,n){var s=ar,i=iu.transition;iu.transition=null;try{ar=4,dw(t,e,r,n)}finally{ar=s,iu.transition=i}}function dw(t,e,r,n){if(vp){var s=fv(t,e,r,n);if(s===null)W0(t,e,n,yp,r),Ox(t,n);else if(jk(s,t,e,r,n))n.stopPropagation();else if(Ox(t,n),e&4&&-1<Qk.indexOf(t)){for(;s!==null;){var i=Xh(s);if(i!==null&&m4(i),i=fv(t,e,r,n),i===null&&W0(t,e,n,yp,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else W0(t,e,n,null,r)}}var yp=null;function fv(t,e,r,n){if(yp=null,t=ow(n),t=Cl(t),t!==null)if(e=$l(t),e===null)t=null;else if(r=e.tag,r===13){if(t=a4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yp=t,null}function w4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ek()){case lw:return 1;case u4:return 4;case pp:case _k:return 16;case d4:return 536870912;default:return 16}default:return 16}}var ao=null,hw=null,Om=null;function x4(){if(Om)return Om;var t,e=hw,r=e.length,n,s="value"in ao?ao.value:ao.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===s[i-n];n++);return Om=s.slice(t,1<n?1-n:void 0)}function Hm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zf(){return!0}function Mx(){return!1}function qs(t){function e(r,n,s,i,A){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zf:Mx,this.isPropagationStopped=Mx,this}return Ur(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),e}var Du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fw=qs(Du),Yh=Ur({},Du,{view:0,detail:0}),Rk=qs(Yh),O0,H0,vd,wg=Ur({},Yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vd&&(vd&&t.type==="mousemove"?(O0=t.screenX-vd.screenX,H0=t.screenY-vd.screenY):H0=O0=0,vd=t),O0)},movementY:function(t){return"movementY"in t?t.movementY:H0}}),Vx=qs(wg),Ok=Ur({},wg,{dataTransfer:0}),Hk=qs(Ok),Mk=Ur({},Yh,{relatedTarget:0}),M0=qs(Mk),Vk=Ur({},Du,{animationName:0,elapsedTime:0,pseudoElement:0}),Kk=qs(Vk),zk=Ur({},Du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gk=qs(zk),qk=Ur({},Du,{data:0}),Kx=qs(qk),$k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yk[t])?!!e[t]:!1}function mw(){return Xk}var Jk=Ur({},Yh,{key:function(t){if(t.key){var e=$k[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mw,charCode:function(t){return t.type==="keypress"?Hm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zk=qs(Jk),e3=Ur({},wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=qs(e3),t3=Ur({},Yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mw}),r3=qs(t3),n3=Ur({},Du,{propertyName:0,elapsedTime:0,pseudoElement:0}),s3=qs(n3),i3=Ur({},wg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A3=qs(i3),a3=[9,13,27,32],pw=ra&&"CompositionEvent"in window,$d=null;ra&&"documentMode"in document&&($d=document.documentMode);var o3=ra&&"TextEvent"in window&&!$d,B4=ra&&(!pw||$d&&8<$d&&11>=$d),Gx=" ",qx=!1;function b4(t,e){switch(t){case"keyup":return a3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vc=!1;function l3(t,e){switch(t){case"compositionend":return C4(e);case"keypress":return e.which!==32?null:(qx=!0,Gx);case"textInput":return t=e.data,t===Gx&&qx?null:t;default:return null}}function c3(t,e){if(Vc)return t==="compositionend"||!pw&&b4(t,e)?(t=x4(),Om=hw=ao=null,Vc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B4&&e.locale!=="ko"?null:e.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u3[t.type]:e==="textarea"}function E4(t,e,r,n){r4(n),e=wp(e,"onChange"),0<e.length&&(r=new fw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wd=null,vh=null;function d3(t){L4(t,0)}function xg(t){var e=Gc(t);if(WC(e))return t}function h3(t,e){if(t==="change")return e}var _4=!1;if(ra){var V0;if(ra){var K0="oninput"in document;if(!K0){var Wx=document.createElement("div");Wx.setAttribute("oninput","return;"),K0=typeof Wx.oninput=="function"}V0=K0}else V0=!1;_4=V0&&(!document.documentMode||9<document.documentMode)}function Yx(){Wd&&(Wd.detachEvent("onpropertychange",N4),vh=Wd=null)}function N4(t){if(t.propertyName==="value"&&xg(vh)){var e=[];E4(e,vh,t,ow(t)),A4(d3,e)}}function f3(t,e,r){t==="focusin"?(Yx(),Wd=e,vh=r,Wd.attachEvent("onpropertychange",N4)):t==="focusout"&&Yx()}function m3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xg(vh)}function p3(t,e){if(t==="click")return xg(e)}function g3(t,e){if(t==="input"||t==="change")return xg(e)}function v3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ri=typeof Object.is=="function"?Object.is:v3;function yh(t,e){if(Ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Y1.call(e,s)||!Ri(t[s],e[s]))return!1}return!0}function Xx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jx(t,e){var r=Xx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xx(r)}}function S4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I4(){for(var t=window,e=hp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hp(t.document)}return e}function gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y3(t){var e=I4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&S4(r.ownerDocument.documentElement,r)){if(n!==null&&gw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Jx(r,i);var A=Jx(r,n);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w3=ra&&"documentMode"in document&&11>=document.documentMode,Kc=null,mv=null,Yd=null,pv=!1;function Zx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pv||Kc==null||Kc!==hp(n)||(n=Kc,"selectionStart"in n&&gw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yd&&yh(Yd,n)||(Yd=n,n=wp(mv,"onSelect"),0<n.length&&(e=new fw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Kc)))}function Gf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zc={animationend:Gf("Animation","AnimationEnd"),animationiteration:Gf("Animation","AnimationIteration"),animationstart:Gf("Animation","AnimationStart"),transitionend:Gf("Transition","TransitionEnd")},z0={},F4={};ra&&(F4=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Bg(t){if(z0[t])return z0[t];if(!zc[t])return t;var e=zc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in F4)return z0[t]=e[r];return t}var k4=Bg("animationend"),T4=Bg("animationiteration"),U4=Bg("animationstart"),Q4=Bg("transitionend"),j4=new Map,eB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){j4.set(t,e),ql(e,[t])}for(var G0=0;G0<eB.length;G0++){var q0=eB[G0],x3=q0.toLowerCase(),B3=q0[0].toUpperCase()+q0.slice(1);Vo(x3,"on"+B3)}Vo(k4,"onAnimationEnd");Vo(T4,"onAnimationIteration");Vo(U4,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(Q4,"onTransitionEnd");vu("onMouseEnter",["mouseout","mouseover"]);vu("onMouseLeave",["mouseout","mouseover"]);vu("onPointerEnter",["pointerout","pointerover"]);vu("onPointerLeave",["pointerout","pointerover"]);ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function tB(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xk(n,e,void 0,t),t.currentTarget=null}function L4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var A=n.length-1;0<=A;A--){var o=n[A],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;tB(s,o,c),i=l}else for(A=0;A<n.length;A++){if(o=n[A],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;tB(s,o,c),i=l}}}if(mp)throw t=uv,mp=!1,uv=null,t}function br(t,e){var r=e[xv];r===void 0&&(r=e[xv]=new Set);var n=t+"__bubble";r.has(n)||(P4(e,t,2,!1),r.add(n))}function $0(t,e,r){var n=0;e&&(n|=4),P4(r,t,n,e)}var qf="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[qf]){t[qf]=!0,KC.forEach(function(r){r!=="selectionchange"&&(b3.has(r)||$0(r,!1,t),$0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qf]||(e[qf]=!0,$0("selectionchange",!1,e))}}function P4(t,e,r,n){switch(w4(e)){case 1:var s=Pk;break;case 4:s=Dk;break;default:s=dw}r=s.bind(null,e,r,t),s=void 0,!cv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function W0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(A===4)for(A=n.return;A!==null;){var l=A.tag;if((l===3||l===4)&&(l=A.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;A=A.return}for(;o!==null;){if(A=Cl(o),A===null)return;if(l=A.tag,l===5||l===6){n=i=A;continue e}o=o.parentNode}}n=n.return}A4(function(){var c=i,h=ow(r),f=[];e:{var p=j4.get(t);if(p!==void 0){var g=fw,b=t;switch(t){case"keypress":if(Hm(r)===0)break e;case"keydown":case"keyup":g=Zk;break;case"focusin":b="focus",g=M0;break;case"focusout":b="blur",g=M0;break;case"beforeblur":case"afterblur":g=M0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Hk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=r3;break;case k4:case T4:case U4:g=Kk;break;case Q4:g=s3;break;case"scroll":g=Rk;break;case"wheel":g=A3;break;case"copy":case"cut":case"paste":g=Gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zx}var E=(e&4)!==0,N=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var y=c,_;y!==null;){_=y;var L=_.stateNode;if(_.tag===5&&L!==null&&(_=L,w!==null&&(L=fh(y,w),L!=null&&E.push(xh(y,L,_)))),N)break;y=y.return}0<E.length&&(p=new g(p,b,null,r,h),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==ov&&(b=r.relatedTarget||r.fromElement)&&(Cl(b)||b[na]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=c,b=b?Cl(b):null,b!==null&&(N=$l(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(E=Vx,L="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=zx,L="onPointerLeave",w="onPointerEnter",y="pointer"),N=g==null?p:Gc(g),_=b==null?p:Gc(b),p=new E(L,y+"leave",g,r,h),p.target=N,p.relatedTarget=_,L=null,Cl(h)===c&&(E=new E(w,y+"enter",b,r,h),E.target=_,E.relatedTarget=N,L=E),N=L,g&&b)t:{for(E=g,w=b,y=0,_=E;_;_=Cc(_))y++;for(_=0,L=w;L;L=Cc(L))_++;for(;0<y-_;)E=Cc(E),y--;for(;0<_-y;)w=Cc(w),_--;for(;y--;){if(E===w||w!==null&&E===w.alternate)break t;E=Cc(E),w=Cc(w)}E=null}else E=null;g!==null&&rB(f,p,g,E,!1),b!==null&&N!==null&&rB(f,N,b,E,!0)}}e:{if(p=c?Gc(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var V=h3;else if($x(p))if(_4)V=g3;else{V=m3;var $=f3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=p3);if(V&&(V=V(t,c))){E4(f,V,r,h);break e}$&&$(t,p,c),t==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&nv(p,"number",p.value)}switch($=c?Gc(c):window,t){case"focusin":($x($)||$.contentEditable==="true")&&(Kc=$,mv=c,Yd=null);break;case"focusout":Yd=mv=Kc=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,Zx(f,r,h);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":Zx(f,r,h)}var F;if(pw)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Vc?b4(t,r)&&(B="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(B4&&r.locale!=="ko"&&(Vc||B!=="onCompositionStart"?B==="onCompositionEnd"&&Vc&&(F=x4()):(ao=h,hw="value"in ao?ao.value:ao.textContent,Vc=!0)),$=wp(c,B),0<$.length&&(B=new Kx(B,t,null,r,h),f.push({event:B,listeners:$}),F?B.data=F:(F=C4(r),F!==null&&(B.data=F)))),(F=o3?l3(t,r):c3(t,r))&&(c=wp(c,"onBeforeInput"),0<c.length&&(h=new Kx("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=F))}L4(f,e)})}function xh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wp(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fh(t,r),i!=null&&n.unshift(xh(t,i,s)),i=fh(t,e),i!=null&&n.push(xh(t,i,s))),t=t.return}return n}function Cc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rB(t,e,r,n,s){for(var i=e._reactName,A=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=fh(r,i),l!=null&&A.unshift(xh(r,l,o))):s||(l=fh(r,i),l!=null&&A.push(xh(r,l,o)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var C3=/\r\n?/g,E3=/\u0000|\uFFFD/g;function nB(t){return(typeof t=="string"?t:""+t).replace(C3,`
`).replace(E3,"")}function $f(t,e,r){if(e=nB(e),nB(t)!==e&&r)throw Error(qe(425))}function xp(){}var gv=null,vv=null;function yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wv=typeof setTimeout=="function"?setTimeout:void 0,_3=typeof clearTimeout=="function"?clearTimeout:void 0,sB=typeof Promise=="function"?Promise:void 0,N3=typeof queueMicrotask=="function"?queueMicrotask:typeof sB<"u"?function(t){return sB.resolve(null).then(t).catch(S3)}:wv;function S3(t){setTimeout(function(){throw t})}function Y0(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),gh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gh(e)}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),lA="__reactFiber$"+Ru,Bh="__reactProps$"+Ru,na="__reactContainer$"+Ru,xv="__reactEvents$"+Ru,I3="__reactListeners$"+Ru,F3="__reactHandles$"+Ru;function Cl(t){var e=t[lA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[na]||r[lA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=iB(t);t!==null;){if(r=t[lA])return r;t=iB(t)}return e}t=r,r=t.parentNode}return null}function Xh(t){return t=t[lA]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function bg(t){return t[Bh]||null}var Bv=[],qc=-1;function Ko(t){return{current:t}}function _r(t){0>qc||(t.current=Bv[qc],Bv[qc]=null,qc--)}function wr(t,e){qc++,Bv[qc]=t.current,t.current=e}var Lo={},ts=Ko(Lo),Es=Ko(!1),jl=Lo;function yu(t,e){var r=t.type.contextTypes;if(!r)return Lo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _s(t){return t=t.childContextTypes,t!=null}function Bp(){_r(Es),_r(ts)}function AB(t,e,r){if(ts.current!==Lo)throw Error(qe(168));wr(ts,e),wr(Es,r)}function D4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(qe(108,fk(t)||"Unknown",s));return Ur({},r,n)}function bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lo,jl=ts.current,wr(ts,t),wr(Es,Es.current),!0}function aB(t,e,r){var n=t.stateNode;if(!n)throw Error(qe(169));r?(t=D4(t,e,jl),n.__reactInternalMemoizedMergedChildContext=t,_r(Es),_r(ts),wr(ts,t)):_r(Es),wr(Es,r)}var qA=null,Cg=!1,X0=!1;function R4(t){qA===null?qA=[t]:qA.push(t)}function k3(t){Cg=!0,R4(t)}function zo(){if(!X0&&qA!==null){X0=!0;var t=0,e=ar;try{var r=qA;for(ar=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qA=null,Cg=!1}catch(s){throw qA!==null&&(qA=qA.slice(t+1)),c4(lw,zo),s}finally{ar=e,X0=!1}}return null}var $c=[],Wc=0,Cp=null,Ep=0,ni=[],si=0,Ll=null,$A=1,WA="";function vl(t,e){$c[Wc++]=Ep,$c[Wc++]=Cp,Cp=t,Ep=e}function O4(t,e,r){ni[si++]=$A,ni[si++]=WA,ni[si++]=Ll,Ll=t;var n=$A;t=WA;var s=32-Li(n)-1;n&=~(1<<s),r+=1;var i=32-Li(e)+s;if(30<i){var A=s-s%5;i=(n&(1<<A)-1).toString(32),n>>=A,s-=A,$A=1<<32-Li(e)+s|r<<s|n,WA=i+t}else $A=1<<i|r<<s|n,WA=t}function vw(t){t.return!==null&&(vl(t,1),O4(t,1,0))}function yw(t){for(;t===Cp;)Cp=$c[--Wc],$c[Wc]=null,Ep=$c[--Wc],$c[Wc]=null;for(;t===Ll;)Ll=ni[--si],ni[si]=null,WA=ni[--si],ni[si]=null,$A=ni[--si],ni[si]=null}var Vs=null,Hs=null,Sr=!1,Qi=null;function H4(t,e){var r=ai(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oB(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vs=t,Hs=wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vs=t,Hs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ll!==null?{id:$A,overflow:WA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ai(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Vs=t,Hs=null,!0):!1;default:return!1}}function bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cv(t){if(Sr){var e=Hs;if(e){var r=e;if(!oB(t,e)){if(bv(t))throw Error(qe(418));e=wo(r.nextSibling);var n=Vs;e&&oB(t,e)?H4(n,r):(t.flags=t.flags&-4097|2,Sr=!1,Vs=t)}}else{if(bv(t))throw Error(qe(418));t.flags=t.flags&-4097|2,Sr=!1,Vs=t}}}function lB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vs=t}function Wf(t){if(t!==Vs)return!1;if(!Sr)return lB(t),Sr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yv(t.type,t.memoizedProps)),e&&(e=Hs)){if(bv(t))throw M4(),Error(qe(418));for(;e;)H4(t,e),e=wo(e.nextSibling)}if(lB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Hs=wo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Hs=null}}else Hs=Vs?wo(t.stateNode.nextSibling):null;return!0}function M4(){for(var t=Hs;t;)t=wo(t.nextSibling)}function wu(){Hs=Vs=null,Sr=!1}function ww(t){Qi===null?Qi=[t]:Qi.push(t)}var T3=da.ReactCurrentBatchConfig;function yd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qe(309));var n=r.stateNode}if(!n)throw Error(qe(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var o=s.refs;A===null?delete o[i]:o[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(qe(284));if(!r._owner)throw Error(qe(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cB(t){var e=t._init;return e(t._payload)}function V4(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function r(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Co(w,y),w.index=0,w.sibling=null,w}function i(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function A(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,y,_,L){return y===null||y.tag!==6?(y=s1(_,w.mode,L),y.return=w,y):(y=s(y,_),y.return=w,y)}function l(w,y,_,L){var V=_.type;return V===Mc?h(w,y,_.props.children,L,_.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ja&&cB(V)===y.type)?(L=s(y,_.props),L.ref=yd(w,y,_),L.return=w,L):(L=$m(_.type,_.key,_.props,null,w.mode,L),L.ref=yd(w,y,_),L.return=w,L)}function c(w,y,_,L){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=i1(_,w.mode,L),y.return=w,y):(y=s(y,_.children||[]),y.return=w,y)}function h(w,y,_,L,V){return y===null||y.tag!==7?(y=Fl(_,w.mode,L,V),y.return=w,y):(y=s(y,_),y.return=w,y)}function f(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=s1(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rf:return _=$m(y.type,y.key,y.props,null,w.mode,_),_.ref=yd(w,null,y),_.return=w,_;case Hc:return y=i1(y,w.mode,_),y.return=w,y;case Ja:var L=y._init;return f(w,L(y._payload),_)}if(Fd(y)||fd(y))return y=Fl(y,w.mode,_,null),y.return=w,y;Yf(w,y)}return null}function p(w,y,_,L){var V=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:o(w,y,""+_,L);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rf:return _.key===V?l(w,y,_,L):null;case Hc:return _.key===V?c(w,y,_,L):null;case Ja:return V=_._init,p(w,y,V(_._payload),L)}if(Fd(_)||fd(_))return V!==null?null:h(w,y,_,L,null);Yf(w,_)}return null}function g(w,y,_,L,V){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(_)||null,o(y,w,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Rf:return w=w.get(L.key===null?_:L.key)||null,l(y,w,L,V);case Hc:return w=w.get(L.key===null?_:L.key)||null,c(y,w,L,V);case Ja:var $=L._init;return g(w,y,_,$(L._payload),V)}if(Fd(L)||fd(L))return w=w.get(_)||null,h(y,w,L,V,null);Yf(y,L)}return null}function b(w,y,_,L){for(var V=null,$=null,F=y,B=y=0,k=null;F!==null&&B<_.length;B++){F.index>B?(k=F,F=null):k=F.sibling;var P=p(w,F,_[B],L);if(P===null){F===null&&(F=k);break}t&&F&&P.alternate===null&&e(w,F),y=i(P,y,B),$===null?V=P:$.sibling=P,$=P,F=k}if(B===_.length)return r(w,F),Sr&&vl(w,B),V;if(F===null){for(;B<_.length;B++)F=f(w,_[B],L),F!==null&&(y=i(F,y,B),$===null?V=F:$.sibling=F,$=F);return Sr&&vl(w,B),V}for(F=n(w,F);B<_.length;B++)k=g(F,w,B,_[B],L),k!==null&&(t&&k.alternate!==null&&F.delete(k.key===null?B:k.key),y=i(k,y,B),$===null?V=k:$.sibling=k,$=k);return t&&F.forEach(function(S){return e(w,S)}),Sr&&vl(w,B),V}function E(w,y,_,L){var V=fd(_);if(typeof V!="function")throw Error(qe(150));if(_=V.call(_),_==null)throw Error(qe(151));for(var $=V=null,F=y,B=y=0,k=null,P=_.next();F!==null&&!P.done;B++,P=_.next()){F.index>B?(k=F,F=null):k=F.sibling;var S=p(w,F,P.value,L);if(S===null){F===null&&(F=k);break}t&&F&&S.alternate===null&&e(w,F),y=i(S,y,B),$===null?V=S:$.sibling=S,$=S,F=k}if(P.done)return r(w,F),Sr&&vl(w,B),V;if(F===null){for(;!P.done;B++,P=_.next())P=f(w,P.value,L),P!==null&&(y=i(P,y,B),$===null?V=P:$.sibling=P,$=P);return Sr&&vl(w,B),V}for(F=n(w,F);!P.done;B++,P=_.next())P=g(F,w,B,P.value,L),P!==null&&(t&&P.alternate!==null&&F.delete(P.key===null?B:P.key),y=i(P,y,B),$===null?V=P:$.sibling=P,$=P);return t&&F.forEach(function(j){return e(w,j)}),Sr&&vl(w,B),V}function N(w,y,_,L){if(typeof _=="object"&&_!==null&&_.type===Mc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Rf:e:{for(var V=_.key,$=y;$!==null;){if($.key===V){if(V=_.type,V===Mc){if($.tag===7){r(w,$.sibling),y=s($,_.props.children),y.return=w,w=y;break e}}else if($.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ja&&cB(V)===$.type){r(w,$.sibling),y=s($,_.props),y.ref=yd(w,$,_),y.return=w,w=y;break e}r(w,$);break}else e(w,$);$=$.sibling}_.type===Mc?(y=Fl(_.props.children,w.mode,L,_.key),y.return=w,w=y):(L=$m(_.type,_.key,_.props,null,w.mode,L),L.ref=yd(w,y,_),L.return=w,w=L)}return A(w);case Hc:e:{for($=_.key;y!==null;){if(y.key===$)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){r(w,y.sibling),y=s(y,_.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else e(w,y);y=y.sibling}y=i1(_,w.mode,L),y.return=w,w=y}return A(w);case Ja:return $=_._init,N(w,y,$(_._payload),L)}if(Fd(_))return b(w,y,_,L);if(fd(_))return E(w,y,_,L);Yf(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,_),y.return=w,w=y):(r(w,y),y=s1(_,w.mode,L),y.return=w,w=y),A(w)):r(w,y)}return N}var xu=V4(!0),K4=V4(!1),_p=Ko(null),Np=null,Yc=null,xw=null;function Bw(){xw=Yc=Np=null}function bw(t){var e=_p.current;_r(_p),t._currentValue=e}function Ev(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Au(t,e){Np=t,xw=Yc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cs=!0),t.firstContext=null)}function di(t){var e=t._currentValue;if(xw!==t)if(t={context:t,memoizedValue:e,next:null},Yc===null){if(Np===null)throw Error(qe(308));Yc=t,Np.dependencies={lanes:0,firstContext:t}}else Yc=Yc.next=t;return e}var El=null;function Cw(t){El===null?El=[t]:El.push(t)}function z4(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Cw(e)):(r.next=s.next,s.next=r),e.interleaved=r,sa(t,n)}function sa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Za=!1;function Ew(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Yt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,sa(t,r)}return s=n.interleaved,s===null?(e.next=e,Cw(n)):(e.next=s.next,s.next=e),n.interleaved=e,sa(t,r)}function Mm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cw(t,r)}}function uB(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=A:i=i.next=A,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Sp(t,e,r,n){var s=t.updateQueue;Za=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,A===null?i=c:A.next=c,A=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==A&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;A=0,h=c=l=null,o=i;do{var p=o.lane,g=o.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,E=o;switch(p=e,g=r,E.tag){case 1:if(b=E.payload,typeof b=="function"){f=b.call(g,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,p=typeof b=="function"?b.call(g,f,p):b,p==null)break e;f=Ur({},f,p);break e;case 2:Za=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,A|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Dl|=A,t.lanes=A,t.memoizedState=f}}function dB(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(qe(191,s));s.call(n)}}}var Jh={},hA=Ko(Jh),bh=Ko(Jh),Ch=Ko(Jh);function _l(t){if(t===Jh)throw Error(qe(174));return t}function _w(t,e){switch(wr(Ch,e),wr(bh,t),wr(hA,Jh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iv(e,t)}_r(hA),wr(hA,e)}function Bu(){_r(hA),_r(bh),_r(Ch)}function q4(t){_l(Ch.current);var e=_l(hA.current),r=iv(e,t.type);e!==r&&(wr(bh,t),wr(hA,r))}function Nw(t){bh.current===t&&(_r(hA),_r(bh))}var Fr=Ko(0);function Ip(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J0=[];function Sw(){for(var t=0;t<J0.length;t++)J0[t]._workInProgressVersionPrimary=null;J0.length=0}var Vm=da.ReactCurrentDispatcher,Z0=da.ReactCurrentBatchConfig,Pl=0,Tr=null,dn=null,wn=null,Fp=!1,Xd=!1,Eh=0,U3=0;function On(){throw Error(qe(321))}function Iw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ri(t[r],e[r]))return!1;return!0}function Fw(t,e,r,n,s,i){if(Pl=i,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vm.current=t===null||t.memoizedState===null?P3:D3,t=r(n,s),Xd){i=0;do{if(Xd=!1,Eh=0,25<=i)throw Error(qe(301));i+=1,wn=dn=null,e.updateQueue=null,Vm.current=R3,t=r(n,s)}while(Xd)}if(Vm.current=kp,e=dn!==null&&dn.next!==null,Pl=0,wn=dn=Tr=null,Fp=!1,e)throw Error(qe(300));return t}function kw(){var t=Eh!==0;return Eh=0,t}function oA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Tr.memoizedState=wn=t:wn=wn.next=t,wn}function hi(){if(dn===null){var t=Tr.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=wn===null?Tr.memoizedState:wn.next;if(e!==null)wn=e,dn=t;else{if(t===null)throw Error(qe(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},wn===null?Tr.memoizedState=wn=t:wn=wn.next=t}return wn}function _h(t,e){return typeof e=="function"?e(t):e}function e1(t){var e=hi(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=dn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=A=null,l=null,c=i;do{var h=c.lane;if((Pl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,A=n):l=l.next=f,Tr.lanes|=h,Dl|=h}c=c.next}while(c!==null&&c!==i);l===null?A=n:l.next=o,Ri(n,e.memoizedState)||(Cs=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Tr.lanes|=i,Dl|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function t1(t){var e=hi(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Ri(i,e.memoizedState)||(Cs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function $4(){}function W4(t,e){var r=Tr,n=hi(),s=e(),i=!Ri(n.memoizedState,s);if(i&&(n.memoizedState=s,Cs=!0),n=n.queue,Tw(J4.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||wn!==null&&wn.memoizedState.tag&1){if(r.flags|=2048,Nh(9,X4.bind(null,r,n,s,e),void 0,null),bn===null)throw Error(qe(349));Pl&30||Y4(r,e,s)}return s}function Y4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function X4(t,e,r,n){e.value=r,e.getSnapshot=n,Z4(e)&&eE(t)}function J4(t,e,r){return r(function(){Z4(e)&&eE(t)})}function Z4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ri(t,r)}catch{return!0}}function eE(t){var e=sa(t,1);e!==null&&Pi(e,t,1,-1)}function hB(t){var e=oA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},e.queue=t,t=t.dispatch=L3.bind(null,Tr,t),[e.memoizedState,t]}function Nh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function tE(){return hi().memoizedState}function Km(t,e,r,n){var s=oA();Tr.flags|=t,s.memoizedState=Nh(1|e,r,void 0,n===void 0?null:n)}function Eg(t,e,r,n){var s=hi();n=n===void 0?null:n;var i=void 0;if(dn!==null){var A=dn.memoizedState;if(i=A.destroy,n!==null&&Iw(n,A.deps)){s.memoizedState=Nh(e,r,i,n);return}}Tr.flags|=t,s.memoizedState=Nh(1|e,r,i,n)}function fB(t,e){return Km(8390656,8,t,e)}function Tw(t,e){return Eg(2048,8,t,e)}function rE(t,e){return Eg(4,2,t,e)}function nE(t,e){return Eg(4,4,t,e)}function sE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iE(t,e,r){return r=r!=null?r.concat([t]):null,Eg(4,4,sE.bind(null,e,t),r)}function Uw(){}function AE(t,e){var r=hi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Iw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function aE(t,e){var r=hi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Iw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function oE(t,e,r){return Pl&21?(Ri(r,e)||(r=h4(),Tr.lanes|=r,Dl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cs=!0),t.memoizedState=r)}function Q3(t,e){var r=ar;ar=r!==0&&4>r?r:4,t(!0);var n=Z0.transition;Z0.transition={};try{t(!1),e()}finally{ar=r,Z0.transition=n}}function lE(){return hi().memoizedState}function j3(t,e,r){var n=bo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cE(t))uE(e,r);else if(r=z4(t,e,r,n),r!==null){var s=ds();Pi(r,t,n,s),dE(r,e,n)}}function L3(t,e,r){var n=bo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cE(t))uE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,o=i(A,r);if(s.hasEagerState=!0,s.eagerState=o,Ri(o,A)){var l=e.interleaved;l===null?(s.next=s,Cw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=z4(t,e,s,n),r!==null&&(s=ds(),Pi(r,t,n,s),dE(r,e,n))}}function cE(t){var e=t.alternate;return t===Tr||e!==null&&e===Tr}function uE(t,e){Xd=Fp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function dE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cw(t,r)}}var kp={readContext:di,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},P3={readContext:di,useCallback:function(t,e){return oA().memoizedState=[t,e===void 0?null:e],t},useContext:di,useEffect:fB,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Km(4194308,4,sE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Km(4194308,4,t,e)},useInsertionEffect:function(t,e){return Km(4,2,t,e)},useMemo:function(t,e){var r=oA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=j3.bind(null,Tr,t),[n.memoizedState,t]},useRef:function(t){var e=oA();return t={current:t},e.memoizedState=t},useState:hB,useDebugValue:Uw,useDeferredValue:function(t){return oA().memoizedState=t},useTransition:function(){var t=hB(!1),e=t[0];return t=Q3.bind(null,t[1]),oA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tr,s=oA();if(Sr){if(r===void 0)throw Error(qe(407));r=r()}else{if(r=e(),bn===null)throw Error(qe(349));Pl&30||Y4(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,fB(J4.bind(null,n,i,t),[t]),n.flags|=2048,Nh(9,X4.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=oA(),e=bn.identifierPrefix;if(Sr){var r=WA,n=$A;r=(n&~(1<<32-Li(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Eh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=U3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D3={readContext:di,useCallback:AE,useContext:di,useEffect:Tw,useImperativeHandle:iE,useInsertionEffect:rE,useLayoutEffect:nE,useMemo:aE,useReducer:e1,useRef:tE,useState:function(){return e1(_h)},useDebugValue:Uw,useDeferredValue:function(t){var e=hi();return oE(e,dn.memoizedState,t)},useTransition:function(){var t=e1(_h)[0],e=hi().memoizedState;return[t,e]},useMutableSource:$4,useSyncExternalStore:W4,useId:lE,unstable_isNewReconciler:!1},R3={readContext:di,useCallback:AE,useContext:di,useEffect:Tw,useImperativeHandle:iE,useInsertionEffect:rE,useLayoutEffect:nE,useMemo:aE,useReducer:t1,useRef:tE,useState:function(){return t1(_h)},useDebugValue:Uw,useDeferredValue:function(t){var e=hi();return dn===null?e.memoizedState=t:oE(e,dn.memoizedState,t)},useTransition:function(){var t=t1(_h)[0],e=hi().memoizedState;return[t,e]},useMutableSource:$4,useSyncExternalStore:W4,useId:lE,unstable_isNewReconciler:!1};function ki(t,e){if(t&&t.defaultProps){e=Ur({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function _v(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ur({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _g={isMounted:function(t){return(t=t._reactInternals)?$l(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ds(),s=bo(t),i=ea(n,s);i.payload=e,r!=null&&(i.callback=r),e=xo(t,i,s),e!==null&&(Pi(e,t,s,n),Mm(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ds(),s=bo(t),i=ea(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=xo(t,i,s),e!==null&&(Pi(e,t,s,n),Mm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ds(),n=bo(t),s=ea(r,n);s.tag=2,e!=null&&(s.callback=e),e=xo(t,s,n),e!==null&&(Pi(e,t,n,r),Mm(e,t,n))}};function mB(t,e,r,n,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,A):e.prototype&&e.prototype.isPureReactComponent?!yh(r,n)||!yh(s,i):!0}function hE(t,e,r){var n=!1,s=Lo,i=e.contextType;return typeof i=="object"&&i!==null?i=di(i):(s=_s(e)?jl:ts.current,n=e.contextTypes,i=(n=n!=null)?yu(t,s):Lo),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_g,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pB(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_g.enqueueReplaceState(e,e.state,null)}function Nv(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ew(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=di(i):(i=_s(e)?jl:ts.current,s.context=yu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_v(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_g.enqueueReplaceState(s,s.state,null),Sp(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bu(t,e){try{var r="",n=e;do r+=hk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function r1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var O3=typeof WeakMap=="function"?WeakMap:Map;function fE(t,e,r){r=ea(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Up||(Up=!0,Dv=n),Sv(t,e)},r}function mE(t,e,r){r=ea(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Sv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sv(t,e),typeof n!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function gB(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new O3;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=eT.bind(null,t,e,r),e.then(t,t))}function vB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yB(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ea(-1,1),e.tag=2,xo(r,e,1))),r.lanes|=1),t)}var H3=da.ReactCurrentOwner,Cs=!1;function us(t,e,r,n){e.child=t===null?K4(e,null,r,n):xu(e,t.child,r,n)}function wB(t,e,r,n,s){r=r.render;var i=e.ref;return Au(e,s),n=Fw(t,e,r,n,i,s),r=kw(),t!==null&&!Cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ia(t,e,s)):(Sr&&r&&vw(e),e.flags|=1,us(t,e,n,s),e.child)}function xB(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Hw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,pE(t,e,i,n,s)):(t=$m(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(r=r.compare,r=r!==null?r:yh,r(A,n)&&t.ref===e.ref)return ia(t,e,s)}return e.flags|=1,t=Co(i,n),t.ref=e.ref,t.return=e,e.child=t}function pE(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(yh(i,n)&&t.ref===e.ref)if(Cs=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Cs=!0);else return e.lanes=t.lanes,ia(t,e,s)}return Iv(t,e,r,n,s)}function gE(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(Jc,Os),Os|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wr(Jc,Os),Os|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,wr(Jc,Os),Os|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,wr(Jc,Os),Os|=n;return us(t,e,s,r),e.child}function vE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Iv(t,e,r,n,s){var i=_s(r)?jl:ts.current;return i=yu(e,i),Au(e,s),r=Fw(t,e,r,n,i,s),n=kw(),t!==null&&!Cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ia(t,e,s)):(Sr&&n&&vw(e),e.flags|=1,us(t,e,r,s),e.child)}function BB(t,e,r,n,s){if(_s(r)){var i=!0;bp(e)}else i=!1;if(Au(e,s),e.stateNode===null)zm(t,e),hE(e,r,n),Nv(e,r,n,s),n=!0;else if(t===null){var A=e.stateNode,o=e.memoizedProps;A.props=o;var l=A.context,c=r.contextType;typeof c=="object"&&c!==null?c=di(c):(c=_s(r)?jl:ts.current,c=yu(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof A.getSnapshotBeforeUpdate=="function";f||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==n||l!==c)&&pB(e,A,n,c),Za=!1;var p=e.memoizedState;A.state=p,Sp(e,n,A,s),l=e.memoizedState,o!==n||p!==l||Es.current||Za?(typeof h=="function"&&(_v(e,r,h,n),l=e.memoizedState),(o=Za||mB(e,r,o,n,p,l,c))?(f||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),A.props=n,A.state=l,A.context=c,n=o):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,G4(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ki(e.type,o),A.props=c,f=e.pendingProps,p=A.context,l=r.contextType,typeof l=="object"&&l!==null?l=di(l):(l=_s(r)?jl:ts.current,l=yu(e,l));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==f||p!==l)&&pB(e,A,n,l),Za=!1,p=e.memoizedState,A.state=p,Sp(e,n,A,s);var b=e.memoizedState;o!==f||p!==b||Es.current||Za?(typeof g=="function"&&(_v(e,r,g,n),b=e.memoizedState),(c=Za||mB(e,r,c,n,p,b,l)||!1)?(h||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,b,l),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,b,l)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),A.props=n,A.state=b,A.context=l,n=c):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Fv(t,e,r,n,i,s)}function Fv(t,e,r,n,s,i){vE(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return s&&aB(e,r,!1),ia(t,e,i);n=e.stateNode,H3.current=e;var o=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=xu(e,t.child,null,i),e.child=xu(e,null,o,i)):us(t,e,o,i),e.memoizedState=n.state,s&&aB(e,r,!0),e.child}function yE(t){var e=t.stateNode;e.pendingContext?AB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AB(t,e.context,!1),_w(t,e.containerInfo)}function bB(t,e,r,n,s){return wu(),ww(s),e.flags|=256,us(t,e,r,n),e.child}var kv={dehydrated:null,treeContext:null,retryLane:0};function Tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function wE(t,e,r){var n=e.pendingProps,s=Fr.current,i=!1,A=(e.flags&128)!==0,o;if((o=A)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),wr(Fr,s&1),t===null)return Cv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,i?(n=e.mode,i=e.child,A={mode:"hidden",children:A},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=Ig(A,n,0,null),t=Fl(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tv(r),e.memoizedState=kv,t):Qw(e,A));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return M3(t,e,A,n,o,s,r);if(i){i=n.fallback,A=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(A&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Co(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Co(o,i):(i=Fl(i,A,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,A=t.child.memoizedState,A=A===null?Tv(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~r,e.memoizedState=kv,n}return i=t.child,t=i.sibling,n=Co(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Qw(t,e){return e=Ig({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xf(t,e,r,n){return n!==null&&ww(n),xu(e,t.child,null,r),t=Qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M3(t,e,r,n,s,i,A){if(r)return e.flags&256?(e.flags&=-257,n=r1(Error(qe(422))),Xf(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ig({mode:"visible",children:n.children},s,0,null),i=Fl(i,s,A,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&xu(e,t.child,null,A),e.child.memoizedState=Tv(A),e.memoizedState=kv,i);if(!(e.mode&1))return Xf(t,e,A,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(qe(419)),n=r1(i,n,void 0),Xf(t,e,A,n)}if(o=(A&t.childLanes)!==0,Cs||o){if(n=bn,n!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sa(t,s),Pi(n,t,s,-1))}return Ow(),n=r1(Error(qe(421))),Xf(t,e,A,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Hs=wo(s.nextSibling),Vs=e,Sr=!0,Qi=null,t!==null&&(ni[si++]=$A,ni[si++]=WA,ni[si++]=Ll,$A=t.id,WA=t.overflow,Ll=e),e=Qw(e,n.children),e.flags|=4096,e)}function CB(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ev(t.return,e,r)}function n1(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function xE(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(us(t,e,n.children,r),n=Fr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CB(t,r,e);else if(t.tag===19)CB(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(wr(Fr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ip(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),n1(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ip(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}n1(e,!0,r,null,i);break;case"together":n1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Dl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,r=Co(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Co(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function V3(t,e,r){switch(e.tag){case 3:yE(e),wu();break;case 5:q4(e);break;case 1:_s(e.type)&&bp(e);break;case 4:_w(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;wr(_p,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(wr(Fr,Fr.current&1),e.flags|=128,null):r&e.child.childLanes?wE(t,e,r):(wr(Fr,Fr.current&1),t=ia(t,e,r),t!==null?t.sibling:null);wr(Fr,Fr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return xE(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wr(Fr,Fr.current),n)break;return null;case 22:case 23:return e.lanes=0,gE(t,e,r)}return ia(t,e,r)}var BE,Uv,bE,CE;BE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uv=function(){};bE=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,_l(hA.current);var i=null;switch(r){case"input":s=tv(t,s),n=tv(t,n),i=[];break;case"select":s=Ur({},s,{value:void 0}),n=Ur({},n,{value:void 0}),i=[];break;case"textarea":s=sv(t,s),n=sv(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xp)}Av(r,n);var A;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(A in o)o.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(A in o)!o.hasOwnProperty(A)||l&&l.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in l)l.hasOwnProperty(A)&&o[A]!==l[A]&&(r||(r={}),r[A]=l[A])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&br("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};CE=function(t,e,r,n){r!==n&&(e.flags|=4)};function wd(t,e){if(!Sr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function K3(t,e,r){var n=e.pendingProps;switch(yw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return _s(e.type)&&Bp(),Hn(e),null;case 3:return n=e.stateNode,Bu(),_r(Es),_r(ts),Sw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(Hv(Qi),Qi=null))),Uv(t,e),Hn(e),null;case 5:Nw(e);var s=_l(Ch.current);if(r=e.type,t!==null&&e.stateNode!=null)bE(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(qe(166));return Hn(e),null}if(t=_l(hA.current),Wf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[lA]=e,n[Bh]=i,t=(e.mode&1)!==0,r){case"dialog":br("cancel",n),br("close",n);break;case"iframe":case"object":case"embed":br("load",n);break;case"video":case"audio":for(s=0;s<Td.length;s++)br(Td[s],n);break;case"source":br("error",n);break;case"img":case"image":case"link":br("error",n),br("load",n);break;case"details":br("toggle",n);break;case"input":Ux(n,i),br("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},br("invalid",n);break;case"textarea":jx(n,i),br("invalid",n)}Av(r,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var o=i[A];A==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&$f(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&$f(n.textContent,o,t),s=["children",""+o]):dh.hasOwnProperty(A)&&o!=null&&A==="onScroll"&&br("scroll",n)}switch(r){case"input":Of(n),Qx(n,i,!0);break;case"textarea":Of(n),Lx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xp)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[lA]=e,t[Bh]=n,BE(t,e,!1,!1),e.stateNode=t;e:{switch(A=av(r,n),r){case"dialog":br("cancel",t),br("close",t),s=n;break;case"iframe":case"object":case"embed":br("load",t),s=n;break;case"video":case"audio":for(s=0;s<Td.length;s++)br(Td[s],t);s=n;break;case"source":br("error",t),s=n;break;case"img":case"image":case"link":br("error",t),br("load",t),s=n;break;case"details":br("toggle",t),s=n;break;case"input":Ux(t,n),s=tv(t,n),br("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ur({},n,{value:void 0}),br("invalid",t);break;case"textarea":jx(t,n),s=sv(t,n),br("invalid",t);break;default:s=n}Av(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?t4(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZC(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hh(t,l):typeof l=="number"&&hh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&br("scroll",t):l!=null&&sw(t,i,l,A))}switch(r){case"input":Of(t),Qx(t,n,!1);break;case"textarea":Of(t),Lx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jo(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ru(t,!!n.multiple,i,!1):n.defaultValue!=null&&ru(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)CE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(qe(166));if(r=_l(Ch.current),_l(hA.current),Wf(e)){if(n=e.stateNode,r=e.memoizedProps,n[lA]=e,(i=n.nodeValue!==r)&&(t=Vs,t!==null))switch(t.tag){case 3:$f(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lA]=e,e.stateNode=n}return Hn(e),null;case 13:if(_r(Fr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Sr&&Hs!==null&&e.mode&1&&!(e.flags&128))M4(),wu(),e.flags|=98560,i=!1;else if(i=Wf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(qe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(qe(317));i[lA]=e}else wu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),i=!1}else Qi!==null&&(Hv(Qi),Qi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Fr.current&1?fn===0&&(fn=3):Ow())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return Bu(),Uv(t,e),t===null&&wh(e.stateNode.containerInfo),Hn(e),null;case 10:return bw(e.type._context),Hn(e),null;case 17:return _s(e.type)&&Bp(),Hn(e),null;case 19:if(_r(Fr),i=e.memoizedState,i===null)return Hn(e),null;if(n=(e.flags&128)!==0,A=i.rendering,A===null)if(n)wd(i,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Ip(t),A!==null){for(e.flags|=128,wd(i,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return wr(Fr,Fr.current&1|2),e.child}t=t.sibling}i.tail!==null&&Yr()>Cu&&(e.flags|=128,n=!0,wd(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ip(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!Sr)return Hn(e),null}else 2*Yr()-i.renderingStartTime>Cu&&r!==1073741824&&(e.flags|=128,n=!0,wd(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(r=i.last,r!==null?r.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Yr(),e.sibling=null,r=Fr.current,wr(Fr,n?r&1|2:r&1),e):(Hn(e),null);case 22:case 23:return Rw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Os&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function z3(t,e){switch(yw(e),e.tag){case 1:return _s(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bu(),_r(Es),_r(ts),Sw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nw(e),null;case 13:if(_r(Fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));wu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _r(Fr),null;case 4:return Bu(),null;case 10:return bw(e.type._context),null;case 22:case 23:return Rw(),null;case 24:return null;default:return null}}var Jf=!1,Yn=!1,G3=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Xc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rr(t,e,n)}else r.current=null}function Qv(t,e,r){try{r()}catch(n){Rr(t,e,n)}}var EB=!1;function q3(t,e){if(gv=vp,t=I4(),gw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var A=0,o=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(o=A+s),f!==i||n!==0&&f.nodeType!==3||(l=A+n),f.nodeType===3&&(A+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===r&&++c===s&&(o=A),p===i&&++h===n&&(l=A),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(vv={focusedElem:t,selectionRange:r},vp=!1,lt=e;lt!==null;)if(e=lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,lt=t;else for(;lt!==null;){e=lt;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,N=b.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:ki(e.type,E),N);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(L){Rr(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}return b=EB,EB=!1,b}function Jd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qv(e,r,i)}s=s.next}while(s!==n)}}function Ng(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function jv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function EE(t){var e=t.alternate;e!==null&&(t.alternate=null,EE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lA],delete e[Bh],delete e[xv],delete e[I3],delete e[F3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _E(t){return t.tag===5||t.tag===3||t.tag===4}function _B(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_E(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xp));else if(n!==4&&(t=t.child,t!==null))for(Lv(t,e,r),t=t.sibling;t!==null;)Lv(t,e,r),t=t.sibling}function Pv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Pv(t,e,r),t=t.sibling;t!==null;)Pv(t,e,r),t=t.sibling}var Sn=null,Ui=!1;function za(t,e,r){for(r=r.child;r!==null;)NE(t,e,r),r=r.sibling}function NE(t,e,r){if(dA&&typeof dA.onCommitFiberUnmount=="function")try{dA.onCommitFiberUnmount(yg,r)}catch{}switch(r.tag){case 5:Yn||Xc(r,e);case 6:var n=Sn,s=Ui;Sn=null,za(t,e,r),Sn=n,Ui=s,Sn!==null&&(Ui?(t=Sn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Sn.removeChild(r.stateNode));break;case 18:Sn!==null&&(Ui?(t=Sn,r=r.stateNode,t.nodeType===8?Y0(t.parentNode,r):t.nodeType===1&&Y0(t,r),gh(t)):Y0(Sn,r.stateNode));break;case 4:n=Sn,s=Ui,Sn=r.stateNode.containerInfo,Ui=!0,za(t,e,r),Sn=n,Ui=s;break;case 0:case 11:case 14:case 15:if(!Yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Qv(r,e,A),s=s.next}while(s!==n)}za(t,e,r);break;case 1:if(!Yn&&(Xc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Rr(r,e,o)}za(t,e,r);break;case 21:za(t,e,r);break;case 22:r.mode&1?(Yn=(n=Yn)||r.memoizedState!==null,za(t,e,r),Yn=n):za(t,e,r);break;default:za(t,e,r)}}function NB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new G3),e.forEach(function(n){var s=rT.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ni(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,A=e,o=A;e:for(;o!==null;){switch(o.tag){case 5:Sn=o.stateNode,Ui=!1;break e;case 3:Sn=o.stateNode.containerInfo,Ui=!0;break e;case 4:Sn=o.stateNode.containerInfo,Ui=!0;break e}o=o.return}if(Sn===null)throw Error(qe(160));NE(i,A,s),Sn=null,Ui=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Rr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SE(e,t),e=e.sibling}function SE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),iA(t),n&4){try{Jd(3,t,t.return),Ng(3,t)}catch(E){Rr(t,t.return,E)}try{Jd(5,t,t.return)}catch(E){Rr(t,t.return,E)}}break;case 1:Ni(e,t),iA(t),n&512&&r!==null&&Xc(r,r.return);break;case 5:if(Ni(e,t),iA(t),n&512&&r!==null&&Xc(r,r.return),t.flags&32){var s=t.stateNode;try{hh(s,"")}catch(E){Rr(t,t.return,E)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&YC(s,i),av(o,A);var c=av(o,i);for(A=0;A<l.length;A+=2){var h=l[A],f=l[A+1];h==="style"?t4(s,f):h==="dangerouslySetInnerHTML"?ZC(s,f):h==="children"?hh(s,f):sw(s,h,f,c)}switch(o){case"input":rv(s,i);break;case"textarea":XC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ru(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ru(s,!!i.multiple,i.defaultValue,!0):ru(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bh]=i}catch(E){Rr(t,t.return,E)}}break;case 6:if(Ni(e,t),iA(t),n&4){if(t.stateNode===null)throw Error(qe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Rr(t,t.return,E)}}break;case 3:if(Ni(e,t),iA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(E){Rr(t,t.return,E)}break;case 4:Ni(e,t),iA(t);break;case 13:Ni(e,t),iA(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pw=Yr())),n&4&&NB(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Yn=(c=Yn)||h,Ni(e,t),Yn=c):Ni(e,t),iA(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(lt=t,h=t.child;h!==null;){for(f=lt=h;lt!==null;){switch(p=lt,g=p.child,p.tag){case 0:case 11:case 14:case 15:Jd(4,p,p.return);break;case 1:Xc(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(E){Rr(n,r,E)}}break;case 5:Xc(p,p.return);break;case 22:if(p.memoizedState!==null){IB(f);continue}}g!==null?(g.return=p,lt=g):IB(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,A=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=e4("display",A))}catch(E){Rr(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){Rr(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ni(e,t),iA(t),n&4&&NB(t);break;case 21:break;default:Ni(e,t),iA(t)}}function iA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(_E(r)){var n=r;break e}r=r.return}throw Error(qe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(hh(s,""),n.flags&=-33);var i=_B(t);Pv(t,i,s);break;case 3:case 4:var A=n.stateNode.containerInfo,o=_B(t);Lv(t,o,A);break;default:throw Error(qe(161))}}catch(l){Rr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $3(t,e,r){lt=t,IE(t)}function IE(t,e,r){for(var n=(t.mode&1)!==0;lt!==null;){var s=lt,i=s.child;if(s.tag===22&&n){var A=s.memoizedState!==null||Jf;if(!A){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Yn;o=Jf;var c=Yn;if(Jf=A,(Yn=l)&&!c)for(lt=s;lt!==null;)A=lt,l=A.child,A.tag===22&&A.memoizedState!==null?FB(s):l!==null?(l.return=A,lt=l):FB(s);for(;i!==null;)lt=i,IE(i),i=i.sibling;lt=s,Jf=o,Yn=c}SB(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,lt=i):SB(t)}}function SB(t){for(;lt!==null;){var e=lt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||Ng(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Yn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ki(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&dB(e,i,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}dB(e,A,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&gh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Yn||e.flags&512&&jv(e)}catch(p){Rr(e,e.return,p)}}if(e===t){lt=null;break}if(r=e.sibling,r!==null){r.return=e.return,lt=r;break}lt=e.return}}function IB(t){for(;lt!==null;){var e=lt;if(e===t){lt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,lt=r;break}lt=e.return}}function FB(t){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ng(4,e)}catch(l){Rr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Rr(e,s,l)}}var i=e.return;try{jv(e)}catch(l){Rr(e,i,l)}break;case 5:var A=e.return;try{jv(e)}catch(l){Rr(e,A,l)}}}catch(l){Rr(e,e.return,l)}if(e===t){lt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,lt=o;break}lt=e.return}}var W3=Math.ceil,Tp=da.ReactCurrentDispatcher,jw=da.ReactCurrentOwner,ci=da.ReactCurrentBatchConfig,Yt=0,bn=null,on=null,Un=0,Os=0,Jc=Ko(0),fn=0,Sh=null,Dl=0,Sg=0,Lw=0,Zd=null,bs=null,Pw=0,Cu=1/0,GA=null,Up=!1,Dv=null,Bo=null,Zf=!1,oo=null,Qp=0,eh=0,Rv=null,Gm=-1,qm=0;function ds(){return Yt&6?Yr():Gm!==-1?Gm:Gm=Yr()}function bo(t){return t.mode&1?Yt&2&&Un!==0?Un&-Un:T3.transition!==null?(qm===0&&(qm=h4()),qm):(t=ar,t!==0||(t=window.event,t=t===void 0?16:w4(t.type)),t):1}function Pi(t,e,r,n){if(50<eh)throw eh=0,Rv=null,Error(qe(185));Wh(t,r,n),(!(Yt&2)||t!==bn)&&(t===bn&&(!(Yt&2)&&(Sg|=r),fn===4&&ro(t,Un)),Ns(t,n),r===1&&Yt===0&&!(e.mode&1)&&(Cu=Yr()+500,Cg&&zo()))}function Ns(t,e){var r=t.callbackNode;Tk(t,e);var n=gp(t,t===bn?Un:0);if(n===0)r!==null&&Rx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Rx(r),e===1)t.tag===0?k3(kB.bind(null,t)):R4(kB.bind(null,t)),N3(function(){!(Yt&6)&&zo()}),r=null;else{switch(f4(n)){case 1:r=lw;break;case 4:r=u4;break;case 16:r=pp;break;case 536870912:r=d4;break;default:r=pp}r=PE(r,FE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function FE(t,e){if(Gm=-1,qm=0,Yt&6)throw Error(qe(327));var r=t.callbackNode;if(au()&&t.callbackNode!==r)return null;var n=gp(t,t===bn?Un:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jp(t,n);else{e=n;var s=Yt;Yt|=2;var i=TE();(bn!==t||Un!==e)&&(GA=null,Cu=Yr()+500,Il(t,e));do try{J3();break}catch(o){kE(t,o)}while(!0);Bw(),Tp.current=i,Yt=s,on!==null?e=0:(bn=null,Un=0,e=fn)}if(e!==0){if(e===2&&(s=dv(t),s!==0&&(n=s,e=Ov(t,s))),e===1)throw r=Sh,Il(t,0),ro(t,n),Ns(t,Yr()),r;if(e===6)ro(t,n);else{if(s=t.current.alternate,!(n&30)&&!Y3(s)&&(e=jp(t,n),e===2&&(i=dv(t),i!==0&&(n=i,e=Ov(t,i))),e===1))throw r=Sh,Il(t,0),ro(t,n),Ns(t,Yr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(qe(345));case 2:yl(t,bs,GA);break;case 3:if(ro(t,n),(n&130023424)===n&&(e=Pw+500-Yr(),10<e)){if(gp(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ds(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wv(yl.bind(null,t,bs,GA),e);break}yl(t,bs,GA);break;case 4:if(ro(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var A=31-Li(n);i=1<<A,A=e[A],A>s&&(s=A),n&=~i}if(n=s,n=Yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W3(n/1960))-n,10<n){t.timeoutHandle=wv(yl.bind(null,t,bs,GA),n);break}yl(t,bs,GA);break;case 5:yl(t,bs,GA);break;default:throw Error(qe(329))}}}return Ns(t,Yr()),t.callbackNode===r?FE.bind(null,t):null}function Ov(t,e){var r=Zd;return t.current.memoizedState.isDehydrated&&(Il(t,e).flags|=256),t=jp(t,e),t!==2&&(e=bs,bs=r,e!==null&&Hv(e)),t}function Hv(t){bs===null?bs=t:bs.push.apply(bs,t)}function Y3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ri(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~Lw,e&=~Sg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Li(e),n=1<<r;t[r]=-1,e&=~n}}function kB(t){if(Yt&6)throw Error(qe(327));au();var e=gp(t,0);if(!(e&1))return Ns(t,Yr()),null;var r=jp(t,e);if(t.tag!==0&&r===2){var n=dv(t);n!==0&&(e=n,r=Ov(t,n))}if(r===1)throw r=Sh,Il(t,0),ro(t,e),Ns(t,Yr()),r;if(r===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yl(t,bs,GA),Ns(t,Yr()),null}function Dw(t,e){var r=Yt;Yt|=1;try{return t(e)}finally{Yt=r,Yt===0&&(Cu=Yr()+500,Cg&&zo())}}function Rl(t){oo!==null&&oo.tag===0&&!(Yt&6)&&au();var e=Yt;Yt|=1;var r=ci.transition,n=ar;try{if(ci.transition=null,ar=1,t)return t()}finally{ar=n,ci.transition=r,Yt=e,!(Yt&6)&&zo()}}function Rw(){Os=Jc.current,_r(Jc)}function Il(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,_3(r)),on!==null)for(r=on.return;r!==null;){var n=r;switch(yw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bp();break;case 3:Bu(),_r(Es),_r(ts),Sw();break;case 5:Nw(n);break;case 4:Bu();break;case 13:_r(Fr);break;case 19:_r(Fr);break;case 10:bw(n.type._context);break;case 22:case 23:Rw()}r=r.return}if(bn=t,on=t=Co(t.current,null),Un=Os=e,fn=0,Sh=null,Lw=Sg=Dl=0,bs=Zd=null,El!==null){for(e=0;e<El.length;e++)if(r=El[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var A=i.next;i.next=s,n.next=A}r.pending=n}El=null}return t}function kE(t,e){do{var r=on;try{if(Bw(),Vm.current=kp,Fp){for(var n=Tr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fp=!1}if(Pl=0,wn=dn=Tr=null,Xd=!1,Eh=0,jw.current=null,r===null||r.return===null){fn=1,Sh=e,on=null;break}e:{var i=t,A=r.return,o=r,l=e;if(e=Un,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=vB(A);if(g!==null){g.flags&=-257,yB(g,A,o,i,e),g.mode&1&&gB(i,c,e),e=g,l=c;var b=e.updateQueue;if(b===null){var E=new Set;E.add(l),e.updateQueue=E}else b.add(l);break e}else{if(!(e&1)){gB(i,c,e),Ow();break e}l=Error(qe(426))}}else if(Sr&&o.mode&1){var N=vB(A);if(N!==null){!(N.flags&65536)&&(N.flags|=256),yB(N,A,o,i,e),ww(bu(l,o));break e}}i=l=bu(l,o),fn!==4&&(fn=2),Zd===null?Zd=[i]:Zd.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=fE(i,l,e);uB(i,w);break e;case 1:o=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bo===null||!Bo.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var L=mE(i,o,e);uB(i,L);break e}}i=i.return}while(i!==null)}QE(r)}catch(V){e=V,on===r&&r!==null&&(on=r=r.return);continue}break}while(!0)}function TE(){var t=Tp.current;return Tp.current=kp,t===null?kp:t}function Ow(){(fn===0||fn===3||fn===2)&&(fn=4),bn===null||!(Dl&268435455)&&!(Sg&268435455)||ro(bn,Un)}function jp(t,e){var r=Yt;Yt|=2;var n=TE();(bn!==t||Un!==e)&&(GA=null,Il(t,e));do try{X3();break}catch(s){kE(t,s)}while(!0);if(Bw(),Yt=r,Tp.current=n,on!==null)throw Error(qe(261));return bn=null,Un=0,fn}function X3(){for(;on!==null;)UE(on)}function J3(){for(;on!==null&&!bk();)UE(on)}function UE(t){var e=LE(t.alternate,t,Os);t.memoizedProps=t.pendingProps,e===null?QE(t):on=e,jw.current=null}function QE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=z3(r,e),r!==null){r.flags&=32767,on=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fn=6,on=null;return}}else if(r=K3(r,e,Os),r!==null){on=r;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);fn===0&&(fn=5)}function yl(t,e,r){var n=ar,s=ci.transition;try{ci.transition=null,ar=1,Z3(t,e,r,n)}finally{ci.transition=s,ar=n}return null}function Z3(t,e,r,n){do au();while(oo!==null);if(Yt&6)throw Error(qe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Uk(t,i),t===bn&&(on=bn=null,Un=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zf||(Zf=!0,PE(pp,function(){return au(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ci.transition,ci.transition=null;var A=ar;ar=1;var o=Yt;Yt|=4,jw.current=null,q3(t,r),SE(r,t),y3(vv),vp=!!gv,vv=gv=null,t.current=r,$3(r),Ck(),Yt=o,ar=A,ci.transition=i}else t.current=r;if(Zf&&(Zf=!1,oo=t,Qp=s),i=t.pendingLanes,i===0&&(Bo=null),Nk(r.stateNode),Ns(t,Yr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Up)throw Up=!1,t=Dv,Dv=null,t;return Qp&1&&t.tag!==0&&au(),i=t.pendingLanes,i&1?t===Rv?eh++:(eh=0,Rv=t):eh=0,zo(),null}function au(){if(oo!==null){var t=f4(Qp),e=ci.transition,r=ar;try{if(ci.transition=null,ar=16>t?16:t,oo===null)var n=!1;else{if(t=oo,oo=null,Qp=0,Yt&6)throw Error(qe(331));var s=Yt;for(Yt|=4,lt=t.current;lt!==null;){var i=lt,A=i.child;if(lt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(lt=c;lt!==null;){var h=lt;switch(h.tag){case 0:case 11:case 15:Jd(8,h,i)}var f=h.child;if(f!==null)f.return=h,lt=f;else for(;lt!==null;){h=lt;var p=h.sibling,g=h.return;if(EE(h),h===c){lt=null;break}if(p!==null){p.return=g,lt=p;break}lt=g}}}var b=i.alternate;if(b!==null){var E=b.child;if(E!==null){b.child=null;do{var N=E.sibling;E.sibling=null,E=N}while(E!==null)}}lt=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,lt=A;else e:for(;lt!==null;){if(i=lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jd(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,lt=w;break e}lt=i.return}}var y=t.current;for(lt=y;lt!==null;){A=lt;var _=A.child;if(A.subtreeFlags&2064&&_!==null)_.return=A,lt=_;else e:for(A=y;lt!==null;){if(o=lt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ng(9,o)}}catch(V){Rr(o,o.return,V)}if(o===A){lt=null;break e}var L=o.sibling;if(L!==null){L.return=o.return,lt=L;break e}lt=o.return}}if(Yt=s,zo(),dA&&typeof dA.onPostCommitFiberRoot=="function")try{dA.onPostCommitFiberRoot(yg,t)}catch{}n=!0}return n}finally{ar=r,ci.transition=e}}return!1}function TB(t,e,r){e=bu(r,e),e=fE(t,e,1),t=xo(t,e,1),e=ds(),t!==null&&(Wh(t,1,e),Ns(t,e))}function Rr(t,e,r){if(t.tag===3)TB(t,t,r);else for(;e!==null;){if(e.tag===3){TB(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bo===null||!Bo.has(n))){t=bu(r,t),t=mE(e,t,1),e=xo(e,t,1),t=ds(),e!==null&&(Wh(e,1,t),Ns(e,t));break}}e=e.return}}function eT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ds(),t.pingedLanes|=t.suspendedLanes&r,bn===t&&(Un&r)===r&&(fn===4||fn===3&&(Un&130023424)===Un&&500>Yr()-Pw?Il(t,0):Lw|=r),Ns(t,e)}function jE(t,e){e===0&&(t.mode&1?(e=Vf,Vf<<=1,!(Vf&130023424)&&(Vf=4194304)):e=1);var r=ds();t=sa(t,e),t!==null&&(Wh(t,e,r),Ns(t,r))}function tT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),jE(t,r)}function rT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(qe(314))}n!==null&&n.delete(e),jE(t,r)}var LE;LE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Es.current)Cs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Cs=!1,V3(t,e,r);Cs=!!(t.flags&131072)}else Cs=!1,Sr&&e.flags&1048576&&O4(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;zm(t,e),t=e.pendingProps;var s=yu(e,ts.current);Au(e,r),s=Fw(null,e,n,t,s,r);var i=kw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_s(n)?(i=!0,bp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ew(e),s.updater=_g,e.stateNode=s,s._reactInternals=e,Nv(e,n,t,r),e=Fv(null,e,n,!0,i,r)):(e.tag=0,Sr&&i&&vw(e),us(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(zm(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=sT(n),t=ki(n,t),s){case 0:e=Iv(null,e,n,t,r);break e;case 1:e=BB(null,e,n,t,r);break e;case 11:e=wB(null,e,n,t,r);break e;case 14:e=xB(null,e,n,ki(n.type,t),r);break e}throw Error(qe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),Iv(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),BB(t,e,n,s,r);case 3:e:{if(yE(e),t===null)throw Error(qe(387));n=e.pendingProps,i=e.memoizedState,s=i.element,G4(t,e),Sp(e,n,null,r);var A=e.memoizedState;if(n=A.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bu(Error(qe(423)),e),e=bB(t,e,n,r,s);break e}else if(n!==s){s=bu(Error(qe(424)),e),e=bB(t,e,n,r,s);break e}else for(Hs=wo(e.stateNode.containerInfo.firstChild),Vs=e,Sr=!0,Qi=null,r=K4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wu(),n===s){e=ia(t,e,r);break e}us(t,e,n,r)}e=e.child}return e;case 5:return q4(e),t===null&&Cv(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,yv(n,s)?A=null:i!==null&&yv(n,i)&&(e.flags|=32),vE(t,e),us(t,e,A,r),e.child;case 6:return t===null&&Cv(e),null;case 13:return wE(t,e,r);case 4:return _w(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=xu(e,null,n,r):us(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),wB(t,e,n,s,r);case 7:return us(t,e,e.pendingProps,r),e.child;case 8:return us(t,e,e.pendingProps.children,r),e.child;case 12:return us(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,wr(_p,n._currentValue),n._currentValue=A,i!==null)if(Ri(i.value,A)){if(i.children===s.children&&!Es.current){e=ia(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){A=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ea(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ev(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(qe(341));A.lanes|=r,o=A.alternate,o!==null&&(o.lanes|=r),Ev(A,r,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}us(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Au(e,r),s=di(s),n=n(s),e.flags|=1,us(t,e,n,r),e.child;case 14:return n=e.type,s=ki(n,e.pendingProps),s=ki(n.type,s),xB(t,e,n,s,r);case 15:return pE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),zm(t,e),e.tag=1,_s(n)?(t=!0,bp(e)):t=!1,Au(e,r),hE(e,n,s),Nv(e,n,s,r),Fv(null,e,n,!0,t,r);case 19:return xE(t,e,r);case 22:return gE(t,e,r)}throw Error(qe(156,e.tag))};function PE(t,e){return c4(t,e)}function nT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,r,n){return new nT(t,e,r,n)}function Hw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sT(t){if(typeof t=="function")return Hw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Aw)return 11;if(t===aw)return 14}return 2}function Co(t,e){var r=t.alternate;return r===null?(r=ai(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $m(t,e,r,n,s,i){var A=2;if(n=t,typeof t=="function")Hw(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Mc:return Fl(r.children,s,i,e);case iw:A=8,s|=8;break;case X1:return t=ai(12,r,e,s|2),t.elementType=X1,t.lanes=i,t;case J1:return t=ai(13,r,e,s),t.elementType=J1,t.lanes=i,t;case Z1:return t=ai(19,r,e,s),t.elementType=Z1,t.lanes=i,t;case qC:return Ig(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zC:A=10;break e;case GC:A=9;break e;case Aw:A=11;break e;case aw:A=14;break e;case Ja:A=16,n=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=ai(A,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Fl(t,e,r,n){return t=ai(7,t,n,e),t.lanes=r,t}function Ig(t,e,r,n){return t=ai(22,t,n,e),t.elementType=qC,t.lanes=r,t.stateNode={isHidden:!1},t}function s1(t,e,r){return t=ai(6,t,null,e),t.lanes=r,t}function i1(t,e,r){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iT(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mw(t,e,r,n,s,i,A,o,l){return t=new iT(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ai(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ew(i),t}function AT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function DE(t){if(!t)return Lo;t=t._reactInternals;e:{if($l(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_s(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var r=t.type;if(_s(r))return D4(t,r,e)}return e}function RE(t,e,r,n,s,i,A,o,l){return t=Mw(r,n,!0,t,s,i,A,o,l),t.context=DE(null),r=t.current,n=ds(),s=bo(r),i=ea(n,s),i.callback=e??null,xo(r,i,s),t.current.lanes=s,Wh(t,s,n),Ns(t,n),t}function Fg(t,e,r,n){var s=e.current,i=ds(),A=bo(s);return r=DE(r),e.context===null?e.context=r:e.pendingContext=r,e=ea(i,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=xo(s,e,A),t!==null&&(Pi(t,s,A,i),Mm(t,s,A)),A}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vw(t,e){UB(t,e),(t=t.alternate)&&UB(t,e)}function aT(){return null}var OE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kw(t){this._internalRoot=t}kg.prototype.render=Kw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));Fg(t,e,null,null)};kg.prototype.unmount=Kw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rl(function(){Fg(null,t,null,null)}),e[na]=null}};function kg(t){this._internalRoot=t}kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=g4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<to.length&&e!==0&&e<to[r].priority;r++);to.splice(r,0,t),r===0&&y4(t)}};function zw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QB(){}function oT(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Lp(A);i.call(c)}}var A=RE(e,n,t,0,null,!1,!1,"",QB);return t._reactRootContainer=A,t[na]=A.current,wh(t.nodeType===8?t.parentNode:t),Rl(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Lp(l);o.call(c)}}var l=Mw(t,0,!1,null,null,!1,!1,"",QB);return t._reactRootContainer=l,t[na]=l.current,wh(t.nodeType===8?t.parentNode:t),Rl(function(){Fg(e,l,r,n)}),l}function Ug(t,e,r,n,s){var i=r._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var o=s;s=function(){var l=Lp(A);o.call(l)}}Fg(e,A,t,s)}else A=oT(r,e,t,s,n);return Lp(A)}m4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kd(e.pendingLanes);r!==0&&(cw(e,r|1),Ns(e,Yr()),!(Yt&6)&&(Cu=Yr()+500,zo()))}break;case 13:Rl(function(){var n=sa(t,1);if(n!==null){var s=ds();Pi(n,t,1,s)}}),Vw(t,1)}};uw=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var r=ds();Pi(e,t,134217728,r)}Vw(t,134217728)}};p4=function(t){if(t.tag===13){var e=bo(t),r=sa(t,e);if(r!==null){var n=ds();Pi(r,t,e,n)}Vw(t,e)}};g4=function(){return ar};v4=function(t,e){var r=ar;try{return ar=t,e()}finally{ar=r}};lv=function(t,e,r){switch(e){case"input":if(rv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=bg(n);if(!s)throw Error(qe(90));WC(n),rv(n,s)}}}break;case"textarea":XC(t,r);break;case"select":e=r.value,e!=null&&ru(t,!!r.multiple,e,!1)}};s4=Dw;i4=Rl;var lT={usingClientEntryPoint:!1,Events:[Xh,Gc,bg,r4,n4,Dw]},xd={findFiberByHostInstance:Cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cT={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o4(t),t===null?null:t.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||aT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!em.isDisabled&&em.supportsFiber)try{yg=em.inject(cT),dA=em}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT;Gs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zw(e))throw Error(qe(200));return AT(t,e,null,r)};Gs.createRoot=function(t,e){if(!zw(t))throw Error(qe(299));var r=!1,n="",s=OE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Mw(t,1,!1,null,null,r,!1,n,s),t[na]=e.current,wh(t.nodeType===8?t.parentNode:t),new Kw(e)};Gs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=o4(e),t=t===null?null:t.stateNode,t};Gs.flushSync=function(t){return Rl(t)};Gs.hydrate=function(t,e,r){if(!Tg(e))throw Error(qe(200));return Ug(null,t,e,!0,r)};Gs.hydrateRoot=function(t,e,r){if(!zw(t))throw Error(qe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",A=OE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=RE(e,null,t,1,r??null,s,!1,i,A),t[na]=e.current,wh(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new kg(e)};Gs.render=function(t,e,r){if(!Tg(e))throw Error(qe(200));return Ug(null,t,e,!1,r)};Gs.unmountComponentAtNode=function(t){if(!Tg(t))throw Error(qe(40));return t._reactRootContainer?(Rl(function(){Ug(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};Gs.unstable_batchedUpdates=Dw;Gs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Tg(r))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return Ug(t,e,r,!1,n)};Gs.version="18.3.1-next-f1338f8080-20240426";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(t){console.error(t)}}HE(),HC.exports=Gs;var uT=HC.exports,ME,jB=uT;ME=jB.createRoot,jB.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ih.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const LB="popstate";function dT(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:A,hash:o}=n.location;return Mv("",{pathname:i,search:A,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pp(s)}return fT(e,r,null,t)}function Hr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hT(){return Math.random().toString(36).substr(2,8)}function PB(t,e){return{usr:t.state,key:t.key,idx:e}}function Mv(t,e,r,n){return r===void 0&&(r=null),Ih({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ou(e):e,{state:r,key:e&&e.key||n||hT()})}function Pp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ou(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fT(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,A=s.history,o=lo.Pop,l=null,c=h();c==null&&(c=0,A.replaceState(Ih({},A.state,{idx:c}),""));function h(){return(A.state||{idx:null}).idx}function f(){o=lo.Pop;let N=h(),w=N==null?null:N-c;c=N,l&&l({action:o,location:E.location,delta:w})}function p(N,w){o=lo.Push;let y=Mv(E.location,N,w);c=h()+1;let _=PB(y,c),L=E.createHref(y);try{A.pushState(_,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(L)}i&&l&&l({action:o,location:E.location,delta:1})}function g(N,w){o=lo.Replace;let y=Mv(E.location,N,w);c=h();let _=PB(y,c),L=E.createHref(y);A.replaceState(_,"",L),i&&l&&l({action:o,location:E.location,delta:0})}function b(N){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof N=="string"?N:Pp(N);return y=y.replace(/ $/,"%20"),Hr(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let E={get action(){return o},get location(){return t(s,A)},listen(N){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(LB,f),l=N,()=>{s.removeEventListener(LB,f),l=null}},createHref(N){return e(s,N)},createURL:b,encodeLocation(N){let w=b(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(N){return A.go(N)}};return E}var DB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DB||(DB={}));function mT(t,e,r){return r===void 0&&(r="/"),pT(t,e,r,!1)}function pT(t,e,r,n){let s=typeof e=="string"?Ou(e):e,i=Eu(s.pathname||"/",r);if(i==null)return null;let A=KE(t);gT(A);let o=null;for(let l=0;o==null&&l<A.length;++l){let c=ST(i);o=_T(A[l],c,n)}return o}function KE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,A,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};l.relativePath.startsWith("/")&&(Hr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Eo([n,l.relativePath]),h=r.concat(l);i.children&&i.children.length>0&&(Hr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KE(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:CT(c,i.index),routesMeta:h})};return t.forEach((i,A)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,A);else for(let l of zE(i.path))s(i,A,l)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let A=zE(n.join("/")),o=[];return o.push(...A.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...A),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function gT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ET(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vT=/^:[\w-]+$/,yT=3,wT=2,xT=1,BT=10,bT=-2,RB=t=>t==="*";function CT(t,e){let r=t.split("/"),n=r.length;return r.some(RB)&&(n+=bT),e&&(n+=wT),r.filter(s=>!RB(s)).reduce((s,i)=>s+(vT.test(i)?yT:i===""?xT:BT),n)}function ET(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function _T(t,e,r){let{routesMeta:n}=t,s={},i="/",A=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),A.push({params:s,pathname:Eo([i,f.pathname]),pathnameBase:TT(Eo([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Eo([i,f.pathnameBase]))}return A}function Dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=NT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let E=o[f]||"";A=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const b=o[f];return g&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:t}}function NT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),VE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function ST(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function IT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ou(t):t;return{pathname:r?r.startsWith("/")?r:FT(r,e):e,search:UT(n),hash:QT(s)}}function FT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function A1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function GE(t,e){let r=kT(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qE(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ou(t):(s=Ih({},t),Hr(!s.pathname||!s.pathname.includes("?"),A1("?","pathname","search",s)),Hr(!s.pathname||!s.pathname.includes("#"),A1("#","pathname","hash",s)),Hr(!s.search||!s.search.includes("#"),A1("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,o;if(A==null)o=r;else{let f=e.length-1;if(!n&&A.startsWith("..")){let p=A.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=IT(s,o),c=A&&A!=="/"&&A.endsWith("/"),h=(i||A===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Eo=t=>t.join("/").replace(/\/\/+/g,"/"),TT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $E=["post","put","patch","delete"];new Set($E);const LT=["get",...$E];new Set(LT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fh.apply(this,arguments)}const Qg=ce.createContext(null),WE=ce.createContext(null),Go=ce.createContext(null),jg=ce.createContext(null),qo=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),YE=ce.createContext(null);function PT(t,e){let{relative:r}=e===void 0?{}:e;Zh()||Hr(!1);let{basename:n,navigator:s}=ce.useContext(Go),{hash:i,pathname:A,search:o}=Lg(t,{relative:r}),l=A;return n!=="/"&&(l=A==="/"?n:Eo([n,A])),s.createHref({pathname:l,search:o,hash:i})}function Zh(){return ce.useContext(jg)!=null}function $o(){return Zh()||Hr(!1),ce.useContext(jg).location}function XE(t){ce.useContext(Go).static||ce.useLayoutEffect(t)}function Wl(){let{isDataRoute:t}=ce.useContext(qo);return t?JT():DT()}function DT(){Zh()||Hr(!1);let t=ce.useContext(Qg),{basename:e,future:r,navigator:n}=ce.useContext(Go),{matches:s}=ce.useContext(qo),{pathname:i}=$o(),A=JSON.stringify(GE(s,r.v7_relativeSplatPath)),o=ce.useRef(!1);return XE(()=>{o.current=!0}),ce.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=qE(c,JSON.parse(A),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Eo([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,A,i,t])}const RT=ce.createContext(null);function OT(t){let e=ce.useContext(qo).outlet;return e&&ce.createElement(RT.Provider,{value:t},e)}function Lg(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ce.useContext(Go),{matches:s}=ce.useContext(qo),{pathname:i}=$o(),A=JSON.stringify(GE(s,n.v7_relativeSplatPath));return ce.useMemo(()=>qE(t,JSON.parse(A),i,r==="path"),[t,A,i,r])}function HT(t,e){return MT(t,e)}function MT(t,e,r,n){Zh()||Hr(!1);let{navigator:s}=ce.useContext(Go),{matches:i}=ce.useContext(qo),A=i[i.length-1],o=A?A.params:{};A&&A.pathname;let l=A?A.pathnameBase:"/";A&&A.route;let c=$o(),h;if(e){var f;let N=typeof e=="string"?Ou(e):e;l==="/"||(f=N.pathname)!=null&&f.startsWith(l)||Hr(!1),h=N}else h=c;let p=h.pathname||"/",g=p;if(l!=="/"){let N=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=mT(t,{pathname:g}),E=qT(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Eo([l,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?l:Eo([l,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r,n);return e&&E?ce.createElement(jg.Provider,{value:{location:Fh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:lo.Pop}},E):E}function VT(){let t=XT(),e=jT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),r?ce.createElement("pre",{style:s},r):null,null)}const KT=ce.createElement(VT,null);class zT extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ce.createElement(qo.Provider,{value:this.props.routeContext},ce.createElement(YE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GT(t){let{routeContext:e,match:r,children:n}=t,s=ce.useContext(Qg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),ce.createElement(qo.Provider,{value:e},n)}function qT(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let A=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let h=A.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||Hr(!1),A=A.slice(0,Math.min(A.length,h+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<A.length;h++){let f=A[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((h,f,p)=>{let g,b=!1,E=null,N=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||KT,l&&(c<0&&p===0?(b=!0,N=null):c===p&&(b=!0,N=f.route.hydrateFallbackElement||null)));let w=e.concat(A.slice(0,p+1)),y=()=>{let _;return g?_=E:b?_=N:f.route.Component?_=ce.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,ce.createElement(GT,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?ce.createElement(zT,{location:r.location,revalidation:r.revalidation,component:E,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var JE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JE||{}),Rp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rp||{});function $T(t){let e=ce.useContext(Qg);return e||Hr(!1),e}function WT(t){let e=ce.useContext(WE);return e||Hr(!1),e}function YT(t){let e=ce.useContext(qo);return e||Hr(!1),e}function ZE(t){let e=YT(),r=e.matches[e.matches.length-1];return r.route.id||Hr(!1),r.route.id}function XT(){var t;let e=ce.useContext(YE),r=WT(Rp.UseRouteError),n=ZE(Rp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function JT(){let{router:t}=$T(JE.UseNavigateStable),e=ZE(Rp.UseNavigateStable),r=ce.useRef(!1);return XE(()=>{r.current=!0}),ce.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fh({fromRouteId:e},i)))},[t,e])}function ZT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function eU(t){return OT(t.context)}function Ds(t){Hr(!1)}function tU(t){let{basename:e="/",children:r=null,location:n,navigationType:s=lo.Pop,navigator:i,static:A=!1,future:o}=t;Zh()&&Hr(!1);let l=e.replace(/^\/*/,"/"),c=ce.useMemo(()=>({basename:l,navigator:i,static:A,future:Fh({v7_relativeSplatPath:!1},o)}),[l,o,i,A]);typeof n=="string"&&(n=Ou(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:b="default"}=n,E=ce.useMemo(()=>{let N=Eu(h,l);return N==null?null:{location:{pathname:N,search:f,hash:p,state:g,key:b},navigationType:s}},[l,h,f,p,g,b,s]);return E==null?null:ce.createElement(Go.Provider,{value:c},ce.createElement(jg.Provider,{children:r,value:E}))}function rU(t){let{children:e,location:r}=t;return HT(Vv(e),r)}new Promise(()=>{});function Vv(t,e){e===void 0&&(e=[]);let r=[];return ce.Children.forEach(t,(n,s)=>{if(!ce.isValidElement(n))return;let i=[...e,s];if(n.type===ce.Fragment){r.push.apply(r,Vv(n.props.children,i));return}n.type!==Ds&&Hr(!1),!n.props.index||!n.props.children||Hr(!1);let A={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=Vv(n.props.children,i)),r.push(A)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(this,arguments)}function e_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function nU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sU(t,e){return t.button===0&&(!e||e==="_self")&&!nU(t)}const iU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],aU="6";try{window.__reactRouterVersion=aU}catch{}const oU=ce.createContext({isTransitioning:!1}),lU="startTransition",OB=ek[lU];function cU(t){let{basename:e,children:r,future:n,window:s}=t,i=ce.useRef();i.current==null&&(i.current=dT({window:s,v5Compat:!0}));let A=i.current,[o,l]=ce.useState({action:A.action,location:A.location}),{v7_startTransition:c}=n||{},h=ce.useCallback(f=>{c&&OB?OB(()=>l(f)):l(f)},[l,c]);return ce.useLayoutEffect(()=>A.listen(h),[A,h]),ce.useEffect(()=>ZT(n),[n]),ce.createElement(tU,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:A,future:n})}const uU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hU=ce.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:A,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=e_(e,iU),{basename:g}=ce.useContext(Go),b,E=!1;if(typeof c=="string"&&dU.test(c)&&(b=c,uU))try{let _=new URL(window.location.href),L=c.startsWith("//")?new URL(_.protocol+c):new URL(c),V=Eu(L.pathname,g);L.origin===_.origin&&V!=null?c=V+L.search+L.hash:E=!0}catch{}let N=PT(c,{relative:s}),w=pU(c,{replace:A,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:f});function y(_){n&&n(_),_.defaultPrevented||w(_)}return ce.createElement("a",Op({},p,{href:b||N,onClick:E||i?n:y,ref:r,target:l}))}),fU=ce.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:A=!1,style:o,to:l,viewTransition:c,children:h}=e,f=e_(e,AU),p=Lg(l,{relative:f.relative}),g=$o(),b=ce.useContext(WE),{navigator:E,basename:N}=ce.useContext(Go),w=b!=null&&gU(p)&&c===!0,y=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,_=g.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(_=_.toLowerCase(),L=L?L.toLowerCase():null,y=y.toLowerCase()),L&&N&&(L=Eu(L,N)||L);const V=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let $=_===y||!A&&_.startsWith(y)&&_.charAt(V)==="/",F=L!=null&&(L===y||!A&&L.startsWith(y)&&L.charAt(y.length)==="/"),B={isActive:$,isPending:F,isTransitioning:w},k=$?n:void 0,P;typeof i=="function"?P=i(B):P=[i,$?"active":null,F?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(B):o;return ce.createElement(hU,Op({},f,{"aria-current":k,className:P,ref:r,style:S,to:l,viewTransition:c}),typeof h=="function"?h(B):h)});var Kv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kv||(Kv={}));var HB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(HB||(HB={}));function mU(t){let e=ce.useContext(Qg);return e||Hr(!1),e}function pU(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:A,viewTransition:o}=e===void 0?{}:e,l=Wl(),c=$o(),h=Lg(t,{relative:A});return ce.useCallback(f=>{if(sU(f,r)){f.preventDefault();let p=n!==void 0?n:Pp(c)===Pp(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:A,viewTransition:o})}},[c,l,h,n,s,r,t,i,A,o])}function gU(t,e){e===void 0&&(e={});let r=ce.useContext(oU);r==null&&Hr(!1);let{basename:n}=mU(Kv.useViewTransitionState),s=Lg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Eu(r.currentLocation.pathname,n)||r.currentLocation.pathname,A=Eu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dp(s.pathname,A)!=null||Dp(s.pathname,i)!=null}var MB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},vU=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],A=t[r++],o=t[r++],l=((s&7)<<18|(i&63)<<12|(A&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],A=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,o=A?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|o>>4;let p=(o&15)<<2|c>>6,g=c&63;l||(g=64,A||(p=64)),n.push(r[h],r[f],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],o=s<t.length?r[t.charAt(s)]:0;++s;const c=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||o==null||c==null||f==null)throw new yU;const p=i<<2|o>>4;if(n.push(p),c!==64){const g=o<<4&240|c>>2;if(n.push(g),f!==64){const b=c<<6&192|f;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wU=function(t){const e=t_(t);return r_.encodeByteArray(e,!0)},Hp=function(t){return wU(t).replace(/\./g,"")},n_=function(t){try{return r_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=()=>xU().__FIREBASE_DEFAULTS__,bU=()=>{if(typeof process>"u"||typeof MB>"u")return;const t=MB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n_(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return BU()||bU()||CU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s_=t=>{var e,r;return(r=(e=Pg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},EU=t=>{const e=s_(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},i_=()=>{var t;return(t=Pg())===null||t===void 0?void 0:t.config},A_=t=>{var e;return(e=Pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hp(JSON.stringify(r)),Hp(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function IU(){var t;const e=(t=Pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UU(){const t=rs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QU(){return!IU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jU(){try{return typeof indexedDB=="object"}catch{return!1}}function LU(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="FirebaseError";class ha extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=PU,Object.setPrototypeOf(this,ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?DU(i,n):"Error",o=`${this.serviceName}: ${A} (${s}).`;return new ha(s,o,n)}}function DU(t,e){return t.replace(RU,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const RU=/\{\$([^}]+)}/g;function OU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],A=e[s];if(VB(i)&&VB(A)){if(!Mp(i,A))return!1}else if(i!==A)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function VB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Qd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function HU(t,e){const r=new MU(t,e);return r.subscribe.bind(r)}class MU{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");VU(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=a1),s.error===void 0&&(s.error=a1),s.complete===void 0&&(s.complete=a1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VU(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function a1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){return t&&t._delegate?t._delegate:t}class Ol{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new _U;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GU(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,A]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&A.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zU(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zU(t){return t===wl?void 0:t}function GU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new KU(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Gt||(Gt={}));const $U={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},WU=Gt.INFO,YU={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},XU=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=YU[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Gw=class{constructor(e){this.name=e,this._logLevel=WU,this._logHandler=XU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...e),this._logHandler(this,Gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...e),this._logHandler(this,Gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...e),this._logHandler(this,Gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...e),this._logHandler(this,Gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...e),this._logHandler(this,Gt.ERROR,...e)}};const JU=(t,e)=>e.some(r=>t instanceof r);let KB,zB;function ZU(){return KB||(KB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eQ(){return zB||(zB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a_=new WeakMap,zv=new WeakMap,o_=new WeakMap,o1=new WeakMap,qw=new WeakMap;function tQ(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{r(_o(t.result)),s()},A=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&a_.set(r,t)}).catch(()=>{}),qw.set(e,t),e}function rQ(t){if(zv.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{r(),s()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});zv.set(t,e)}let Gv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return zv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o_.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return _o(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nQ(t){Gv=t(Gv)}function sQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(l1(this),e,...r);return o_.set(n,e.sort?e.sort():[e]),_o(n)}:eQ().includes(t)?function(...e){return t.apply(l1(this),e),_o(a_.get(this))}:function(...e){return _o(t.apply(l1(this),e))}}function iQ(t){return typeof t=="function"?sQ(t):(t instanceof IDBTransaction&&rQ(t),JU(t,ZU())?new Proxy(t,Gv):t)}function _o(t){if(t instanceof IDBRequest)return tQ(t);if(o1.has(t))return o1.get(t);const e=iQ(t);return e!==t&&(o1.set(t,e),qw.set(e,t)),e}const l1=t=>qw.get(t);function AQ(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),o=_o(A);return n&&A.addEventListener("upgradeneeded",l=>{n(_o(A.result),l.oldVersion,l.newVersion,_o(A.transaction),l)}),r&&A.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const aQ=["get","getKey","getAll","getAllKeys","count"],oQ=["put","add","delete","clear"],c1=new Map;function GB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c1.get(e))return c1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=oQ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||aQ.includes(r)))return;const i=async function(A,...o){const l=this.transaction(A,s?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),s&&l.done]))[0]};return c1.set(e,i),i}nQ(t=>({...t,get:(e,r,n)=>GB(e,r)||t.get(e,r,n),has:(e,r)=>!!GB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(cQ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function cQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qv="@firebase/app",qB="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Gw("@firebase/app"),uQ="@firebase/app-compat",dQ="@firebase/analytics-compat",hQ="@firebase/analytics",fQ="@firebase/app-check-compat",mQ="@firebase/app-check",pQ="@firebase/auth",gQ="@firebase/auth-compat",vQ="@firebase/database",yQ="@firebase/data-connect",wQ="@firebase/database-compat",xQ="@firebase/functions",BQ="@firebase/functions-compat",bQ="@firebase/installations",CQ="@firebase/installations-compat",EQ="@firebase/messaging",_Q="@firebase/messaging-compat",NQ="@firebase/performance",SQ="@firebase/performance-compat",IQ="@firebase/remote-config",FQ="@firebase/remote-config-compat",kQ="@firebase/storage",TQ="@firebase/storage-compat",UQ="@firebase/firestore",QQ="@firebase/vertexai-preview",jQ="@firebase/firestore-compat",LQ="firebase",PQ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="[DEFAULT]",DQ={[qv]:"fire-core",[uQ]:"fire-core-compat",[hQ]:"fire-analytics",[dQ]:"fire-analytics-compat",[mQ]:"fire-app-check",[fQ]:"fire-app-check-compat",[pQ]:"fire-auth",[gQ]:"fire-auth-compat",[vQ]:"fire-rtdb",[yQ]:"fire-data-connect",[wQ]:"fire-rtdb-compat",[xQ]:"fire-fn",[BQ]:"fire-fn-compat",[bQ]:"fire-iid",[CQ]:"fire-iid-compat",[EQ]:"fire-fcm",[_Q]:"fire-fcm-compat",[NQ]:"fire-perf",[SQ]:"fire-perf-compat",[IQ]:"fire-rc",[FQ]:"fire-rc-compat",[kQ]:"fire-gcs",[TQ]:"fire-gcs-compat",[UQ]:"fire-fst",[jQ]:"fire-fst-compat",[QQ]:"fire-vertex","fire-js":"fire-js",[LQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,RQ=new Map,Wv=new Map;function $B(t,e){try{t.container.addComponent(e)}catch(r){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _u(t){const e=t.name;if(Wv.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;Wv.set(e,t);for(const r of Vp.values())$B(r,t);for(const r of RQ.values())$B(r,t);return!0}function $w(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function YA(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new ef("app","Firebase",OQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=PQ;function l_(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:$v,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw No.create("bad-app-name",{appName:String(s)});if(r||(r=i_()),!r)throw No.create("no-options");const i=Vp.get(s);if(i){if(Mp(r,i.options)&&Mp(n,i.config))return i;throw No.create("duplicate-app",{appName:s})}const A=new qU(s);for(const l of Wv.values())A.addComponent(l);const o=new HQ(r,n,A);return Vp.set(s,o),o}function c_(t=$v){const e=Vp.get(t);if(!e&&t===$v&&i_())return l_();if(!e)throw No.create("no-app",{appName:t});return e}function So(t,e,r){var n;let s=(n=DQ[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&o.push("and"),A&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(o.join(" "));return}_u(new Ol(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ="firebase-heartbeat-database",VQ=1,kh="firebase-heartbeat-store";let u1=null;function u_(){return u1||(u1=AQ(MQ,VQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(r){console.warn(r)}}}}).catch(t=>{throw No.create("idb-open",{originalErrorMessage:t.message})})),u1}async function KQ(t){try{const r=(await u_()).transaction(kh),n=await r.objectStore(kh).get(d_(t));return await r.done,n}catch(e){if(e instanceof ha)Aa.warn(e.message);else{const r=No.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Aa.warn(r.message)}}}async function WB(t,e){try{const n=(await u_()).transaction(kh,"readwrite");await n.objectStore(kh).put(e,d_(t)),await n.done}catch(r){if(r instanceof ha)Aa.warn(r.message);else{const n=No.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Aa.warn(n.message)}}}function d_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=1024,GQ=30*24*60*60*1e3;class qQ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new WQ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=YB();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const o=new Date(A.date).valueOf();return Date.now()-o<=GQ}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Aa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=YB(),{heartbeatsToSend:n,unsentEntries:s}=$Q(this._heartbeatsCache.heartbeats),i=Hp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Aa.warn(r),""}}}function YB(){return new Date().toISOString().substring(0,10)}function $Q(t,e=zQ){const r=[];let n=t.slice();for(const s of t){const i=r.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),XB(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),XB(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class WQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jU()?LU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await KQ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return WB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return WB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function XB(t){return Hp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t){_u(new Ol("platform-logger",e=>new lQ(e),"PRIVATE")),_u(new Ol("heartbeat",e=>new qQ(e),"PRIVATE")),So(qv,qB,t),So(qv,qB,"esm2017"),So("fire-js","")}YQ("");function Ww(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function h_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XQ=h_,f_=new ef("auth","Firebase",h_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Gw("@firebase/auth");function JQ(t,...e){Kp.logLevel<=Gt.WARN&&Kp.warn(`Auth (${Hu}): ${t}`,...e)}function Wm(t,...e){Kp.logLevel<=Gt.ERROR&&Kp.error(`Auth (${Hu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,...e){throw Yw(t,...e)}function fA(t,...e){return Yw(t,...e)}function m_(t,e,r){const n=Object.assign(Object.assign({},XQ()),{[e]:r});return new ef("auth","Firebase",n).create(e,{appName:t.name})}function Io(t){return m_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return f_.create(t,...e)}function Nt(t,e,...r){if(!t)throw Yw(e,...r)}function XA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wm(e),new Error(e)}function aa(t,e){t||XA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZQ(){return JB()==="http:"||JB()==="https:"}function JB(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZQ()||kU()||"connection"in navigator)?navigator.onLine:!0}function tj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r){this.shortDelay=e,this.longDelay=r,aa(r>e,"Short delay should be less than long delay!"),this.isMobile=SU()||TU()}get(){return ej()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){aa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;XA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;XA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;XA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new rf(3e4,6e4);function Yl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wo(t,e,r,n,s={}){return g_(t,s,async()=>{let i={},A={};n&&(e==="GET"?A=n:i={body:JSON.stringify(n)});const o=tf(Object.assign({key:t.config.apiKey},A)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return FU()||(c.referrerPolicy="no-referrer"),p_.fetch()(v_(t,t.config.apiHost,r,o),c)})}async function g_(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},rj),e);try{const s=new ij(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw tm(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const o=i.ok?A.errorMessage:A.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(t,"credential-already-in-use",A);if(l==="EMAIL_EXISTS")throw tm(t,"email-already-in-use",A);if(l==="USER_DISABLED")throw tm(t,"user-disabled",A);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw m_(t,h,c);Oi(t,h)}}catch(s){if(s instanceof ha)throw s;Oi(t,"network-request-failed",{message:String(s)})}}async function Dg(t,e,r,n,s={}){const i=await Wo(t,e,r,n,s);return"mfaPendingCredential"in i&&Oi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function v_(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?Xw(t.config,s):`${t.config.apiScheme}://${s}`}function sj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(fA(this.auth,"network-request-failed")),nj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tm(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=fA(t,e,n);return s.customData._tokenResponse=r,s}function ZB(t){return t!==void 0&&t.enterprise!==void 0}class Aj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return sj(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function aj(t,e){return Wo(t,"GET","/v2/recaptchaConfig",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){return Wo(t,"POST","/v1/accounts:delete",e)}async function y_(t,e){return Wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(t,e=!1){const r=ns(t),n=await r.getIdToken(e),s=Jw(n);Nt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:th(d1(s.auth_time)),issuedAtTime:th(d1(s.iat)),expirationTime:th(d1(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function d1(t){return Number(t)*1e3}function Jw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Wm("JWT malformed, contained fewer than 3 sections"),null;try{const s=n_(r);return s?JSON.parse(s):(Wm("Failed to decode base64 JWT payload"),null)}catch(s){return Wm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eb(t){const e=Jw(t);return Nt(e,"internal-error"),Nt(typeof e.exp<"u","internal-error"),Nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ha&&cj(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function cj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Th(t,y_(r,{idToken:n}));Nt(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?w_(i.providerUserInfo):[],o=hj(t.providerData,A),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function dj(t){const e=ns(t);await zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hj(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function w_(t){return t.map(e=>{var{providerId:r}=e,n=Ww(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){const r=await g_(t,{},async()=>{const n=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=v_(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",p_.fetch()(A,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function mj(t,e){return Wo(t,"POST","/v2/accounts:revokeToken",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt(typeof e.idToken<"u","internal-error"),Nt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Nt(e.length!==0,"internal-error");const r=eb(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await fj(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,A=new ou;return n&&(Nt(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),s&&(Nt(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(Nt(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return XA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t,e){Nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class JA{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Ww(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Th(this,this.stsTokenManager.getToken(this.auth,e));return Nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return lj(this,e)}reload(){return dj(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new JA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await zp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(YA(this.auth.app))return Promise.reject(Io(this.auth));const e=await this.getIdToken();return await Th(this,oj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,A,o,l,c,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,g=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,b=(A=r.photoURL)!==null&&A!==void 0?A:void 0,E=(o=r.tenantId)!==null&&o!==void 0?o:void 0,N=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=r.createdAt)!==null&&c!==void 0?c:void 0,y=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:L,isAnonymous:V,providerData:$,stsTokenManager:F}=r;Nt(_&&F,e,"internal-error");const B=ou.fromJSON(this.name,F);Nt(typeof _=="string",e,"internal-error"),Ga(f,e.name),Ga(p,e.name),Nt(typeof L=="boolean",e,"internal-error"),Nt(typeof V=="boolean",e,"internal-error"),Ga(g,e.name),Ga(b,e.name),Ga(E,e.name),Ga(N,e.name),Ga(w,e.name),Ga(y,e.name);const k=new JA({uid:_,auth:e,email:p,emailVerified:L,displayName:f,isAnonymous:V,photoURL:b,phoneNumber:g,tenantId:E,stsTokenManager:B,createdAt:w,lastLoginAt:y});return $&&Array.isArray($)&&(k.providerData=$.map(P=>Object.assign({},P))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,r,n=!1){const s=new ou;s.updateFromServerResponse(r);const i=new JA({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await zp(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Nt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?w_(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new ou;o.updateFromIdToken(n);const l=new JA({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:A}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Xv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Map;function ZA(t){aa(t instanceof Function,"Expected a class definition");let e=tb.get(t);return e?(aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}x_.type="NONE";const rb=x_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e,r){return`firebase:${t}:${e}:${r}`}class lu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Ym(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ym("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?JA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new lu(ZA(rb),e,n);const s=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ZA(rb);const A=Ym(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const h=await c._get(A);if(h){const f=JA._fromJSON(e,h);c!==i&&(o=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new lu(i,e,n):(i=l[0],o&&await i._set(A,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(A)}catch{}})),new lu(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N_(e))return"Blackberry";if(S_(e))return"Webos";if(b_(e))return"Safari";if((e.includes("chrome/")||C_(e))&&!e.includes("edge/"))return"Chrome";if(__(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function B_(t=rs()){return/firefox\//i.test(t)}function b_(t=rs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C_(t=rs()){return/crios\//i.test(t)}function E_(t=rs()){return/iemobile/i.test(t)}function __(t=rs()){return/android/i.test(t)}function N_(t=rs()){return/blackberry/i.test(t)}function S_(t=rs()){return/webos/i.test(t)}function Zw(t=rs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pj(t=rs()){var e;return Zw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return UU()&&document.documentMode===10}function I_(t=rs()){return Zw(t)||__(t)||S_(t)||N_(t)||/windows phone/i.test(t)||E_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e=[]){let r;switch(t){case"Browser":r=nb(rs());break;case"Worker":r=`${nb(rs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Hu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((A,o)=>{try{const l=e(i);A(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e={}){return Wo(t,"GET","/v2/passwordPolicy",Yl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=6;class xj{constructor(e){var r,n,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:wj,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,A,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(A=l.containsNumericCharacter)!==null&&A!==void 0?A:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sb(this),this.idTokenSubscription=new sb(this),this.beforeStateQueue=new vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ZA(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await lu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await y_(this,{idToken:e}),n=await JA._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(YA(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!A||A===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(YA(this.app))return Promise.reject(Io(this));const r=e?ns(e):null;return r&&Nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return YA(this.app)?Promise.reject(Io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return YA(this.app)?Promise.reject(Io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ZA(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yj(this),r=new xj(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ef("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await mj(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ZA(e)||this._popupRedirectResolver;Nt(r,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[ZA(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let A=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(o,this,"internal-error"),o.then(()=>{A||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{A=!0,l()}}else{const l=e.addObserver(r);return()=>{A=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&JQ(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Mu(t){return ns(t)}class sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=HU(r=>this.observer=r)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bj(t){Rg=t}function k_(t){return Rg.loadJS(t)}function Cj(){return Rg.recaptchaEnterpriseScript}function Ej(){return Rg.gapiScript}function _j(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Nj="recaptcha-enterprise",Sj="NO_RECAPTCHA";class Ij{constructor(e){this.type=Nj,this.auth=Mu(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,o)=>{aj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Aj(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,A(c.siteKey)}}).catch(l=>{o(l)})})}function s(i,A,o){const l=window.grecaptcha;ZB(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{A(c)}).catch(()=>{A(Sj)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{n(this.auth).then(o=>{if(!r&&ZB(window.grecaptcha))s(o,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Cj();l.length!==0&&(l+=o),k_(l).then(()=>{s(o,i,A)}).catch(c=>{A(c)})}}).catch(o=>{A(o)})})}}async function ib(t,e,r,n=!1){const s=new Ij(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const A=Object.assign({},e);return n?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function Ab(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ib(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await ib(t,e,r,r==="getOobCode");return n(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e){const r=$w(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Mp(i,e??{}))return s;Oi(s,"already-initialized")}return r.initialize({options:e})}function kj(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ZA);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Tj(t,e,r){const n=Mu(t);Nt(n._canInitEmulator,n,"emulator-config-failed"),Nt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=T_(e),{host:A,port:o}=Uj(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${i}//${A}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Qj()}function T_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Uj(t){const e=T_(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:ab(n.substr(i.length+1))}}else{const[i,A]=n.split(":");return{host:i,port:ab(A)}}}function ab(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qj(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return XA("not implemented")}_getIdTokenResponse(e){return XA("not implemented")}_linkToIdToken(e,r){return XA("not implemented")}_getReauthenticationResolver(e){return XA("not implemented")}}async function jj(t,e){return Wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e){return Dg(t,"POST","/v1/accounts:signInWithPassword",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e){return Dg(t,"POST","/v1/accounts:signInWithEmailLink",Yl(t,e))}async function Dj(t,e){return Dg(t,"POST","/v1/accounts:signInWithEmailLink",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends e2{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Uh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Uh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,r,"signInWithPassword",Lj);case"emailLink":return Pj(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ab(e,n,"signUpPassword",jj);case"emailLink":return Dj(e,{idToken:r,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e){return Dg(t,"POST","/v1/accounts:signInWithIdp",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="http://localhost";class Hl extends e2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Oi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Ww(r,["providerId","signInMethod"]);if(!n||!s)return null;const A=new Hl(n,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return cu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,cu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,cu(e,r)}buildRequest(){const e={requestUri:Rj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=tf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hj(t){const e=Ud(Qd(t)).link,r=e?Ud(Qd(e)).deep_link_id:null,n=Ud(Qd(t)).deep_link_id;return(n?Ud(Qd(n)).link:null)||n||r||e||t}class t2{constructor(e){var r,n,s,i,A,o;const l=Ud(Qd(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=Oj((s=l.mode)!==null&&s!==void 0?s:null);Nt(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=l.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=Hj(e);try{return new t2(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.providerId=Vu.PROVIDER_ID}static credential(e,r){return Uh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=t2.parseLink(r);return Nt(n,"argument-error"),Uh._fromEmailAndCode(e,n.code,n.tenantId)}}Vu.PROVIDER_ID="password";Vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends U_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends nf{constructor(){super("facebook.com")}static credential(e){return Hl._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Hl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return so.credential(r,n)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends nf{constructor(){super("github.com")}static credential(e){return Hl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends nf{constructor(){super("twitter.com")}static credential(e,r){return Hl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ao.credential(r,n)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await JA._fromIdTokenResponse(e,n,s),A=ob(n);return new Nu({user:i,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=ob(n);return new Nu({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function ob(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends ha{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Gp(e,r,n,s)}}function Q_(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,i,e,n):i})}async function Mj(t,e,r=!1){const n=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Nu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e,r=!1){const{auth:n}=t;if(YA(n.app))return Promise.reject(Io(n));const s="reauthenticate";try{const i=await Th(t,Q_(n,s,e,t),r);Nt(i.idToken,n,"internal-error");const A=Jw(i.idToken);Nt(A,n,"internal-error");const{sub:o}=A;return Nt(t.uid===o,n,"user-mismatch"),Nu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Oi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(t,e,r=!1){if(YA(t.app))return Promise.reject(Io(t));const n="signIn",s=await Q_(t,n,e),i=await Nu._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function Kj(t,e){return j_(Mu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t){const e=Mu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Gj(t,e,r){return YA(t.app)?Promise.reject(Io(t)):Kj(ns(t),Vu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&zj(t),n})}function qj(t,e,r,n){return ns(t).onIdTokenChanged(e,r,n)}function $j(t,e,r){return ns(t).beforeAuthStateChanged(e,r)}function Wj(t,e,r,n){return ns(t).onAuthStateChanged(e,r,n)}function Yj(t){return ns(t).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1e3,Jj=10;class P_ extends L_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,o,l)=>{this.notifyListeners(A,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},i=this.storage.getItem(n);gj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Jj):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}P_.type="LOCAL";const Zj=P_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends L_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}D_.type="SESSION";const R_=D_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Og(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const o=Array.from(A).map(async c=>c(r.origin,i)),l=await eL(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((o,l)=>{const c=r2("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);A={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return window}function rL(t){mA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){return typeof mA().WorkerGlobalScope<"u"&&typeof mA().importScripts=="function"}async function nL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iL(){return O_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="firebaseLocalStorageDb",AL=1,$p="firebaseLocalStorage",M_="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Hg(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function aL(){const t=indexedDB.deleteDatabase(H_);return new sf(t).toPromise()}function Jv(){const t=indexedDB.open(H_,AL);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore($p,{keyPath:M_})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains($p)?e(n):(n.close(),await aL(),e(await Jv()))})})}async function lb(t,e,r){const n=Hg(t,!0).put({[M_]:e,value:r});return new sf(n).toPromise()}async function oL(t,e){const r=Hg(t,!1).get(e),n=await new sf(r).toPromise();return n===void 0?null:n.value}function cb(t,e){const r=Hg(t,!0).delete(e);return new sf(r).toPromise()}const lL=800,cL=3;class V_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jv(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>cL)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(iL()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await nL(),!this.activeServiceWorker)return;this.sender=new tL(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jv();return await lb(e,qp,"1"),await cb(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>lb(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>oL(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>cb(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hg(s,!1).getAll();return new sf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V_.type="LOCAL";const uL=V_;new rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t,e){return e?ZA(e):(Nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2 extends e2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return cu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function hL(t){return j_(t.auth,new n2(t),t.bypassAuthState)}function fL(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),Vj(r,new n2(t),t.bypassAuthState)}async function mL(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),Mj(r,new n2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:A,type:o}=e;if(A){this.reject(A);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hL;case"linkViaPopup":case"linkViaRedirect":return mL;case"reauthViaPopup":case"reauthViaRedirect":return fL;default:Oi(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new rf(2e3,1e4);class Zc extends K_{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Zc.currentPopupAction&&Zc.currentPopupAction.cancel(),Zc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=r2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(fA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pL.get())};e()}}Zc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="pendingRedirect",Xm=new Map;class vL extends K_{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Xm.get(this.auth._key());if(!e){try{const n=await yL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Xm.set(this.auth._key(),e)}return this.bypassAuthState||Xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yL(t,e){const r=BL(e),n=xL(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function wL(t,e){Xm.set(t._key(),e)}function xL(t){return ZA(t._redirectPersistence)}function BL(t){return Ym(gL,t.config.apiKey,t.name)}async function bL(t,e,r=!1){if(YA(t.app))return Promise.reject(Io(t));const n=Mu(t),s=dL(n,e),A=await new vL(n,s,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=10*60*1e3;class EL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_L(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!z_(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(fA(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CL&&this.cachedEventUids.clear(),this.cachedEventUids.has(ub(e))}saveEventToCache(e){this.cachedEventUids.add(ub(e)),this.lastProcessedEventTime=Date.now()}}function ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function z_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _L(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e={}){return Wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IL=/^https?/;async function FL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NL(t);for(const r of e)try{if(kL(r))return}catch{}Oi(t,"unauthorized-domain")}function kL(t){const e=Yv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!IL.test(r))return!1;if(SL.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new rf(3e4,6e4);function db(){const t=mA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function UL(t){return new Promise((e,r)=>{var n,s,i;function A(){db(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{db(),r(fA(t,"network-request-failed"))},timeout:TL.get()})}if(!((s=(n=mA().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=mA().gapi)===null||i===void 0)&&i.load)A();else{const o=_j("iframefcb");return mA()[o]=()=>{gapi.load?A():r(fA(t,"network-request-failed"))},k_(`${Ej()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Jm=null,e})}let Jm=null;function QL(t){return Jm=Jm||UL(t),Jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new rf(5e3,15e3),LL="__/auth/iframe",PL="emulator/auth/iframe",DL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OL(t){const e=t.config;Nt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Xw(e,PL):`https://${t.config.authDomain}/${LL}`,n={apiKey:e.apiKey,appName:t.name,v:Hu},s=RL.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${tf(n).slice(1)}`}async function HL(t){const e=await QL(t),r=mA().gapi;return Nt(r,t,"internal-error"),e.open({where:document.body,url:OL(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DL,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const A=fA(t,"network-request-failed"),o=mA().setTimeout(()=>{i(A)},jL.get());function l(){mA().clearTimeout(o),s(n)}n.ping(l).then(l,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VL=500,KL=600,zL="_blank",GL="http://localhost";class hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qL(t,e,r,n=VL,s=KL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ML),{width:n.toString(),height:s.toString(),top:i,left:A}),c=rs().toLowerCase();r&&(o=C_(c)?zL:r),B_(c)&&(e=e||GL,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(pj(c)&&o!=="_self")return $L(e||"",o),new hb(null);const f=window.open(e||"",o,h);Nt(f,t,"popup-blocked");try{f.focus()}catch{}return new hb(f)}function $L(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="__/auth/handler",YL="emulator/auth/handler",XL=encodeURIComponent("fac");async function fb(t,e,r,n,s,i){Nt(t.config.authDomain,t,"auth-domain-config-required"),Nt(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Hu,eventId:s};if(e instanceof U_){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",OU(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))A[h]=f}if(e instanceof nf){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(A.scopes=h.join(","))}t.tenantId&&(A.tid=t.tenantId);const o=A;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${XL}=${encodeURIComponent(l)}`:"";return`${JL(t)}?${tf(o).slice(1)}${c}`}function JL({config:t}){return t.emulator?Xw(t,YL):`https://${t.authDomain}/${WL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="webStorageSupport";class ZL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R_,this._completeRedirectFn=bL,this._overrideRedirectResult=wL}async _openPopup(e,r,n,s){var i;aa((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await fb(e,r,n,Yv(),s);return qL(e,A,r2())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await fb(e,r,n,Yv(),s);return rL(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(aa(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await HL(e),n=new EL(e);return r.register("authEvent",s=>(Nt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(h1,{type:h1},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[h1];A!==void 0&&r(!!A),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=FL(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return I_()||b_()||Zw()}}const e6=ZL;var mb="@firebase/auth",pb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n6(t){_u(new Ol("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:o}=n.options;Nt(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:A,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F_(t)},c=new Bj(n,s,i,l);return kj(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_u(new Ol("auth-internal",e=>{const r=Mu(e.getProvider("auth").getImmediate());return(n=>new t6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),So(mb,pb,r6(t)),So(mb,pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=5*60,i6=A_("authIdTokenMaxAge")||s6;let gb=null;const A6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>i6)return;const s=r==null?void 0:r.token;gb!==s&&(gb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function a6(t=c_()){const e=$w(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Fj(t,{popupRedirectResolver:e6,persistence:[uL,Zj,R_]}),n=A_("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const A=A6(i.toString());$j(r,A,()=>A(r.currentUser)),qj(r,o=>A(o))}}const s=s_("auth");return s&&Tj(r,`http://${s}`),r}function o6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bj({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=fA("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",o6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n6("Browser");var l6="firebase",c6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(l6,c6,"app");var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kl,G_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,B){function k(){}k.prototype=B.prototype,F.D=B.prototype,F.prototype=new k,F.prototype.constructor=F,F.C=function(P,S,j){for(var T=Array(arguments.length-2),re=2;re<arguments.length;re++)T[re-2]=arguments[re];return B.prototype[S].apply(P,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(F,B,k){k||(k=0);var P=Array(16);if(typeof B=="string")for(var S=0;16>S;++S)P[S]=B.charCodeAt(k++)|B.charCodeAt(k++)<<8|B.charCodeAt(k++)<<16|B.charCodeAt(k++)<<24;else for(S=0;16>S;++S)P[S]=B[k++]|B[k++]<<8|B[k++]<<16|B[k++]<<24;B=F.g[0],k=F.g[1],S=F.g[2];var j=F.g[3],T=B+(j^k&(S^j))+P[0]+3614090360&4294967295;B=k+(T<<7&4294967295|T>>>25),T=j+(S^B&(k^S))+P[1]+3905402710&4294967295,j=B+(T<<12&4294967295|T>>>20),T=S+(k^j&(B^k))+P[2]+606105819&4294967295,S=j+(T<<17&4294967295|T>>>15),T=k+(B^S&(j^B))+P[3]+3250441966&4294967295,k=S+(T<<22&4294967295|T>>>10),T=B+(j^k&(S^j))+P[4]+4118548399&4294967295,B=k+(T<<7&4294967295|T>>>25),T=j+(S^B&(k^S))+P[5]+1200080426&4294967295,j=B+(T<<12&4294967295|T>>>20),T=S+(k^j&(B^k))+P[6]+2821735955&4294967295,S=j+(T<<17&4294967295|T>>>15),T=k+(B^S&(j^B))+P[7]+4249261313&4294967295,k=S+(T<<22&4294967295|T>>>10),T=B+(j^k&(S^j))+P[8]+1770035416&4294967295,B=k+(T<<7&4294967295|T>>>25),T=j+(S^B&(k^S))+P[9]+2336552879&4294967295,j=B+(T<<12&4294967295|T>>>20),T=S+(k^j&(B^k))+P[10]+4294925233&4294967295,S=j+(T<<17&4294967295|T>>>15),T=k+(B^S&(j^B))+P[11]+2304563134&4294967295,k=S+(T<<22&4294967295|T>>>10),T=B+(j^k&(S^j))+P[12]+1804603682&4294967295,B=k+(T<<7&4294967295|T>>>25),T=j+(S^B&(k^S))+P[13]+4254626195&4294967295,j=B+(T<<12&4294967295|T>>>20),T=S+(k^j&(B^k))+P[14]+2792965006&4294967295,S=j+(T<<17&4294967295|T>>>15),T=k+(B^S&(j^B))+P[15]+1236535329&4294967295,k=S+(T<<22&4294967295|T>>>10),T=B+(S^j&(k^S))+P[1]+4129170786&4294967295,B=k+(T<<5&4294967295|T>>>27),T=j+(k^S&(B^k))+P[6]+3225465664&4294967295,j=B+(T<<9&4294967295|T>>>23),T=S+(B^k&(j^B))+P[11]+643717713&4294967295,S=j+(T<<14&4294967295|T>>>18),T=k+(j^B&(S^j))+P[0]+3921069994&4294967295,k=S+(T<<20&4294967295|T>>>12),T=B+(S^j&(k^S))+P[5]+3593408605&4294967295,B=k+(T<<5&4294967295|T>>>27),T=j+(k^S&(B^k))+P[10]+38016083&4294967295,j=B+(T<<9&4294967295|T>>>23),T=S+(B^k&(j^B))+P[15]+3634488961&4294967295,S=j+(T<<14&4294967295|T>>>18),T=k+(j^B&(S^j))+P[4]+3889429448&4294967295,k=S+(T<<20&4294967295|T>>>12),T=B+(S^j&(k^S))+P[9]+568446438&4294967295,B=k+(T<<5&4294967295|T>>>27),T=j+(k^S&(B^k))+P[14]+3275163606&4294967295,j=B+(T<<9&4294967295|T>>>23),T=S+(B^k&(j^B))+P[3]+4107603335&4294967295,S=j+(T<<14&4294967295|T>>>18),T=k+(j^B&(S^j))+P[8]+1163531501&4294967295,k=S+(T<<20&4294967295|T>>>12),T=B+(S^j&(k^S))+P[13]+2850285829&4294967295,B=k+(T<<5&4294967295|T>>>27),T=j+(k^S&(B^k))+P[2]+4243563512&4294967295,j=B+(T<<9&4294967295|T>>>23),T=S+(B^k&(j^B))+P[7]+1735328473&4294967295,S=j+(T<<14&4294967295|T>>>18),T=k+(j^B&(S^j))+P[12]+2368359562&4294967295,k=S+(T<<20&4294967295|T>>>12),T=B+(k^S^j)+P[5]+4294588738&4294967295,B=k+(T<<4&4294967295|T>>>28),T=j+(B^k^S)+P[8]+2272392833&4294967295,j=B+(T<<11&4294967295|T>>>21),T=S+(j^B^k)+P[11]+1839030562&4294967295,S=j+(T<<16&4294967295|T>>>16),T=k+(S^j^B)+P[14]+4259657740&4294967295,k=S+(T<<23&4294967295|T>>>9),T=B+(k^S^j)+P[1]+2763975236&4294967295,B=k+(T<<4&4294967295|T>>>28),T=j+(B^k^S)+P[4]+1272893353&4294967295,j=B+(T<<11&4294967295|T>>>21),T=S+(j^B^k)+P[7]+4139469664&4294967295,S=j+(T<<16&4294967295|T>>>16),T=k+(S^j^B)+P[10]+3200236656&4294967295,k=S+(T<<23&4294967295|T>>>9),T=B+(k^S^j)+P[13]+681279174&4294967295,B=k+(T<<4&4294967295|T>>>28),T=j+(B^k^S)+P[0]+3936430074&4294967295,j=B+(T<<11&4294967295|T>>>21),T=S+(j^B^k)+P[3]+3572445317&4294967295,S=j+(T<<16&4294967295|T>>>16),T=k+(S^j^B)+P[6]+76029189&4294967295,k=S+(T<<23&4294967295|T>>>9),T=B+(k^S^j)+P[9]+3654602809&4294967295,B=k+(T<<4&4294967295|T>>>28),T=j+(B^k^S)+P[12]+3873151461&4294967295,j=B+(T<<11&4294967295|T>>>21),T=S+(j^B^k)+P[15]+530742520&4294967295,S=j+(T<<16&4294967295|T>>>16),T=k+(S^j^B)+P[2]+3299628645&4294967295,k=S+(T<<23&4294967295|T>>>9),T=B+(S^(k|~j))+P[0]+4096336452&4294967295,B=k+(T<<6&4294967295|T>>>26),T=j+(k^(B|~S))+P[7]+1126891415&4294967295,j=B+(T<<10&4294967295|T>>>22),T=S+(B^(j|~k))+P[14]+2878612391&4294967295,S=j+(T<<15&4294967295|T>>>17),T=k+(j^(S|~B))+P[5]+4237533241&4294967295,k=S+(T<<21&4294967295|T>>>11),T=B+(S^(k|~j))+P[12]+1700485571&4294967295,B=k+(T<<6&4294967295|T>>>26),T=j+(k^(B|~S))+P[3]+2399980690&4294967295,j=B+(T<<10&4294967295|T>>>22),T=S+(B^(j|~k))+P[10]+4293915773&4294967295,S=j+(T<<15&4294967295|T>>>17),T=k+(j^(S|~B))+P[1]+2240044497&4294967295,k=S+(T<<21&4294967295|T>>>11),T=B+(S^(k|~j))+P[8]+1873313359&4294967295,B=k+(T<<6&4294967295|T>>>26),T=j+(k^(B|~S))+P[15]+4264355552&4294967295,j=B+(T<<10&4294967295|T>>>22),T=S+(B^(j|~k))+P[6]+2734768916&4294967295,S=j+(T<<15&4294967295|T>>>17),T=k+(j^(S|~B))+P[13]+1309151649&4294967295,k=S+(T<<21&4294967295|T>>>11),T=B+(S^(k|~j))+P[4]+4149444226&4294967295,B=k+(T<<6&4294967295|T>>>26),T=j+(k^(B|~S))+P[11]+3174756917&4294967295,j=B+(T<<10&4294967295|T>>>22),T=S+(B^(j|~k))+P[2]+718787259&4294967295,S=j+(T<<15&4294967295|T>>>17),T=k+(j^(S|~B))+P[9]+3951481745&4294967295,F.g[0]=F.g[0]+B&4294967295,F.g[1]=F.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,F.g[2]=F.g[2]+S&4294967295,F.g[3]=F.g[3]+j&4294967295}n.prototype.u=function(F,B){B===void 0&&(B=F.length);for(var k=B-this.blockSize,P=this.B,S=this.h,j=0;j<B;){if(S==0)for(;j<=k;)s(this,F,j),j+=this.blockSize;if(typeof F=="string"){for(;j<B;)if(P[S++]=F.charCodeAt(j++),S==this.blockSize){s(this,P),S=0;break}}else for(;j<B;)if(P[S++]=F[j++],S==this.blockSize){s(this,P),S=0;break}}this.h=S,this.o+=B},n.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var B=1;B<F.length-8;++B)F[B]=0;var k=8*this.o;for(B=F.length-8;B<F.length;++B)F[B]=k&255,k/=256;for(this.u(F),F=Array(16),B=k=0;4>B;++B)for(var P=0;32>P;P+=8)F[k++]=this.g[B]>>>P&255;return F};function i(F,B){var k=o;return Object.prototype.hasOwnProperty.call(k,F)?k[F]:k[F]=B(F)}function A(F,B){this.h=B;for(var k=[],P=!0,S=F.length-1;0<=S;S--){var j=F[S]|0;P&&j==B||(k[S]=j,P=!1)}this.g=k}var o={};function l(F){return-128<=F&&128>F?i(F,function(B){return new A([B|0],0>B?-1:0)}):new A([F|0],0>F?-1:0)}function c(F){if(isNaN(F)||!isFinite(F))return f;if(0>F)return N(c(-F));for(var B=[],k=1,P=0;F>=k;P++)B[P]=F/k|0,k*=4294967296;return new A(B,0)}function h(F,B){if(F.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(F.charAt(0)=="-")return N(h(F.substring(1),B));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(B,8)),P=f,S=0;S<F.length;S+=8){var j=Math.min(8,F.length-S),T=parseInt(F.substring(S,S+j),B);8>j?(j=c(Math.pow(B,j)),P=P.j(j).add(c(T))):(P=P.j(k),P=P.add(c(T)))}return P}var f=l(0),p=l(1),g=l(16777216);t=A.prototype,t.m=function(){if(E(this))return-N(this).m();for(var F=0,B=1,k=0;k<this.g.length;k++){var P=this.i(k);F+=(0<=P?P:4294967296+P)*B,B*=4294967296}return F},t.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(b(this))return"0";if(E(this))return"-"+N(this).toString(F);for(var B=c(Math.pow(F,6)),k=this,P="";;){var S=L(k,B).g;k=w(k,S.j(B));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(F);if(k=S,b(k))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},t.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function b(F){if(F.h!=0)return!1;for(var B=0;B<F.g.length;B++)if(F.g[B]!=0)return!1;return!0}function E(F){return F.h==-1}t.l=function(F){return F=w(this,F),E(F)?-1:b(F)?0:1};function N(F){for(var B=F.g.length,k=[],P=0;P<B;P++)k[P]=~F.g[P];return new A(k,~F.h).add(p)}t.abs=function(){return E(this)?N(this):this},t.add=function(F){for(var B=Math.max(this.g.length,F.g.length),k=[],P=0,S=0;S<=B;S++){var j=P+(this.i(S)&65535)+(F.i(S)&65535),T=(j>>>16)+(this.i(S)>>>16)+(F.i(S)>>>16);P=T>>>16,j&=65535,T&=65535,k[S]=T<<16|j}return new A(k,k[k.length-1]&-2147483648?-1:0)};function w(F,B){return F.add(N(B))}t.j=function(F){if(b(this)||b(F))return f;if(E(this))return E(F)?N(this).j(N(F)):N(N(this).j(F));if(E(F))return N(this.j(N(F)));if(0>this.l(g)&&0>F.l(g))return c(this.m()*F.m());for(var B=this.g.length+F.g.length,k=[],P=0;P<2*B;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var S=0;S<F.g.length;S++){var j=this.i(P)>>>16,T=this.i(P)&65535,re=F.i(S)>>>16,xe=F.i(S)&65535;k[2*P+2*S]+=T*xe,y(k,2*P+2*S),k[2*P+2*S+1]+=j*xe,y(k,2*P+2*S+1),k[2*P+2*S+1]+=T*re,y(k,2*P+2*S+1),k[2*P+2*S+2]+=j*re,y(k,2*P+2*S+2)}for(P=0;P<B;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=B;P<2*B;P++)k[P]=0;return new A(k,0)};function y(F,B){for(;(F[B]&65535)!=F[B];)F[B+1]+=F[B]>>>16,F[B]&=65535,B++}function _(F,B){this.g=F,this.h=B}function L(F,B){if(b(B))throw Error("division by zero");if(b(F))return new _(f,f);if(E(F))return B=L(N(F),B),new _(N(B.g),N(B.h));if(E(B))return B=L(F,N(B)),new _(N(B.g),B.h);if(30<F.g.length){if(E(F)||E(B))throw Error("slowDivide_ only works with positive integers.");for(var k=p,P=B;0>=P.l(F);)k=V(k),P=V(P);var S=$(k,1),j=$(P,1);for(P=$(P,2),k=$(k,2);!b(P);){var T=j.add(P);0>=T.l(F)&&(S=S.add(k),j=T),P=$(P,1),k=$(k,1)}return B=w(F,S.j(B)),new _(S,B)}for(S=f;0<=F.l(B);){for(k=Math.max(1,Math.floor(F.m()/B.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=c(k),T=j.j(B);E(T)||0<T.l(F);)k-=P,j=c(k),T=j.j(B);b(j)&&(j=p),S=S.add(j),F=w(F,T)}return new _(S,F)}t.A=function(F){return L(this,F).h},t.and=function(F){for(var B=Math.max(this.g.length,F.g.length),k=[],P=0;P<B;P++)k[P]=this.i(P)&F.i(P);return new A(k,this.h&F.h)},t.or=function(F){for(var B=Math.max(this.g.length,F.g.length),k=[],P=0;P<B;P++)k[P]=this.i(P)|F.i(P);return new A(k,this.h|F.h)},t.xor=function(F){for(var B=Math.max(this.g.length,F.g.length),k=[],P=0;P<B;P++)k[P]=this.i(P)^F.i(P);return new A(k,this.h^F.h)};function V(F){for(var B=F.g.length+1,k=[],P=0;P<B;P++)k[P]=F.i(P)<<1|F.i(P-1)>>>31;return new A(k,F.h)}function $(F,B){var k=B>>5;B%=32;for(var P=F.g.length-k,S=[],j=0;j<P;j++)S[j]=0<B?F.i(j+k)>>>B|F.i(j+k+1)<<32-B:F.i(j+k);return new A(S,F.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,G_=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=c,A.fromString=h,kl=A}).apply(typeof vb<"u"?vb:typeof self<"u"?self:typeof window<"u"?window:{});var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q_,jd,$_,Zm,Zv,W_,Y_,X_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,C,U){return d==Array.prototype||d==Object.prototype||(d[C]=U.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof rm=="object"&&rm];for(var C=0;C<d.length;++C){var U=d[C];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var n=r(this);function s(d,C){if(C)e:{var U=n;d=d.split(".");for(var z=0;z<d.length-1;z++){var we=d[z];if(!(we in U))break e;U=U[we]}d=d[d.length-1],z=U[d],C=C(z),C!=z&&C!=null&&e(U,d,{configurable:!0,writable:!0,value:C})}}function i(d,C){d instanceof String&&(d+="");var U=0,z=!1,we={next:function(){if(!z&&U<d.length){var Ie=U++;return{value:C(Ie,d[Ie]),done:!1}}return z=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}s("Array.prototype.values",function(d){return d||function(){return i(this,function(C,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},o=this||self;function l(d){var C=typeof d;return C=C!="object"?C:d?Array.isArray(d)?"array":C:"null",C=="array"||C=="object"&&typeof d.length=="number"}function c(d){var C=typeof d;return C=="object"&&d!=null||C=="function"}function h(d,C,U){return d.call.apply(d.bind,arguments)}function f(d,C,U){if(!d)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,z),d.apply(C,we)}}return function(){return d.apply(C,arguments)}}function p(d,C,U){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(d,C){var U=Array.prototype.slice.call(arguments,1);return function(){var z=U.slice();return z.push.apply(z,arguments),d.apply(this,z)}}function b(d,C){function U(){}U.prototype=C.prototype,d.aa=C.prototype,d.prototype=new U,d.prototype.constructor=d,d.Qb=function(z,we,Ie){for(var Ke=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)Ke[Ft-2]=arguments[Ft];return C.prototype[we].apply(z,Ke)}}function E(d){const C=d.length;if(0<C){const U=Array(C);for(let z=0;z<C;z++)U[z]=d[z];return U}return[]}function N(d,C){for(let U=1;U<arguments.length;U++){const z=arguments[U];if(l(z)){const we=d.length||0,Ie=z.length||0;d.length=we+Ie;for(let Ke=0;Ke<Ie;Ke++)d[we+Ke]=z[Ke]}else d.push(z)}}class w{constructor(C,U){this.i=C,this.j=U,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function y(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=o.navigator;return d&&(d=d.userAgent)?d:""}function L(d){return L[" "](d),d}L[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function $(d,C,U){for(const z in d)C.call(U,d[z],z,d)}function F(d,C){for(const U in d)C.call(void 0,d[U],U,d)}function B(d){const C={};for(const U in d)C[U]=d[U];return C}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,C){let U,z;for(let we=1;we<arguments.length;we++){z=arguments[we];for(U in z)d[U]=z[U];for(let Ie=0;Ie<k.length;Ie++)U=k[Ie],Object.prototype.hasOwnProperty.call(z,U)&&(d[U]=z[U])}}function S(d){var C=1;d=d.split(":");const U=[];for(;0<C&&d.length;)U.push(d.shift()),C--;return d.length&&U.push(d.join(":")),U}function j(d){o.setTimeout(()=>{throw d},0)}function T(){var d=oe;let C=null;return d.g&&(C=d.g,d.g=d.g.next,d.g||(d.h=null),C.next=null),C}class re{constructor(){this.h=this.g=null}add(C,U){const z=xe.get();z.set(C,U),this.h?this.h.next=z:this.g=z,this.h=z}}var xe=new w(()=>new pe,d=>d.reset());class pe{constructor(){this.next=this.g=this.h=null}set(C,U){this.h=C,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,M=!1,oe=new re,X=()=>{const d=o.Promise.resolve(void 0);ve=()=>{d.then(de)}};var de=()=>{for(var d;d=T();){try{d.h.call(d.g)}catch(U){j(U)}var C=xe;C.j(d),100>C.h&&(C.h++,d.next=C.g,C.g=d)}M=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,C){this.type=d,this.g=this.target=C,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,C=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const U=()=>{};o.addEventListener("test",U,C),o.removeEventListener("test",U,C)}catch{}return d}();function Z(d,C){if(O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var U=this.type=d.type,z=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=C,C=d.relatedTarget){if(V){e:{try{L(C.nodeName);var we=!0;break e}catch{}we=!1}we||(C=null)}}else U=="mouseover"?C=d.fromElement:U=="mouseout"&&(C=d.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:J[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}b(Z,O);var J={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function le(d,C,U,z,we){this.listener=d,this.proxy=null,this.src=C,this.type=U,this.capture=!!z,this.ha=we,this.key=++Ae,this.da=this.fa=!1}function q(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ae(d){this.src=d,this.g={},this.h=0}ae.prototype.add=function(d,C,U,z,we){var Ie=d.toString();d=this.g[Ie],d||(d=this.g[Ie]=[],this.h++);var Ke=Ee(d,C,z,we);return-1<Ke?(C=d[Ke],U||(C.fa=!1)):(C=new le(C,this.src,Ie,!!z,we),C.fa=U,d.push(C)),C};function ge(d,C){var U=C.type;if(U in d.g){var z=d.g[U],we=Array.prototype.indexOf.call(z,C,void 0),Ie;(Ie=0<=we)&&Array.prototype.splice.call(z,we,1),Ie&&(q(C),d.g[U].length==0&&(delete d.g[U],d.h--))}}function Ee(d,C,U,z){for(var we=0;we<d.length;++we){var Ie=d[we];if(!Ie.da&&Ie.listener==C&&Ie.capture==!!U&&Ie.ha==z)return we}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),_e={};function ne(d,C,U,z,we){if(Array.isArray(C)){for(var Ie=0;Ie<C.length;Ie++)ne(d,C[Ie],U,z,we);return null}return U=Ct(U),d&&d[ee]?d.K(C,U,c(z)?!!z.capture:!!z,we):te(d,C,U,!1,z,we)}function te(d,C,U,z,we,Ie){if(!C)throw Error("Invalid event type");var Ke=c(we)?!!we.capture:!!we,Ft=At(d);if(Ft||(d[Le]=Ft=new ae(d)),U=Ft.add(C,U,z,Ke,Ie),U.proxy)return U;if(z=ue(),U.proxy=z,z.src=d,z.listener=U,d.addEventListener)Y||(we=Ke),we===void 0&&(we=!1),d.addEventListener(C.toString(),z,we);else if(d.attachEvent)d.attachEvent(Ge(C.toString()),z);else if(d.addListener&&d.removeListener)d.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return U}function ue(){function d(U){return C.call(d.src,d.listener,U)}const C=We;return d}function be(d,C,U,z,we){if(Array.isArray(C))for(var Ie=0;Ie<C.length;Ie++)be(d,C[Ie],U,z,we);else z=c(z)?!!z.capture:!!z,U=Ct(U),d&&d[ee]?(d=d.i,C=String(C).toString(),C in d.g&&(Ie=d.g[C],U=Ee(Ie,U,z,we),-1<U&&(q(Ie[U]),Array.prototype.splice.call(Ie,U,1),Ie.length==0&&(delete d.g[C],d.h--)))):d&&(d=At(d))&&(C=d.g[C.toString()],d=-1,C&&(d=Ee(C,U,z,we)),(U=-1<d?C[d]:null)&&Qe(U))}function Qe(d){if(typeof d!="number"&&d&&!d.da){var C=d.src;if(C&&C[ee])ge(C.i,d);else{var U=d.type,z=d.proxy;C.removeEventListener?C.removeEventListener(U,z,d.capture):C.detachEvent?C.detachEvent(Ge(U),z):C.addListener&&C.removeListener&&C.removeListener(z),(U=At(C))?(ge(U,d),U.h==0&&(U.src=null,C[Le]=null)):q(d)}}}function Ge(d){return d in _e?_e[d]:_e[d]="on"+d}function We(d,C){if(d.da)d=!0;else{C=new Z(C,this);var U=d.listener,z=d.ha||d.src;d.fa&&Qe(d),d=U.call(z,C)}return d}function At(d){return d=d[Le],d instanceof ae?d:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(d){return typeof d=="function"?d:(d[vt]||(d[vt]=function(C){return d.handleEvent(C)}),d[vt])}function ft(){Q.call(this),this.i=new ae(this),this.M=this,this.F=null}b(ft,Q),ft.prototype[ee]=!0,ft.prototype.removeEventListener=function(d,C,U,z){be(this,d,C,U,z)};function yt(d,C){var U,z=d.F;if(z)for(U=[];z;z=z.F)U.push(z);if(d=d.M,z=C.type||C,typeof C=="string")C=new O(C,d);else if(C instanceof O)C.target=C.target||d;else{var we=C;C=new O(z,d),P(C,we)}if(we=!0,U)for(var Ie=U.length-1;0<=Ie;Ie--){var Ke=C.g=U[Ie];we=Rt(Ke,z,!0,C)&&we}if(Ke=C.g=d,we=Rt(Ke,z,!0,C)&&we,we=Rt(Ke,z,!1,C)&&we,U)for(Ie=0;Ie<U.length;Ie++)Ke=C.g=U[Ie],we=Rt(Ke,z,!1,C)&&we}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var d=this.i,C;for(C in d.g){for(var U=d.g[C],z=0;z<U.length;z++)q(U[z]);delete d.g[C],d.h--}}this.F=null},ft.prototype.K=function(d,C,U,z){return this.i.add(String(d),C,!1,U,z)},ft.prototype.L=function(d,C,U,z){return this.i.add(String(d),C,!0,U,z)};function Rt(d,C,U,z){if(C=d.i.g[String(C)],!C)return!0;C=C.concat();for(var we=!0,Ie=0;Ie<C.length;++Ie){var Ke=C[Ie];if(Ke&&!Ke.da&&Ke.capture==U){var Ft=Ke.listener,Ht=Ke.ha||Ke.src;Ke.fa&&ge(d.i,Ke),we=Ft.call(Ht,z)!==!1&&we}}return we&&!z.defaultPrevented}function gt(d,C,U){if(typeof d=="function")U&&(d=p(d,U));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:o.setTimeout(d,C||0)}function Fe(d){d.g=gt(()=>{d.g=null,d.i&&(d.i=!1,Fe(d))},d.l);const C=d.h;d.h=null,d.m.apply(null,C)}class je extends Q{constructor(C,U){super(),this.m=C,this.l=U,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Fe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(d){Q.call(this),this.h=d,this.g={}}b(Je,Q);var ht=[];function Mr(d){$(d.g,function(C,U){this.g.hasOwnProperty(U)&&Qe(C)},d),d.g={}}Je.prototype.N=function(){Je.aa.N.call(this),Mr(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=o.JSON.stringify,zt=o.JSON.parse,Ue=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function $e(){}$e.prototype.h=null;function st(d){return d.h||(d.h=d.i())}function et(){}var rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mt(){O.call(this,"d")}b(mt,O);function pt(){O.call(this,"c")}b(pt,O);var at={},Bt=null;function mr(){return Bt=Bt||new ft}at.La="serverreachability";function lr(d){O.call(this,at.La,d)}b(lr,O);function Ir(d){const C=mr();yt(C,new lr(C))}at.STAT_EVENT="statevent";function mn(d,C){O.call(this,at.STAT_EVENT,d),this.stat=C}b(mn,O);function ot(d){const C=mr();yt(C,new mn(C,d))}at.Ma="timingevent";function ms(d,C){O.call(this,at.Ma,d),this.size=C}b(ms,O);function Pn(d,C){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},C)}function tn(){this.g=!0}tn.prototype.xa=function(){this.g=!1};function Vr(d,C,U,z,we,Ie){d.info(function(){if(d.g)if(Ie)for(var Ke="",Ft=Ie.split("&"),Ht=0;Ht<Ft.length;Ht++){var kt=Ft[Ht].split("=");if(1<kt.length){var tr=kt[0];kt=kt[1];var dr=tr.split("_");Ke=2<=dr.length&&dr[1]=="type"?Ke+(tr+"="+kt+"&"):Ke+(tr+"=redacted&")}}else Ke=null;else Ke=Ie;return"XMLHTTP REQ ("+z+") [attempt "+we+"]: "+C+`
`+U+`
`+Ke})}function jr(d,C,U,z,we,Ie,Ke){d.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+we+"]: "+C+`
`+U+`
`+Ie+" "+Ke})}function rn(d,C,U,z){d.info(function(){return"XMLHTTP TEXT ("+C+"): "+pi(d,U)+(z?" "+z:"")})}function pa(d,C){d.info(function(){return"TIMEOUT: "+C})}tn.prototype.info=function(){};function pi(d,C){if(!d.g)return C;if(!C)return null;try{var U=JSON.parse(C);if(U){for(d=0;d<U.length;d++)if(Array.isArray(U[d])){var z=U[d];if(!(2>z.length)){var we=z[1];if(Array.isArray(we)&&!(1>we.length)){var Ie=we[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var Ke=1;Ke<we.length;Ke++)we[Ke]=""}}}}return Dt(U)}catch{return C}}var Dn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ps={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ss;function is(){}b(is,$e),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},ss=new is;function Kr(d,C,U,z){this.j=d,this.i=C,this.l=U,this.R=z||1,this.U=new Je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}var Gi={},qi={};function $i(d,C,U){d.L=1,d.v=FA(As(C)),d.m=U,d.P=!0,EA(d,null)}function EA(d,C){d.F=Date.now(),ga(d),d.A=As(d.v);var U=d.A,z=d.R;Array.isArray(z)||(z=[String(z)]),_t(U.i,"t",z),d.C=0,U=d.j.J,d.h=new ks,d.g=D(d.j,U?C:null,!d.m),0<d.O&&(d.M=new je(p(d.Y,d,d.g),d.O)),C=d.U,U=d.g,z=d.ca;var we="readystatechange";Array.isArray(we)||(we&&(ht[0]=we.toString()),we=ht);for(var Ie=0;Ie<we.length;Ie++){var Ke=ne(U,we[Ie],z||C.handleEvent,!1,C.h||C);if(!Ke)break;C.g[Ke.key]=Ke}C=d.H?B(d.H):{},d.m?(d.u||(d.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,C)):(d.u="GET",d.g.ea(d.A,d.u,null,C)),Ir(),Vr(d.i,d.u,d.A,d.l,d.R,d.m)}Kr.prototype.ca=function(d){d=d.target;const C=this.M;C&&cn(d)==3?C.j():this.Y(d)},Kr.prototype.Y=function(d){try{if(d==this.g)e:{const dr=cn(this.g);var C=this.g.Ba();const Ci=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||dr!=4||C==7||(C==8||0>=Ci?Ir(3):Ir(2)),Wi(this);var U=this.g.Z();this.X=U;t:if(_A(this)){var z=lc(this.g);d="";var we=z.length,Ie=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Yi(this);var Ke="";break t}this.h.i=new o.TextDecoder}for(C=0;C<we;C++)this.h.h=!0,d+=this.h.i.decode(z[C],{stream:!(Ie&&C==we-1)});z.length=0,this.h.g+=d,this.C=0,Ke=this.h.g}else Ke=this.g.oa();if(this.o=U==200,jr(this.i,this.u,this.A,this.l,this.R,dr,U),this.o){if(this.T&&!this.K){t:{if(this.g){var Ft,Ht=this.g;if((Ft=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ft)){var kt=Ft;break t}}kt=null}if(U=kt)rn(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,NA(this,U);else{this.o=!1,this.s=3,ot(12),gi(this),Yi(this);break e}}if(this.P){U=!0;let En;for(;!this.J&&this.C<Ke.length;)if(En=ec(this,Ke),En==qi){dr==4&&(this.s=4,ot(14),U=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Gi){this.s=4,ot(15),rn(this.i,this.l,Ke,"[Invalid Chunk]"),U=!1;break}else rn(this.i,this.l,En,null),NA(this,En);if(_A(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||Ke.length!=0||this.h.h||(this.s=1,ot(16),U=!1),this.o=this.o&&U,!U)rn(this.i,this.l,Ke,"[Invalid Chunked Response]"),gi(this),Yi(this);else if(0<Ke.length&&!this.W){this.W=!0;var tr=this.j;tr.g==this&&tr.ba&&!tr.M&&(tr.j.info("Great, no buffering proxy detected. Bytes received: "+Ke.length),ka(tr),tr.M=!0,ot(11))}}else rn(this.i,this.l,Ke,null),NA(this,Ke);dr==4&&gi(this),this.o&&!this.J&&(dr==4?tA(this.j,this):(this.o=!1,ga(this)))}else Zi(this.g),U==400&&0<Ke.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),gi(this),Yi(this)}}}catch{}finally{}};function _A(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ec(d,C){var U=d.C,z=C.indexOf(`
`,U);return z==-1?qi:(U=Number(C.substring(U,z)),isNaN(U)?Gi:(z+=1,z+U>C.length?qi:(C=C.slice(z,z+U),d.C=z+U,C)))}Kr.prototype.cancel=function(){this.J=!0,gi(this)};function ga(d){d.S=Date.now()+d.I,tc(d,d.I)}function tc(d,C){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Pn(p(d.ba,d),C)}function Wi(d){d.B&&(o.clearTimeout(d.B),d.B=null)}Kr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(pa(this.i,this.A),this.L!=2&&(Ir(),ot(17)),gi(this),this.s=2,Yi(this)):tc(this,this.S-d)};function Yi(d){d.j.G==0||d.J||tA(d.j,d)}function gi(d){Wi(d);var C=d.M;C&&typeof C.ma=="function"&&C.ma(),d.M=null,Mr(d.U),d.g&&(C=d.g,d.g=null,C.abort(),C.ma())}function NA(d,C){try{var U=d.j;if(U.G!=0&&(U.g==d||Jo(U.h,d))){if(!d.K&&Jo(U.h,d)&&U.G==3){try{var z=U.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var we=z;if(we[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<d.F)bi(U),Na(U);else break e;jA(U),ot(18)}}else U.za=we[1],0<U.za-U.T&&37500>we[2]&&U.F&&U.v==0&&!U.C&&(U.C=Pn(p(U.Za,U),6e3));if(1>=SA(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else Rn(U,11)}else if((d.K||U.g==d)&&bi(U),!y(C))for(we=U.Da.g.parse(C),C=0;C<we.length;C++){let kt=we[C];if(U.T=kt[0],kt=kt[1],U.G==2)if(kt[0]=="c"){U.K=kt[1],U.ia=kt[2];const tr=kt[3];tr!=null&&(U.la=tr,U.j.info("VER="+U.la));const dr=kt[4];dr!=null&&(U.Aa=dr,U.j.info("SVER="+U.Aa));const Ci=kt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(z=1.5*Ci,U.L=z,U.j.info("backChannelRequestTimeoutMs_="+z)),z=U;const En=d.g;if(En){const rA=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rA){var Ie=z.h;Ie.g||rA.indexOf("spdy")==-1&&rA.indexOf("quic")==-1&&rA.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(xr(Ie,Ie.h),Ie.h=null))}if(z.D){const nA=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;nA&&(z.ya=nA,nr(z.I,z.D,nA))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-d.F,U.j.info("Handshake RTT: "+U.R+"ms")),z=U;var Ke=d;if(z.qa=v(z,z.J?z.ia:null,z.W),Ke.K){Zo(z.h,Ke);var Ft=Ke,Ht=z.L;Ht&&(Ft.I=Ht),Ft.B&&(Wi(Ft),ga(Ft)),z.g=Ke}else Fa(z);0<U.i.length&&Sa(U)}else kt[0]!="stop"&&kt[0]!="close"||Rn(U,7);else U.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Rn(U,7):Bi(U):kt[0]!="noop"&&U.l&&U.l.ta(kt),U.v=0)}}Ir(4)}catch{}}var Yu=class{constructor(d,C){this.g=d,this.map=C}};function Xo(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function SA(d){return d.h?1:d.g?d.g.size:0}function Jo(d,C){return d.h?d.h==C:d.g?d.g.has(C):!1}function xr(d,C){d.g?d.g.add(C):d.h=C}function Zo(d,C){d.h&&d.h==C?d.h=null:d.g&&d.g.has(C)&&d.g.delete(C)}Xo.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function el(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let C=d.i;for(const U of d.g.values())C=C.concat(U.D);return C}return E(d.i)}function nc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var C=[],U=d.length,z=0;z<U;z++)C.push(d[z]);return C}C=[],U=0;for(z in d)C[U++]=d[z];return C}function tl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var C=[];d=d.length;for(var U=0;U<d;U++)C.push(U);return C}C=[],U=0;for(const z in d)C[U++]=z;return C}}}function sc(d,C){if(d.forEach&&typeof d.forEach=="function")d.forEach(C,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,C,void 0);else for(var U=tl(d),z=nc(d),we=z.length,Ie=0;Ie<we;Ie++)C.call(void 0,z[Ie],U&&U[Ie],d)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(d,C){if(d){d=d.split("&");for(var U=0;U<d.length;U++){var z=d[U].indexOf("="),we=null;if(0<=z){var Ie=d[U].substring(0,z);we=d[U].substring(z+1)}else Ie=d[U];C(Ie,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function Lr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Lr){this.h=d.h,IA(this,d.j),this.o=d.o,this.g=d.g,ya(this,d.s),this.l=d.l;var C=d.i,U=new Xi;U.i=C.i,C.g&&(U.g=new Map(C.g),U.h=C.h),rl(this,U),this.m=d.m}else d&&(C=String(d).match(gs))?(this.h=!1,IA(this,C[1]||"",!0),this.o=kA(C[2]||""),this.g=kA(C[3]||"",!0),ya(this,C[4]),this.l=kA(C[5]||"",!0),rl(this,C[6]||"",!0),this.m=kA(C[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}Lr.prototype.toString=function(){var d=[],C=this.j;C&&d.push(vi(C,ic,!0),":");var U=this.g;return(U||C=="file")&&(d.push("//"),(C=this.o)&&d.push(vi(C,ic,!0),"@"),d.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&d.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&d.push("/"),d.push(vi(U,U.charAt(0)=="/"?yi:Ju,!0))),(U=this.i.toString())&&d.push("?",U),(U=this.m)&&d.push("#",vi(U,xa)),d.join("")};function As(d){return new Lr(d)}function IA(d,C,U){d.j=U?kA(C,!0):C,d.j&&(d.j=d.j.replace(/:$/,""))}function ya(d,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);d.s=C}else d.s=null}function rl(d,C,U){C instanceof Xi?(d.i=C,Zu(d.i,d.h)):(U||(C=vi(C,wa)),d.i=new Xi(C,d.h))}function nr(d,C,U){d.i.set(C,U)}function FA(d){return nr(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function kA(d,C){return d?C?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vi(d,C,U){return typeof d=="string"?(d=encodeURI(d).replace(C,Xu),U&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Xu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ic=/[#\/\?@]/g,Ju=/[#\?:]/g,yi=/[#\?]/g,wa=/[#\?@]/g,xa=/#/g;function Xi(d,C){this.h=this.g=null,this.i=d||null,this.j=!!C}function Br(d){d.g||(d.g=new Map,d.h=0,d.i&&va(d.i,function(C,U){d.add(decodeURIComponent(C.replace(/\+/g," ")),U)}))}t=Xi.prototype,t.add=function(d,C){Br(this),this.i=null,d=Ji(this,d);var U=this.g.get(d);return U||this.g.set(d,U=[]),U.push(C),this.h+=1,this};function Ac(d,C){Br(d),C=Ji(d,C),d.g.has(C)&&(d.i=null,d.h-=d.g.get(C).length,d.g.delete(C))}function nl(d,C){return Br(d),C=Ji(d,C),d.g.has(C)}t.forEach=function(d,C){Br(this),this.g.forEach(function(U,z){U.forEach(function(we){d.call(C,we,z,this)},this)},this)},t.na=function(){Br(this);const d=Array.from(this.g.values()),C=Array.from(this.g.keys()),U=[];for(let z=0;z<C.length;z++){const we=d[z];for(let Ie=0;Ie<we.length;Ie++)U.push(C[z])}return U},t.V=function(d){Br(this);let C=[];if(typeof d=="string")nl(this,d)&&(C=C.concat(this.g.get(Ji(this,d))));else{d=Array.from(this.g.values());for(let U=0;U<d.length;U++)C=C.concat(d[U])}return C},t.set=function(d,C){return Br(this),this.i=null,d=Ji(this,d),nl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[C]),this.h+=1,this},t.get=function(d,C){return d?(d=this.V(d),0<d.length?String(d[0]):C):C};function _t(d,C,U){Ac(d,C),0<U.length&&(d.i=null,d.g.set(Ji(d,C),E(U)),d.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],C=Array.from(this.g.keys());for(var U=0;U<C.length;U++){var z=C[U];const Ie=encodeURIComponent(String(z)),Ke=this.V(z);for(z=0;z<Ke.length;z++){var we=Ie;Ke[z]!==""&&(we+="="+encodeURIComponent(String(Ke[z]))),d.push(we)}}return this.i=d.join("&")};function Ji(d,C){return C=String(C),d.j&&(C=C.toLowerCase()),C}function Zu(d,C){C&&!d.j&&(Br(d),d.i=null,d.g.forEach(function(U,z){var we=z.toLowerCase();z!=we&&(Ac(this,z),_t(this,we,U))},d)),d.j=C}function $s(d,C){const U=new tn;if(o.Image){const z=new Image;z.onload=g(Ts,U,"TestLoadImage: loaded",!0,C,z),z.onerror=g(Ts,U,"TestLoadImage: error",!1,C,z),z.onabort=g(Ts,U,"TestLoadImage: abort",!1,C,z),z.ontimeout=g(Ts,U,"TestLoadImage: timeout",!1,C,z),o.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=d}else C(!1)}function ac(d,C){const U=new tn,z=new AbortController,we=setTimeout(()=>{z.abort(),Ts(U,"TestPingServer: timeout",!1,C)},1e4);fetch(d,{signal:z.signal}).then(Ie=>{clearTimeout(we),Ie.ok?Ts(U,"TestPingServer: ok",!0,C):Ts(U,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(we),Ts(U,"TestPingServer: error",!1,C)})}function Ts(d,C,U,z,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),z(U)}catch{}}function Ba(){this.g=new Ue}function sl(d,C,U){const z=U||"";try{sc(d,function(we,Ie){let Ke=we;c(we)&&(Ke=Dt(we)),C.push(z+Ie+"="+encodeURIComponent(Ke))})}catch(we){throw C.push(z+"type="+encodeURIComponent("_badmap")),we}}function ba(d){this.l=d.Ub||null,this.j=d.eb||!1}b(ba,$e),ba.prototype.g=function(){return new Ca(this.l,this.j)},ba.prototype.i=function(d){return function(){return d}}({});function Ca(d,C){ft.call(this),this.D=d,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ca,ft),t=Ca.prototype,t.open=function(d,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=C,this.readyState=1,Us(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(C.body=d),(this.D||o).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function oc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var C=d.value?d.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!d.done}))&&(this.response=this.responseText+=C)}d.done?wi(this):Us(this),this.readyState==3&&oc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wi(this))},t.Qa=function(d){this.g&&(this.response=d,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Us(d)}t.setRequestHeader=function(d,C){this.u.append(d,C)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],C=this.h.entries();for(var U=C.next();!U.done;)U=U.value,d.push(U[0]+": "+U[1]),U=C.next();return d.join(`\r
`)};function Us(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xi(d){let C="";return $(d,function(U,z){C+=z,C+=":",C+=U,C+=`\r
`}),C}function il(d,C,U){e:{for(z in U){var z=!1;break e}z=!0}z||(U=xi(U),typeof d=="string"?U!=null&&encodeURIComponent(String(U)):nr(d,C,U))}function er(d){ft.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(er,ft);var Al=/^https?$/i,Ea=["POST","PUT"];t=er.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,C,U,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);C=C?C.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ss.g(),this.v=this.o?st(this.o):st(ss),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(d),!0),this.B=!1}catch(Ie){al(this,Ie);return}if(d=U||"",U=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var we in z)U.set(we,z[we]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const Ie of z.keys())U.set(Ie,z.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(U.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),we=o.FormData&&d instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ea,C,void 0))||z||we||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Ke]of U)this.g.setRequestHeader(Ie,Ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(d),this.u=!1}catch(Ie){al(this,Ie)}};function al(d,C){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=C,d.m=5,ol(d),TA(d)}function ol(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,yt(this,"complete"),yt(this,"abort"),TA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),TA(this,!0)),er.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ll(this):this.bb())},t.bb=function(){ll(this)};function ll(d){if(d.h&&typeof A<"u"&&(!d.v[1]||cn(d)!=4||d.Z()!=2)){if(d.u&&cn(d)==4)gt(d.Ea,0,d);else if(yt(d,"readystatechange"),cn(d)==4){d.h=!1;try{const Ke=d.Z();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var U;if(!(U=C)){var z;if(z=Ke===0){var we=String(d.D).match(gs)[1]||null;!we&&o.self&&o.self.location&&(we=o.self.location.protocol.slice(0,-1)),z=!Al.test(we?we.toLowerCase():"")}U=z}if(U)yt(d,"complete"),yt(d,"success");else{d.m=6;try{var Ie=2<cn(d)?d.g.statusText:""}catch{Ie=""}d.l=Ie+" ["+d.Z()+"]",ol(d)}}finally{TA(d)}}}}function TA(d,C){if(d.g){Qs(d);const U=d.g,z=d.v[0]?()=>{}:null;d.g=null,d.v=null,C||yt(d,"ready");try{U.onreadystatechange=z}catch{}}}function Qs(d){d.I&&(o.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function cn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var C=this.g.responseText;return d&&C.indexOf(d)==0&&(C=C.substring(d.length)),zt(C)}};function lc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(d){const C={};d=(d.g&&2<=cn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<d.length;z++){if(y(d[z]))continue;var U=S(d[z]);const we=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Ie=C[we]||[];C[we]=Ie,Ie.push(U)}F(C,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cn(d,C,U){return U&&U.internalChannelParams&&U.internalChannelParams[d]||C}function _a(d){this.Aa=0,this.i=[],this.j=new tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cn("baseRetryDelayMs",5e3,d),this.cb=Cn("retryDelaySeedMs",1e4,d),this.Wa=Cn("forwardChannelMaxRetries",2,d),this.wa=Cn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xo(d&&d.concurrentRequestLimit),this.Da=new Ba,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_a.prototype,t.la=8,t.G=1,t.connect=function(d,C,U,z){ot(0),this.W=d,this.H=C||{},U&&z!==void 0&&(this.H.OSID=U,this.H.OAID=z),this.F=this.X,this.I=v(this,null,this.W),Sa(this)};function Bi(d){if(UA(d),d.G==3){var C=d.U++,U=As(d.I);if(nr(U,"SID",d.K),nr(U,"RID",C),nr(U,"TYPE","terminate"),eA(d,U),C=new Kr(d,d.j,C),C.L=2,C.v=FA(As(U)),U=!1,o.navigator&&o.navigator.sendBeacon)try{U=o.navigator.sendBeacon(C.v.toString(),"")}catch{}!U&&o.Image&&(new Image().src=C.v,U=!0),U||(C.g=D(C.j,null),C.g.ea(C.v)),C.F=Date.now(),ga(C)}Ua(d)}function Na(d){d.g&&(ka(d),d.g.cancel(),d.g=null)}function UA(d){Na(d),d.u&&(o.clearTimeout(d.u),d.u=null),bi(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&o.clearTimeout(d.s),d.s=null)}function Sa(d){if(!rc(d.h)&&!d.s){d.s=!0;var C=d.Ga;ve||X(),M||(ve(),M=!0),oe.add(C,d),d.B=0}}function cl(d,C){return SA(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=C.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Pn(p(d.Ga,d,C),Ta(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const we=new Kr(this,this.j,d);let Ie=this.o;if(this.S&&(Ie?(Ie=B(Ie),P(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(we.H=Ie,Ie=null),this.P)e:{for(var C=0,U=0;U<this.i.length;U++){t:{var z=this.i[U];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=U;break e}if(C===4096||U===this.i.length-1){C=U+1;break e}}C=1e3}else C=1e3;C=QA(this,we,C),U=As(this.I),nr(U,"RID",d),nr(U,"CVER",22),this.D&&nr(U,"X-HTTP-Session-Id",this.D),eA(this,U),Ie&&(this.O?C="headers="+encodeURIComponent(String(xi(Ie)))+"&"+C:this.m&&il(U,this.m,Ie)),xr(this.h,we),this.Ua&&nr(U,"TYPE","init"),this.P?(nr(U,"$req",C),nr(U,"SID","null"),we.T=!0,$i(we,U,null)):$i(we,U,C),this.G=2}}else this.G==3&&(d?Ia(this,d):this.i.length==0||rc(this.h)||Ia(this))};function Ia(d,C){var U;C?U=C.l:U=d.U++;const z=As(d.I);nr(z,"SID",d.K),nr(z,"RID",U),nr(z,"AID",d.T),eA(d,z),d.m&&d.o&&il(z,d.m,d.o),U=new Kr(d,d.j,U,d.B+1),d.m===null&&(U.H=d.o),C&&(d.i=C.D.concat(d.i)),C=QA(d,U,1e3),U.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),xr(d.h,U),$i(U,z,C)}function eA(d,C){d.H&&$(d.H,function(U,z){nr(C,z,U)}),d.l&&sc({},function(U,z){nr(C,z,U)})}function QA(d,C,U){U=Math.min(d.i.length,U);var z=d.l?p(d.l.Na,d.l,d):null;e:{var we=d.i;let Ie=-1;for(;;){const Ke=["count="+U];Ie==-1?0<U?(Ie=we[0].g,Ke.push("ofs="+Ie)):Ie=0:Ke.push("ofs="+Ie);let Ft=!0;for(let Ht=0;Ht<U;Ht++){let kt=we[Ht].g;const tr=we[Ht].map;if(kt-=Ie,0>kt)Ie=Math.max(0,we[Ht].g-100),Ft=!1;else try{sl(tr,Ke,"req"+kt+"_")}catch{z&&z(tr)}}if(Ft){z=Ke.join("&");break e}}}return d=d.i.splice(0,U),C.D=d,z}function Fa(d){if(!d.g&&!d.u){d.Y=1;var C=d.Fa;ve||X(),M||(ve(),M=!0),oe.add(C,d),d.v=0}}function jA(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Pn(p(d.Fa,d),Ta(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Pn(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Na(this),cc(this))};function ka(d){d.A!=null&&(o.clearTimeout(d.A),d.A=null)}function cc(d){d.g=new Kr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var C=As(d.qa);nr(C,"RID","rpc"),nr(C,"SID",d.K),nr(C,"AID",d.T),nr(C,"CI",d.F?"0":"1"),!d.F&&d.ja&&nr(C,"TO",d.ja),nr(C,"TYPE","xmlhttp"),eA(d,C),d.m&&d.o&&il(C,d.m,d.o),d.L&&(d.g.I=d.L);var U=d.g;d=d.ia,U.L=1,U.v=FA(As(C)),U.m=null,U.P=!0,EA(U,d)}t.Za=function(){this.C!=null&&(this.C=null,Na(this),jA(this),ot(19))};function bi(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function tA(d,C){var U=null;if(d.g==C){bi(d),ka(d),d.g=null;var z=2}else if(Jo(d.h,C))U=C.D,Zo(d.h,C),z=1;else return;if(d.G!=0){if(C.o)if(z==1){U=C.m?C.m.length:0,C=Date.now()-C.F;var we=d.B;z=mr(),yt(z,new ms(z,U)),Sa(d)}else Fa(d);else if(we=C.s,we==3||we==0&&0<C.X||!(z==1&&cl(d,C)||z==2&&jA(d)))switch(U&&0<U.length&&(C=d.h,C.i=C.i.concat(U)),we){case 1:Rn(d,5);break;case 4:Rn(d,10);break;case 3:Rn(d,6);break;default:Rn(d,2)}}}function Ta(d,C){let U=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(U*=2),U*C}function Rn(d,C){if(d.j.info("Error code "+C),C==2){var U=p(d.fb,d),z=d.Xa;const we=!z;z=new Lr(z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||IA(z,"https"),FA(z),we?$s(z.toString(),U):ac(z.toString(),U)}else ot(2);d.G=0,d.l&&d.l.sa(C),Ua(d),UA(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ua(d){if(d.G=0,d.ka=[],d.l){const C=el(d.h);(C.length!=0||d.i.length!=0)&&(N(d.ka,C),N(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function v(d,C,U){var z=U instanceof Lr?As(U):new Lr(U);if(z.g!="")C&&(z.g=C+"."+z.g),ya(z,z.s);else{var we=o.location;z=we.protocol,C=C?C+"."+we.hostname:we.hostname,we=+we.port;var Ie=new Lr(null);z&&IA(Ie,z),C&&(Ie.g=C),we&&ya(Ie,we),U&&(Ie.l=U),z=Ie}return U=d.D,C=d.ya,U&&C&&nr(z,U,C),nr(z,"VER",d.la),eA(d,z),z}function D(d,C,U){if(C&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=d.Ca&&!d.pa?new er(new ba({eb:U})):new er(d.pa),C.Ha(d.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ie(){}t=ie.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function he(){}he.prototype.g=function(d,C){return new Be(d,C)};function Be(d,C){ft.call(this),this.g=new _a(C),this.l=d,this.h=C&&C.messageUrlParams||null,d=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(d?d["X-WebChannel-Content-Type"]=C.messageContentType:d={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(d?d["X-WebChannel-Client-Profile"]=C.va:d={"X-WebChannel-Client-Profile":C.va}),this.g.S=d,(d=C&&C.Sb)&&!y(d)&&(this.g.m=d),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!y(C)&&(this.g.D=C,d=this.h,d!==null&&C in d&&(d=this.h,C in d&&delete d[C])),this.j=new Xe(this)}b(Be,ft),Be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Be.prototype.close=function(){Bi(this.g)},Be.prototype.o=function(d){var C=this.g;if(typeof d=="string"){var U={};U.__data__=d,d=U}else this.u&&(U={},U.__data__=Dt(d),d=U);C.i.push(new Yu(C.Ya++,d)),C.G==3&&Sa(C)},Be.prototype.N=function(){this.g.l=null,delete this.j,Bi(this.g),delete this.g,Be.aa.N.call(this)};function Te(d){mt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var C=d.__sm__;if(C){e:{for(const U in C){d=U;break e}d=void 0}(this.i=d)&&(d=this.i,C=C!==null&&d in C?C[d]:void 0),this.data=C}else this.data=d}b(Te,mt);function Ve(){pt.call(this),this.status=1}b(Ve,pt);function Xe(d){this.g=d}b(Xe,ie),Xe.prototype.ua=function(){yt(this.g,"a")},Xe.prototype.ta=function(d){yt(this.g,new Te(d))},Xe.prototype.sa=function(d){yt(this.g,new Ve)},Xe.prototype.ra=function(){yt(this.g,"b")},he.prototype.createWebChannel=he.prototype.g,Be.prototype.send=Be.prototype.o,Be.prototype.open=Be.prototype.m,Be.prototype.close=Be.prototype.close,X_=function(){return new he},Y_=function(){return mr()},W_=at,Zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dn.NO_ERROR=0,Dn.TIMEOUT=8,Dn.HTTP_ERROR=6,Zm=Dn,ps.COMPLETE="complete",$_=ps,et.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",ft.prototype.listen=ft.prototype.K,jd=et,er.prototype.listenOnce=er.prototype.L,er.prototype.getLastError=er.prototype.Ka,er.prototype.getLastErrorCode=er.prototype.Ba,er.prototype.getStatus=er.prototype.Z,er.prototype.getResponseJson=er.prototype.Oa,er.prototype.getResponseText=er.prototype.oa,er.prototype.send=er.prototype.ea,er.prototype.setWithCredentials=er.prototype.Ha,q_=er}).apply(typeof rm<"u"?rm:typeof self<"u"?self:typeof window<"u"?window:{});const yb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Gw("@firebase/firestore");function Bd(){return Ml.logLevel}function dt(t,...e){if(Ml.logLevel<=Gt.DEBUG){const r=e.map(s2);Ml.debug(`Firestore (${Ku}): ${t}`,...r)}}function oa(t,...e){if(Ml.logLevel<=Gt.ERROR){const r=e.map(s2);Ml.error(`Firestore (${Ku}): ${t}`,...r)}}function Su(t,...e){if(Ml.logLevel<=Gt.WARN){const r=e.map(s2);Ml.warn(`Firestore (${Ku}): ${t}`,...r)}}function s2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: `+t;throw oa(e),new Error(e)}function or(t,e){t||It()}function Qt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ha{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r($n.UNAUTHENTICATED))}shutdown(){}}class d6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class h6{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){or(this.o===void 0);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fo,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fo)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(or(typeof n.accessToken=="string"),new J_(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return or(e===null||typeof e=="string"),new $n(e)}}class f6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class m6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new f6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){or(this.o===void 0);const n=i=>{i.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,dt("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(or(typeof r.token=="string"),this.R=r.token,new p6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=v6(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function Jt(t,e){return t<e?-1:t>e?1:0}function Iu(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ct(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ct(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ct(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new en(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new en(0,0))}static max(){return new Ut(new en(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,r,n){r===void 0?r=0:r>e.length&&It(),n===void 0?n=e.length-r:n>e.length-r&&It(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),A=r.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Cr extends Qh{construct(e,r,n){return new Cr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ct(He.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new Cr(r)}static emptyPath(){return new Cr([])}}const y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Qh{construct(e,r,n){return new kn(e,r,n)}static isValidIdentifier(e){return y6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new ct(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new ct(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ct(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else o==="`"?(A=!A,s++):o!=="."||A?(n+=o,s++):(i(),s++)}if(i(),A)throw new ct(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(r)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Cr.fromString(e))}static fromName(e){return new wt(Cr.fromString(e).popFirst(5))}static empty(){return new wt(Cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Cr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Cr(e.slice()))}}function w6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Ut.fromTimestamp(n===1e9?new en(r+1,0):new en(r,n));return new Po(s,wt.empty(),e)}function x6(t){return new Po(t.readTime,t.key,-1)}class Po{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Po(Ut.min(),wt.empty(),-1)}static max(){return new Po(Ut.max(),wt.empty(),-1)}}function B6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=wt.comparator(t.documentKey,e.documentKey),r!==0?r:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(t){if(t.code!==He.FAILED_PRECONDITION||t.message!==b6)throw t;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ze((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ze?r:ze.resolve(r)}catch(r){return ze.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.reject(r)}static resolve(e){return new ze((r,n)=>{r(e)})}static reject(e){return new ze((r,n)=>{n(e)})}static waitFor(e){return new ze((r,n)=>{let s=0,i=0,A=!1;e.forEach(o=>{++s,o.next(()=>{++i,A&&i===s&&r()},l=>n(l))}),A=!0,i===s&&r()})}static or(e){let r=ze.resolve(!1);for(const n of e)r=r.next(s=>s?ze.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new ze((n,s)=>{const i=e.length,A=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(e[c]).next(h=>{A[c]=h,++o,o===i&&n(A)},h=>s(h))}})}static doWhile(e,r){return new ze((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function E6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}i2.oe=-1;function Mg(t){return t==null}function Wp(t){return t===0&&1/t==-1/0}function _6(t){return typeof t=="number"&&Number.isInteger(t)&&!Wp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function zu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function eN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,r){this.comparator=e,this.root=r||Fn.EMPTY}insert(e,r){return new Qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??Fn.RED,this.left=s??Fn.EMPTY,this.right=i??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new Fn(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Fn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,r,n,s,i){return this}insert(e,r,n){return new Fn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new xb(this.data.getIterator())}getIteratorFrom(e){return new xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Qn(this.comparator);return r.data=e,r}}class xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new ji([])}unionWith(e){let r=new Qn(kn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ji(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Iu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tN("Invalid base64 string: "+i):i}}(e);return new Ln(r)}static fromUint8Array(e){const r=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new Ln(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const N6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(or(!!t),typeof t=="string"){let e=0;const r=N6.exec(t);if(or(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Wr(t.seconds),nanos:Wr(t.nanos)}}function Wr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vl(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function a2(t){const e=t.mapValue.fields.__previous_value__;return A2(e)?a2(e):e}function jh(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,r,n,s,i,A,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class Lh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A2(t)?4:F6(t)?9007199254740991:I6(t)?10:11:It()}function wA(t,e){if(t===e)return!0;const r=Kl(t);if(r!==Kl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jh(t).isEqual(jh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Do(s.timestampValue),o=Do(i.timestampValue);return A.seconds===o.seconds&&A.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Vl(s.bytesValue).isEqual(Vl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Wr(s.geoPointValue.latitude)===Wr(i.geoPointValue.latitude)&&Wr(s.geoPointValue.longitude)===Wr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Wr(s.integerValue)===Wr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=Wr(s.doubleValue),o=Wr(i.doubleValue);return A===o?Wp(A)===Wp(o):isNaN(A)&&isNaN(o)}return!1}(t,e);case 9:return Iu(t.arrayValue.values||[],e.arrayValue.values||[],wA);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},o=i.mapValue.fields||{};if(wb(A)!==wb(o))return!1;for(const l in A)if(A.hasOwnProperty(l)&&(o[l]===void 0||!wA(A[l],o[l])))return!1;return!0}(t,e);default:return It()}}function Ph(t,e){return(t.values||[]).find(r=>wA(r,e))!==void 0}function Fu(t,e){if(t===e)return 0;const r=Kl(t),n=Kl(e);if(r!==n)return Jt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return function(i,A){const o=Wr(i.integerValue||i.doubleValue),l=Wr(A.integerValue||A.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Bb(t.timestampValue,e.timestampValue);case 4:return Bb(jh(t),jh(e));case 5:return Jt(t.stringValue,e.stringValue);case 6:return function(i,A){const o=Vl(i),l=Vl(A);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const o=i.split("/"),l=A.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Jt(o[c],l[c]);if(h!==0)return h}return Jt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const o=Jt(Wr(i.latitude),Wr(A.latitude));return o!==0?o:Jt(Wr(i.longitude),Wr(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bb(t.arrayValue,e.arrayValue);case 10:return function(i,A){var o,l,c,h;const f=i.fields||{},p=A.fields||{},g=(o=f.value)===null||o===void 0?void 0:o.arrayValue,b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,E=Jt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:bb(g,b)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===sm.mapValue&&A===sm.mapValue)return 0;if(i===sm.mapValue)return 1;if(A===sm.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=A.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Jt(l[f],h[f]);if(p!==0)return p;const g=Fu(o[l[f]],c[h[f]]);if(g!==0)return g}return Jt(l.length,h.length)}(t.mapValue,e.mapValue);default:throw It()}}function Bb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const r=Do(t),n=Do(e),s=Jt(r.seconds,n.seconds);return s!==0?s:Jt(r.nanos,n.nanos)}function bb(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Fu(r[s],n[s]);if(i)return i}return Jt(r.length,n.length)}function ku(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Do(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Vl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return wt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=ey(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const A of n)i?i=!1:s+=",",s+=`${A}:${ey(r.fields[A])}`;return s+"}"}(t.mapValue):It()}function Cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function o2(t){return!!t&&"arrayValue"in t}function Eb(t){return!!t&&"nullValue"in t}function _b(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ep(t){return!!t&&"mapValue"in t}function I6(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function rh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=rh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rh(t.arrayValue.values[r]);return e}return Object.assign({},t)}function F6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ep(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(r)}setAll(e){let r=kn.emptyPath(),n={},s=[];e.forEach((A,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=o.popLast()}A?n[o.lastSegment()]=rh(A):s.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());ep(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return wA(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];ep(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){zu(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new Ai(rh(this.value))}}function rN(t){const e=[];return zu(t.fields,(r,n)=>{const s=new kn([r]);if(ep(n)){const i=rN(n.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,r,n,s,i,A,o){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=A,this.documentState=o}static newInvalidDocument(e){return new Xn(e,0,Ut.min(),Ut.min(),Ut.min(),Ai.empty(),0)}static newFoundDocument(e,r,n,s){return new Xn(e,1,r,Ut.min(),n,s,0)}static newNoDocument(e,r){return new Xn(e,2,r,Ut.min(),Ut.min(),Ai.empty(),0)}static newUnknownDocument(e,r){return new Xn(e,3,r,Ut.min(),Ut.min(),Ai.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,r){this.position=e,this.inclusive=r}}function Nb(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?n=wt.comparator(wt.fromName(A.referenceValue),r.key):n=Fu(A,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Sb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!wA(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,r="asc"){this.field=e,this.dir=r}}function k6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nN=class{};class ln extends nN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new U6(e,r,n):r==="array-contains"?new L6(e,n):r==="in"?new P6(e,n):r==="not-in"?new D6(e,n):r==="array-contains-any"?new R6(e,n):new ln(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Q6(e,n):new j6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Fu(r,this.value)):r!==null&&Kl(this.value)===Kl(r)&&this.matchesComparison(Fu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends nN{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Hi(e,r)}matches(e){return sN(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sN(t){return t.op==="and"}function iN(t){return T6(t)&&sN(t)}function T6(t){for(const e of t.filters)if(e instanceof Hi)return!1;return!0}function ry(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+ku(t.value);if(iN(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(r=>ry(r)).join(",");return`${t.op}(${e})`}}function AN(t,e){return t instanceof ln?function(n,s){return s instanceof ln&&n.op===s.op&&n.field.isEqual(s.field)&&wA(n.value,s.value)}(t,e):t instanceof Hi?function(n,s){return s instanceof Hi&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,A,o)=>i&&AN(A,s.filters[o]),!0):!1}(t,e):void It()}function aN(t){return t instanceof ln?function(r){return`${r.field.canonicalString()} ${r.op} ${ku(r.value)}`}(t):t instanceof Hi?function(r){return r.op.toString()+" {"+r.getFilters().map(aN).join(" ,")+"}"}(t):"Filter"}class U6 extends ln{constructor(e,r,n){super(e,r,n),this.key=wt.fromName(n.referenceValue)}matches(e){const r=wt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Q6 extends ln{constructor(e,r){super(e,"in",r),this.keys=oN("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class j6 extends ln{constructor(e,r){super(e,"not-in",r),this.keys=oN("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function oN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>wt.fromName(n.referenceValue))}class L6 extends ln{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return o2(r)&&Ph(r.arrayValue,this.value)}}class P6 extends ln{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ph(this.value.arrayValue,r)}}class D6 extends ln{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ph(this.value.arrayValue,r)}}class R6 extends ln{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!o2(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ph(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,r=null,n=[],s=[],i=null,A=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=A,this.endAt=o,this.ue=null}}function Ib(t,e=null,r=[],n=[],s=null,i=null,A=null){return new O6(t,e,r,n,s,i,A)}function l2(t){const e=Qt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ry(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Mg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ku(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ku(n)).join(",")),e.ue=r}return e.ue}function c2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!k6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!AN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sb(t.startAt,e.startAt)&&Sb(t.endAt,e.endAt)}function ny(t){return wt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,r=null,n=[],s=[],i=null,A="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=A,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function H6(t,e,r,n,s,i,A,o){return new Gu(t,e,r,n,s,i,A,o)}function u2(t){return new Gu(t)}function Fb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lN(t){return t.collectionGroup!==null}function nh(t){const e=Qt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let o=new Qn(kn.comparator);return A.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dh(i,n))}),r.has(kn.keyField().canonicalString())||e.ce.push(new Dh(kn.keyField(),n))}return e.ce}function pA(t){const e=Qt(t);return e.le||(e.le=M6(e,nh(t))),e.le}function M6(t,e){if(t.limitType==="F")return Ib(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dh(s.field,i)});const r=t.endAt?new Yp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Yp(t.startAt.position,t.startAt.inclusive):null;return Ib(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function sy(t,e){const r=t.filters.concat([e]);return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function iy(t,e,r){return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Vg(t,e){return c2(pA(t),pA(e))&&t.limitType===e.limitType}function cN(t){return`${l2(pA(t))}|lt:${t.limitType}`}function Qc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>aN(s)).join(", ")}]`),Mg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>ku(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>ku(s)).join(",")),`Target(${n})`}(pA(t))}; limitType=${t.limitType})`}function Kg(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):wt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of nh(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(A,o,l){const c=Nb(A,o,l);return A.inclusive?c<=0:c<0}(n.startAt,nh(n),s)||n.endAt&&!function(A,o,l){const c=Nb(A,o,l);return A.inclusive?c>=0:c>0}(n.endAt,nh(n),s))}(t,e)}function V6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uN(t){return(e,r)=>{let n=!1;for(const s of nh(t)){const i=K6(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function K6(t,e,r){const n=t.field.isKeyField()?wt.comparator(e.key,r.key):function(i,A,o){const l=A.data.field(i),c=o.data.field(i);return l!==null&&c!==null?Fu(l,c):It()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zu(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return eN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new Qr(wt.comparator);function la(){return z6}const dN=new Qr(wt.comparator);function Ld(...t){let e=dN;for(const r of t)e=e.insert(r.key,r);return e}function hN(t){let e=dN;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Nl(){return sh()}function fN(){return sh()}function sh(){return new qu(t=>t.toString(),(t,e)=>t.isEqual(e))}const G6=new Qr(wt.comparator),q6=new Qn(wt.comparator);function Kt(...t){let e=q6;for(const r of t)e=e.add(r);return e}const $6=new Qn(Jt);function W6(){return $6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(e)?"-0":e}}function mN(t){return{integerValue:""+t}}function Y6(t,e){return _6(e)?mN(e):d2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this._=void 0}}function X6(t,e,r){return t instanceof Xp?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&A2(i)&&(i=a2(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(r,e):t instanceof Rh?gN(t,e):t instanceof Oh?vN(t,e):function(s,i){const A=pN(s,i),o=kb(A)+kb(s.Pe);return ty(A)&&ty(s.Pe)?mN(o):d2(s.serializer,o)}(t,e)}function J6(t,e,r){return t instanceof Rh?gN(t,e):t instanceof Oh?vN(t,e):r}function pN(t,e){return t instanceof Jp?function(n){return ty(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Xp extends zg{}class Rh extends zg{constructor(e){super(),this.elements=e}}function gN(t,e){const r=yN(e);for(const n of t.elements)r.some(s=>wA(s,n))||r.push(n);return{arrayValue:{values:r}}}class Oh extends zg{constructor(e){super(),this.elements=e}}function vN(t,e){let r=yN(e);for(const n of t.elements)r=r.filter(s=>!wA(s,n));return{arrayValue:{values:r}}}class Jp extends zg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function kb(t){return Wr(t.integerValue||t.doubleValue)}function yN(t){return o2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z6(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Rh&&s instanceof Rh||n instanceof Oh&&s instanceof Oh?Iu(n.elements,s.elements,wA):n instanceof Jp&&s instanceof Jp?wA(n.Pe,s.Pe):n instanceof Xp&&s instanceof Xp}(t.transform,e.transform)}class eP{constructor(e,r){this.version=e,this.transformResults=r}}class Di{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function wN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h2(t.key,Di.none()):new of(t.key,t.data,Di.none());{const r=t.data,n=Ai.empty();let s=new Qn(kn.comparator);for(let i of e.fields)if(!s.has(i)){let A=r.field(i);A===null&&i.length>1&&(i=i.popLast(),A=r.field(i)),A===null?n.delete(i):n.set(i,A),s=s.add(i)}return new Xl(t.key,n,new ji(s.toArray()),Di.none())}}function tP(t,e,r){t instanceof of?function(s,i,A){const o=s.value.clone(),l=Ub(s.fieldTransforms,i,A.transformResults);o.setAll(l),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Xl?function(s,i,A){if(!tp(s.precondition,i))return void i.convertToUnknownDocument(A.version);const o=Ub(s.fieldTransforms,i,A.transformResults),l=i.data;l.setAll(xN(s)),l.setAll(o),i.convertToFoundDocument(A.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,r)}function ih(t,e,r,n){return t instanceof of?function(i,A,o,l){if(!tp(i.precondition,A))return o;const c=i.value.clone(),h=Qb(i.fieldTransforms,l,A);return c.setAll(h),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Xl?function(i,A,o,l){if(!tp(i.precondition,A))return o;const c=Qb(i.fieldTransforms,l,A),h=A.data;return h.setAll(xN(i)),h.setAll(c),A.convertToFoundDocument(A.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,A,o){return tp(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):o}(t,e,r)}function rP(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=pN(n.transform,s||null);i!=null&&(r===null&&(r=Ai.empty()),r.set(n.field,i))}return r||null}function Tb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Iu(n,s,(i,A)=>Z6(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class of extends Gg{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xl extends Gg{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xN(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Ub(t,e,r){const n=new Map;or(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],A=i.transform,o=e.data.field(i.field);n.set(i.field,J6(A,o,r[s]))}return n}function Qb(t,e,r){const n=new Map;for(const s of t){const i=s.transform,A=r.data.field(s.field);n.set(s.field,X6(i,A,e))}return n}class h2 extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nP extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tP(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ih(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ih(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=fN();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let o=this.applyToLocalView(A,i.mutatedFields);o=r.has(s.key)?null:o;const l=wN(A,o);l!==null&&n.set(s.key,l),A.isValidDocument()||A.convertToNoDocument(Ut.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Iu(this.mutations,e.mutations,(r,n)=>Tb(r,n))&&Iu(this.baseMutations,e.baseMutations,(r,n)=>Tb(r,n))}}class f2{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){or(e.mutations.length===n.length);let s=function(){return G6}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,n[A].version);return new f2(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,qt;function aP(t){switch(t){default:return It();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0}}function BN(t){if(t===void 0)return oa("GRPC error has no .code"),He.UNKNOWN;switch(t){case An.OK:return He.OK;case An.CANCELLED:return He.CANCELLED;case An.UNKNOWN:return He.UNKNOWN;case An.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case An.INTERNAL:return He.INTERNAL;case An.UNAVAILABLE:return He.UNAVAILABLE;case An.UNAUTHENTICATED:return He.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case An.NOT_FOUND:return He.NOT_FOUND;case An.ALREADY_EXISTS:return He.ALREADY_EXISTS;case An.PERMISSION_DENIED:return He.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case An.ABORTED:return He.ABORTED;case An.OUT_OF_RANGE:return He.OUT_OF_RANGE;case An.UNIMPLEMENTED:return He.UNIMPLEMENTED;case An.DATA_LOSS:return He.DATA_LOSS;default:return It()}}(qt=An||(An={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new kl([4294967295,4294967295],0);function jb(t){const e=oP().encode(t),r=new G_;return r.update(e),new Uint8Array(r.digest())}function Lb(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new kl([r,n],0),new kl([s,i],0)]}class m2{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Pd(`Invalid padding: ${r}`);if(n<0)throw new Pd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Pd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Pd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=kl.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(kl.fromNumber(n)));return s.compare(lP)===1&&(s=new kl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=jb(e),[n,s]=Lb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);if(!this.de(A))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new m2(i,s,r);return n.forEach(o=>A.insert(o)),A}insert(e){if(this.Ie===0)return;const r=jb(e),[n,s]=Lb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new qg(Ut.min(),s,new Qr(Jt),la(),Kt())}}class lf{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new lf(n,r,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class bN{constructor(e,r){this.targetId=e,this.me=r}}class CN{constructor(e,r,n=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class Pb{constructor(){this.fe=0,this.ge=Rb(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Kt(),r=Kt(),n=Kt();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:It()}}),new lf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Rb()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,or(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cP{constructor(e){this.Le=e,this.Be=new Map,this.ke=la(),this.qe=Db(),this.Qe=new Qr(Jt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:It()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(ny(i))if(n===0){const A=new wt(i.path);this.Ue(r,A,Xn.newNoDocument(A,Ut.min()))}else or(n===1);else{const A=this.Ye(r);if(A!==n){const o=this.Ze(e),l=o?this.Xe(o,e,A):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let A,o;try{A=Vl(n).toUint8Array()}catch(l){if(l instanceof tN)return Su("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new m2(A,s,i)}catch(l){return Su(l instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const A=this.Le.tt(),o=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,A)=>{const o=this.Je(A);if(o){if(i.current&&ny(o.target)){const l=new wt(o.target.path);this.ke.get(l)!==null||this.it(A,l)||this.Ue(A,l,Xn.newNoDocument(l,e))}i.be&&(r.set(A,i.ve()),i.Ce())}});let n=Kt();this.qe.forEach((i,A)=>{let o=!0;A.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new qg(e,r,this.Qe,this.ke,n);return this.ke=la(),this.qe=Db(),this.Qe=new Qr(Jt),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Pb,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Qn(Jt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||dt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Pb),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Db(){return new Qr(wt.comparator)}function Rb(){return new Qr(wt.comparator)}const uP={asc:"ASCENDING",desc:"DESCENDING"},dP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hP={and:"AND",or:"OR"};class fP{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ay(t,e){return t.useProto3Json||Mg(e)?e:{value:e}}function Zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mP(t,e){return Zp(t,e.toTimestamp())}function gA(t){return or(!!t),Ut.fromTimestamp(function(r){const n=Do(r);return new en(n.seconds,n.nanos)}(t))}function p2(t,e){return ay(t,e).canonicalString()}function ay(t,e){const r=function(s){return new Cr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function _N(t){const e=Cr.fromString(t);return or(kN(e)),e}function oy(t,e){return p2(t.databaseId,e.path)}function f1(t,e){const r=_N(e);if(r.get(1)!==t.databaseId.projectId)throw new ct(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ct(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new wt(SN(r))}function NN(t,e){return p2(t.databaseId,e)}function pP(t){const e=_N(t);return e.length===4?Cr.emptyPath():SN(e)}function ly(t){return new Cr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SN(t){return or(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ob(t,e,r){return{name:oy(t,e),fields:r.value.mapValue.fields}}function gP(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:It()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(or(h===void 0||typeof h=="string"),Ln.fromBase64String(h||"")):(or(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ln.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,o=A&&function(c){const h=c.code===void 0?He.UNKNOWN:BN(c.code);return new ct(h,c.message||"")}(A);r=new CN(n,s,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=f1(t,n.document.name),i=gA(n.document.updateTime),A=n.document.createTime?gA(n.document.createTime):Ut.min(),o=new Ai({mapValue:{fields:n.document.fields}}),l=Xn.newFoundDocument(s,i,A,o),c=n.targetIds||[],h=n.removedTargetIds||[];r=new rp(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=f1(t,n.document),i=n.readTime?gA(n.readTime):Ut.min(),A=Xn.newNoDocument(s,i),o=n.removedTargetIds||[];r=new rp([],o,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=f1(t,n.document),i=n.removedTargetIds||[];r=new rp([],i,s,null)}else{if(!("filter"in e))return It();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,A=new AP(s,i),o=n.targetId;r=new bN(o,A)}}return r}function vP(t,e){let r;if(e instanceof of)r={update:Ob(t,e.key,e.value)};else if(e instanceof h2)r={delete:oy(t,e.key)};else if(e instanceof Xl)r={update:Ob(t,e.key,e.data),updateMask:NP(e.fieldMask)};else{if(!(e instanceof nP))return It();r={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,A){const o=A.transform;if(o instanceof Xp)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rh)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Oh)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Jp)return{fieldPath:A.field.canonicalString(),increment:o.Pe};throw It()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:mP(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:It()}(t,e.precondition)),r}function yP(t,e){return t&&t.length>0?(or(e!==void 0),t.map(r=>function(s,i){let A=s.updateTime?gA(s.updateTime):gA(i);return A.isEqual(Ut.min())&&(A=gA(i)),new eP(A,s.transformResults||[])}(r,e))):[]}function wP(t,e){return{documents:[NN(t,e.path)]}}function xP(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=NN(t,s);const i=function(c){if(c.length!==0)return FN(Hi.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const A=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:jc(p.field),direction:CP(p.dir)}}(h))}(e.orderBy);A&&(r.structuredQuery.orderBy=A);const o=Ay(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:s}}function BP(t){let e=pP(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){or(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const p=IN(f);return p instanceof Hi&&iN(p)?p.getFilters():[p]}(r.where));let A=[];r.orderBy&&(A=function(f){return f.map(p=>function(b){return new Dh(Lc(b.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,Mg(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Yp(g,p)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Yp(g,p)}(r.endAt)),H6(e,s,A,i,o,"F",l,c)}function bP(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function IN(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Lc(r.unaryFilter.field);return ln.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Lc(r.unaryFilter.field);return ln.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lc(r.unaryFilter.field);return ln.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Lc(r.unaryFilter.field);return ln.create(A,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(t):t.fieldFilter!==void 0?function(r){return ln.create(Lc(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Hi.create(r.compositeFilter.filters.map(n=>IN(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return It()}}(r.compositeFilter.op))}(t):It()}function CP(t){return uP[t]}function EP(t){return dP[t]}function _P(t){return hP[t]}function jc(t){return{fieldPath:t.canonicalString()}}function Lc(t){return kn.fromServerFormat(t.fieldPath)}function FN(t){return t instanceof ln?function(r){if(r.op==="=="){if(_b(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NAN"}};if(Eb(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_b(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NOT_NAN"}};if(Eb(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(r.field),op:EP(r.op),value:r.value}}}(t):t instanceof Hi?function(r){const n=r.getFilters().map(s=>FN(s));return n.length===1?n[0]:{compositeFilter:{op:_P(r.op),filters:n}}}(t):It()}function NP(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function kN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,r,n,s,i=Ut.min(),A=Ut.min(),o=Ln.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.ct=e}}function IP(t){const e=BP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.un=new kP}addToCollectionParentIndex(e,r){return this.un.add(r),ze.resolve()}getCollectionParents(e,r){return ze.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ze.resolve()}deleteFieldIndex(e,r){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,r){return ze.resolve()}getDocumentsMatchingTarget(e,r){return ze.resolve(null)}getIndexType(e,r){return ze.resolve(0)}getFieldIndexes(e,r){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,r){return ze.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,r){return ze.resolve(Po.min())}updateCollectionGroup(e,r,n){return ze.resolve()}updateIndexEntries(e,r){return ze.resolve()}}class kP{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Qn(Cr.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Qn(Cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Tu(0)}static kn(){return new Tu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.changes=new qu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ze.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&ih(n.mutation,s,ji.empty(),en.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Kt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Kt()){const s=Nl();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let A=Ld();return i.forEach((o,l)=>{A=A.insert(o,l.overlayedDocument)}),A}))}getOverlayedDocuments(e,r){const n=Nl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Kt()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,o)=>{r.set(A,o)})})}computeViews(e,r,n,s){let i=la();const A=sh(),o=function(){return sh()}();return r.forEach((l,c)=>{const h=n.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Xl)?i=i.insert(c.key,c):h!==void 0?(A.set(c.key,h.mutation.getFieldMask()),ih(h.mutation,c,h.mutation.getFieldMask(),en.now())):A.set(c.key,ji.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>A.set(c,h)),r.forEach((c,h)=>{var f;return o.set(c,new UP(h,(f=A.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=sh();let s=new Qr((A,o)=>A-o),i=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(A=>{for(const o of A)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let h=n.get(l)||ji.empty();h=o.applyToLocalView(c,h),n.set(l,h);const f=(s.get(o.batchId)||Kt()).add(l);s=s.insert(o.batchId,f)})}).next(()=>{const A=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=fN();h.forEach(p=>{if(!i.has(p)){const g=wN(r.get(p),n.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),A.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ze.waitFor(A)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(A){return wt.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):lN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):ze.resolve(Nl());let o=-1,l=i;return A.next(c=>ze.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(h)?ze.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Kt())).next(h=>({batchId:o,changes:hN(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new wt(r)).next(n=>{let s=Ld();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let A=Ld();return this.indexManager.getCollectionParents(e,i).next(o=>ze.forEach(o,l=>{const c=function(f,p){return new Gu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,s).next(h=>{h.forEach((f,p)=>{A=A.insert(f,p)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(A=>{i.forEach((l,c)=>{const h=c.getKey();A.get(h)===null&&(A=A.insert(h,Xn.newInvalidDocument(h)))});let o=Ld();return A.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ih(h.mutation,c,ji.empty(),en.now()),Kg(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ze.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:gA(s.createTime)}}(r)),ze.resolve()}getNamedQuery(e,r){return ze.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:IP(s.bundledQuery),readTime:gA(s.readTime)}}(r)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.overlays=new Qr(wt.comparator),this.Ir=new Map}getOverlay(e,r){return ze.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Nl();return ze.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),ze.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),ze.resolve()}getOverlaysForCollection(e,r,n){const s=Nl(),i=r.length+1,A=new wt(r.child("")),o=this.overlays.getIteratorFrom(A);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return ze.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Qr((c,h)=>c-h);const A=this.overlays.getIterator();for(;A.hasNext();){const c=A.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let h=i.get(c.largestBatchId);h===null&&(h=Nl(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Nl(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=s)););return ze.resolve(o)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new iP(r,n));let i=this.Ir.get(r);i===void 0&&(i=Kt(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Tr=new Qn(yn.Er),this.dr=new Qn(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new yn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new yn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new wt(new Cr([])),n=new yn(r,e),s=new yn(r,e+1),i=[];return this.dr.forEachInRange([n,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new wt(new Cr([])),n=new yn(r,e),s=new yn(r,e+1);let i=Kt();return this.dr.forEachInRange([n,s],A=>{i=i.add(A.key)}),i}containsKey(e){const r=new yn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class yn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return wt.comparator(e.key,r.key)||Jt(e.wr,r.wr)}static Ar(e,r){return Jt(e.wr,r.wr)||wt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Qn(yn.Er)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new sP(i,r,n,s);this.mutationQueue.push(A);for(const o of s)this.br=this.br.add(new yn(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ze.resolve(A)}lookupMutationBatch(e,r){return ze.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return ze.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new yn(r,0),s=new yn(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],A=>{const o=this.Dr(A.wr);i.push(o)}),ze.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Qn(Jt);return r.forEach(s=>{const i=new yn(s,0),A=new yn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],o=>{n=n.add(o.wr)})}),ze.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;wt.isDocumentKey(i)||(i=i.child(""));const A=new yn(new wt(i),0);let o=new Qn(Jt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.wr)),!0)},A),ze.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){or(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ze.forEach(r.mutations,s=>{const i=new yn(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new yn(r,0),s=this.br.firstAfterOrEqual(n);return ze.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.Mr=e,this.docs=function(){return new Qr(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ze.resolve(n?n.document.mutableCopy():Xn.newInvalidDocument(r))}getEntries(e,r){let n=la();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Xn.newInvalidDocument(s))}),ze.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=la();const A=r.path,o=new wt(A.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!A.isPrefixOf(c.path))break;c.path.length>A.length+1||B6(x6(h),n)<=0||(s.has(h.key)||Kg(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ze.resolve(i)}getAllFromCollectionGroup(e,r,n,s){It()}Or(e,r){return ze.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new OP(this)}getSize(e){return ze.resolve(this.size)}}class OP extends TP{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),ze.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.persistence=e,this.Nr=new qu(r=>l2(r),c2),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new g2,this.targetCount=0,this.kr=Tu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ze.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Tu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ze.resolve()}updateTargetData(e,r){return this.Kn(r),ze.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((A,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),ze.waitFor(i).next(()=>s)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ze.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ze.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),ze.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ze.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ze.resolve(n)}containsKey(e,r){return ze.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,r){this.qr={},this.overlays={},this.Qr=new i2(0),this.Kr=!1,this.Kr=!0,this.$r=new PP,this.referenceDelegate=e(this),this.Ur=new HP(this),this.indexManager=new FP,this.remoteDocumentCache=function(s){return new RP(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new SP(r),this.Gr=new jP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new LP,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new DP(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){dt("MemoryPersistence","Starting transaction:",e);const s=new VP(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return ze.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class VP extends C6{constructor(e){super(),this.currentSequenceNumber=e}}class v2{constructor(e){this.persistence=e,this.Jr=new g2,this.Yr=null}static Zr(e){return new v2(e)}get Xr(){if(this.Yr)return this.Yr;throw It()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ze.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ze.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ze.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Xr,n=>{const s=wt.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Ut.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ze.or([()=>ze.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Kt(),s=Kt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new y2(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QU()?8:E6(rs())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new KP;return this.Xi(e,r,A).next(o=>{if(i.result=o,this.zi)return this.es(e,r,A,o.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Bd()<=Gt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Qc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ze.resolve()):(Bd()<=Gt.DEBUG&&dt("QueryEngine","Query:",Qc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Bd()<=Gt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Qc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pA(r))):ze.resolve())}Yi(e,r){if(Fb(r))return ze.resolve(null);let n=pA(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=iy(r,null,"F"),n=pA(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const A=Kt(...i);return this.Ji.getDocuments(e,A).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,o);return this.ns(r,c,A,l.readTime)?this.Yi(e,iy(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,s){return Fb(r)||s.isEqual(Ut.min())?ze.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const A=this.ts(r,i);return this.ns(r,A,n,s)?ze.resolve(null):(Bd()<=Gt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qc(r)),this.rs(e,A,r,w6(s,-1)).next(o=>o))})}ts(e,r){let n=new Qn(uN(e));return r.forEach((s,i)=>{Kg(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Bd()<=Gt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Qc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Po.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Qr(Jt),this._s=new qu(i=>l2(i),c2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function qP(t,e,r,n){return new GP(t,e,r,n)}async function TN(t,e){const r=Qt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const A=[],o=[];let l=Kt();for(const c of s){A.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:A,addedBatchIds:o}))})})}function $P(t,e){const r=Qt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,p=f.keys();let g=ze.resolve();return p.forEach(b=>{g=g.next(()=>h.getEntry(l,b)).next(E=>{const N=c.docVersions.get(b);or(N!==null),E.version.compareTo(N)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Kt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function UN(t){const e=Qt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function WP(t,e){const r=Qt(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const o=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;o.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ln.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,n)),s=s.insert(f,g),function(E,N,w){return E.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&o.push(r.Ur.updateTargetData(i,g))});let l=la(),c=Kt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push(YP(i,A,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!n.isEqual(Ut.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(h)}return ze.waitFor(o).next(()=>A.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.os=s,i))}function YP(t,e,r){let n=Kt(),s=Kt();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let A=la();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Ut.min())?(e.removeEntry(o,l.readTime),A=A.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),A=A.insert(o,l)):dt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:A,Is:s}})}function XP(t,e){const r=Qt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function JP(t,e){const r=Qt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,ze.resolve(s)):r.Ur.allocateTargetId(n).next(A=>(s=new co(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function cy(t,e,r){const n=Qt(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,A=>n.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!af(A))throw A;dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Hb(t,e,r){const n=Qt(t);let s=Ut.min(),i=Kt();return n.persistence.runTransaction("Execute query","readwrite",A=>function(l,c,h){const f=Qt(l),p=f._s.get(h);return p!==void 0?ze.resolve(f.os.get(p)):f.Ur.getTargetData(c,h)}(n,A,pA(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,o.targetId).next(l=>{i=l})}).next(()=>n.ss.getDocumentsMatchingQuery(A,e,r?s:Ut.min(),r?i:Kt())).next(o=>(ZP(n,V6(e),o),{documents:o,Ts:i})))}function ZP(t,e,r){let n=t.us.get(e)||Ut.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class Mb{constructor(){this.activeTargetIds=W6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eD{constructor(){this.so=new Mb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Mb,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function m1(){return im===null?im=function(){return 268435456+Math.round(2147483648*Math.random())}():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class sD extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,A){const o=m1(),l=this.xo(r,n.toUriEncodedString());dt("RestConnection",`Sending RPC '${r}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,A),this.No(r,l,c,s).then(h=>(dt("RestConnection",`Received RPC '${r}' ${o}: `,h),h),h=>{throw Su("RestConnection",`RPC '${r}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(r,n,s,i,A,o){return this.Mo(r,n,s,i,A)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ku}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,A)=>r[A]=i),s&&s.headers.forEach((i,A)=>r[A]=i)}xo(r,n){const s=rD[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=m1();return new Promise((A,o)=>{const l=new q_;l.setWithCredentials(!0),l.listenOnce($_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zm.NO_ERROR:const h=l.getResponseJson();dt(Mn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),A(h);break;case Zm.TIMEOUT:dt(Mn,`RPC '${e}' ${i} timed out`),o(new ct(He.DEADLINE_EXCEEDED,"Request time out"));break;case Zm.HTTP_ERROR:const f=l.getStatus();if(dt(Mn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const b=function(N){const w=N.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(w)>=0?w:He.UNKNOWN}(g.status);o(new ct(b,g.message))}else o(new ct(He.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new ct(He.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{dt(Mn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);dt(Mn,`RPC '${e}' ${i} sending request:`,s),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const s=m1(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=X_(),o=Y_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=i.join("");dt(Mn,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=A.createWebChannel(h,l);let p=!1,g=!1;const b=new nD({Io:N=>{g?dt(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(p||(dt(Mn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),dt(Mn,`RPC '${e}' stream ${s} sending:`,N),f.send(N))},To:()=>f.close()}),E=(N,w,y)=>{N.listen(w,_=>{try{y(_)}catch(L){setTimeout(()=>{throw L},0)}})};return E(f,jd.EventType.OPEN,()=>{g||(dt(Mn,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),E(f,jd.EventType.CLOSE,()=>{g||(g=!0,dt(Mn,`RPC '${e}' stream ${s} transport closed`),b.So())}),E(f,jd.EventType.ERROR,N=>{g||(g=!0,Su(Mn,`RPC '${e}' stream ${s} transport errored:`,N),b.So(new ct(He.UNAVAILABLE,"The operation could not be completed")))}),E(f,jd.EventType.MESSAGE,N=>{var w;if(!g){const y=N.data[0];or(!!y);const _=y,L=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(L){dt(Mn,`RPC '${e}' stream ${s} received error:`,L);const V=L.status;let $=function(k){const P=An[k];if(P!==void 0)return BN(P)}(V),F=L.message;$===void 0&&($=He.INTERNAL,F="Unknown error status: "+V+" with message "+L.message),g=!0,b.So(new ct($,F)),f.close()}else dt(Mn,`RPC '${e}' stream ${s} received:`,y),b.bo(y)}}),E(o,W_.STAT_EVENT,N=>{N.stat===Zv.PROXY?dt(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Zv.NOPROXY&&dt(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function p1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return new fP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&dt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,r,n,s,i,A,o,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QN(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===He.RESOURCE_EXHAUSTED?(oa(r.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new ct(He.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iD extends jN{constructor(e,r,n,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=gP(this.serializer,e),n=function(i){if(!("targetChange"in i))return Ut.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?Ut.min():A.readTime?gA(A.readTime):Ut.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=ly(this.serializer),r.addTarget=function(i,A){let o;const l=A.target;if(o=ny(l)?{documents:wP(i,l)}:{query:xP(i,l)._t},o.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){o.resumeToken=EN(i,A.resumeToken);const c=Ay(i,A.expectedCount);c!==null&&(o.expectedCount=c)}else if(A.snapshotVersion.compareTo(Ut.min())>0){o.readTime=Zp(i,A.snapshotVersion.toTimestamp());const c=Ay(i,A.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=bP(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=ly(this.serializer),r.removeTarget=e,this.a_(r)}}class AD extends jN{constructor(e,r,n,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return or(!!e.streamToken),this.lastStreamToken=e.streamToken,or(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){or(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=yP(e.writeResults,e.commitTime),n=gA(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=ly(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>vP(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ct(He.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,ay(r,n),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ct(He.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,o])=>this.connection.Lo(e,ay(r,n),s,A,o,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new ct(He.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oa(r),this.D_=!1):dt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{n.enqueueAndForget(async()=>{Jl(this)&&(dt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Qt(l);c.L_.add(4),await cf(c),c.q_.set("Unknown"),c.L_.delete(4),await Wg(c)}(this))})}),this.q_=new oD(n,s)}}async function Wg(t){if(Jl(t))for(const e of t.B_)await e(!0)}async function cf(t){for(const e of t.B_)await e(!1)}function LN(t,e){const r=Qt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),b2(r)?B2(r):$u(r).r_()&&x2(r,e))}function w2(t,e){const r=Qt(t),n=$u(r);r.N_.delete(e),n.r_()&&PN(r,e),r.N_.size===0&&(n.r_()?n.o_():Jl(r)&&r.q_.set("Unknown"))}function x2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$u(t).A_(e)}function PN(t,e){t.Q_.xe(e),$u(t).R_(e)}function B2(t){t.Q_=new cP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.q_.v_()}function b2(t){return Jl(t)&&!$u(t).n_()&&t.N_.size>0}function Jl(t){return Qt(t).L_.size===0}function DN(t){t.Q_=void 0}async function cD(t){t.q_.set("Online")}async function uD(t){t.N_.forEach((e,r)=>{x2(t,e)})}async function dD(t,e){DN(t),b2(t)?(t.q_.M_(e),B2(t)):t.q_.set("Unknown")}async function hD(t,e,r){if(t.q_.set("Online"),e instanceof CN&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const o of i.targetIds)s.N_.has(o)&&(await s.remoteSyncer.rejectListen(o,A),s.N_.delete(o),s.Q_.removeTarget(o))}(t,e)}catch(n){dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await eg(t,n)}else if(e instanceof rp?t.Q_.Ke(e):e instanceof bN?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ut.min()))try{const n=await UN(t.localStore);r.compareTo(n)>=0&&await function(i,A){const o=i.Q_.rt(A);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,A))}}),o.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Ln.EMPTY_BYTE_STRING,h.snapshotVersion)),PN(i,l);const f=new co(h.target,l,c,h.sequenceNumber);x2(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){dt("RemoteStore","Failed to raise snapshot:",n),await eg(t,n)}}async function eg(t,e,r){if(!af(e))throw e;t.L_.add(1),await cf(t),t.q_.set("Offline"),r||(r=()=>UN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{dt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Wg(t)})}function RN(t,e){return e().catch(r=>eg(t,r,e))}async function Yg(t){const e=Qt(t),r=Ro(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fD(e);)try{const s=await XP(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,mD(e,s)}catch(s){await eg(e,s)}ON(e)&&HN(e)}function fD(t){return Jl(t)&&t.O_.length<10}function mD(t,e){t.O_.push(e);const r=Ro(t);r.r_()&&r.V_&&r.m_(e.mutations)}function ON(t){return Jl(t)&&!Ro(t).n_()&&t.O_.length>0}function HN(t){Ro(t).start()}async function pD(t){Ro(t).p_()}async function gD(t){const e=Ro(t);for(const r of t.O_)e.m_(r.mutations)}async function vD(t,e,r){const n=t.O_.shift(),s=f2.from(n,e,r);await RN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yg(t)}async function yD(t,e){e&&Ro(t).V_&&await async function(n,s){if(function(A){return aP(A)&&A!==He.ABORTED}(s.code)){const i=n.O_.shift();Ro(n).s_(),await RN(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yg(n)}}(t,e),ON(t)&&HN(t)}async function Kb(t,e){const r=Qt(t);r.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const n=Jl(r);r.L_.add(3),await cf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Wg(r)}async function wD(t,e){const r=Qt(t);e?(r.L_.delete(2),await Wg(r)):e||(r.L_.add(2),await cf(r),r.q_.set("Unknown"))}function $u(t){return t.K_||(t.K_=function(r,n,s){const i=Qt(r);return i.w_(),new iD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:cD.bind(null,t),Ro:uD.bind(null,t),mo:dD.bind(null,t),d_:hD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),b2(t)?B2(t):t.q_.set("Unknown")):(await t.K_.stop(),DN(t))})),t.K_}function Ro(t){return t.U_||(t.U_=function(r,n,s){const i=Qt(r);return i.w_(),new AD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pD.bind(null,t),mo:yD.bind(null,t),f_:gD.bind(null,t),g_:vD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yg(t)):(await t.U_.stop(),t.O_.length>0&&(dt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const A=Date.now()+n,o=new C2(e,r,A,s,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E2(t,e){if(oa("AsyncQueue",`${e}: ${t}`),af(t))return new ct(He.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||wt.comparator(r.key,n.key):(r,n)=>wt.comparator(r.key,n.key),this.keyedMap=Ld(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new uu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof uu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new uu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.W_=new Qr(wt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):It():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Uu{constructor(e,r,n,s,i,A,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,s,i){const A=[];return r.forEach(o=>{A.push({type:0,doc:o})}),new Uu(e,r,uu.emptySet(r),A,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class BD{constructor(){this.queries=Gb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=Qt(r),i=s.queries;s.queries=Gb(),i.forEach((A,o)=>{for(const l of o.j_)l.onError(n)})})(this,new ct(He.ABORTED,"Firestore shutting down"))}}function Gb(){return new qu(t=>cN(t),Vg)}async function MN(t,e){const r=Qt(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new xD,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(A){const o=E2(A,`Initialization of query '${Qc(e.query)}' failed`);return void e.onError(o)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&_2(r)}async function VN(t,e){const r=Qt(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function bD(t,e){const r=Qt(t);let n=!1;for(const s of e){const i=s.query,A=r.queries.get(i);if(A){for(const o of A.j_)o.X_(s)&&(n=!0);A.z_=s}}n&&_2(r)}function CD(t,e,r){const n=Qt(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function _2(t){t.Y_.forEach(e=>{e.next()})}var uy,qb;(qb=uy||(uy={})).ea="default",qb.Cache="cache";class KN{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Uu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.key=e}}class GN{constructor(e){this.key=e}}class ED{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Kt(),this.mutatedKeys=Kt(),this.Aa=uN(e),this.Ra=new uu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new zb,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,A=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Kg(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;p&&g?p.data.isEqual(g.data)?b!==E&&(n.track({type:3,doc:g}),N=!0):this.ga(p,g)||(n.track({type:2,doc:g}),N=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(o=!0)):!p&&g?(n.track({type:0,doc:g}),N=!0):p&&!g&&(n.track({type:1,doc:p}),N=!0,(l||c)&&(o=!0)),N&&(g?(A=A.add(g),i=E?i.add(h):i.delete(h)):(A=A.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const h=this.query.limitType==="F"?A.last():A.first();A=A.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:A,fa:n,ns:o,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((h,f)=>function(g,b){const E=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return E(g)-E(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const o=r&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,A.length!==0||c?{snapshot:new Uu(this.query,e.Ra,i,A,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Kt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new GN(n))}),this.da.forEach(n=>{e.has(n)||r.push(new zN(n))}),r}ba(e){this.Ta=e.Ts,this.da=Kt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Uu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class _D{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class ND{constructor(e){this.key=e,this.va=!1}}class SD{constructor(e,r,n,s,i,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new qu(o=>cN(o),Vg),this.Ma=new Map,this.xa=new Set,this.Oa=new Qr(wt.comparator),this.Na=new Map,this.La=new g2,this.Ba={},this.ka=new Map,this.qa=Tu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ID(t,e,r=!0){const n=JN(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await qN(n,e,r,!0),s}async function FD(t,e){const r=JN(t);await qN(r,e,!0,!1)}async function qN(t,e,r,n){const s=await JP(t.localStore,pA(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await kD(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&r&&LN(t.remoteStore,s),o}async function kD(t,e,r,n,s){t.Ka=(f,p,g)=>async function(E,N,w,y){let _=N.view.ma(w);_.ns&&(_=await Hb(E.localStore,N.query,!1).then(({documents:F})=>N.view.ma(F,_)));const L=y&&y.targetChanges.get(N.targetId),V=y&&y.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(_,E.isPrimaryClient,L,V);return Wb(E,N.targetId,$.wa),$.snapshot}(t,f,p,g);const i=await Hb(t.localStore,e,!0),A=new ED(e,i.Ts),o=A.ma(i.documents),l=lf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),c=A.applyChanges(o,t.isPrimaryClient,l);Wb(t,r,c.wa);const h=new _D(e,r,A);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function TD(t,e,r){const n=Qt(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(A=>!Vg(A,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await cy(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&w2(n.remoteStore,s.targetId),dy(n,s.targetId)}).catch(Af)):(dy(n,s.targetId),await cy(n.localStore,s.targetId,!0))}async function UD(t,e){const r=Qt(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),w2(r.remoteStore,n.targetId))}async function QD(t,e,r){const n=HD(t);try{const s=await function(A,o){const l=Qt(A),c=en.now(),h=o.reduce((g,b)=>g.add(b.key),Kt());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=la(),E=Kt();return l.cs.getEntries(g,h).next(N=>{b=N,b.forEach((w,y)=>{y.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(N=>{f=N;const w=[];for(const y of o){const _=rP(y,f.get(y.key).overlayedDocument);_!=null&&w.push(new Xl(y.key,_,rN(_.value.mapValue),Di.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,o)}).next(N=>{p=N;const w=N.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,N.batchId,w)})}).then(()=>({batchId:p.batchId,changes:hN(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(A,o,l){let c=A.Ba[A.currentUser.toKey()];c||(c=new Qr(Jt)),c=c.insert(o,l),A.Ba[A.currentUser.toKey()]=c}(n,s.batchId,r),await uf(n,s.changes),await Yg(n.remoteStore)}catch(s){const i=E2(s,"Failed to persist write");r.reject(i)}}async function $N(t,e){const r=Qt(t);try{const n=await WP(r.localStore,e);e.targetChanges.forEach((s,i)=>{const A=r.Na.get(i);A&&(or(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?or(A.va):s.removedDocuments.size>0&&(or(A.va),A.va=!1))}),await uf(r,n,e)}catch(n){await Af(n)}}function $b(t,e,r){const n=Qt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,A)=>{const o=A.view.Z_(e);o.snapshot&&s.push(o.snapshot)}),function(A,o){const l=Qt(A);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(o)&&(c=!0)}),c&&_2(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function jD(t,e,r){const n=Qt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let A=new Qr(wt.comparator);A=A.insert(i,Xn.newNoDocument(i,Ut.min()));const o=Kt().add(i),l=new qg(Ut.min(),new Map,new Qr(Jt),A,o);await $N(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),N2(n)}else await cy(n.localStore,e,!1).then(()=>dy(n,e,r)).catch(Af)}async function LD(t,e){const r=Qt(t),n=e.batch.batchId;try{const s=await $P(r.localStore,e);YN(r,n,null),WN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await uf(r,s)}catch(s){await Af(s)}}async function PD(t,e,r){const n=Qt(t);try{const s=await function(A,o){const l=Qt(A);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(or(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(n.localStore,e);YN(n,e,r),WN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await uf(n,s)}catch(s){await Af(s)}}function WN(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function YN(t,e,r){const n=Qt(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function dy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||XN(t,n)})}function XN(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(w2(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),N2(t))}function Wb(t,e,r){for(const n of r)n instanceof zN?(t.La.addReference(n.key,e),DD(t,n)):n instanceof GN?(dt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||XN(t,n.key)):It()}function DD(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(dt("SyncEngine","New document in limbo: "+r),t.xa.add(n),N2(t))}function N2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new wt(Cr.fromString(e)),n=t.qa.next();t.Na.set(n,new ND(r)),t.Oa=t.Oa.insert(r,n),LN(t.remoteStore,new co(pA(u2(r.path)),n,"TargetPurposeLimboResolution",i2.oe))}}async function uf(t,e,r){const n=Qt(t),s=[],i=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{A.push(n.Ka(l,e,r).then(c=>{var h;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=y2.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(A),n.Ca.d_(s),await async function(l,c){const h=Qt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ze.forEach(c,p=>ze.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>ze.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!af(f))throw f;dt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),b=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,E)}}}(n.localStore,i))}async function RD(t,e){const r=Qt(t);if(!r.currentUser.isEqual(e)){dt("SyncEngine","User change. New user:",e.toKey());const n=await TN(r.localStore,e);r.currentUser=e,function(i,A){i.ka.forEach(o=>{o.forEach(l=>{l.reject(new ct(He.CANCELLED,A))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await uf(r,n.hs)}}function OD(t,e){const r=Qt(t),n=r.Na.get(e);if(n&&n.va)return Kt().add(n.key);{let s=Kt();const i=r.Ma.get(e);if(!i)return s;for(const A of i){const o=r.Fa.get(A);s=s.unionWith(o.view.Va)}return s}}function JN(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$N.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jD.bind(null,e),e.Ca.d_=bD.bind(null,e.eventManager),e.Ca.$a=CD.bind(null,e.eventManager),e}function HD(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PD.bind(null,e),e}class tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$g(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return qP(this.persistence,new zP,e.initialUser,this.serializer)}Ga(e){return new MP(v2.Zr,this.serializer)}Wa(e){return new eD}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tg.provider={build:()=>new tg};class hy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$b(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),await wD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BD}()}createDatastore(e){const r=$g(e.databaseInfo.databaseId),n=function(i){return new sD(i)}(e.databaseInfo);return function(i,A,o,l){return new aD(i,A,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,A,o){return new lD(n,s,i,A,o)}(this.localStore,this.datastore,e.asyncQueue,r=>$b(this.syncEngine,r,0),function(){return Vb.D()?new Vb:new tD}())}createSyncEngine(e,r){return function(s,i,A,o,l,c,h){const f=new SD(s,i,A,o,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=Qt(s);dt("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await cf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}hy.provider={build:()=>new hy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=$n.UNAUTHENTICATED,this.clientId=Z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async A=>{dt("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(n,A=>(dt("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=E2(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function g1(t,e){t.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await TN(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yb(t,e){t.asyncQueue.verifyOperationInProgress();const r=await VD(t);dt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Kb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>Kb(e.remoteStore,s)),t._onlineComponents=e}async function VD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){dt("FirestoreClient","Using user provided OfflineComponentProvider");try{await g1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===He.FAILED_PRECONDITION||s.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Su("Error using user provided cache. Falling back to memory cache: "+r),await g1(t,new tg)}}else dt("FirestoreClient","Using default OfflineComponentProvider"),await g1(t,new tg);return t._offlineComponents}async function eS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(dt("FirestoreClient","Using user provided OnlineComponentProvider"),await Yb(t,t._uninitializedComponentsProvider._online)):(dt("FirestoreClient","Using default OnlineComponentProvider"),await Yb(t,new hy))),t._onlineComponents}function KD(t){return eS(t).then(e=>e.syncEngine)}async function fy(t){const e=await eS(t),r=e.eventManager;return r.onListen=ID.bind(null,e.syncEngine),r.onUnlisten=TD.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=UD.bind(null,e.syncEngine),r}function zD(t,e,r={}){const n=new Fo;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,o,l,c){const h=new ZN({next:p=>{h.Za(),A.enqueueAndForget(()=>VN(i,f)),p.fromCache&&l.source==="server"?c.reject(new ct(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new KN(o,h,{includeMetadataChanges:!0,_a:!0});return MN(i,f)}(await fy(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e,r){if(!r)throw new ct(He.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GD(t,e,r,n){if(e===!0&&n===!0)throw new ct(He.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Jb(t){if(!wt.isDocumentKey(t))throw new ct(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zb(t){if(wt.isDocumentKey(t))throw new ct(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function vA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xg(t);throw new ct(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ct(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ct(He.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ct(He.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ct(He.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e5(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new u6;switch(n.type){case"firstParty":return new m6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ct(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Xb.get(r);n&&(dt("ComponentProvider","Removing Datastore"),Xb.delete(r),n.terminate())}(this),Promise.resolve()}}function qD(t,e,r,n={}){var s;const i=(t=vA(t,Jg))._getSettings(),A=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=$n.MOCK_USER;else{o=NU(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new ct(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $n(c)}t._authCredentials=new d6(new J_(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class Ss{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class ko extends Yo{constructor(e,r,n){super(e,r,u2(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new wt(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function v1(t,e,...r){if(t=ns(t),rS("collection","path",e),t instanceof Jg){const n=Cr.fromString(e,...r);return Zb(n),new ko(t,null,n)}{if(!(t instanceof Ss||t instanceof ko))throw new ct(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Cr.fromString(e,...r));return Zb(n),new ko(t.firestore,null,n)}}function np(t,e,...r){if(t=ns(t),arguments.length===1&&(e=Z_.newId()),rS("doc","path",e),t instanceof Jg){const n=Cr.fromString(e,...r);return Jb(n),new Ss(t,null,new wt(n))}{if(!(t instanceof Ss||t instanceof ko))throw new ct(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Cr.fromString(e,...r));return Jb(n),new Ss(t.firestore,t instanceof ko?t.converter:null,new wt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new QN(this,"async_queue_retry"),this.Vu=()=>{const n=p1();n&&dt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=p1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=p1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Fo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!af(e))throw e;dt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(A){let o=A.message||"";return A.stack&&(o=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),o}(n);throw oa("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=C2.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&It()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function r5(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class zl extends Jg{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new t5,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t5(e),this._firestoreClient=void 0,await e}}}function $D(t,e){const r=typeof t=="object"?t:c_(),n=typeof t=="string"?t:"(default)",s=$w(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=EU("firestore");i&&qD(s,...i)}return s}function S2(t){if(t._terminated)throw new ct(He.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WD(t),t._firestoreClient}function WD(t){var e,r,n;const s=t._freezeSettings(),i=function(o,l,c,h){return new S6(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new MD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(Ln.fromBase64String(e))}catch(r){throw new ct(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Qu(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ct(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ct(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ct(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=/^__.*__$/;class XD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Xl(e,this.data,this.fieldMask,r,this.fieldTransforms):new of(e,this.data,r,this.fieldTransforms)}}function sS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class T2{constructor(e,r,n,s,i,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new T2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sS(this.Cu)&&YD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JD{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||$g(e)}Qu(e,r,n,s=!1){return new T2({Cu:e,methodName:r,qu:n,path:kn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U2(t){const e=t._freezeSettings(),r=$g(t._databaseId);return new JD(t._databaseId,!!e.ignoreUndefinedProperties,r)}function iS(t,e,r,n,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);oS("Data must be an object, but it was:",A,n);const o=AS(n,A);let l,c;if(i.merge)l=new ji(A.fieldMask),c=A.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=eR(e,f,r);if(!A.contains(p))throw new ct(He.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rR(h,p)||h.push(p)}l=new ji(h),c=A.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=A.fieldTransforms;return new XD(new Ai(o),l,c)}function ZD(t,e,r,n=!1){return Q2(r,t.Qu(n?4:3,e))}function Q2(t,e){if(aS(t=ns(t)))return oS("Unsupported field value:",e,t),AS(t,e);if(t instanceof nS)return function(n,s){if(!sS(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let A=0;for(const o of n){let l=Q2(o,s.Lu(A));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),A++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=ns(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Y6(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=en.fromDate(n);return{timestampValue:Zp(s.serializer,i)}}if(n instanceof en){const i=new en(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zp(s.serializer,i)}}if(n instanceof F2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qu)return{bytesValue:EN(s.serializer,n._byteString)};if(n instanceof Ss){const i=s.databaseId,A=n.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p2(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof k2)return function(A,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return d2(o.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Xg(n)}`)}(t,e)}function AS(t,e){const r={};return eN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zu(t,(n,s)=>{const i=Q2(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function aS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof F2||t instanceof Qu||t instanceof Ss||t instanceof nS||t instanceof k2)}function oS(t,e,r){if(!aS(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Xg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function eR(t,e,r){if((e=ns(e))instanceof I2)return e._internalPath;if(typeof e=="string")return lS(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,r)}const tR=new RegExp("[~\\*/\\[\\]]");function lS(t,e,r){if(e.search(tR)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new I2(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function rg(t,e,r,n,s){const i=n&&!n.isEmpty(),A=s!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||A)&&(l+=" (found",i&&(l+=` in field ${n}`),A&&(l+=` in document ${s}`),l+=")"),new ct(He.INVALID_ARGUMENT,o+t+l)}function rR(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(j2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class nR extends cS{data(){return super.data()}}function j2(t,e){return typeof e=="string"?lS(t,e):e instanceof I2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ct(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L2{}class dS extends L2{}function n5(t,e,...r){let n=[];e instanceof L2&&n.push(e),n=n.concat(r),function(i){const A=i.filter(l=>l instanceof D2).length,o=i.filter(l=>l instanceof P2).length;if(A>1||A>0&&o>0)throw new ct(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class P2 extends dS{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new P2(e,r,n)}_apply(e){const r=this._parse(e);return hS(e._query,r),new Yo(e.firestore,e.converter,sy(e._query,r))}_parse(e){const r=U2(e.firestore);return function(i,A,o,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ct(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){i5(f,h);const g=[];for(const b of f)g.push(s5(l,i,b));p={arrayValue:{values:g}}}else p=s5(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||i5(f,h),p=ZD(o,A,f,h==="in"||h==="not-in");return ln.create(c,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class D2 extends L2{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new D2(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Hi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let A=s;const o=i.getFlattenedFilters();for(const l of o)hS(A,l),A=sy(A,l)}(e._query,r),new Yo(e.firestore,e.converter,sy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R2 extends dS{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new R2(e,r)}_apply(e){const r=function(s,i,A){if(s.startAt!==null)throw new ct(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ct(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(i,A)}(e._query,this._field,this._direction);return new Yo(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new Gu(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function sR(t,e="asc"){const r=e,n=j2("orderBy",t);return R2._create(n,r)}function s5(t,e,r){if(typeof(r=ns(r))=="string"){if(r==="")throw new ct(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lN(e)&&r.indexOf("/")!==-1)throw new ct(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Cr.fromString(r));if(!wt.isDocumentKey(n))throw new ct(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Cb(t,new wt(n))}if(r instanceof Ss)return Cb(t,r._key);throw new ct(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xg(r)}.`)}function i5(t,e){if(!Array.isArray(t)||t.length===0)throw new ct(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hS(t,e){const r=function(s,i){for(const A of s)for(const o of A.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ct(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ct(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class iR{convertValue(e,r="none"){switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return zu(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(A=>Wr(A.doubleValue));return new k2(i)}convertGeoPoint(e){return new F2(Wr(e.latitude),Wr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=a2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(jh(e));default:return null}}convertTimestamp(e){const r=Do(e);return new en(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Cr.fromString(e);or(kN(n));const s=new Lh(n.get(1),n.get(3)),i=new wt(n.popFirst(5));return s.isEqual(r)||oa(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mS extends cS{constructor(e,r,n,s,i,A){super(e,r,n,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(j2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class sp extends mS{data(e={}){return super.data(e)}}class pS{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Dd(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new sp(this._firestore,this._userDataWriter,n.key,n,new Dd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ct(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(o=>{const l=new sp(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Dd(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new sp(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Dd(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return o.type!==0&&(c=A.indexOf(o.doc.key),A=A.delete(o.doc.key)),o.type!==1&&(A=A.add(o.doc),h=A.indexOf(o.doc.key)),{type:AR(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function AR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}class O2 extends iR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,r)}}function aR(t){t=vA(t,Yo);const e=vA(t.firestore,zl),r=S2(e),n=new O2(e);return uS(t._query),zD(r,t._query).then(s=>new pS(e,n,t,s))}function oR(t,e,r){t=vA(t,Ss);const n=vA(t.firestore,zl),s=fS(t.converter,e,r);return H2(n,[iS(U2(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Di.none())])}function lR(t){return H2(vA(t.firestore,zl),[new h2(t._key,Di.none())])}function cR(t,e){const r=vA(t.firestore,zl),n=np(t),s=fS(t.converter,e);return H2(r,[iS(U2(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Di.exists(!1))]).then(()=>n)}function uR(t,...e){var r,n,s;t=ns(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||r5(e[A])||(i=e[A],A++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(r5(e[A])){const f=e[A];e[A]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[A+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[A+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,h;if(t instanceof Ss)c=vA(t.firestore,zl),h=u2(t._key.path),l={next:f=>{e[A]&&e[A](dR(c,t,f))},error:e[A+1],complete:e[A+2]};else{const f=vA(t,Yo);c=vA(f.firestore,zl),h=f._query;const p=new O2(c);l={next:g=>{e[A]&&e[A](new pS(c,p,f,g))},error:e[A+1],complete:e[A+2]},uS(t._query)}return function(p,g,b,E){const N=new ZN(E),w=new KN(g,N,b);return p.asyncQueue.enqueueAndForget(async()=>MN(await fy(p),w)),()=>{N.Za(),p.asyncQueue.enqueueAndForget(async()=>VN(await fy(p),w))}}(S2(c),h,o,l)}function H2(t,e){return function(n,s){const i=new Fo;return n.asyncQueue.enqueueAndForget(async()=>QD(await KD(n),s,i)),i.promise}(S2(t),e)}function dR(t,e,r){const n=r.docs.get(e._key),s=new O2(t);return new mS(t,s,e._key,n,new Dd(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(s){Ku=s})(Hu),_u(new Ol("firestore",(n,{instanceIdentifier:s,options:i})=>{const A=n.getProvider("app").getImmediate(),o=new zl(new h6(n.getProvider("auth-internal")),new g6(n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ct(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(c.options.projectId,h)}(A,s),A);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),So(yb,"4.7.3",e),So(yb,"4.7.3","esm2017")})();const hR={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",VITE_FIREBASE_APP_ID:"1:618593686607:web:d1e2b85108b464a250863a",VITE_FIREBASE_AUTH_DOMAIN:"idedersplan.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"618593686607",VITE_FIREBASE_PROJECT_ID:"idedersplan",VITE_FIREBASE_STORAGE_BUCKET:"idedersplan.firebasestorage.app"},fR={apiKey:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",authDomain:"idedersplan.firebaseapp.com",projectId:"idedersplan",storageBucket:"idedersplan.firebasestorage.app",messagingSenderId:"618593686607",appId:"1:618593686607:web:d1e2b85108b464a250863a"},mR=()=>{const e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(n=>!hR[n]);if(e.length>0)throw console.error("🔒 SECURITY ERROR: Missing Firebase environment variables:",e),new Error(`Missing required environment variables: ${e.join(", ")}`);const r="AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4";if(!r.startsWith("AIza")||r.length<30)throw console.error("🔒 SECURITY ERROR: Invalid Firebase API key format"),new Error("Invalid Firebase API key format");console.log("✅ Firebase configuration validated successfully")};mR();const gS=l_(fR),y1=a6(gS),Ec=$D(gS);console.log("🔥 Firebase initialized for project:","idedersplan");const M2=()=>{const[t,e]=ce.useState(null),[r,n]=ce.useState(!0);return ce.useEffect(()=>Wj(y1,o=>{e(o),n(!1)}),[]),{user:t,loading:r,login:async(A,o)=>{try{return await Gj(y1,A,o),{success:!0}}catch(l){return{success:!1,error:l.message}}},logout:async()=>{try{return await Yj(y1),{success:!0}}catch(A){return{success:!1,error:A.message}}}}},mi=()=>{const[t,e]=ce.useState([]),r=ce.useCallback(l=>{const c=Math.random().toString(36).substr(2,9),h={id:c,...l,onClose:n};return console.log("🍞 Toast ekleniyor:",h),l.type==="error"?(e(f=>f.filter(p=>p.type!=="error")),e(f=>{const p=[h,...f.slice(0,2)];return console.log("🍞 Error toast eklendi, güncel liste:",p),p})):e(f=>{const p=[h,...f.slice(0,3)];return console.log("🍞 Güncel toast listesi:",p),p}),c},[]),n=ce.useCallback(l=>{console.log("🗑️ Toast siliniyor:",l),e(c=>{const h=c.filter(f=>f.id!==l);return console.log("🍞 Toast silindikten sonra liste:",h),h})},[]),s=ce.useCallback((l,c)=>(console.log("✅ Success toast çağrıldı:",{title:l,message:c}),r({type:"success",title:l,message:c,duration:4e3})),[r]),i=ce.useCallback((l,c)=>(console.log("❌ Error toast çağrıldı:",{title:l,message:c}),r({type:"error",title:l,message:c,duration:12e3})),[r]),A=ce.useCallback((l,c)=>(console.log("⚠️ Warning toast çağrıldı:",{title:l,message:c}),r({type:"warning",title:l,message:c,duration:6e3})),[r]),o=ce.useCallback((l,c)=>(console.log("ℹ️ Info toast çağrıldı:",{title:l,message:c}),r({type:"info",title:l,message:c,duration:5e3})),[r]);return console.log("🍞 useToast hook - mevcut toast sayısı:",t.length),{toasts:t,addToast:r,removeToast:n,success:s,error:i,warning:A,info:o}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lt=(t,e)=>{const r=ce.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:o="",children:l,...c},h)=>ce.createElement("svg",{ref:h,...pR,width:s,height:s,stroke:n,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gR(t)}`,o].join(" "),...c},[...e.map(([f,p])=>ce.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Lt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Lt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Lt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Lt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Lt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Lt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Lt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Lt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Lt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Lt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=Lt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Lt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Lt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Lt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Lt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Lt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),CR=()=>{const{logout:t}=M2(),[e,r]=ce.useState(!1),n=async()=>{await t()},s=[{to:"/",icon:xR,label:"Anasayfa",color:"ide-primary",description:"Ana kontrol paneli"},{to:"/schedule-wizard",icon:e0,label:"Program Sihirbazı",color:"ide-accent",description:"Otomatik program oluştur"},{to:"/schedules",icon:Zn,label:"Manuel Program",color:"ide-accent",description:"Manuel program oluştur"},{to:"/class-schedules",icon:xS,label:"Sınıf Programları",color:"ide-secondary",description:"Sınıf bazlı görünüm"},{to:"/all-schedules",icon:Zg,label:"Öğretmen Programları",color:"ide-primary",description:"Öğretmen bazlı görünüm"},{to:"/pdf",icon:Zn,label:"PDF Çıktı",color:"ide-orange",description:"Rapor ve çıktılar"},{to:"/data-management",icon:ng,label:"Veri Yönetimi",color:"ide-primary",description:"Sistem verilerini yönet"}],i=()=>{r(!1)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50 safe-top safe-left",children:a.jsx("button",{onClick:()=>r(!e),className:"p-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-ide-primary-500 focus:ring-offset-2 transition-all duration-300 btn-touch touch-enhanced group","aria-label":"Menüyü aç/kapat",children:e?a.jsx(ca,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"}):a.jsx(bR,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"})})}),e&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-60 z-40 transition-opacity duration-300 backdrop-blur-sm",onClick:i}),a.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-40 bg-white shadow-2xl lg:shadow-xl h-screen flex flex-col
        transform transition-all duration-500 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        
        /* PROFESSIONAL DESIGN */
        w-80 lg:w-72 xl:w-80
        safe-top safe-bottom safe-left
        border-r border-gray-200
      `,children:[a.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-ide-primary-600 via-ide-primary-700 to-ide-primary-800 border-b border-ide-primary-500",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between lg:justify-start",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center flex-shrink-0",children:a.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-8 h-8 object-contain",onError:A=>{const o=A.target;o.style.display="none";const l=o.parentElement;l&&(l.innerHTML='<div class="w-8 h-8 text-ide-primary-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white leading-tight",children:"İDE Okulları"}),a.jsx("p",{className:"text-sm text-ide-primary-100 font-medium",children:"Ders Programı Sistemi"})]})]}),a.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-lg hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all duration-200 btn-touch touch-enhanced","aria-label":"Menüyü kapat",children:a.jsx(ca,{size:20,className:"text-white"})})]})]}),a.jsx("nav",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:a.jsx("div",{className:"space-y-2",children:s.map(({to:A,icon:o,label:l,color:c,description:h})=>a.jsx(fU,{to:A,onClick:i,className:({isActive:f})=>`group relative flex items-center p-4 rounded-xl transition-all duration-300 ${f?"bg-ide-primary-50 text-ide-primary-700 shadow-lg border-2 border-ide-primary-200 transform scale-[1.02]":"text-ide-gray-700 hover:bg-white hover:text-ide-primary-600 hover:shadow-md border-2 border-transparent hover:border-ide-primary-100"}`,children:({isActive:f})=>a.jsxs(a.Fragment,{children:[f&&a.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-ide-primary-600 rounded-r-full"}),a.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${f?"bg-ide-primary-100 text-ide-primary-600":"bg-gray-100 text-gray-500 group-hover:bg-ide-primary-100 group-hover:text-ide-primary-600"}`,children:a.jsx(o,{size:24,className:"transition-transform duration-300 group-hover:scale-110"})}),a.jsx("div",{className:"flex-1 ml-4 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`font-semibold text-base leading-tight transition-colors duration-300 ${f?"text-ide-primary-700":"text-gray-900 group-hover:text-ide-primary-600"}`,children:l}),a.jsx("p",{className:`text-sm mt-1 transition-colors duration-300 ${f?"text-ide-primary-600":"text-gray-500 group-hover:text-ide-primary-500"}`,children:h})]}),a.jsx(my,{size:18,className:`flex-shrink-0 transition-all duration-300 ${f?"text-ide-primary-600 transform translate-x-1":"text-gray-400 group-hover:text-ide-primary-500 group-hover:transform group-hover:translate-x-1"}`})]})})]})},A))})}),a.jsx("div",{className:"p-4 border-t border-gray-200 bg-white safe-bottom",children:a.jsxs("button",{onClick:n,className:"w-full group flex items-center p-4 rounded-xl text-ide-gray-700 hover:bg-ide-accent-50 hover:text-ide-accent-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ide-accent-500 focus:ring-offset-2 border-2 border-transparent hover:border-ide-accent-200",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-gray-100 group-hover:bg-ide-accent-100 flex items-center justify-center transition-all duration-300",children:a.jsx(BR,{size:24,className:"text-gray-500 group-hover:text-ide-accent-600 transition-all duration-300 group-hover:scale-110"})}),a.jsxs("div",{className:"flex-1 ml-4 text-left",children:[a.jsx("p",{className:"font-semibold text-base text-gray-900 group-hover:text-ide-accent-700 transition-colors duration-300",children:"Güvenli Çıkış"}),a.jsx("p",{className:"text-sm text-gray-500 group-hover:text-ide-accent-600 transition-colors duration-300 mt-1",children:"Oturumu sonlandır"})]}),a.jsx(my,{size:18,className:"flex-shrink-0 text-gray-400 group-hover:text-ide-accent-500 group-hover:transform group-hover:translate-x-1 transition-all duration-300"})]})})]})]})},ER=()=>a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(CR,{}),a.jsx("main",{className:"flex-1 overflow-auto lg:ml-0",children:a.jsx("div",{className:"pt-20 lg:pt-0",children:a.jsx(eU,{})})})]}),Wt=({label:t,type:e="text",value:r,onChange:n,placeholder:s,required:i=!1,error:A,disabled:o=!1})=>a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",i&&a.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:e,value:r,onChange:l=>n(l.target.value),placeholder:s,required:i,disabled:o,className:`ide-input w-full ${A?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900 placeholder-ide-accent-400":o?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 bg-white focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 placeholder-ide-gray-500 hover:border-ide-gray-400"}`}),A&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(Hh,{className:"h-5 w-5 text-ide-accent-500"})})]}),A&&a.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[a.jsx(Hh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:A})]})]}),De=({children:t,onClick:e,type:r="button",variant:n="primary",size:s="md",disabled:i=!1,icon:A,className:o=""})=>{const l="inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none transform hover:scale-[1.02] active:scale-[0.98] focus-enhanced",c={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300 hover:border-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md","ide-primary":"btn-ide-primary","ide-secondary":"btn-ide-secondary","ide-accent":"btn-ide-accent"},h={sm:"px-4 py-3 text-sm min-h-[44px] btn-touch",md:"px-5 py-3.5 text-sm min-h-[48px] btn-touch",lg:"px-6 py-4 text-base min-h-[52px] btn-touch"};return a.jsxs("button",{type:r,onClick:e,disabled:i,className:`${l} ${c[n]} ${h[s]} ${o} touch-enhanced`,children:[A&&a.jsx(A,{size:s==="sm"?18:s==="lg"?22:20,className:"mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:t})]})},_R=()=>{const[t,e]=ce.useState(""),[r,n]=ce.useState(""),[s,i]=ce.useState(""),[A,o]=ce.useState(!1),{login:l}=M2(),c=async h=>{h.preventDefault(),o(!0),i(""),(await l(t,r)).success||i("Giriş başarısız. Lütfen bilgilerinizi kontrol edin."),o(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ide-gray-50 to-ide-primary-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-ide-2xl p-8 border border-ide-gray-200",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white rounded-full shadow-ide-lg border border-gray-100",children:a.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-16 h-16 object-contain",onError:h=>{const f=h.target;f.style.display="none";const p=f.parentElement;p&&(p.innerHTML='<div class="w-12 h-12 text-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),a.jsx("h1",{className:"text-2xl font-bold text-ide-gray-900 mb-2",children:"İDE Okulları"}),a.jsx("h2",{className:"text-xl font-semibold text-ide-primary-600 mb-2",children:"Ders Planlama Sistemi"}),a.jsx("p",{className:"text-ide-gray-600",children:"Yönetici Girişi"})]}),a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsx(Wt,{label:"E-posta",type:"email",value:t,onChange:e,placeholder:"email@ide.k12.tr",required:!0}),a.jsx(Wt,{label:"Şifre",type:"password",value:r,onChange:n,placeholder:"••••••••",required:!0}),s&&a.jsx("div",{className:"p-4 bg-ide-accent-50 border border-ide-accent-200 rounded-lg",children:a.jsx("p",{className:"text-ide-accent-800 text-sm font-medium",children:s})}),a.jsx(De,{type:"submit",variant:"ide-primary",size:"lg",disabled:A,className:"w-full",children:A?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"ide-loading w-5 h-5 mr-3"}),"Giriş yapılıyor..."]}):"Giriş Yap"})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-xs text-ide-gray-500",children:"Firebase Authentication ile güvenli giriş"})})]})})},St=t=>{const[e,r]=ce.useState([]),[n,s]=ce.useState(!0),[i,A]=ce.useState(null);return ce.useEffect(()=>{const f=n5(v1(Ec,t),sR("createdAt","desc"));return uR(f,g=>{const b=g.docs.map(E=>{var N,w;return{id:E.id,...E.data(),createdAt:((w=(N=E.data().createdAt)==null?void 0:N.toDate)==null?void 0:w.call(N))||new Date}});r(b),s(!1),A(null)},g=>{A(g.message),s(!1)})},[t]),{data:e,loading:n,error:i,add:async f=>{try{console.log("🔥 Firebase ADD işlemi başlatıldı:",{collectionName:t,item:f});const p=await cR(v1(Ec,t),{...f,createdAt:en.now()});return console.log("✅ Firebase ADD başarılı:",{docId:p.id}),{success:!0,id:p.id}}catch(p){return console.error("❌ Firebase ADD hatası:",p),{success:!1,error:p.message}}},update:async(f,p)=>{try{if(console.log("🔥 Firebase UPDATE işlemi başlatıldı:",{collectionName:t,id:f,updates:p,updateKeys:Object.keys(p)}),!f)throw new Error("Document ID is required for update");const g=np(Ec,t,f),b={...p,updatedAt:en.now()};return console.log("🔥 Firebase setDoc çağrılıyor:",{docRef:g.path,updateData:b}),await oR(g,b,{merge:!0}),console.log("✅ Firebase UPDATE başarılı:",{id:f,updatedFields:Object.keys(p)}),{success:!0}}catch(g){return console.error("❌ Firebase UPDATE hatası:",{error:g,message:g.message,code:g.code,id:f,collectionName:t}),{success:!1,error:g.message}}},remove:async f=>{try{if(console.log("🔥 Firebase DELETE işlemi başlatıldı:",{collectionName:t,id:f}),!f)throw new Error("Document ID is required for delete");return await lR(np(Ec,t,f)),console.log("✅ Firebase DELETE başarılı:",{id:f}),{success:!0}}catch(p){return console.error("❌ Firebase DELETE hatası:",p),{success:!1,error:p.message}}},exists:async f=>{try{const p=np(Ec,t,f);return(await aR(n5(v1(Ec,t)))).docs.some(b=>b.id===f)}catch(p){return console.error("❌ Firebase EXISTS check hatası:",p),!1}}}},fa=()=>{const[t,e]=ce.useState({isOpen:!1,title:"",message:"",type:"warning",confirmText:"Onayla",cancelText:"İptal",confirmVariant:"primary",onConfirm:()=>{}}),r=ce.useCallback((l,c)=>new Promise(h=>{e({...l,isOpen:!0,onConfirm:()=>{c(),h(!0)}})}),[]),n=ce.useCallback(()=>{e(l=>({...l,isOpen:!1}))},[]),s=ce.useCallback((l,c)=>r({title:"🗑️ Silme Onayı",message:`"${l}" öğesini silmek istediğinizden emin misiniz?

Bu işlem geri alınamaz.`,type:"danger",confirmText:"Sil",cancelText:"İptal",confirmVariant:"danger"},c),[r]),i=ce.useCallback(l=>r({title:"🔄 Sıfırlama Onayı",message:`Tüm değişiklikleri sıfırlamak istediğinizden emin misiniz?

Kaydedilmemiş tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Sıfırla",cancelText:"İptal",confirmVariant:"danger"},l),[r]),A=ce.useCallback(l=>r({title:"⚠️ Kaydedilmemiş Değişiklikler",message:`Kaydedilmemiş değişiklikler var. Devam etmek istediğinizden emin misiniz?

Tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Devam Et",cancelText:"İptal",confirmVariant:"danger"},l),[r]),o=ce.useCallback((l,c)=>r({title:"⚠️ Çakışma Uyarısı",message:`Aşağıdaki çakışmalar tespit edildi:

${l.join(`
`)}

Yine de kaydetmek istediğinizden emin misiniz?`,type:"warning",confirmText:"Yine de Kaydet",cancelText:"İptal",confirmVariant:"danger"},c),[r]);return{confirmation:t,showConfirmation:r,hideConfirmation:n,confirmDelete:s,confirmReset:i,confirmUnsavedChanges:A,confirmConflictOverride:o}},ma=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,type:i="warning",confirmText:A="Onayla",cancelText:o="İptal",confirmVariant:l="primary"})=>{if(!t)return null;const c={warning:Ks,danger:Vh,success:Gl,info:du},h={warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",title:"text-yellow-900"},danger:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",title:"text-red-900"},success:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",title:"text-green-900"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",title:"text-blue-900"}},f=c[i],p=h[i],g=()=>{r(),e()};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full mx-4 sm:mx-0",children:[a.jsx("div",{className:`${p.bg} ${p.border} border-b px-6 pt-6 pb-4`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(f,{className:`h-8 w-8 ${p.icon}`})}),a.jsx("div",{className:"ml-4 flex-1",children:a.jsx("h3",{className:`text-lg font-bold ${p.title}`,children:n})}),a.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Modalı kapat",children:a.jsx(ca,{size:20})})]})}),a.jsx("div",{className:"bg-white px-6 py-6",children:a.jsx("div",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-line",children:s})}),a.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[a.jsx(De,{onClick:e,variant:"secondary",size:"md",children:o}),a.jsx(De,{onClick:g,variant:l,size:"md",children:A})]})]})]})})},NR=()=>{const t=Wl(),{data:e}=St("teachers"),{data:r}=St("classes"),{data:n}=St("subjects"),{data:s}=St("schedules"),{data:i,remove:A}=St("schedule-templates"),{success:o,error:l,warning:c}=mi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmDelete:g}=fa(),b=[{icon:Mi,title:"Dersler",description:"Dersleri branş ve seviyelerine göre organize edin",color:"text-indigo-600",bgColor:"bg-indigo-50",path:"/subjects"},{icon:Or,title:"Öğretmenler",description:"Öğretmenleri ekleyin ve branşlarına göre yönetin",color:"text-blue-600",bgColor:"bg-blue-50",path:"/teachers"},{icon:Is,title:"Sınıflar",description:"Sınıfları seviyelerine göre kategorize edin",color:"text-emerald-600",bgColor:"bg-emerald-50",path:"/classes"},{icon:e0,title:"Program Sihirbazı",description:"Adım adım otomatik program oluşturun",color:"text-orange-600",bgColor:"bg-orange-50",path:"/schedule-wizard"},{icon:Zn,title:"Manuel Program",description:"Öğretmen veya sınıf bazlı manuel program oluşturun",color:"text-purple-600",bgColor:"bg-purple-50",path:"/schedules"},{icon:Zg,title:"Programları Görüntüle",description:"Oluşturulan programları görüntüleyin ve inceleyin",color:"text-pink-600",bgColor:"bg-pink-50",path:"/all-schedules"},{icon:uo,title:"PDF İndir",description:"Programları profesyonel PDF formatında indirin",color:"text-orange-600",bgColor:"bg-orange-50",path:"/pdf"},{icon:ng,title:"Veri Yönetimi",description:"Sistem verilerini yönetin ve temizleyin",color:"text-purple-600",bgColor:"bg-purple-50",path:"/data-management"}],E=y=>{t(`/schedule-wizard?templateId=${y}`)},N=y=>{g(y.name,async()=>{try{await A(y.id),o("🗑️ Program Silindi",`${y.name} başarıyla silindi`)}catch{l("❌ Silme Hatası","Program silinirken bir hata oluştu")}})},w=[...i].sort((y,_)=>new Date(_.updatedAt).getTime()-new Date(y.updatedAt).getTime());return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:a.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-12 h-12 object-contain",onError:y=>{const _=y.target;_.style.display="none";const L=_.parentElement;L&&(L.innerHTML='<div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),a.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"İDE Okulları Ders Programı Sistemi"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 mb-4 max-w-2xl mx-auto",children:"Sihirbaz ile otomatik program oluşturun veya manuel olarak düzenleyin. Çakışma kontrolü, zaman kısıtlamaları ve profesyonel PDF çıktıları."})]})}),i.length>0&&a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"bg-gradient-to-br from-ide-primary-50 via-white to-ide-secondary-50 rounded-2xl shadow-lg border border-ide-primary-100 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-extrabold text-ide-primary-800 flex items-center tracking-tight",children:"Oluşturulan Programlar"}),a.jsxs("p",{className:"text-sm text-ide-primary-600 mt-1 font-medium",children:[i.length," program • Düzenlemek için tıklayın"]})]}),a.jsx(De,{onClick:()=>t("/schedule-wizard"),icon:kr,variant:"primary",size:"md",className:"shadow-md",children:"Yeni Program"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(y=>a.jsxs("div",{className:"group bg-white rounded-2xl p-6 border border-ide-primary-100 shadow-sm hover:shadow-lg hover:border-ide-primary-300 transition-all duration-200 cursor-pointer relative flex flex-col min-h-[210px]",onClick:()=>E(y.id),children:[a.jsx("span",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold shadow-sm border
                    ${y.status==="published"?"bg-emerald-50 text-emerald-700 border-emerald-200":y.status==="draft"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:y.status==="published"?"Yayınlandı":y.status==="draft"?"Taslak":"Arşivlendi"}),a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(Zn,{className:"w-6 h-6 text-ide-primary-600 flex-shrink-0"}),a.jsx("h3",{className:"font-bold text-lg text-ide-primary-900 truncate group-hover:text-ide-primary-700 transition-colors",children:y.name})]}),a.jsxs("p",{className:"text-xs text-ide-primary-500 mb-1 font-medium",children:[y.academicYear," ",y.semester," Dönemi"]}),y.description&&a.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:y.description}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-gray-100",children:[a.jsx("span",{className:"text-xs text-gray-400 flex items-center",children:(()=>{const _=new Date(y.updatedAt);return isNaN(_.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx(cA,{className:"w-4 h-4 mr-1"}),_.toLocaleDateString("tr-TR")]})})()}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:_=>{_.stopPropagation(),E(y.id)},className:"p-2 rounded-lg bg-ide-primary-50 hover:bg-ide-primary-100 text-ide-primary-700 hover:text-ide-primary-900 shadow-sm border border-transparent hover:border-ide-primary-200 transition",title:"Düzenle",children:a.jsx(xA,{size:18})}),a.jsx("button",{onClick:_=>{_.stopPropagation(),N(y)},className:"p-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-800 shadow-sm border border-transparent hover:border-red-200 transition",title:"Sil",children:a.jsx(vr,{size:18})})]})]})]},y.id))})]})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map((y,_)=>a.jsxs("div",{onClick:()=>t(y.path),className:"group cursor-pointer bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 hover:border-gray-200",children:[a.jsx("div",{className:`${y.bgColor} w-10 h-10 rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform duration-200`,children:a.jsx(y.icon,{className:`w-5 h-5 ${y.color}`})}),a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:y.title}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-3",children:y.description}),a.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-medium group-hover:translate-x-1 transition-transform duration-200",children:["Başla ",a.jsx(vR,{className:"ml-1 w-3 h-3"})]})]},_))})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:e.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Öğretmen"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-emerald-600",children:r.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Sınıf"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-indigo-600",children:n.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Ders"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-purple-600",children:s.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Program"})]})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Sihirbaz Sistemi"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Adım adım otomatik oluşturma"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Zaman Kısıtlamaları"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Esnek kısıtlama yönetimi"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Çakışma Kontrolü"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Otomatik çakışma tespiti"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"PDF Çıktı"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Profesyonel görünüm"})]})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Sihirbaz tabanlı otomatik program oluşturma sistemi"})})}),a.jsx(ma,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},Pt=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma"],Bn=["1","2","3","4","5","6","7","8","9","10"],es=["Anaokulu","İlkokul","Ortaokul"],a5=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],SR=[{period:"prep",startTime:"08:30",endTime:"08:40",isBreak:!0,breakType:"prep",breakDuration:10},{period:"1",startTime:"08:40",endTime:"09:15"},{period:"breakfast",startTime:"09:15",endTime:"09:35",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break1",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break2",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break3",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"break4",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"prep",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],IR=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],FR=t=>{switch(t){case"İlkokul":return a5;case"Ortaokul":return SR;case"Anaokulu":return IR;default:return a5}},t0=(t,e)=>FR(e).find(n=>n.period===t&&!n.isBreak),r0=(t,e)=>`${t} - ${e}`,fi=({isOpen:t,onClose:e,title:r,children:n,size:s="md"})=>{if(ce.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),ce.useEffect(()=>{const A=o=>{o.key==="Escape"&&t&&e()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[t,e]),!t)return null;const i={sm:"sm:max-w-md",md:"sm:max-w-lg",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end sm:items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),a.jsxs("div",{className:`
          inline-block align-bottom bg-white text-left overflow-hidden shadow-2xl transform transition-all 
          sm:my-8 sm:align-middle sm:w-full ${i[s]}
          
          /* MOBILE OPTIMIZATIONS */
          w-full max-w-none mx-0 mb-0
          sm:mx-4 sm:mb-4 sm:max-w-lg
          
          /* MOBILE: Full width with rounded top corners */
          rounded-t-2xl sm:rounded-xl
          
          /* MOBILE: Better height management */
          max-h-[95vh] sm:max-h-[90vh]
          
          /* MOBILE: Ensure proper positioning */
          modal-mobile
        `,children:[a.jsx("div",{className:"bg-white px-4 sm:px-6 pt-5 sm:pt-6 pb-4 border-b border-gray-200 sticky top-0 z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 pr-4 truncate",children:r}),a.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 btn-touch flex-shrink-0","aria-label":"Modalı kapat",children:a.jsx(ca,{size:24})})]})}),a.jsx("div",{className:"bg-white px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:a.jsx("div",{className:"form-mobile",children:n})})]})]})})},Xt=({label:t,value:e,onChange:r,options:n,required:s=!1,error:i,disabled:A=!1})=>a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",s&&a.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:e,onChange:o=>r(o.target.value),required:s,disabled:A,className:`ide-input w-full appearance-none bg-white ${i?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900":A?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 hover:border-ide-gray-400"}`,children:[a.jsx("option",{value:"",className:"text-ide-gray-500",children:"Seçiniz..."}),n.map(o=>a.jsx("option",{value:o.value,className:"text-ide-gray-900",children:o.label},o.value))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i?a.jsx(Hh,{className:"h-5 w-5 text-ide-accent-500"}):a.jsx(yR,{className:`h-5 w-5 ${A?"text-ide-gray-400":"text-ide-gray-500"}`})})]}),i&&a.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[a.jsx(Hh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:i})]})]}),kR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=St("teachers"),{data:i}=St("subjects"),{success:A,error:o,warning:l}=mi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=fa(),[g,b]=ce.useState(!1),[E,N]=ce.useState(!1),[w,y]=ce.useState(null),[_,L]=ce.useState(""),[V,$]=ce.useState(""),[F,B]=ce.useState(""),[k,P]=ce.useState(!1),[S,j]=ce.useState([{name:"",branch:"",level:""}]),[T,re]=ce.useState({name:"",branches:[],levels:[]}),xe=()=>[...new Set(i.map(ue=>ue.branch))].sort((ue,be)=>ue.localeCompare(be,"tr")),ve=t.filter(te=>{const ue=!_||te.level===_||te.levels&&te.levels.includes(_),be=!V||te.branch===V||te.branch.includes(V)||te.branches&&te.branches.includes(V),Qe=!F||te.name.toLowerCase().includes(F.toLowerCase())||te.branch.toLowerCase().includes(F.toLowerCase());return ue&&be&&Qe}).sort((te,ue)=>te.name.localeCompare(ue.name,"tr")),M=()=>{if(t.length===0){l("⚠️ Silinecek Öğretmen Yok","Sistemde silinecek öğretmen bulunamadı");return}p(`${t.length} Öğretmen`,async()=>{P(!0);try{let te=0;console.log("🗑️ Tüm öğretmenler siliniyor:",{totalTeachers:t.length});for(const ue of t)try{await s(ue.id),te++,console.log(`✅ Öğretmen silindi: ${ue.name}`)}catch(be){console.error(`❌ Öğretmen silinemedi: ${ue.name}`,be)}te>0?(A("🗑️ Öğretmenler Silindi",`${te} öğretmen başarıyla silindi`),L(""),$(""),B("")):o("❌ Silme Hatası","Hiçbir öğretmen silinemedi")}catch(te){console.error("❌ Toplu silme hatası:",te),o("❌ Silme Hatası","Öğretmenler silinirken bir hata oluştu")}finally{P(!1)}})},oe=async te=>{if(te.preventDefault(),T.branches.length===0){o("❌ Branş Seçimi Gerekli","En az bir branş seçmelisiniz");return}if(T.levels.length===0){o("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz");return}try{const ue={name:T.name,branch:T.branches.join(", "),branches:T.branches,level:T.levels[0],levels:T.levels};w?(await n(w.id,ue),A("✅ Öğretmen Güncellendi",`${T.name} başarıyla güncellendi`)):(await r(ue),A("✅ Öğretmen Eklendi",`${T.name} başarıyla eklendi`)),de()}catch{o("❌ Hata","Öğretmen kaydedilirken bir hata oluştu")}},X=async te=>{te.preventDefault();for(const ue of S)ue.name&&ue.branch&&ue.level&&es.includes(ue.level)&&await r({name:ue.name,branch:ue.branch,level:ue.level,branches:[ue.branch],levels:[ue.level]});j([{name:"",branch:"",level:""}]),N(!1),A("✅ Öğretmenler Eklendi",`${S.filter(ue=>ue.name&&ue.branch&&ue.level).length} öğretmen başarıyla eklendi`)},de=()=>{re({name:"",branches:[],levels:[]}),y(null),b(!1)},Q=te=>{const ue=te.branches||te.branch.split(", ").map(Qe=>Qe.trim()),be=te.levels||[te.level];re({name:te.name,branches:ue,levels:be}),y(te),b(!0)},O=async te=>{const ue=t.find(be=>be.id===te);ue&&p(ue.name,async()=>{await s(te),A("🗑️ Öğretmen Silindi",`${ue.name} başarıyla silindi`)})},Y=te=>{re(ue=>ue.branches.includes(te)?{...ue,branches:ue.branches.filter(Qe=>Qe!==te)}:{...ue,branches:[...ue.branches,te]})},Z=te=>{re(ue=>ue.levels.includes(te)?{...ue,levels:ue.levels.filter(Qe=>Qe!==te)}:{...ue,levels:[...ue.levels,te]})},J=()=>{j([...S,{name:"",branch:"",level:""}])},ee=te=>{S.length>1&&j(S.filter((ue,be)=>be!==te))},Ae=(te,ue,be)=>{const Qe=[...S];Qe[te]={...Qe[te],[ue]:be},j(Qe)},le=()=>{B("")},q=te=>{te.key==="Enter"&&(te.preventDefault(),console.log("🔍 Enter ile öğretmen araması:",F),te.target.blur()),te.key==="Escape"&&(le(),te.target.blur())},ae=te=>te.branches&&te.branches.length>0?te.branches.join(", "):te.branch,ge=te=>te.levels&&te.levels.length>0?te.levels:[te.level],Ee=es.map(te=>({value:te,label:te})),Le=xe().map(te=>({value:te,label:te})),_e=[{value:"",label:"Tüm Seviyeler"},...Ee],ne=[{value:"",label:"Tüm Branşlar"},...Le];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Or,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmenler"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," öğretmen kayıtlı (",ve.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[t.length>0&&a.jsx(De,{onClick:M,icon:vr,variant:"danger",disabled:k,className:"w-full sm:w-auto",children:k?"Siliniyor...":`Tümünü Sil (${t.length})`}),a.jsx(De,{onClick:()=>N(!0),icon:kr,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),a.jsx(De,{onClick:()=>b(!0),icon:kr,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Öğretmen"})]})]}),a.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[a.jsxs("div",{className:"mobile-form-group",children:[a.jsx("label",{className:"mobile-form-label",children:"🔍 Öğretmen Ara"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(CS,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:F,onChange:te=>B(te.target.value),onKeyDown:q,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"block w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),F&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Aramayı temizle",children:a.jsx(ca,{className:"w-5 h-5"})})})]}),F&&a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',F,'" için ',ve.length," sonuç bulundu"]}),a.jsx("button",{onClick:le,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:_,onChange:L,options:_e}),a.jsx(Xt,{label:"Branş Filtresi",value:V,onChange:$,options:ne})]})]}),ve.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Or,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"Henüz öğretmen eklenmemiş":F?"Arama sonucu bulunamadı":"Filtrelere uygun öğretmen bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"İlk öğretmeninizi ekleyerek başlayın":F?`"${F}" araması için sonuç bulunamadı`:"Farklı filtre kriterleri deneyin"}),a.jsxs("div",{className:"button-group-mobile",children:[t.length===0&&a.jsxs(a.Fragment,{children:[a.jsx(De,{onClick:()=>N(!0),icon:kr,variant:"secondary",children:"Toplu Ekle"}),a.jsx(De,{onClick:()=>b(!0),icon:kr,variant:"primary",children:"Öğretmen Ekle"})]}),(F||_||V)&&a.jsxs("div",{className:"button-group-mobile",children:[F&&a.jsx(De,{onClick:le,variant:"secondary",children:"Aramayı Temizle"}),(_||V)&&a.jsx(De,{onClick:()=>{L(""),$("")},variant:"secondary",children:"Filtreleri Temizle"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mobile-table-cards",children:ve.map(te=>a.jsxs("div",{className:"mobile-table-card",children:[a.jsx("div",{className:"mobile-table-card-header",children:te.name}),a.jsxs("div",{className:"mobile-table-card-row",children:[a.jsx("span",{className:"mobile-table-card-label",children:"Branş"}),a.jsx("span",{className:"mobile-table-card-value",children:ae(te)})]}),a.jsxs("div",{className:"mobile-table-card-row",children:[a.jsx("span",{className:"mobile-table-card-label",children:"Seviye"}),a.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:ge(te).map((ue,be)=>a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ue==="Anaokulu"?"bg-green-100 text-green-800":ue==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:ue},be))})]}),a.jsxs("div",{className:"mobile-table-card-row",children:[a.jsx("span",{className:"mobile-table-card-label",children:"İşlemler"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(De,{onClick:()=>Q(te),icon:xA,size:"sm",variant:"secondary",children:"Düzenle"}),a.jsx(De,{onClick:()=>O(te.id),icon:vr,size:"sm",variant:"danger",children:"Sil"})]})]})]},te.id))}),a.jsx("div",{className:"desktop-table mobile-card overflow-hidden",children:a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ad Soyad"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seviye"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ve.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:ae(te)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:ge(te).map((ue,be)=>a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ue==="Anaokulu"?"bg-green-100 text-green-800":ue==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:ue},be))})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(De,{onClick:()=>Q(te),icon:xA,size:"sm",variant:"secondary",children:"Düzenle"}),a.jsx(De,{onClick:()=>O(te.id),icon:vr,size:"sm",variant:"danger",children:"Sil"})]})})]},te.id))})]})})})]}),a.jsx(fi,{isOpen:g,onClose:de,title:w?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",children:a.jsxs("form",{onSubmit:oe,children:[a.jsx(Wt,{label:"Ad Soyad",value:T.name,onChange:te=>re({...T,name:te}),placeholder:"Örn: Ahmet Yılmaz",required:!0}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Branşlar ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2 p-3 border border-gray-300 rounded-lg bg-gray-50 max-h-60 overflow-y-auto",children:Le.map(te=>a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:T.branches.includes(te.value),onChange:()=>Y(te.value),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:te.label})]},te.value))}),T.branches.length>0&&a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["✨ Seçilen branşlar: ",T.branches.join(", ")]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:es.map(te=>a.jsxs("label",{className:`
                    flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all
                    ${T.levels.includes(te)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}
                  `,children:[a.jsx("input",{type:"checkbox",checked:T.levels.includes(te),onChange:()=>Z(te),className:"sr-only"}),a.jsx("span",{className:"text-sm font-medium",children:te}),T.levels.includes(te)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"✓"})]},te))}),T.levels.length>0&&a.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["✨ Seçilen seviyeler: ",T.levels.join(", ")]})]}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(De,{type:"button",onClick:de,variant:"secondary",children:"İptal"}),a.jsx(De,{type:"submit",variant:"primary",disabled:T.branches.length===0||T.levels.length===0,children:w?"Güncelle":"Kaydet"})]})]})}),a.jsx(fi,{isOpen:E,onClose:()=>N(!1),title:"Toplu Öğretmen Ekleme",children:a.jsxs("form",{onSubmit:X,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Öğretmen Listesi",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(De,{type:"button",onClick:J,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:S.map((te,ue)=>a.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Ad Soyad",value:te.name,onChange:be=>Ae(ue,"name",be.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsxs("select",{value:te.branch,onChange:be=>Ae(ue,"branch",be.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Branş Seçin"}),Le.map(be=>a.jsx("option",{value:be.value,children:be.label},be.value))]}),a.jsxs("select",{value:te.level,onChange:be=>Ae(ue,"level",be.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Seviye"}),es.map(be=>a.jsx("option",{value:be,children:be},be))]}),a.jsx("button",{type:"button",onClick:()=>ee(ue),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:S.length===1,children:"Sil"})]},ue))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Öğretmenler:"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• Ahmet Yılmaz - Matematik - İlkokul"}),a.jsx("p",{children:"• Ayşe Demir - Türkçe - Ortaokul"}),a.jsx("p",{children:"• Mehmet Kaya - Fen Bilimleri - İlkokul"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(De,{type:"button",onClick:()=>N(!1),variant:"secondary",children:"İptal"}),a.jsxs(De,{type:"submit",variant:"primary",children:["Toplu Ekle (",S.filter(te=>te.name&&te.branch&&te.level).length," öğretmen)"]})]})]})}),a.jsx(ma,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},TR=()=>{const t=Wl(),{data:e,loading:r,add:n,update:s,remove:i}=St("classes"),{data:A}=St("schedules"),{data:o}=St("teachers"),{success:l,error:c,warning:h}=mi(),{confirmation:f,showConfirmation:p,hideConfirmation:g,confirmDelete:b}=fa(),[E,N]=ce.useState(!1),[w,y]=ce.useState(!1),[_,L]=ce.useState(null),[V,$]=ce.useState(""),[F,B]=ce.useState(!1),[k,P]=ce.useState([{name:"",level:""}]),[S,j]=ce.useState({name:"",levels:[],teacherIds:[],classTeacherId:""}),T=te=>A.some(ue=>Object.values(ue.schedule).some(be=>Object.values(be).some(Qe=>(Qe==null?void 0:Qe.classId)===te))),re=te=>{let ue=0;return A.forEach(be=>{Object.values(be.schedule).forEach(Qe=>{Object.values(Qe).forEach(Ge=>{(Ge==null?void 0:Ge.classId)===te&&ue++})})}),ue},xe=te=>{t(`/class-schedules?classId=${te}`)},pe=te=>{t(`/schedules?mode=class&classId=${te}`)},M=e.filter(te=>!V||te.level===V||te.levels&&te.levels.includes(V)).sort((te,ue)=>te.name.localeCompare(ue.name,"tr")),oe=()=>{if(e.length===0){h("⚠️ Silinecek Sınıf Yok","Sistemde silinecek sınıf bulunamadı");return}b(`${e.length} Sınıf`,async()=>{B(!0);try{let te=0;console.log("🗑️ Tüm sınıflar siliniyor:",{totalClasses:e.length});for(const ue of e)try{await i(ue.id),te++,console.log(`✅ Sınıf silindi: ${ue.name}`)}catch(be){console.error(`❌ Sınıf silinemedi: ${ue.name}`,be)}te>0?(l("🗑️ Sınıflar Silindi",`${te} sınıf başarıyla silindi`),$("")):c("❌ Silme Hatası","Hiçbir sınıf silinemedi")}catch(te){console.error("❌ Toplu silme hatası:",te),c("❌ Silme Hatası","Sınıflar silinirken bir hata oluştu")}finally{B(!1)}})},X=async te=>{if(te.preventDefault(),S.levels.length===0){c("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz");return}const ue={name:S.name,level:S.levels[0],levels:S.levels,teacherIds:S.teacherIds,classTeacherId:S.classTeacherId};try{_?(await s(_.id,ue),l("✅ Sınıf Güncellendi",`${S.name} sınıfı başarıyla güncellendi`)):(await n(ue),l("✅ Sınıf Eklendi",`${S.name} sınıfı başarıyla eklendi`)),Q()}catch{c("❌ Hata","Sınıf kaydedilirken bir hata oluştu")}},de=async te=>{te.preventDefault();for(const ue of k)ue.name&&ue.level&&es.includes(ue.level)&&await n({name:ue.name,level:ue.level,levels:[ue.level],teacherIds:[]});P([{name:"",level:""}]),y(!1),l("✅ Sınıflar Eklendi",`${k.filter(ue=>ue.name&&ue.level).length} sınıf başarıyla eklendi`)},Q=()=>{j({name:"",levels:[],teacherIds:[],classTeacherId:""}),L(null),N(!1)},O=te=>{const ue=te.levels||[te.level];j({name:te.name,levels:ue,teacherIds:te.teacherIds||[],classTeacherId:te.classTeacherId||""}),L(te),N(!0)},Y=async te=>{const ue=e.find(be=>be.id===te);ue&&b(ue.name,async()=>{await i(te),l("🗑️ Sınıf Silindi",`${ue.name} başarıyla silindi`)})},Z=()=>{P([...k,{name:"",level:""}])},J=te=>{k.length>1&&P(k.filter((ue,be)=>be!==te))},ee=(te,ue,be)=>{const Qe=[...k];Qe[te]={...Qe[te],[ue]:be},P(Qe)},Ae=te=>{j(ue=>{if(ue.teacherIds.includes(te)){const Qe=ue.teacherIds.filter(We=>We!==te),Ge=ue.classTeacherId===te?"":ue.classTeacherId;return{...ue,teacherIds:Qe,classTeacherId:Ge}}else return{...ue,teacherIds:[...ue.teacherIds,te]}})},le=te=>{j(ue=>{const be=ue.teacherIds.includes(te)?ue.teacherIds:[...ue.teacherIds,te];return{...ue,teacherIds:be,classTeacherId:te}})},q=te=>{j(ue=>ue.levels.includes(te)?{...ue,levels:ue.levels.filter(Qe=>Qe!==te)}:{...ue,levels:[...ue.levels,te]})},ae=()=>S.levels.length===0?[]:o.filter(te=>S.levels.some(ue=>te.level===ue||te.levels&&te.levels.includes(ue))).sort((te,ue)=>te.name.localeCompare(ue.name,"tr")),ge=te=>{if(!te)return"";const ue=o.find(be=>be.id===te);return ue?ue.name:""},Ee=te=>!te||te.length===0?"":o.filter(be=>te.includes(be.id)).map(be=>be.name).join(", "),Le=te=>te.levels&&te.levels.length>0?te.levels:[te.level],_e=es.map(te=>({value:te,label:te})),ne=[{value:"",label:"Tüm Seviyeler"},..._e];return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Is,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıflar"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," sınıf kayıtlı (",M.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[e.length>0&&a.jsx(De,{onClick:oe,icon:vr,variant:"danger",disabled:F,className:"w-full sm:w-auto",children:F?"Siliniyor...":`Tümünü Sil (${e.length})`}),a.jsx(De,{onClick:()=>y(!0),icon:kr,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),a.jsx(De,{onClick:()=>N(!0),icon:kr,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Sınıf"})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsx("div",{className:"responsive-grid-1 gap-responsive",children:a.jsx(Xt,{label:"Seviye Filtresi",value:V,onChange:$,options:ne})})}),M.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Is,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz sınıf eklenmemiş":"Filtrelere uygun sınıf bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk sınıfınızı ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),a.jsx("div",{className:"button-group-mobile",children:e.length===0&&a.jsxs(a.Fragment,{children:[a.jsx(De,{onClick:()=>y(!0),icon:kr,variant:"secondary",children:"Toplu Ekle"}),a.jsx(De,{onClick:()=>N(!0),icon:kr,variant:"primary",children:"Sınıf Ekle"})]})})]}):a.jsx("div",{className:"responsive-grid gap-responsive",children:M.map(te=>{const ue=T(te.id),be=re(te.id),Qe=ge(te.classTeacherId),Ge=Ee(te.teacherIds),We=Le(te);return a.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:te.name}),a.jsx("div",{className:"flex flex-wrap gap-1",children:We.map((At,vt)=>a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${At==="Anaokulu"?"bg-green-100 text-green-800":At==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:At},vt))})]}),(Qe||Ge)&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Or,{className:"w-4 h-4 text-blue-600 mr-2"}),a.jsxs("div",{children:[Qe&&a.jsxs("p",{className:"text-sm font-medium text-blue-700",children:[a.jsx("span",{className:"font-bold",children:"Sınıf öğretmeni:"})," ",Qe]}),Ge&&a.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Öğretmenler:"})," ",Ge]})]})]})}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Program Durumu"}),a.jsxs("div",{className:"flex items-center mt-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${ue?"bg-green-500":"bg-gray-400"}`}),a.jsx("span",{className:`text-sm ${ue?"text-green-700":"text-gray-500"}`,children:ue?`${be} ders saati`:"Program yok"})]})]}),ue&&a.jsx("button",{onClick:()=>xe(te.id),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Programı Görüntüle","aria-label":`${te.name} sınıfının programını görüntüle`,children:a.jsx(Zg,{size:18})})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>O(te),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Sınıfı Düzenle","aria-label":`${te.name} sınıfını düzenle`,children:a.jsx(xA,{size:16})}),a.jsx("button",{onClick:()=>Y(te.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",title:"Sınıfı Sil","aria-label":`${te.name} sınıfını sil`,children:a.jsx(vr,{size:16})})]}),a.jsx("button",{onClick:()=>pe(te.id),className:"p-2 text-emerald-600 hover:text-emerald-800 hover:bg-emerald-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",title:ue?"Programı Düzenle":"Program Oluştur","aria-label":`${te.name} sınıfı için ${ue?"programı düzenle":"program oluştur"}`,children:a.jsx(Zn,{size:18})})]})]},te.id)})}),a.jsx(fi,{isOpen:E,onClose:Q,title:_?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:a.jsxs("form",{onSubmit:X,children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Bilgileri"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Wt,{label:"Sınıf Adı",value:S.name,onChange:te=>j({...S,name:te}),placeholder:"Örn: 5A, 7B",required:!0}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:es.map(te=>a.jsxs("label",{className:`
                          flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all
                          ${S.levels.includes(te)?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}
                        `,children:[a.jsx("input",{type:"checkbox",checked:S.levels.includes(te),onChange:()=>q(te),className:"sr-only"}),a.jsx("span",{className:"text-sm font-medium",children:te}),S.levels.includes(te)&&a.jsx("span",{className:"ml-2 text-emerald-600",children:"✓"})]},te))}),S.levels.length>0&&a.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:["✨ Seçilen seviyeler: ",S.levels.join(", ")]})]})]})]}),S.levels.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Or,{className:"w-5 h-5 mr-2 text-blue-600"}),"Sınıf Öğretmenleri"]}),ae().length===0?a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[a.jsx(Or,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Seçilen seviyelerde öğretmen bulunamadı"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Önce öğretmen ekleyin veya farklı seviyeler seçin"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Öğretmeni"}),a.jsxs("select",{value:S.classTeacherId,onChange:te=>le(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Sınıf öğretmeni seçin..."}),ae().map(te=>a.jsxs("option",{value:te.id,children:[te.name," (",te.branch,")"]},te.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıfta Ders Verecek Öğretmenler"}),a.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:a.jsx("div",{className:"divide-y divide-gray-200",children:ae().map(te=>{const ue=S.teacherIds.includes(te.id),be=S.classTeacherId===te.id;return a.jsxs("div",{className:`p-3 flex items-center justify-between hover:bg-gray-50 transition-colors ${be?"bg-blue-50":""}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`teacher-${te.id}`,checked:ue,onChange:()=>Ae(te.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:`teacher-${te.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:[te.name,a.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",te.branch,")"]}),be&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Sınıf Öğretmeni"})]})]}),!be&&ue&&a.jsx("button",{type:"button",onClick:()=>le(te.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Sınıf öğretmeni yap"})]},te.id)})})}),a.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[a.jsx(Or,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[S.teacherIds.length," öğretmen seçildi"]})]})]})]})]})]}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(De,{type:"button",onClick:Q,variant:"secondary",children:"İptal"}),a.jsx(De,{type:"submit",variant:"primary",disabled:S.levels.length===0,children:_?"Güncelle":"Kaydet"})]})]})}),a.jsx(fi,{isOpen:w,onClose:()=>y(!1),title:"Toplu Sınıf Ekleme",children:a.jsxs("form",{onSubmit:de,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Sınıf Listesi",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(De,{type:"button",onClick:Z,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:k.map((te,ue)=>a.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Sınıf Adı",value:te.name,onChange:be=>ee(ue,"name",be.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsxs("select",{value:te.level,onChange:be=>ee(ue,"level",be.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Seviye"}),es.map(be=>a.jsx("option",{value:be,children:be},be))]}),a.jsx("button",{type:"button",onClick:()=>J(ue),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:k.length===1,children:"Sil"})]},ue))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Sınıflar:"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• 5A - İlkokul"}),a.jsx("p",{children:"• 7B - Ortaokul"}),a.jsx("p",{children:"• Papatya - Anaokulu"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(De,{type:"button",onClick:()=>y(!1),variant:"secondary",children:"İptal"}),a.jsxs(De,{type:"submit",variant:"primary",children:["Toplu Ekle (",k.filter(te=>te.name&&te.level).length," sınıf)"]})]})]})}),a.jsx(ma,{isOpen:f.isOpen,onClose:g,onConfirm:f.onConfirm,title:f.title,message:f.message,type:f.type,confirmText:f.confirmText,cancelText:f.cancelText,confirmVariant:f.confirmVariant})]})},UR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=St("subjects"),{success:i,error:A,warning:o}=mi(),{confirmation:l,showConfirmation:c,hideConfirmation:h,confirmDelete:f}=fa(),[p,g]=ce.useState(!1),[b,E]=ce.useState(!1),[N,w]=ce.useState(null),[y,_]=ce.useState(""),[L,V]=ce.useState(""),[$,F]=ce.useState(!1),[B,k]=ce.useState([{name:"",branch:"",level:"",weeklyHours:""}]),[P,S]=ce.useState({name:"",branch:"",levels:[],weeklyHours:""}),j=()=>[...new Set(t.map(ae=>ae.branch))].sort((ae,ge)=>ae.localeCompare(ge,"tr")),re=t.filter(q=>{const ae=!y||q.level===y||q.levels&&q.levels.includes(y),ge=!L||q.branch===L;return ae&&ge}).sort((q,ae)=>q.name.localeCompare(ae.name,"tr")),xe=()=>{if(t.length===0){o("⚠️ Silinecek Ders Yok","Sistemde silinecek ders bulunamadı");return}f(`${t.length} Ders`,async()=>{F(!0);try{let q=0;console.log("🗑️ Tüm dersler siliniyor:",{totalSubjects:t.length});for(const ae of t)try{await s(ae.id),q++,console.log(`✅ Ders silindi: ${ae.name}`)}catch(ge){console.error(`❌ Ders silinemedi: ${ae.name}`,ge)}q>0?(i("🗑️ Dersler Silindi",`${q} ders başarıyla silindi`),_(""),V("")):A("❌ Silme Hatası","Hiçbir ders silinemedi")}catch(q){console.error("❌ Toplu silme hatası:",q),A("❌ Silme Hatası","Dersler silinirken bir hata oluştu")}finally{F(!1)}})},pe=async q=>{if(q.preventDefault(),P.levels.length===0){A("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz");return}const ae={name:P.name,branch:P.branch,level:P.levels[0],levels:P.levels,weeklyHours:parseInt(P.weeklyHours)};try{N?(await n(N.id,ae),i("✅ Ders Güncellendi",`${P.name} başarıyla güncellendi`)):(await r(ae),i("✅ Ders Eklendi",`${P.name} başarıyla eklendi`)),M()}catch{A("❌ Hata","Ders kaydedilirken bir hata oluştu")}},ve=async q=>{q.preventDefault();for(const ae of B)ae.name&&ae.branch&&ae.level&&ae.weeklyHours&&es.includes(ae.level)&&!isNaN(parseInt(ae.weeklyHours))&&await r({name:ae.name,branch:ae.branch,level:ae.level,levels:[ae.level],weeklyHours:parseInt(ae.weeklyHours)});k([{name:"",branch:"",level:"",weeklyHours:""}]),E(!1),i("✅ Dersler Eklendi",`${B.filter(ae=>ae.name&&ae.branch&&ae.level&&ae.weeklyHours).length} ders başarıyla eklendi`)},M=()=>{S({name:"",branch:"",levels:[],weeklyHours:""}),w(null),g(!1)},oe=q=>{const ae=q.levels||[q.level];S({name:q.name,branch:q.branch,levels:ae,weeklyHours:q.weeklyHours.toString()}),w(q),g(!0)},X=async q=>{const ae=t.find(ge=>ge.id===q);ae&&f(ae.name,async()=>{await s(q),i("🗑️ Ders Silindi",`${ae.name} başarıyla silindi`)})},de=q=>{S(ae=>ae.levels.includes(q)?{...ae,levels:ae.levels.filter(Ee=>Ee!==q)}:{...ae,levels:[...ae.levels,q]})},Q=()=>{k([...B,{name:"",branch:"",level:"",weeklyHours:""}])},O=q=>{B.length>1&&k(B.filter((ae,ge)=>ge!==q))},Y=(q,ae,ge)=>{const Ee=[...B];Ee[q]={...Ee[q],[ae]:ge},k(Ee)},Z=q=>q.levels&&q.levels.length>0?q.levels:[q.level],J=es.map(q=>({value:q,label:q})),ee=j().map(q=>({value:q,label:q})),Ae=[{value:"",label:"Tüm Seviyeler"},...J],le=[{value:"",label:"Tüm Branşlar"},...ee];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Dersler"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," ders kayıtlı (",re.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[t.length>0&&a.jsx(De,{onClick:xe,icon:vr,variant:"danger",disabled:$,className:"w-full sm:w-auto",children:$?"Siliniyor...":`Tümünü Sil (${t.length})`}),a.jsx(De,{onClick:()=>E(!0),icon:kr,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),a.jsx(De,{onClick:()=>g(!0),icon:kr,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Ders"})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:y,onChange:_,options:Ae}),a.jsx(Xt,{label:"Branş Filtresi",value:L,onChange:V,options:le})]})}),re.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Mi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"Henüz ders eklenmemiş":"Filtrelere uygun ders bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"İlk dersinizi ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),a.jsx("div",{className:"button-group-mobile",children:t.length===0&&a.jsxs(a.Fragment,{children:[a.jsx(De,{onClick:()=>E(!0),icon:kr,variant:"secondary",children:"Toplu Ekle"}),a.jsx(De,{onClick:()=>g(!0),icon:kr,variant:"primary",children:"Ders Ekle"})]})})]}):a.jsx("div",{className:"mobile-card overflow-hidden",children:a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ders Adı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seviye"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Haftalık Saat"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re.map(q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:q.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:Z(q).map((ae,ge)=>a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ae==="Anaokulu"?"bg-green-100 text-green-800":ae==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:ae},ge))})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[q.weeklyHours," saat"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(De,{onClick:()=>oe(q),icon:xA,size:"sm",variant:"secondary",children:"Düzenle"}),a.jsx(De,{onClick:()=>X(q.id),icon:vr,size:"sm",variant:"danger",children:"Sil"})]})})]},q.id))})]})})}),a.jsx(fi,{isOpen:p,onClose:M,title:N?"Ders Düzenle":"Yeni Ders Ekle",children:a.jsxs("form",{onSubmit:pe,children:[a.jsx(Wt,{label:"Ders Adı",value:P.name,onChange:q=>S({...P,name:q}),placeholder:"Örn: Matematik",required:!0}),a.jsx(Wt,{label:"Branş",value:P.branch,onChange:q=>S({...P,branch:q}),placeholder:"Örn: Fen Bilimleri",required:!0}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:es.map(q=>a.jsxs("label",{className:`
                    flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all
                    ${P.levels.includes(q)?"bg-indigo-50 border-indigo-500 text-indigo-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}
                  `,children:[a.jsx("input",{type:"checkbox",checked:P.levels.includes(q),onChange:()=>de(q),className:"sr-only"}),a.jsx("span",{className:"text-sm font-medium",children:q}),P.levels.includes(q)&&a.jsx("span",{className:"ml-2 text-indigo-600",children:"✓"})]},q))}),P.levels.length>0&&a.jsxs("p",{className:"text-xs text-indigo-600 mt-2",children:["✨ Seçilen seviyeler: ",P.levels.join(", ")]})]}),a.jsx(Wt,{label:"Haftalık Ders Saati",type:"number",value:P.weeklyHours,onChange:q=>S({...P,weeklyHours:q}),placeholder:"Örn: 4",required:!0}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(De,{type:"button",onClick:M,variant:"secondary",children:"İptal"}),a.jsx(De,{type:"submit",variant:"primary",disabled:P.levels.length===0,children:N?"Güncelle":"Kaydet"})]})]})}),a.jsx(fi,{isOpen:b,onClose:()=>E(!1),title:"Toplu Ders Ekleme",children:a.jsxs("form",{onSubmit:ve,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Ders Listesi",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(De,{type:"button",onClick:Q,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:B.map((q,ae)=>a.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Ders Adı",value:q.name,onChange:ge=>Y(ae,"name",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsx("input",{type:"text",placeholder:"Branş",value:q.branch,onChange:ge=>Y(ae,"branch",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsxs("select",{value:q.level,onChange:ge=>Y(ae,"level",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Seviye"}),es.map(ge=>a.jsx("option",{value:ge,children:ge},ge))]}),a.jsx("input",{type:"number",placeholder:"Saat",value:q.weeklyHours,onChange:ge=>Y(ae,"weeklyHours",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1",max:"10",required:!0}),a.jsx("button",{type:"button",onClick:()=>O(ae),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:B.length===1,children:"Sil"})]},ae))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Dersler:"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• Matematik - Matematik - İlkokul - 5 saat"}),a.jsx("p",{children:"• Türkçe - Türkçe - Ortaokul - 6 saat"}),a.jsx("p",{children:"• Fen Bilimleri - Fen Bilimleri - İlkokul - 3 saat"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(De,{type:"button",onClick:()=>E(!1),variant:"secondary",children:"İptal"}),a.jsxs(De,{type:"submit",variant:"primary",children:["Toplu Ekle (",B.filter(q=>q.name&&q.branch&&q.level&&q.weeklyHours).length," ders)"]})]})]})}),a.jsx(ma,{isOpen:l.isOpen,onClose:h,onConfirm:l.onConfirm,title:l.title,message:l.message,type:l.type,confirmText:l.confirmText,cancelText:l.cancelText,confirmVariant:l.confirmVariant})]})},QR=()=>{const[t,e]=ce.useState({isOpen:!1,title:"",message:""}),r=ce.useCallback((s,i)=>{console.log("🚨 ERROR MODAL AÇILIYOR:",{title:s,message:i}),e({isOpen:!0,title:s,message:i})},[]),n=ce.useCallback(()=>{console.log("✅ ERROR MODAL KAPATILIYOR"),e(s=>({...s,isOpen:!1}))},[]);return{errorModal:t,showError:r,hideError:n}},o5=(t,e,r,n,s,i,A,o)=>{var h;if(!e||!r||!n||!s)return{hasConflict:!0,message:"Geçersiz parametre"};const l=e,c=r;if(!Pt.includes(l)||!Bn.includes(c))return{hasConflict:!0,message:"Geçersiz gün veya ders saati"};if(console.log("🔍 IMPROVED Çakışma kontrolü başlatıldı:",{mode:t,day:l,period:c,targetId:n,currentEntityId:s,schedulesCount:i.length}),t==="teacher"){const f=i.filter(p=>{var E;if(p.teacherId===s)return!1;const g=(E=p.schedule[l])==null?void 0:E[c],b=(g==null?void 0:g.classId)===n&&g.classId!=="fixed-period";return b&&console.log("⚠️ Teacher mode çakışma bulundu:",{conflictingTeacherId:p.teacherId,currentTeacherId:s,classId:n,slot:g}),b});if(f.length>0){const p=f[0],g=A.find(N=>N.id===p.teacherId),b=o.find(N=>N.id===n),E=`${(b==null?void 0:b.name)||"Sınıf"} ${l} günü ${c}. ders saatinde ${(g==null?void 0:g.name)||"başka bir öğretmen"} ile çakışıyor`;return console.log("❌ Teacher mode çakışma mesajı:",E),{hasConflict:!0,message:E}}}else{const f=i.find(p=>p.teacherId===n);if(console.log("🔍 Class mode - öğretmen programı kontrol ediliyor:",{teacherId:n,teacherScheduleFound:!!f,currentClassId:s}),f){const p=(h=f.schedule[l])==null?void 0:h[c];if(console.log("🔍 Mevcut slot kontrol ediliyor:",{day:l,period:c,existingSlot:p,existingClassId:p==null?void 0:p.classId,currentClassId:s,isFixedPeriod:(p==null?void 0:p.classId)==="fixed-period"}),p!=null&&p.classId&&p.classId!==s&&p.classId!=="fixed-period"){const g=A.find(N=>N.id===n),b=o.find(N=>N.id===p.classId),E=`${(g==null?void 0:g.name)||"Öğretmen"} ${l} günü ${c}. ders saatinde ${(b==null?void 0:b.name)||"başka bir sınıf"} ile çakışıyor`;return console.log("❌ Class mode çakışma mesajı:",E),{hasConflict:!0,message:E}}}}return console.log("✅ Çakışma bulunamadı"),{hasConflict:!1,message:""}},am=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(l=>l.entityType==="teacher"&&l.entityId===n&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="unavailable"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde müsait değil`)}),t==="class"&&s&&i.filter(l=>l.entityType==="class"&&l.entityId===s&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="unavailable"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde müsait değil`)}),A},om=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(l=>l.entityType==="teacher"&&l.entityId===n&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="restricted"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde kısıtlı`)}),t==="class"&&s&&i.filter(l=>l.entityType==="class"&&l.entityId===s&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="restricted"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde kısıtlı`)}),A},jR=(t,e,r,n,s,i,A,o=[])=>{const l=[],c=[],h=[];return!t||!e||!r?(l.push("Geçersiz program verisi"),{isValid:!1,errors:l,warnings:c,constraintViolations:h}):(Pt.forEach(f=>{Bn.forEach(p=>{var b;const g=(b=e[f])==null?void 0:b[p];if(!(!g||g.classId==="fixed-period")){if(t==="teacher"&&g.classId){const E=am("teacher",f,p,r,g.classId,o);h.push(...E);const N=am("class",f,p,r,g.classId,o);h.push(...N);const w=om("teacher",f,p,r,g.classId,o);c.push(...w);const y=om("class",f,p,r,g.classId,o);c.push(...y)}else if(t==="class"&&g.teacherId){const E=am("teacher",f,p,g.teacherId,r,o);h.push(...E);const N=am("class",f,p,g.teacherId,r,o);h.push(...N);const w=om("teacher",f,p,g.teacherId,r,o);c.push(...w);const y=om("class",f,p,g.teacherId,r,o);c.push(...y)}}})}),Pt.forEach(f=>{Bn.forEach(p=>{var b;const g=(b=e[f])==null?void 0:b[p];!g||g.classId==="fixed-period"||t==="teacher"&&r&&o.filter(N=>N.entityType==="teacher"&&N.entityId===r&&N.day===f&&N.period===p).some(N=>N.constraintType!=="preferred")})}),{isValid:l.length===0&&h.length===0,errors:[...new Set(l)],warnings:[...new Set(c)],constraintViolations:[...new Set(h)]})},LR=({isOpen:t,onClose:e,onSave:r,subjects:n,classes:s,teachers:i=[],mode:A="teacher",currentSubjectId:o="",currentClassId:l="",currentTeacherId:c="",day:h,period:f})=>{const[p,g]=ce.useState(o),[b,E]=ce.useState(l),[N,w]=ce.useState(c);ui.useEffect(()=>{g(o),E(l),w(c)},[o,l,c,t]);const y=()=>{if(A==="teacher")if(b){const B=n[0];r((B==null?void 0:B.id)||"",b)}else r("","");else if(N){const B=n[0];r((B==null?void 0:B.id)||"",b,N)}else r("","","");e()},_=()=>{A==="teacher"?r("",""):r("","",""),e()},V=[...s].sort((B,k)=>B.name.localeCompare(k.name,"tr")).map(B=>({value:B.id,label:B.name})),F=[...i].sort((B,k)=>B.name.localeCompare(k.name,"tr")).map(B=>({value:B.id,label:`${B.name} (${B.branch})`}));return t?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),a.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full",children:a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[h," - ",f,". Ders"]}),a.jsx("button",{onClick:e,className:"rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:a.jsx(ca,{size:24})})]}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${A==="teacher"?"bg-blue-500":"bg-emerald-500"}`}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:A==="teacher"?"Öğretmen Modu: Sınıf Seçin":"Sınıf Modu: Öğretmen Seçin"})]})}),a.jsx("div",{className:"space-y-4",children:A==="teacher"?a.jsx(Xt,{label:"Sınıf Seçin (A-Z Sıralı)",value:b,onChange:E,options:V,required:!0}):a.jsx(Xt,{label:"Öğretmen Seçin (A-Z Sıralı)",value:N,onChange:w,options:F,required:!0})}),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(De,{onClick:_,variant:"danger",size:"sm",children:"Temizle"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(De,{onClick:e,variant:"secondary",children:"İptal"}),a.jsx(De,{onClick:y,variant:"primary",disabled:A==="teacher"?!b:!N,children:"Kaydet"})]})]})]})})]})}):null},PR=({isOpen:t,onClose:e,title:r,message:n})=>t?a.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform animate-pulse",children:[a.jsx("div",{className:"bg-red-600 text-white p-6 rounded-t-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ks,{className:"w-8 h-8 mr-3 animate-bounce"}),a.jsx("h3",{className:"text-xl font-bold",children:r})]}),a.jsx("button",{onClick:e,className:"text-white hover:text-red-200 transition-colors p-1 rounded-full hover:bg-red-700",children:a.jsx(ca,{size:24})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-gray-800 text-base leading-relaxed whitespace-pre-line",children:n})}),a.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl flex justify-end",children:a.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Tamam"})})]})}):null,DR=()=>{var je,Je,ht,Mr,Dt,zt;Wl();const t=$o(),{data:e}=St("teachers"),{data:r}=St("classes"),{data:n}=St("subjects"),{data:s,add:i,update:A}=St("schedules");St("constraints");const{success:o,error:l,warning:c}=mi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmUnsavedChanges:g}=fa(),{errorModal:b,showError:E,hideError:N}=QR(),[w,y]=ce.useState("teacher"),[_,L]=ce.useState(""),[V,$]=ce.useState(""),[F,B]=ce.useState(""),[k,P]=ce.useState(""),[S,j]=ce.useState(!1),[T,re]=ce.useState({}),[xe,pe]=ce.useState({}),[ve,M]=ce.useState(!1),[oe,X]=ce.useState(!1),[de,Q]=ce.useState(!1),[O,Y]=ce.useState(""),[Z,J]=ce.useState(""),[ee,Ae]=ce.useState(!1);ce.useEffect(()=>{const Ue=new URLSearchParams(t.search),$e=Ue.get("mode"),st=Ue.get("teacherId"),et=Ue.get("classId");$e==="class"&&et?(y("class"),$(et)):st&&(y("teacher"),L(st))},[t]),ce.useEffect(()=>{if(w==="teacher"&&_){const Ue=s.find($e=>$e.teacherId===_);if(Ue)re(Ue.schedule),pe(JSON.parse(JSON.stringify(Ue.schedule)));else{const $e={};Pt.forEach(st=>{$e[st]={}}),re($e),pe(JSON.parse(JSON.stringify($e)))}Y(""),J(""),Ae(!1)}else if(w==="class"&&V){const Ue={};Pt.forEach($e=>{Ue[$e]={}}),s.forEach($e=>{Pt.forEach(st=>{Bn.forEach(et=>{var mt;const rt=(mt=$e.schedule[st])==null?void 0:mt[et];(rt==null?void 0:rt.classId)===V&&(Ue[st][et]||(Ue[st][et]={teacherId:$e.teacherId,classId:V,subjectId:rt.subjectId}))})})}),re(Ue),pe(JSON.parse(JSON.stringify(Ue)))}},[w,_,V,s]),ce.useEffect(()=>{const Ue=JSON.stringify(T)!==JSON.stringify(xe);M(Ue)},[T,xe]);const le=e.find(Ue=>Ue.id===_),q=r.find(Ue=>Ue.id===V),ae=Ue=>Ue?Ue.levels||[Ue.level]:[],ge=Ue=>Ue?Ue.branches||[Ue.branch]:[],Ee=le?ae(le).map(Ue=>({value:Ue,label:Ue})):[],Le=le?ge(le).map(Ue=>({value:Ue,label:Ue})):[];ce.useEffect(()=>{Ae(w==="teacher"&&_&&O&&Z?!0:w==="class"&&!!V)},[w,_,V,O,Z]);const te=[...w!=="teacher"||!O||!Z?r:r.filter(Ue=>{const $e=Ue.levels||[Ue.level],st=$e.includes(O),et=n.filter(rt=>{const mt=rt.levels||[rt.level];return rt.branch===Z&&mt.some(pt=>$e.includes(pt))});return st&&et.length>0})].sort((Ue,$e)=>Ue.name.localeCompare($e.name,"tr")),ue=(Ue,$e)=>{var et,rt;((rt=(et=T[Ue])==null?void 0:et[$e])==null?void 0:rt.classId)!=="fixed-period"&&(B(Ue),P($e),j(!0))},be=(Ue,$e,st)=>{if(!F||!k)return;let et=!1,rt="";if(w==="teacher"&&$e){const pt=o5("teacher",F,k,$e,_,s,e,r);et=pt.hasConflict,rt=pt.message}else if(w==="class"&&st){const pt=o5("class",F,k,st,V,s,e,r);et=pt.hasConflict,rt=pt.message}if(et){E("Çakışma Tespit Edildi",rt);return}const mt={...T};mt[F]||(mt[F]={}),w==="teacher"&&$e?mt[F][k]=$e?{classId:$e,subjectId:Ue}:null:w==="class"&&st&&(mt[F][k]=st?{teacherId:st,subjectId:Ue,classId:V}:null),re(mt),j(!1)},Qe=async()=>{const Ue=jR(w,T,w==="teacher"?_:V);if(!Ue.isValid){E("Program Kaydedilemedi",`Aşağıdaki sorunları düzeltin:

${Ue.errors.join(`
`)}`);return}if(Ue.warnings.length>0){const $e=`Aşağıdaki uyarılar mevcut:

${Ue.warnings.join(`
`)}

Yine de kaydetmek istiyor musunuz?`;f({title:"Uyarılar Mevcut",message:$e,type:"warning",confirmText:"Yine de Kaydet",cancelText:"İptal",confirmVariant:"primary"},Ge);return}await Ge()},Ge=async()=>{X(!0);try{if(w==="teacher"){const Ue=s.find(st=>st.teacherId===_);Ue?await A(Ue.id,{schedule:T,updatedAt:new Date}):await i({teacherId:_,schedule:T,updatedAt:new Date});const $e=e.find(st=>st.id===_);o("✅ Program Kaydedildi",`${($e==null?void 0:$e.name)||"Öğretmen"} programı başarıyla kaydedildi`)}else{const Ue={};Pt.forEach(st=>{Bn.forEach(et=>{var mt;const rt=(mt=T[st])==null?void 0:mt[et];rt!=null&&rt.teacherId&&(Ue[rt.teacherId]||(Ue[rt.teacherId]={}),Ue[rt.teacherId][st]||(Ue[rt.teacherId][st]={}),Ue[rt.teacherId][st][et]={classId:V,subjectId:rt.subjectId})})});for(const st of Object.keys(Ue)){const et=s.find(rt=>rt.teacherId===st);if(et){const rt={...et.schedule};Object.entries(Ue[st]).forEach(([mt,pt])=>{rt[mt]||(rt[mt]={}),Object.entries(pt).forEach(([at,Bt])=>{rt[mt][at]=Bt})}),await A(et.id,{schedule:rt,updatedAt:new Date})}else{const rt={};Pt.forEach(mt=>{rt[mt]={}}),Object.entries(Ue[st]).forEach(([mt,pt])=>{Object.entries(pt).forEach(([at,Bt])=>{rt[mt][at]=Bt})}),await i({teacherId:st,schedule:rt,updatedAt:new Date})}}const $e=r.find(st=>st.id===V);o("✅ Program Kaydedildi",`${($e==null?void 0:$e.name)||"Sınıf"} programı başarıyla kaydedildi`)}pe(JSON.parse(JSON.stringify(T))),M(!1)}catch{l("❌ Kayıt Hatası","Program kaydedilirken bir hata oluştu")}finally{X(!1)}},We=()=>{ve?f({title:"Değişiklikleri Sıfırla",message:"Kaydedilmemiş değişiklikler var. Sıfırlamak istediğinizden emin misiniz?",type:"warning",confirmText:"Sıfırla",cancelText:"İptal",confirmVariant:"danger"},At):At()},At=()=>{Q(!0),re(JSON.parse(JSON.stringify(xe))),M(!1),Q(!1),o("🔄 Program Sıfırlandı","Tüm değişiklikler sıfırlandı")},vt=Ue=>{ve?f({title:"Kaydedilmemiş Değişiklikler",message:"Kaydedilmemiş değişiklikler var. Devam etmek istediğinizden emin misiniz?",type:"warning",confirmText:"Devam Et",cancelText:"İptal",confirmVariant:"danger"},()=>Ct(Ue)):Ct(Ue)},Ct=Ue=>{y(Ue),L(""),$(""),re({}),pe({}),M(!1),Y(""),J(""),Ae(!1)},ft=(Ue,$e)=>{var et;const st=(et=T[Ue])==null?void 0:et[$e];if(w==="teacher")return!(st!=null&&st.classId)||st.classId==="fixed-period"?null:{classItem:r.find(mt=>mt.id===st.classId)};{if(!(st!=null&&st.teacherId))return null;const rt=e.find(pt=>pt.id===st.teacherId),mt=n.find(pt=>pt.id===st.subjectId);return{teacher:rt,subject:mt}}},yt=(Ue,$e,st)=>{var rt;const et=(rt=T[Ue])==null?void 0:rt[$e];return!et||et.classId!=="fixed-period"?null:et.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:st==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:et.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:"09:15-09:35",color:"bg-orange-100 border-orange-300 text-orange-800"}:et.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:st==="İlkokul"||st==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:et.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},Rt=Ue=>{const $e=w==="teacher"?O:q==null?void 0:q.level,st=t0(Ue,$e);return st?r0(st.startTime,st.endTime):`${Ue}. Ders`},gt=e.map(Ue=>({value:Ue.id,label:`${Ue.name} (${Ue.branch} - ${Ue.level})`})),Fe=te.map(Ue=>({value:Ue.id,label:`${Ue.name} (${Ue.level})`}));return a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Program Oluşturucu"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:w==="teacher"?"Öğretmen bazlı program oluşturun":"Sınıf bazlı program oluşturun"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(De,{onClick:()=>vt("teacher"),variant:w==="teacher"?"primary":"secondary",icon:Or,className:"w-full sm:w-auto",children:"Öğretmen Modu"}),a.jsx(De,{onClick:()=>vt("class"),variant:w==="class"?"primary":"secondary",icon:Is,className:"w-full sm:w-auto",children:"Sınıf Modu"})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:w==="teacher"?a.jsxs("div",{className:"space-y-4",children:[a.jsx(Xt,{label:"Öğretmen Seçin",value:_,onChange:Ue=>{ve?g(()=>{L(Ue),Y(""),J(""),Ae(!1)}):(L(Ue),Y(""),J(""),Ae(!1))},options:gt,required:!0}),le&&a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Or,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-medium text-blue-800",children:"Öğretmen Bilgileri"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Ad Soyad:"})," ",le.name]}),a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Branş:"})," ",ge(le).join(", ")]})]}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx("span",{className:"font-medium",children:"Seviye:"})," ",ae(le).join(", ")]})})]})]}),le&&a.jsxs("div",{className:"space-y-4 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(wS,{className:"w-5 h-5 text-purple-600 mr-2"}),a.jsx("h3",{className:"font-medium text-purple-800",children:"Program Filtresi"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Eğitim Seviyesi Seçin",value:O,onChange:Y,options:Ee,required:!0}),a.jsx(Xt,{label:"Branş Seçin",value:Z,onChange:J,options:Le,required:!0})]}),!ee&&O&&Z&&a.jsx("div",{className:"flex justify-center",children:a.jsx(De,{onClick:()=>Ae(!0),variant:"primary",icon:Zn,children:"Program Tablosunu Göster"})})]})]}):a.jsx(Xt,{label:"Sınıf Seçin",value:V,onChange:Ue=>{ve?g(()=>{$(Ue)}):$(Ue)},options:Fe,required:!0})}),(w==="teacher"&&ee||w==="class"&&V)&&a.jsxs("div",{className:"mobile-card overflow-hidden mb-6",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:w==="teacher"?`${(le==null?void 0:le.name)||"Öğretmen"} - ${O} - ${Z} Programı`:`${(q==null?void 0:q.name)||"Sınıf"} Programı`}),a.jsx("p",{className:"text-sm text-gray-600",children:w==="teacher"?`${O} seviyesindeki ${Z} dersleri için program`:`${(q==null?void 0:q.level)||""} seviyesi`})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(De,{onClick:We,icon:bS,variant:"secondary",disabled:!ve||de,children:de?"Sıfırlanıyor...":"Sıfırla"}),a.jsx(De,{onClick:Qe,icon:ig,variant:"primary",disabled:!ve||oe,children:oe?"Kaydediliyor...":"Kaydet"})]})]})}),ve&&a.jsx("div",{className:"p-3 bg-yellow-50 border-b border-yellow-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ks,{className:"w-5 h-5 text-yellow-600 mr-2"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Kaydedilmemiş değişiklikler var"})]})}),a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full schedule-table",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Saat"}),Pt.map(Ue=>a.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:Ue},Ue))]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{className:"bg-blue-50",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-blue-100 text-sm",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{children:"Hazırlık"}),a.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[a.jsx(cA,{className:"w-3 h-3 mr-1"}),w==="teacher"&&O==="Ortaokul"?"08:30-08:40":"08:30-08:50"]})]})}),Pt.map(Ue=>{const $e=yt(Ue,"prep",w==="teacher"?O:q==null?void 0:q.level);return a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:a.jsx("div",{className:"font-medium text-blue-900 text-sm",children:($e==null?void 0:$e.title)||"Hazırlık"})})},`${Ue}-prep`)})]}),Bn.map(Ue=>{const $e=((w==="teacher"?O:q==null?void 0:q.level)==="İlkokul"||(w==="teacher"?O:q==null?void 0:q.level)==="Anaokulu")&&Ue==="5"||(w==="teacher"?O:q==null?void 0:q.level)==="Ortaokul"&&Ue==="6",st=(w==="teacher"?O:q==null?void 0:q.level)==="Ortaokul"&&Ue==="1",et=Ue==="8",rt=Rt(Ue);return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{className:$e?"bg-green-50":"",children:[a.jsx("td",{className:`px-3 py-2 font-medium text-gray-900 text-sm ${$e?"bg-green-100":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{children:$e?"Yemek":`${Ue}.`}),a.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[a.jsx(cA,{className:"w-3 h-3 mr-1"}),$e?(w==="teacher"?O:q==null?void 0:q.level)==="İlkokul"||(w==="teacher"?O:q==null?void 0:q.level)==="Anaokulu"?"11:50-12:25":"12:30-13:05":rt]})]})}),Pt.map(mt=>{var at,Bt,mr;if($e)return yt(mt,Ue,w==="teacher"?O:q==null?void 0:q.level),a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:a.jsx("div",{className:"font-medium text-green-900 text-sm",children:"Yemek"})})},`${mt}-${Ue}`);const pt=ft(mt,Ue);return a.jsx("td",{className:"px-2 py-2",onClick:()=>ue(mt,Ue),children:pt?a.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200 hover:bg-blue-100 cursor-pointer transition-colors",children:w==="teacher"?a.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(at=pt.classItem)==null?void 0:at.name}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(Bt=pt.teacher)==null?void 0:Bt.name}),a.jsx("div",{className:"text-xs text-blue-700 mt-1",children:((mr=pt.subject)==null?void 0:mr.branch)||""})]})}):a.jsx("div",{className:"text-center p-2 bg-gray-50 rounded border border-gray-200 hover:bg-gray-100 cursor-pointer transition-colors",children:a.jsx("div",{className:"text-gray-400 text-xs",children:"Boş"})})},`${mt}-${Ue}`)})]}),st&&a.jsxs("tr",{className:"bg-yellow-50",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{children:"Kahvaltı"}),a.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[a.jsx(cA,{className:"w-3 h-3 mr-1"}),"09:15-09:35"]})]})}),Pt.map(mt=>{const pt=yt(mt,"breakfast",w==="teacher"?O:q==null?void 0:q.level);return a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:a.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:(pt==null?void 0:pt.title)||"Kahvaltı"})})},`${mt}-breakfast`)})]}),et&&a.jsxs("tr",{className:"bg-yellow-50",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{children:"İkindi Kahvaltısı"}),a.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[a.jsx(cA,{className:"w-3 h-3 mr-1"}),"14:35-14:45"]})]})}),Pt.map(mt=>a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:a.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${mt}-afternoon-breakfast`))]})]},Ue)})]})]})})]}),w==="teacher"&&_&&!ee&&a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx(Zn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Eğitim Seviyesi ve Branş Seçin"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Program tablosunu görmek için yukarıdan eğitim seviyesi ve branş seçin"})]}),(w==="teacher"&&!_||w==="class"&&!V)&&a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx(Zn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:w==="teacher"?"Öğretmen Seçin":"Sınıf Seçin"}),a.jsx("p",{className:"text-gray-500 mb-4",children:w==="teacher"?"Program oluşturmak için bir öğretmen seçin":"Program oluşturmak için bir sınıf seçin"})]}),a.jsx(LR,{isOpen:S,onClose:()=>j(!1),onSave:be,subjects:n.filter(Ue=>{if(w==="teacher"&&O&&Z){const $e=Ue.levels||[Ue.level];return Ue.branch===Z&&$e.includes(O)}return!0}),classes:te,teachers:e,mode:w,currentSubjectId:((Je=(je=T[F])==null?void 0:je[k])==null?void 0:Je.subjectId)||"",currentClassId:w==="teacher"?((Mr=(ht=T[F])==null?void 0:ht[k])==null?void 0:Mr.classId)||"":V,currentTeacherId:w==="class"?((zt=(Dt=T[F])==null?void 0:Dt[k])==null?void 0:zt.teacherId)||"":_,day:F,period:k}),a.jsx(ma,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant}),a.jsx(PR,{isOpen:b.isOpen,onClose:N,title:b.title,message:b.message})]})},RR=({data:t,onUpdate:e})=>{var l,c;const n=(()=>{const h=[];for(let f=2024;f<=2030;f++){const p=f+1,g=`${f}/${p}`,b=`${f}-09-01`,E=`${p}-08-31`;h.push({value:g,label:g,startDate:b,endDate:E})}return h})(),s=[{value:"",label:"Seçiniz (İsteğe bağlı)"},{value:"Güz",label:"Güz Dönemi"},{value:"Bahar",label:"Bahar Dönemi"},{value:"Yaz",label:"Yaz Dönemi"}],i=[{value:"6",label:"6 Ders Saati"},{value:"7",label:"7 Ders Saati"},{value:"8",label:"8 Ders Saati"},{value:"9",label:"9 Ders Saati"},{value:"10",label:"10 Ders Saati"}],A=[{value:"5",label:"5 Gün (Pazartesi-Cuma)"},{value:"6",label:"6 Gün (Pazartesi-Cumartesi)"}],o=(h,f)=>{const p={...t,[h]:f};if(h==="academicYear"){const g=n.find(b=>b.value===f);g&&(p.startDate=g.startDate,p.endDate=g.endDate)}e(p)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Zn,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Program Temel Bilgileri"}),a.jsx("p",{className:"text-gray-600",children:"Oluşturacağınız ders programının temel bilgilerini girin"})]}),a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsx(Wt,{label:"Program Başlığı",value:t.name||"",onChange:h=>o("name",h),placeholder:"Örn: 2024-2025 Güz Dönemi Ders Programı",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Eğitim Dönemi",value:t.academicYear||"2024/2025",onChange:h=>o("academicYear",h),options:n.map(h=>({value:h.value,label:h.label})),required:!0}),a.jsx(Xt,{label:"Dönem",value:t.semester||"",onChange:h=>o("semester",h),options:s})]}),a.jsx(Wt,{label:"Kurum Yetkilisi Ünvanı",value:t.institutionTitle||"",onChange:h=>o("institutionTitle",h),placeholder:"Örn: Okul Müdürü, Müdür Yardımcısı",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Günlük Ders Saati",value:((l=t.dailyHours)==null?void 0:l.toString())||"8",onChange:h=>o("dailyHours",parseInt(h)),options:i,required:!0}),a.jsx(Xt,{label:"Haftalık Gün Sayısı",value:((c=t.weekDays)==null?void 0:c.toString())||"5",onChange:h=>o("weekDays",parseInt(h)),options:A,required:!0})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",id:"weekendClasses",checked:t.weekendClasses||!1,onChange:h=>o("weekendClasses",h.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"weekendClasses",className:"text-sm font-medium text-gray-700",children:"Hafta sonu dersleri var"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"Başlangıç Tarihi",type:"date",value:t.startDate||"",onChange:h=>o("startDate",h),required:!0}),a.jsx(Wt,{label:"Bitiş Tarihi",type:"date",value:t.endDate||"",onChange:h=>o("endDate",h),required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Açıklama ",a.jsx("span",{className:"text-gray-500",children:"(İsteğe bağlı)"})]}),a.jsx("textarea",{value:t.description||"",onChange:h=>o("description",h.target.value),placeholder:"Program hakkında ek bilgiler...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(uo,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("h4",{className:"font-medium mb-1",children:"💡 Eğitim Dönemleri:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"2024/2025:"})," 1 Eylül 2024 - 31 Ağustos 2025"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"2025/2026:"})," 1 Eylül 2025 - 31 Ağustos 2026"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"2026/2027:"})," 1 Eylül 2026 - 31 Ağustos 2027"]}),a.jsx("li",{children:"• Dönem seçildiğinde tarihler otomatik güncellenir"})]})]})]})}),t.name&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[a.jsx(xS,{className:"w-4 h-4 mr-2 text-blue-600"}),"Program Önizlemesi:"]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Program:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Dönem:"})," ",t.academicYear," ",t.semester?`${t.semester} Dönemi`:""]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Yetkilisi:"})," ",t.institutionTitle||"Belirtilmemiş"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Ders Saati:"})," Günde ",t.dailyHours||8," saat, Haftada ",t.weekDays||5," gün"]}),t.weekendClasses&&a.jsxs("p",{children:[a.jsx("strong",{children:"Hafta Sonu:"})," Hafta sonu dersleri dahil"]}),t.startDate&&t.endDate&&a.jsxs("p",{children:[a.jsx("strong",{children:"Süre:"})," ",new Date(t.startDate).toLocaleDateString("tr-TR")," - ",new Date(t.endDate).toLocaleDateString("tr-TR")]}),t.description&&a.jsxs("p",{children:[a.jsx("strong",{children:"Açıklama:"})," ",t.description]})]})]}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(cA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsx("h4",{className:"font-medium mb-1",children:"⏰ Ders Saatleri:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Günlük Ders Saati:"})," Bir günde kaç ders saati olacağını belirler"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Haftalık Gün Sayısı:"})," Haftada kaç gün ders olacağını belirler"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Hafta Sonu Dersleri:"})," Cumartesi ve/veya Pazar günleri ders olup olmayacağını belirler"]}),a.jsx("li",{children:"• Bu bilgiler program oluşturma algoritmasında kullanılacaktır"})]})]})]})})]})]})},OR=({data:t,onUpdate:e})=>{const{data:r,add:n,update:s,remove:i}=St("subjects"),[A,o]=ce.useState(""),[l,c]=ce.useState(!1);ce.useState(null),ce.useState({name:"",branch:"",level:"",weeklyHours:"4"});const h=r.filter(y=>!A||y.level===A),f=r.filter(y=>t.selectedSubjects.includes(y.id)),p=y=>{const _=t.selectedSubjects.includes(y),L=r.find(B=>B.id===y);let V=t.selectedSubjects,$={...t.subjectHours},F={...t.subjectPriorities};_?(V=t.selectedSubjects.filter(B=>B!==y),delete $[y],delete F[y]):(V=[...t.selectedSubjects,y],$[y]=(L==null?void 0:L.weeklyHours)||4,F[y]="medium"),e({selectedSubjects:V,subjectHours:$,subjectPriorities:F})},g=(y,_)=>{const L=Math.max(1,_);e({...t,subjectHours:{...t.subjectHours,[y]:L}})},b=(y,_)=>{e({...t,subjectPriorities:{...t.subjectPriorities,[y]:_}})},E=()=>f.reduce((y,_)=>y+(t.subjectHours[_.id]||_.weeklyHours),0),N=y=>{},w=async y=>{};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Mi,{className:"w-8 h-8 text-indigo-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ders Seçimi ve Konfigürasyonu"}),a.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek dersleri seçin ve haftalık saat sayılarını belirleyin"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[a.jsx("div",{className:"md:w-1/2",children:a.jsx(Xt,{label:"Seviye Filtresi",value:A,onChange:o,options:[{value:"",label:"Tüm Seviyeler"},...es.map(y=>({value:y,label:y}))]})}),a.jsx(De,{onClick:()=>c(!0),icon:kr,variant:"primary",children:"Yeni Ders Ekle"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Mevcut Dersler (",h.length,")"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:h.map(y=>a.jsx("div",{className:`p-3 rounded-lg border-2 transition-all ${t.selectedSubjects.includes(y.id)?"bg-blue-50 border-blue-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:y.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[y.branch," • ",y.level," • ",y.weeklyHours," saat/hafta"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>N(),className:"p-1 text-gray-400 hover:text-blue-600",children:a.jsx(xA,{size:16})}),a.jsx("button",{onClick:()=>w(y.id),className:"p-1 text-gray-400 hover:text-red-600",children:a.jsx(vr,{size:16})}),a.jsx("button",{onClick:()=>p(y.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${t.selectedSubjects.includes(y.id)?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:t.selectedSubjects.includes(y.id)?a.jsx(py,{className:"w-3 h-3 text-white"}):a.jsx(kr,{className:"w-3 h-3 text-gray-500"})})]})]})},y.id))})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["Seçilen Dersler (",f.length,")"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam: ",a.jsxs("span",{className:"font-bold text-blue-600",children:[E()," saat/hafta"]})]})]}),f.length===0?a.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[a.jsx(Mi,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Henüz ders seçilmedi"})]}):a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 max-h-96 overflow-y-auto",children:a.jsx("div",{className:"space-y-3",children:f.map(y=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:y.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[y.branch," • ",y.level]})]}),a.jsx("button",{onClick:()=>p(y.id),className:"text-red-500 hover:text-red-700 p-1",children:a.jsx(py,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Haftalık Saat"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>g(y.id,(t.subjectHours[y.id]||0)-1),className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"-"}),a.jsx("input",{type:"number",min:"1",value:t.subjectHours[y.id]||y.weeklyHours,onChange:_=>g(y.id,parseInt(_.target.value)||1),className:"w-12 text-center text-sm font-medium border border-gray-300 rounded py-1"}),a.jsx("button",{type:"button",onClick:()=>g(y.id,(t.subjectHours[y.id]||0)+1),className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"+"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Öncelik"}),a.jsxs("select",{value:t.subjectPriorities[y.id]||"medium",onChange:_=>b(y.id,_.target.value),className:"w-full text-xs p-1 border border-gray-300 rounded",children:[a.jsx("option",{value:"high",children:"Yüksek Öncelik"}),a.jsx("option",{value:"medium",children:"Orta Öncelik"}),a.jsx("option",{value:"low",children:"Düşük Öncelik"})]})]})]})]},y.id))})})]})]})]})},HR=({data:t,onUpdate:e,classes:r})=>{const{add:n,update:s,remove:i}=St("classes"),{data:A}=St("classrooms"),{data:o}=St("teachers"),[l,c]=ce.useState(""),[h,f]=ce.useState(!1),[p,g]=ce.useState(null),[b,E]=ce.useState({name:"",shortName:"",classTeacherId:"",teacherIds:[],color:"",mainClassroom:"",level:""}),N=t.classes||{selectedClasses:[],classCapacities:{},classPreferences:{}},w=X=>X?X.substring(0,2).toUpperCase():"",y=X=>({Anaokulu:"#10B981",İlkokul:"#3B82F6",Ortaokul:"#8B5CF6"})[X]||"#6B7280",_=X=>{const de=N.selectedClasses.includes(X);if(r.find(Q=>Q.id===X),de){const Q=N.selectedClasses.filter(Z=>Z!==X),O={...N.classCapacities},Y={...N.classPreferences};delete O[X],delete Y[X],e({classes:{...N,selectedClasses:Q,classCapacities:O,classPreferences:Y}})}else{const Q=[...N.selectedClasses,X];e({classes:{...N,selectedClasses:Q,classCapacities:{...N.classCapacities,[X]:30}}})}},L=(X,de)=>{e({classes:{...N,classCapacities:{...N.classCapacities,[X]:Math.max(1,de)}}})},V=()=>{const X=l?r.filter(Q=>Q.level===l):r,de={...N.classCapacities};X.forEach(Q=>{de[Q.id]||(de[Q.id]=30)}),e({classes:{...N,selectedClasses:X.map(Q=>Q.id),classCapacities:de}})},$=()=>{const X=l?r.filter(Y=>Y.level===l):r,de=N.selectedClasses.filter(Y=>!X.some(Z=>Z.id===Y)),Q={...N.classCapacities},O={...N.classPreferences};X.forEach(Y=>{delete Q[Y.id],delete O[Y.id]}),e({classes:{...N,selectedClasses:de,classCapacities:Q,classPreferences:O}})},F=X=>{E(de=>{if(de.teacherIds.includes(X)){const O=de.teacherIds.filter(Z=>Z!==X),Y=de.classTeacherId===X?"":de.classTeacherId;return{...de,teacherIds:O,classTeacherId:Y}}else return{...de,teacherIds:[...de.teacherIds,X]}})},B=X=>{E(de=>{const Q=de.teacherIds.includes(X)?de.teacherIds:[...de.teacherIds,X];return{...de,teacherIds:Q,classTeacherId:X}})},k=()=>b.level?o.filter(X=>X.level===b.level).sort((X,de)=>X.name.localeCompare(de.name,"tr")):[],P=async X=>{X.preventDefault();try{const de={name:b.name,level:b.level,teacherIds:b.teacherIds,classTeacherId:b.classTeacherId,shortName:b.shortName||w(b.name),color:b.color||y(b.level)};p?await s(p.id,de):await n(de),S()}catch(de){console.error("Error saving class:",de)}},S=()=>{E({name:"",shortName:"",classTeacherId:"",teacherIds:[],color:"",mainClassroom:"",level:""}),g(null),f(!1)},j=X=>{E({name:X.name,shortName:X.shortName||w(X.name),classTeacherId:X.classTeacherId||"",teacherIds:X.teacherIds||[],color:X.color||y(X.level),mainClassroom:"",level:X.level}),g(X),f(!0)},T=async X=>{try{await i(X),N.selectedClasses.includes(X)&&_(X)}catch(de){console.error("Error deleting class:",de)}};ui.useEffect(()=>{b.name&&!p&&E(X=>({...X,shortName:w(X.name)}))},[b.name,p]),ui.useEffect(()=>{b.level&&!p&&E(X=>({...X,color:y(X.level)}))},[b.level,p]);const re=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],xe=[{value:"",label:"Seçiniz..."},...A.map(X=>({value:X.id,label:X.name}))];[...o.map(X=>({value:X.id,label:`${X.name} (${X.branch})`}))];const pe=X=>{if(!X)return"";const de=o.find(Q=>Q.id===X);return de?de.name:""},ve=X=>!X||X.length===0?"":o.filter(Q=>X.includes(Q.id)).map(Q=>Q.name).join(", "),oe=(l?r.filter(X=>X.level===l):r).reduce((X,de)=>(X[de.level]||(X[de.level]=[]),X[de.level].push(de),X),{});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Is,{className:"w-12 h-12 text-emerald-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sınıf Seçimi"}),a.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek sınıfları seçin ve kapasitelerini belirleyin"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[a.jsx("div",{className:"md:w-1/2",children:a.jsx(Xt,{label:"Seviye Filtresi",value:l,onChange:c,options:re})}),a.jsx(De,{onClick:()=>f(!0),icon:kr,variant:"primary",children:"Yeni Sınıf Ekle"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-blue-900",children:"Seçilen Sınıflar"}),a.jsxs("p",{className:"text-sm text-blue-700",children:[N.selectedClasses.length," / ",r.length," sınıf seçildi"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(De,{onClick:V,variant:"secondary",size:"sm",children:l?`${l} Tümünü Seç`:"Tümünü Seç"}),a.jsx(De,{onClick:$,variant:"secondary",size:"sm",children:l?`${l} Tümünü Kaldır`:"Tümünü Kaldır"})]})]})}),a.jsx("div",{className:"space-y-6",children:Object.entries(oe).map(([X,de])=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Or,{className:"w-5 h-5 mr-2 text-emerald-600"}),X,a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",de.filter(Q=>N.selectedClasses.includes(Q.id)).length,"/",de.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:de.map(Q=>{var Z;const O=N.selectedClasses.includes(Q.id),Y=N.classCapacities[Q.id]||30;return pe(Q.classTeacherId),ve(Q.teacherIds),a.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 ${O?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 hover:border-emerald-300 hover:bg-emerald-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{onClick:()=>_(Q.id),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center cursor-pointer ${O?"border-emerald-500 bg-emerald-500":"border-gray-300"}`,children:O&&a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:Q.name}),a.jsx("p",{className:"text-xs text-gray-600",children:Q.level})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>j(Q),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Sınıfı düzenle",children:a.jsx(xA,{size:16})}),a.jsx("button",{onClick:()=>T(Q.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Sınıfı sil",children:a.jsx(vr,{size:16})}),O&&a.jsx("button",{onClick:()=>_(Q.id),className:"text-red-500 hover:text-red-700 p-1",title:"Sınıfı kaldır",children:a.jsx(py,{className:"w-4 h-4"})})]})]}),Q.teacherIds&&Q.teacherIds.length>0&&a.jsx("div",{className:"mt-2 mb-2 p-2 bg-blue-50 rounded border border-blue-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Or,{className:"w-3 h-3 text-blue-600 mr-1"}),a.jsxs("p",{className:"text-xs text-blue-700",children:[Q.teacherIds.length," öğretmen atanmış",Q.classTeacherId&&a.jsxs("span",{className:"ml-1 font-medium",children:["(Sınıf öğretmeni: ",(Z=o.find(J=>J.id===Q.classTeacherId))==null?void 0:Z.name,")"]})]})]})}),O&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sınıf Kapasitesi"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:J=>{J.stopPropagation(),L(Q.id,Y-1)},className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"-"}),a.jsx("span",{className:"w-8 text-center text-sm font-medium",children:Y}),a.jsx("button",{onClick:J=>{J.stopPropagation(),L(Q.id,Y+1)},className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"+"}),a.jsx("span",{className:"text-xs text-gray-500",children:"öğrenci"})]})]})]},Q.id)})})]},X))}),r.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Is,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Ekleyin"}),a.jsx("p",{className:"text-gray-500",children:"Henüz sınıf eklenmemiş. Yeni sınıf ekleyerek başlayın."}),a.jsx(De,{onClick:()=>f(!0),icon:kr,variant:"primary",className:"mt-4",children:"Yeni Sınıf Ekle"})]}),N.selectedClasses.length===0&&r.length>0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Is,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Seçin"}),a.jsx("p",{className:"text-gray-500",children:"Programa dahil edilecek en az bir sınıf seçmelisiniz"})]}),N.selectedClasses.length>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ks,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-yellow-800",children:"Sınıf Kapasitesi Önerileri"}),a.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[a.jsx("li",{children:"• Anaokulu: 15-20 öğrenci"}),a.jsx("li",{children:"• İlkokul: 20-30 öğrenci"}),a.jsx("li",{children:"• Ortaokul: 25-35 öğrenci"}),a.jsx("li",{children:"• Kapasite bilgisi derslik atamalarında kullanılacaktır"})]})]})]})}),a.jsx(fi,{isOpen:h,onClose:S,title:p?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Bilgileri"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"İsim",value:b.name,onChange:X=>E({...b,name:X}),placeholder:"Örn: 5A, 7B",required:!0}),a.jsx(Wt,{label:"Kısaltma",value:b.shortName,onChange:X=>E({...b,shortName:X}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),a.jsx(Xt,{label:"Seviye",value:b.level,onChange:X=>E({...b,level:X}),options:re.filter(X=>X.value!==""),required:!0}),a.jsx(Wt,{label:"Renk",value:b.color,onChange:X=>E({...b,color:X}),placeholder:"Otomatik atanır",disabled:!0}),a.jsx(Xt,{label:"Ana derslik",value:b.mainClassroom,onChange:X=>E({...b,mainClassroom:X}),options:xe})]})]}),b.level&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Or,{className:"w-5 h-5 mr-2 text-blue-600"}),"Sınıf Öğretmenleri"]}),k().length===0?a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[a.jsx(Or,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsxs("p",{className:"text-gray-500",children:[b.level," seviyesinde öğretmen bulunamadı"]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Önce öğretmen ekleyin veya farklı bir seviye seçin"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Öğretmeni"}),a.jsxs("select",{value:b.classTeacherId,onChange:X=>B(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Sınıf öğretmeni seçin..."}),k().map(X=>a.jsxs("option",{value:X.id,children:[X.name," (",X.branch,")"]},X.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıfta Ders Verecek Öğretmenler"}),a.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:a.jsx("div",{className:"divide-y divide-gray-200",children:k().map(X=>{const de=b.teacherIds.includes(X.id),Q=b.classTeacherId===X.id;return a.jsxs("div",{className:`p-3 flex items-center justify-between hover:bg-gray-50 transition-colors ${Q?"bg-blue-50":""}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`teacher-${X.id}`,checked:de,onChange:()=>F(X.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:`teacher-${X.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:[X.name,a.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",X.branch,")"]}),Q&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Sınıf Öğretmeni"})]})]}),!Q&&de&&a.jsx("button",{type:"button",onClick:()=>B(X.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Sınıf öğretmeni yap"})]},X.id)})})}),a.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[a.jsx(Or,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[b.teacherIds.length," öğretmen seçildi"]})]})]})]})]}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(De,{type:"button",onClick:S,variant:"secondary",children:"İptal"}),a.jsx(De,{type:"submit",variant:"primary",children:p?"Güncelle":"Tamamla"})]})]})})]})},MR=({data:t,onUpdate:e})=>{const{data:r}=St("classrooms"),[n,s]=ce.useState(!1),[i,A]=ce.useState(null),[o,l]=ce.useState({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""});ce.useEffect(()=>{r.length>0&&(!t.classrooms||t.classrooms.length===0)&&e({classrooms:r})},[r,t.classrooms,e]);const c=t.classrooms||[],h=L=>L?L.substring(0,2).toUpperCase():"",f=()=>{const L=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return L[Math.floor(Math.random()*L.length)]},p=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],g=[{id:"projector",label:"Projeksiyon",icon:sg},{id:"computer",label:"Bilgisayar",icon:sg},{id:"wifi",label:"WiFi",icon:NS},{id:"sound",label:"Ses Sistemi",icon:_S}],b=L=>{L.preventDefault();const V={id:(i==null?void 0:i.id)||Date.now().toString(),name:o.name,type:"normal",capacity:30,floor:"1",building:"Ana Bina",equipment:[],shortName:o.shortName||h(o.name),color:o.color||f()};e(i?{classrooms:c.map($=>$.id===i.id?V:$)}:{classrooms:[...c,V]}),E()},E=()=>{l({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""}),A(null),s(!1)},N=L=>{l({name:L.name,shortName:L.shortName||h(L.name),classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:L.color||f(),floors:L.floor,nearbyClassrooms:""}),A(L),s(!0)},w=L=>{e({classrooms:c.filter(V=>V.id!==L)})};ui.useEffect(()=>{o.name&&!i&&l(L=>({...L,shortName:h(L.name)}))},[o.name,i]),ui.useEffect(()=>{o.name&&!i&&!o.color&&l(L=>({...L,color:f()}))},[o.name,i]);const y=L=>{var V;return((V=p.find($=>$.value===L))==null?void 0:V.label)||L},_=L=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[L]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Mh,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Derslik Yönetimi"}),a.jsx("p",{className:"text-gray-600",children:"Derslikleri tanımlayın ve özelliklerini belirleyin"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Derslikler"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," derslik tanımlandı"]})]}),a.jsx(De,{onClick:()=>s(!0),icon:kr,variant:"primary",children:"Yeni Derslik"})]}),c.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(Mh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Derslik Eklenmemiş"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Program oluşturmak için en az bir derslik tanımlamalısınız"}),a.jsx(De,{onClick:()=>s(!0),icon:kr,variant:"primary",children:"İlk Dersliği Ekle"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(L=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:L.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${_(L.type)}`,children:y(L.type)})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>N(L),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:a.jsx(xA,{size:16})}),a.jsx("button",{onClick:()=>w(L.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:a.jsx(vr,{size:16})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Kapasite:"}),a.jsxs("span",{className:"font-medium",children:[L.capacity," kişi"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Konum:"}),a.jsxs("span",{className:"font-medium",children:[L.building," - ",L.floor,". Kat"]})]}),L.equipment&&L.equipment.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:L.equipment.map(V=>{const $=g.find(F=>F.id===V);return $?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[a.jsx($.icon,{size:12,className:"mr-1"}),$.label]},V):null})})]})]})]},L.id))}),a.jsx(fi,{isOpen:n,onClose:E,title:i?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"İsim",value:o.name,onChange:L=>l({...o,name:L}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),a.jsx(Wt,{label:"Kısaltma",value:o.shortName,onChange:L=>l({...o,shortName:L}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),a.jsx(Wt,{label:"Sınıfın Dersliği",value:o.classLevel,onChange:L=>l({...o,classLevel:L}),placeholder:"Hangi sınıfın dersliği"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"sharedClassroom",checked:o.sharedClassroom,onChange:L=>l({...o,sharedClassroom:L.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"sharedClassroom",className:"text-sm font-medium text-gray-700",children:"Ortak Derslik"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"needsSpecialEquipment",checked:o.needsSpecialEquipment,onChange:L=>l({...o,needsSpecialEquipment:L.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"needsSpecialEquipment",className:"text-sm font-medium text-gray-700",children:"Nöbet/Gözetim Gereken Alan"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"Renk",value:o.color,onChange:L=>l({...o,color:L}),placeholder:"Otomatik atanır",disabled:!0}),a.jsx(Wt,{label:"Ziller",value:o.floors,onChange:L=>l({...o,floors:L}),placeholder:"Kat bilgisi"})]}),a.jsx(Wt,{label:"Yakındaki Derslikler",value:o.nearbyClassrooms,onChange:L=>l({...o,nearbyClassrooms:L}),placeholder:"Komşu derslikler"}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(De,{type:"button",onClick:E,variant:"secondary",children:"İptal"}),a.jsx(De,{type:"submit",variant:"primary",children:i?"Güncelle":"Tamamla"})]})]})})]})},VR=({selectedTeachers:t,onSelectedTeachersChange:e})=>{const{data:r,add:n,update:s,remove:i}=St("teachers"),{success:A,error:o}=mi(),[l,c]=ce.useState(!1),[h,f]=ce.useState(null),[p,g]=ce.useState({name:"",surname:"",shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:"",level:""}),b=async B=>{B.preventDefault();try{const k=`${p.name} ${p.surname}`.trim(),P={name:k,branch:p.branch||"Genel",level:p.level||"İlkokul"};h?(await s(h.id,P),A("✅ Güncellendi",`${k} başarıyla güncellendi`)):(await n(P),A("✅ Eklendi",`${k} başarıyla eklendi`)),E()}catch{o("❌ Hata","Öğretmen kaydedilirken bir hata oluştu")}},E=()=>{g({name:"",surname:"",shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:"",level:""}),f(null),c(!1)},N=B=>{const k=B.name.split(" "),P=k[0]||"",S=k.slice(1).join(" ")||"";g({name:P,surname:S,shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:B.branch,level:B.level}),f(B),c(!0)},w=async B=>{const k=r.find(P=>P.id===B);if(k&&window.confirm(`${k.name} öğretmenini silmek istediğinizden emin misiniz?`))try{await i(B),A("🗑️ Silindi",`${k.name} başarıyla silindi`);const P=t.filter(S=>S!==B);e(P)}catch{o("❌ Hata","Öğretmen silinirken bir hata oluştu")}},y=B=>{t.includes(B)?e(t.filter(k=>k!==B)):e([...t,B])},_=()=>{t.length===r.length?e([]):e(r.map(B=>B.id))},L=es.map(B=>({value:B,label:B})),V=[{value:"",label:"Seçiniz..."},{value:"Öğretmen",label:"Öğretmen"},{value:"Başöğretmen",label:"Başöğretmen"},{value:"Uzman Öğretmen",label:"Uzman Öğretmen"},{value:"Müdür Yardımcısı",label:"Müdür Yardımcısı"},{value:"Müdür",label:"Müdür"}],$=[{value:"",label:"Seçiniz..."},{value:"Erkek",label:"Erkek"},{value:"Kadın",label:"Kadın"}],F=[...r].sort((B,k)=>B.name.localeCompare(k.name,"tr"));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Or,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Öğretmen Seçimi"}),a.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek öğretmenleri seçin"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Or,{className:"w-6 h-6 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Öğretmenler"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[r.length," öğretmen • ",t.length," seçili"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[r.length>0&&a.jsx(De,{onClick:_,variant:"secondary",size:"sm",children:t.length===r.length?"Hiçbirini Seçme":"Tümünü Seç"}),a.jsx(De,{onClick:()=>c(!0),icon:kr,variant:"primary",size:"sm",children:"Öğretmen Ekle"})]})]}),F.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[a.jsx(Or,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz öğretmen eklenmemiş"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"İlk öğretmeninizi ekleyerek başlayın"}),a.jsx(De,{onClick:()=>c(!0),icon:kr,variant:"primary",children:"Öğretmen Ekle"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(B=>{const k=t.includes(B.id);return a.jsxs("div",{className:`relative bg-white rounded-lg border-2 p-4 transition-all duration-200 cursor-pointer ${k?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>y(B.id),children:[a.jsx("div",{className:`absolute top-3 right-3 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${k?"bg-blue-500 border-blue-500":"border-gray-300 bg-white"}`,children:k&&a.jsx(yS,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"pr-8",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:B.name}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Branş:"})," ",B.branch]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B.level==="Anaokulu"?"bg-green-100 text-green-800":B.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:B.level})]})]}),a.jsxs("div",{className:"absolute bottom-3 right-3 flex space-x-1",children:[a.jsx("button",{onClick:P=>{P.stopPropagation(),N(B)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Düzenle",children:a.jsx(xA,{size:14})}),a.jsx("button",{onClick:P=>{P.stopPropagation(),w(B.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Sil",children:a.jsx(vr,{size:14})})]})]},B.id)})}),r.length>0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Seçim Özeti"}),a.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[t.length," öğretmen seçildi"]})]}),t.length>0&&a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xs text-blue-600",children:"Seçilen öğretmenler program oluşturma sürecinde kullanılacak"})})]})}),a.jsx(fi,{isOpen:l,onClose:E,title:h?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",size:"lg",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"İsim",value:p.name,onChange:B=>g({...p,name:B}),placeholder:"Örn: Ahmet",required:!0}),a.jsx(Wt,{label:"Soy isim",value:p.surname,onChange:B=>g({...p,surname:B}),placeholder:"Örn: Yılmaz",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"Kısaltma",value:p.shortName,onChange:B=>g({...p,shortName:B}),placeholder:"Örn: AY"}),a.jsx(Xt,{label:"Rütbe",value:p.rank,onChange:B=>g({...p,rank:B}),options:V})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Cinsiyet",value:p.gender,onChange:B=>g({...p,gender:B}),options:$}),a.jsx(Wt,{label:"Ünvan",value:p.title,onChange:B=>g({...p,title:B}),placeholder:"Örn: Sınıf Öğretmeni"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"İşim son eki",value:p.lastAddition,onChange:B=>g({...p,lastAddition:B}),placeholder:""}),a.jsx(Wt,{label:"Derslikler",value:p.classrooms,onChange:B=>g({...p,classrooms:B}),placeholder:"Örn: A101, B205"})]}),a.jsx(Wt,{label:"Numara",value:p.phoneNumber,onChange:B=>g({...p,phoneNumber:B}),placeholder:"Örn: 0555 123 45 67"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"Branş",value:p.branch,onChange:B=>g({...p,branch:B}),placeholder:"Örn: Matematik, Türkçe"}),a.jsx(Xt,{label:"Eğitim Seviyesi",value:p.level,onChange:B=>g({...p,level:B}),options:L})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(De,{type:"button",onClick:E,variant:"secondary",children:"İptal"}),a.jsx(De,{type:"submit",variant:"primary",children:h?"Güncelle":"Tamamla"})]})]})})]})},qa={unavailable:{label:"Müsait Değil",description:"Bu zaman diliminde kesinlikle ders verilemez",color:"bg-red-100 border-red-300 text-red-800",icon:"🚫"},preferred:{label:"Tercih Edilen",description:"Bu zaman dilimi tercih edilir",color:"bg-green-100 border-green-300 text-green-800",icon:"✅"},restricted:{label:"Kısıtlı",description:"Bu zaman diliminde sınırlı ders verilebilir",color:"bg-yellow-100 border-yellow-300 text-yellow-800",icon:"⚠️"}},KR=({entityType:t,entityId:e,entityName:r,entityLevel:n,constraints:s,onConstraintsChange:i,onSave:A,hasUnsavedChanges:o})=>{const[l,c]=ce.useState("unavailable"),[h,f]=ce.useState(!1);ce.useEffect(()=>{if(!h&&e){if(s.filter(y=>y.entityId===e).length===0){const y=[];Pt.forEach(L=>{Bn.forEach(V=>{const $={id:`${e}-${L}-${V}-default`,entityType:t,entityId:e,day:L,period:V,constraintType:"preferred",reason:`Default tercih edilen - ${r}`,createdAt:new Date,updatedAt:new Date};y.push($)})});const _=[...s,...y];i(_),console.log('✅ Default "tercih edilen" kısıtlamalar oluşturuldu:',{entityName:r,entityId:e,constraintCount:y.length})}f(!0)}},[e,r,t,s,i,h]);const p=(w,y)=>s.find(_=>_.entityId===e&&_.day===w&&_.period===y),g=(w,y)=>{console.log("🔄 Slot tıklandı:",{day:w,period:y,selectedConstraintType:l,entityId:e,entityName:r});const _=p(w,y);if(_)if(_.constraintType===l){const L=s.map(V=>V.entityId===e&&V.day===w&&V.period===y?{...V,constraintType:"preferred",reason:`Tercih edilen - ${r}`,updatedAt:new Date}:V);i(L),console.log('✅ Kısıtlama "tercih edilen"e değiştirildi')}else{const L=s.map(V=>V.entityId===e&&V.day===w&&V.period===y?{...V,constraintType:l,reason:`${qa[l].label} - ${r}`,updatedAt:new Date}:V);i(L),console.log("✅ Kısıtlama değiştirildi:",{from:_.constraintType,to:l})}else{const L={id:`${e}-${w}-${y}-${Date.now()}`,entityType:t,entityId:e,day:w,period:y,constraintType:l,reason:`${qa[l].label} - ${r}`,createdAt:new Date,updatedAt:new Date};i([...s,L]),console.log("✅ Yeni kısıtlama oluşturuldu:",L)}},b=()=>{console.log('🔄 Tüm kısıtlamalar "tercih edilen"e sıfırlanıyor');const w=s.map(y=>y.entityId===e?{...y,constraintType:"preferred",reason:`Tercih edilen - ${r}`,updatedAt:new Date}:y);i(w),console.log("✅ Tüm kısıtlamalar sıfırlandı")},E=w=>{const y=t0(w,n);return y?r0(y.startTime,y.endTime):`${w}. Ders`},N=w=>s.filter(y=>y.entityId===e&&y.constraintType===w).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r," - Zaman Kısıtlamaları"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"inline-flex items-center text-green-600 font-medium",children:[a.jsx(Gl,{className:"w-4 h-4 mr-1"}),'Varsayılan: Tüm saatler "Tercih Edilen"']}),a.jsx("span",{className:"mx-2",children:"•"}),"Zaman dilimlerine tıklayarak kısıtlama değiştirin"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[o&&a.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800",children:[a.jsx(Ks,{className:"w-4 h-4 mr-1"}),"Kaydedilmedi"]}),a.jsx(De,{onClick:b,icon:bS,variant:"secondary",size:"sm",title:"Tüm saatleri 'Tercih Edilen' yap",children:"Sıfırla"}),a.jsx(De,{onClick:A,icon:ig,variant:"primary",size:"sm",disabled:!o,children:"Kaydet"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Mevcut Dağılım"}),a.jsx("div",{className:"space-y-3",children:Object.entries(qa).map(([w,y])=>{const _=N(w);return a.jsxs("div",{className:`p-3 rounded-lg border-2 ${y.color}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:y.icon}),a.jsx("span",{className:"font-medium text-sm",children:y.label})]}),a.jsx("span",{className:"text-lg font-bold",children:_})]}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:y.description})]},w)})})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Değiştirmek İçin Seçin"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: unavailable"),c("unavailable")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="unavailable"?"bg-red-100 border-red-300 text-red-800 ring-2 ring-red-500 ring-opacity-50":"bg-white border-gray-200 hover:border-red-300 hover:bg-red-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vh,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Müsait Değil"}),a.jsx("div",{className:"text-xs opacity-75",children:"Program oluşturmayı engeller"})]})]})}),a.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: restricted"),c("restricted")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="restricted"?"bg-yellow-100 border-yellow-300 text-yellow-800 ring-2 ring-yellow-500 ring-opacity-50":"bg-white border-gray-200 hover:border-yellow-300 hover:bg-yellow-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ks,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Kısıtlı"}),a.jsx("div",{className:"text-xs opacity-75",children:"Uyarı verir ama engel olmaz"})]})]})}),a.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: preferred"),c("preferred")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="preferred"?"bg-green-100 border-green-300 text-green-800 ring-2 ring-green-500 ring-opacity-50":"bg-white border-gray-200 hover:border-green-300 hover:bg-green-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gl,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Tercih Edilen"}),a.jsx("div",{className:"text-xs opacity-75",children:"Normal program oluşturma"})]})]})})]})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Nasıl Kullanılır"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(du,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"1."})," Yukarıdan kısıtlama türü seçin"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"2."})," Zaman tablosunda istediğiniz saate tıklayın"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"3."}),' Aynı türe tekrar tıklayarak "tercih edilen"e dönebilirsiniz']}),a.jsxs("p",{children:[a.jsx("strong",{children:"4."})," Değişiklikleri kaydetmeyi unutmayın!"]})]})]})}),a.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:qa[l].icon}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-purple-800 text-sm",children:["Seçili: ",qa[l].label]}),a.jsx("div",{className:"text-xs text-purple-600",children:qa[l].description})]})]})})]})]})}),a.jsx("div",{className:"border-t border-gray-200",children:a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase sticky left-0 bg-gray-50 z-10",children:"Ders Saati"}),Pt.map(w=>a.jsxs("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:[a.jsx("div",{className:"font-bold",children:w}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[s.filter(y=>y.entityId===e&&y.day===w&&y.constraintType!=="preferred").length," kısıtlı"]})]},w))]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:Bn.map((w,y)=>{const _=E(w);return a.jsxs("tr",{className:y%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 bg-gray-50 sticky left-0 z-10 border-r border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-bold text-sm",children:[w,". Ders"]}),a.jsxs("div",{className:"text-xs text-gray-600 mt-1 flex items-center justify-center",children:[a.jsx(cA,{className:"w-3 h-3 mr-1"}),_]})]})}),Pt.map(L=>{const V=p(L,w),$=V?qa[V.constraintType]:qa.preferred;return a.jsx("td",{className:"px-2 py-2",children:a.jsx("button",{onClick:()=>g(L,w),className:`w-full min-h-[70px] p-3 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${$.color} hover:opacity-80 hover:scale-105 hover:shadow-md`,title:(V==null?void 0:V.constraintType)==="preferred"?"✅ Tercih edilen saat - Değiştirmek için tıklayın":`${$.icon} ${$.label} - Tercih edilene dönmek için tıklayın`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xl mb-1",children:$.icon}),a.jsx("div",{className:"text-xs font-medium leading-tight",children:$.label}),(V==null?void 0:V.constraintType)!=="preferred"&&a.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Tıkla → Tercih edilen"})]})})},`${L}-${w}`)})]},w)})})]})})}),a.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:N("preferred")}),a.jsx("div",{className:"text-xs text-gray-600",children:"Tercih Edilen"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-red-600",children:N("unavailable")}),a.jsx("div",{className:"text-xs text-gray-600",children:"Müsait Değil"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-yellow-600",children:N("restricted")}),a.jsx("div",{className:"text-xs text-gray-600",children:"Kısıtlı"})]})]}),o&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-yellow-600 font-medium",children:"Değişiklikler kaydedilmedi"}),a.jsx(De,{onClick:A,icon:ig,variant:"primary",size:"sm",children:"Kaydet"})]})]})})]})},zR=({data:t,onUpdate:e,teachers:r,classes:n,subjects:s})=>{var xe,pe,ve;const[i,A]=ce.useState("global"),[o,l]=ce.useState(""),[c,h]=ce.useState([]),[f,p]=ce.useState(!1);ce.useEffect(()=>{t.constraints||e({constraints:{timeConstraints:[],globalRules:{maxDailyHoursTeacher:8,maxDailyHoursClass:9,maxConsecutiveHours:3,avoidConsecutiveSameSubject:!0,preferMorningHours:!0,avoidFirstLastPeriod:!1,lunchBreakRequired:!0,lunchBreakDuration:1}}})},[t,e]),ce.useEffect(()=>{var oe;const M=((oe=t.constraints)==null?void 0:oe.timeConstraints)||[];console.log("🔄 Wizard constraints yükleniyor:",M),h([...M]),p(!1)},[(xe=t.constraints)==null?void 0:xe.timeConstraints,o]),ce.useEffect(()=>{var X;const M=((X=t.constraints)==null?void 0:X.timeConstraints)||[],oe=JSON.stringify(c)!==JSON.stringify(M);p(oe),console.log("📊 Constraint değişiklik durumu:",{hasChanges:oe,localCount:c.length,wizardCount:M.length})},[c,(pe=t.constraints)==null?void 0:pe.timeConstraints]);const g=()=>{switch(i){case"teachers":return r.filter(M=>{var oe,X;return(X=(oe=t.teachers)==null?void 0:oe.selectedTeachers)==null?void 0:X.includes(M.id)}).sort((M,oe)=>M.name.localeCompare(oe.name,"tr")).map(M=>({value:M.id,label:`${M.name} (${M.branch} - ${M.level})`}));case"classes":return n.filter(M=>{var oe,X;return(X=(oe=t.classes)==null?void 0:oe.selectedClasses)==null?void 0:X.includes(M.id)}).sort((M,oe)=>M.name.localeCompare(oe.name,"tr")).map(M=>({value:M.id,label:`${M.name} (${M.level})`}));case"subjects":return s.filter(M=>{var oe,X;return(X=(oe=t.subjects)==null?void 0:oe.selectedSubjects)==null?void 0:X.includes(M.id)}).sort((M,oe)=>M.name.localeCompare(oe.name,"tr")).map(M=>({value:M.id,label:`${M.name} (${M.branch} - ${M.level})`}));default:return[]}},b=()=>{if(!o)return null;switch(i){case"teachers":return r.find(M=>M.id===o);case"classes":return n.find(M=>M.id===o);case"subjects":return s.find(M=>M.id===o);default:return null}},E=M=>M&&M.name||"",N=M=>{if(!M)return"";switch(i){case"teachers":return`${M.branch} - ${M.level}`;case"classes":return M.level;case"subjects":return`${M.branch} - ${M.level}`;default:return""}},w=()=>{switch(i){case"teachers":return A5;case"classes":return Is;case"subjects":return Mi;default:return cA}},y=()=>{switch(i){case"teachers":return"text-blue-600";case"classes":return"text-emerald-600";case"subjects":return"text-indigo-600";default:return"text-purple-600"}},_=(M,oe)=>{var X;console.log("🔄 Global constraint değişikliği:",{key:M,value:oe}),e({constraints:{...t.constraints,globalRules:{...(X=t.constraints)==null?void 0:X.globalRules,[M]:oe}}})},L=M=>{console.log("🔄 Constraints değiştirildi:",{newCount:M.length,selectedEntity:o,entityType:i}),h(M),p(!0)},V=()=>{if(!o){console.warn("⚠️ Seçili entity yok, kaydetme iptal edildi");return}console.log("💾 Constraints kaydediliyor:",{entityId:o,entityType:i,constraintsCount:c.length}),e({constraints:{...t.constraints,timeConstraints:c}}),p(!1),console.log("✅ Constraints başarıyla kaydedildi")},$=((ve=t.constraints)==null?void 0:ve.globalRules)||{},F=w(),B=y(),k=b(),P=E(k),S=N(k),j=k&&"level"in k?k.level:void 0,T=[{id:"global",label:"Genel Kurallar",icon:ES},{id:"teachers",label:"Öğretmenler",icon:A5},{id:"classes",label:"Sınıflar",icon:Is},{id:"subjects",label:"Dersler",icon:Mi}],re=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Günlük Limitler"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Öğretmen)"}),a.jsx("input",{type:"number",min:"1",max:"10",value:$.maxDailyHoursTeacher||8,onChange:M=>_("maxDailyHoursTeacher",parseInt(M.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Sınıf)"}),a.jsx("input",{type:"number",min:"1",max:"10",value:$.maxDailyHoursClass||9,onChange:M=>_("maxDailyHoursClass",parseInt(M.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ardışık Ders Kuralları"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Ardışık Ders"}),a.jsx("input",{type:"number",min:"1",max:"5",value:$.maxConsecutiveHours||3,onChange:M=>_("maxConsecutiveHours",parseInt(M.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"avoidConsecutive",checked:$.avoidConsecutiveSameSubject||!1,onChange:M=>_("avoidConsecutiveSameSubject",M.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"avoidConsecutive",className:"text-sm text-gray-700",children:"Aynı dersin ardışık olmasını önle"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Zaman Tercihleri"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"preferMorning",checked:$.preferMorningHours||!1,onChange:M=>_("preferMorningHours",M.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"preferMorning",className:"text-sm text-gray-700",children:"Sabah saatlerini tercih et"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"avoidFirstLast",checked:$.avoidFirstLastPeriod||!1,onChange:M=>_("avoidFirstLastPeriod",M.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"avoidFirstLast",className:"text-sm text-gray-700",children:"İlk ve son dersleri önle"})]})]})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(cA,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Zaman Kısıtlamaları"}),a.jsx("p",{className:"text-gray-600",children:"Program oluşturma kurallarını ve zaman kısıtlamalarını belirleyin"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:T.map(M=>a.jsxs("button",{onClick:()=>{console.log("🔄 Tab değiştirildi:",M.id),A(M.id),l(""),p(!1)},className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===M.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(M.icon,{className:"w-4 h-4 mr-2"}),M.label]},M.id))})}),a.jsxs("div",{className:"mt-6",children:[i==="global"&&re(),i!=="global"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx(Xt,{label:`${i==="teachers"?"Öğretmen":i==="classes"?"Sınıf":"Ders"} Seçin`,value:o,onChange:M=>{console.log("🔄 Entity seçildi:",{activeTab:i,entityId:M}),l(M),p(!1)},options:[{value:"",label:"Seçiniz..."},...g()]})}),o&&o!==""?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white shadow-sm",children:a.jsx(F,{className:`w-5 h-5 ${B}`})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:P}),a.jsx("p",{className:"text-sm text-gray-600",children:S})]})]}),f&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Kaydedilmemiş değişiklikler"})]})}),a.jsx(KR,{entityType:i==="teachers"?"teacher":i==="classes"?"class":"subject",entityId:o,entityName:P,entityLevel:j,constraints:c,onConstraintsChange:L,onSave:V,hasUnsavedChanges:f})]}):a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(F,{className:"w-8 h-8 text-gray-400"})}),a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[i==="teachers"?"Öğretmen":i==="classes"?"Sınıf":"Ders"," Seçin"]}),a.jsxs("p",{className:"text-gray-500 max-w-md mx-auto",children:["Zaman kısıtlaması eklemek için yukarıdan bir ",i==="teachers"?"öğretmen":i==="classes"?"sınıf":"ders"," seçin"]})]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ks,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800",children:"Kısıtlama Önerileri"}),a.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Tercih Edilen:"})," Bu saatte ders atanabilir (varsayılan)"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Kısıtlı:"})," Mümkünse bu saatte ders atanmasın, gerekirse atanabilir"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Müsait Değil:"})," Bu saatte kesinlikle ders atanmasın"]}),a.jsx("li",{children:"• Öğretmenlerin özel durumları (toplantı, nöbet vb.) için kısıtlama ekleyin"}),a.jsx("li",{children:"• Sınıfların özel etkinlikleri için zaman bloklarını işaretleyin"})]})]})]})})]})};function GR(t,e){const r={isFixed:!0},n=e==="Ortaokul"?"6":"5",s={prep:{...r,subjectId:"Hazırlık/Kahvaltı"},"afternoon-breakfast":{...r,subjectId:"İkindi Kahvaltısı"},[n]:{...r,subjectId:"Yemek"}};e==="Ortaokul"&&(s.breakfast={...r,subjectId:"Kahvaltı"}),Pt.forEach(i=>{Object.entries(s).forEach(([A,o])=>{t[i][A]=o})})}function SS(t,e,r,n,s){var g,b,E;const i=Date.now();console.log("🚀 Program oluşturma başlatıldı (v4 - Esnek Yerleştirme)...");const A={},o={};r.forEach(N=>{t.some(w=>w.classId===N.id)&&(A[N.id]={},Pt.forEach(w=>{A[N.id][w]={}}),GR(A[N.id],N.level))}),e.forEach(N=>{o[N.id]=new Set}),s.forEach(N=>{if(N.constraintType==="unavailable"){const w=`${N.day}-${N.period}`;N.entityType==="teacher"&&o[N.entityId]&&o[N.entityId].add(w)}});const l=[];t.forEach(N=>{for(let w=0;w<N.weeklyHours;w++)l.push({...N,assignedHours:0})}),l.sort(()=>Math.random()-.5);let c=0;for(const N of l){let w=!1;const y=[...Pt].sort(()=>Math.random()-.5);for(const _ of y){const L=[...Bn].sort(()=>Math.random()-.5);for(const V of L){const $=`${_}-${V}`,F=!((b=(g=A[N.classId])==null?void 0:g[_])!=null&&b[V]),B=!((E=o[N.teacherId])!=null&&E.has($));if(F&&B){A[N.classId][_][V]={subjectId:N.subjectId,teacherId:N.teacherId,classId:N.classId},o[N.teacherId].add($),w=!0;break}}if(w)break}if(w){c++;const _=t.find(L=>L.id===N.id);_&&_.assignedHours++}}const h={};Object.values(A).forEach(N=>{Object.entries(N).forEach(([w,y])=>{Object.entries(y).forEach(([_,L])=>{L&&L.teacherId&&!L.isFixed&&(h[L.teacherId]||(h[L.teacherId]={}),h[L.teacherId][w]||(h[L.teacherId][w]={}),h[L.teacherId][w][_]={classId:L.classId,subjectId:L.subjectId,isFixed:!1})})})});const f=Object.entries(h).map(([N,w])=>({teacherId:N,schedule:w,updatedAt:new Date})),p={totalLessonsToPlace:l.length,placedLessons:c,unassignedLessons:[]};return t.forEach(N=>{var w,y,_;N.assignedHours<N.weeklyHours&&p.unassignedLessons.push({className:(w=r.find(L=>L.id===N.classId))==null?void 0:w.name,subjectName:(y=n.find(L=>L.id===N.subjectId))==null?void 0:y.name,teacherName:(_=e.find(L=>L.id===N.teacherId))==null?void 0:_.name,missingHours:N.weeklyHours-N.assignedHours})}),console.log(`✅ Program oluşturma tamamlandı. Süre: ${(Date.now()-i)/1e3} saniye.`),console.log(`📊 İstatistik: ${p.placedLessons} / ${p.totalLessonsToPlace} ders yerleştirildi.`),{success:!0,schedules:f,statistics:p,warnings:p.unassignedLessons.length>0?["Bazı dersler programda tam olarak yerleştirilemedi."]:[],errors:[]}}const qR=({data:t,wizardData:e,onUpdate:r,onGenerate:n,isGenerating:s})=>{var P,S,j,T,re,xe,pe,ve;const[i,A]=ce.useState(!1),[o,l]=ce.useState(null),[c,h]=ce.useState(null),[f,p]=ce.useState(!1),g=[],b=[],E=[],N=[{value:"balanced",label:"Dengeli Dağılım",description:"Öğretmen ve sınıf yüklerini eşit dağıtır"},{value:"compact",label:"Kompakt Program",description:"Dersleri mümkün olduğunca sıkıştırır"},{value:"distributed",label:"Dağıtılmış Program",description:"Dersleri hafta boyunca eşit dağıtır"}],w=[{value:"fast",label:"Hızlı (1-2 dakika)",description:"Temel optimizasyon, hızlı sonuç"},{value:"balanced",label:"Dengeli (3-5 dakika)",description:"İyi kalite ve makul süre"},{value:"thorough",label:"Kapsamlı (5-10 dakika)",description:"En iyi kalite, uzun süre"}],y=(M,oe)=>{const X={...t,[M]:oe};r(X)},_=()=>{var O,Y,Z,J,ee,Ae,le,q,ae;const M=[],oe=[];(!((O=e.subjects)!=null&&O.selectedSubjects)||e.subjects.selectedSubjects.length===0)&&M.push("Hiç ders seçilmemiş"),(!((Y=e.classes)!=null&&Y.selectedClasses)||e.classes.selectedClasses.length===0)&&M.push("Hiç sınıf seçilmemiş"),(!((Z=e.teachers)!=null&&Z.selectedTeachers)||e.teachers.selectedTeachers.length===0)&&M.push("Hiç öğretmen seçilmemiş"),(!((J=e.classrooms)!=null&&J.selectedClassrooms)||e.classrooms.selectedClassrooms.length===0)&&M.push("Hiç derslik seçilmemiş");const X=(ee=e.subjects)!=null&&ee.subjectHours?Object.values(e.subjects.subjectHours).reduce((ge,Ee)=>ge+Ee,0):0,de=((le=(Ae=e.classes)==null?void 0:Ae.selectedClasses)==null?void 0:le.length)||0,Q=((ae=(q=e.teachers)==null?void 0:q.selectedTeachers)==null?void 0:ae.length)||0;return X>45&&oe.push("Haftalık toplam ders saati çok yüksek (45+ saat)"),Q<de&&oe.push("Öğretmen sayısı sınıf sayısından az"),{issues:M,warnings:oe}},{issues:L,warnings:V}=_(),$=L.length===0,F=()=>{var Y,Z,J,ee,Ae,le;const M={fast:2,balanced:4,thorough:8}[t.optimizationLevel||"balanced"],oe=((Z=(Y=e.subjects)==null?void 0:Y.selectedSubjects)==null?void 0:Z.length)||0,X=((ee=(J=e.classes)==null?void 0:J.selectedClasses)==null?void 0:ee.length)||0,de=((le=(Ae=e.teachers)==null?void 0:Ae.selectedTeachers)==null?void 0:le.length)||0,Q=oe*X*de,O=Q>100?1.5:Q>50?1.2:1;return Math.round(M*O)},B={algorithm:"balanced",optimizationLevel:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,generateMultipleOptions:!1,allowOverlaps:!1,...t},k=async()=>{var M;h(null),l(null),p(!0);try{const oe=await SS(e,g,b,E);l(oe),oe.success||h(((M=oe.errors)==null?void 0:M.join(`
`))||"Program oluşturulamadı.")}catch(oe){h((oe==null?void 0:oe.message)||"Bilinmeyen hata oluştu.")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(e0,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Program Oluşturma ve Optimizasyon"}),a.jsx("p",{className:"text-gray-600",children:"Algoritma ayarlarını yapın ve otomatik program oluşturmayı başlatın"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[a.jsx(vS,{className:"w-5 h-5 mr-2 text-blue-600"}),"Hazırlık Durumu"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((S=(P=e.subjects)==null?void 0:P.selectedSubjects)==null?void 0:S.length)||0}),a.jsx("div",{className:"text-xs text-blue-700",children:"Ders"})]}),a.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:((T=(j=e.classes)==null?void 0:j.selectedClasses)==null?void 0:T.length)||0}),a.jsx("div",{className:"text-xs text-emerald-700",children:"Sınıf"})]}),a.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:((xe=(re=e.teachers)==null?void 0:re.selectedTeachers)==null?void 0:xe.length)||0}),a.jsx("div",{className:"text-xs text-indigo-700",children:"Öğretmen"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((ve=(pe=e.classrooms)==null?void 0:pe.selectedClassrooms)==null?void 0:ve.length)||0}),a.jsx("div",{className:"text-xs text-purple-700",children:"Derslik"})]})]}),L.length>0&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ks,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-800 mb-1",children:"Kritik Sorunlar:"}),a.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:L.map((M,oe)=>a.jsxs("li",{children:["• ",M]},oe))})]})]})}),V.length>0&&a.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ks,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-yellow-800 mb-1",children:"Uyarılar:"}),a.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:V.map((M,oe)=>a.jsxs("li",{children:["• ",M]},oe))})]})]})}),$&&a.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gl,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:"Tüm gereksinimler karşılandı! Program oluşturmaya hazır."})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(ES,{className:"w-5 h-5 mr-2 text-purple-600"}),"Algoritma Ayarları"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Türü"}),a.jsx("div",{className:"space-y-2",children:N.map(M=>a.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"algorithm",value:M.value,checked:B.algorithm===M.value,onChange:oe=>y("algorithm",oe.target.value),className:"mt-1"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:M.label}),a.jsx("div",{className:"text-xs text-gray-600",children:M.description})]})]},M.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Optimizasyon Seviyesi"}),a.jsx("div",{className:"space-y-2",children:w.map(M=>a.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"optimization",value:M.value,checked:B.optimizationLevel===M.value,onChange:oe=>y("optimizationLevel",oe.target.value),className:"mt-1"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:M.label}),a.jsx("div",{className:"text-xs text-gray-600",children:M.description})]})]},M.value))})]}),a.jsxs("div",{children:[a.jsx("button",{onClick:()=>A(!i),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:i?"Gelişmiş ayarları gizle":"Gelişmiş ayarları göster"}),i&&a.jsxs("div",{className:"mt-4 space-y-3 p-3 bg-gray-50 rounded-lg",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.prioritizeTeacherPreferences||!1,onChange:M=>y("prioritizeTeacherPreferences",M.target.checked)}),a.jsx("span",{className:"text-sm",children:"Öğretmen tercihlerini öncelikle"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.prioritizeClassPreferences||!1,onChange:M=>y("prioritizeClassPreferences",M.target.checked)}),a.jsx("span",{className:"text-sm",children:"Sınıf tercihlerini öncelikle"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.generateMultipleOptions||!1,onChange:M=>y("generateMultipleOptions",M.target.checked)}),a.jsx("span",{className:"text-sm",children:"Birden fazla seçenek oluştur"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.allowOverlaps||!1,onChange:M=>y("allowOverlaps",M.target.checked)}),a.jsx("span",{className:"text-sm",children:"Çakışmalara izin ver (acil durumlar için)"})]})]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Program Oluşturmaya Hazır!"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Tahmini süre: ",a.jsxs("span",{className:"font-medium text-purple-600",children:[F()," dakika"]})]}),f?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),a.jsx("span",{className:"text-purple-600 font-medium",children:"Program oluşturuluyor..."})]}),a.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:a.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"45%"}})}),a.jsx("p",{className:"text-xs text-gray-600",children:"Bu işlem birkaç dakika sürebilir. Lütfen sayfayı kapatmayın."})]}):a.jsx(De,{onClick:k,icon:BS,variant:"primary",size:"lg",disabled:!$||f,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:"🎯 Program Oluşturmayı Başlat"})]})}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(cA,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("h4",{className:"font-medium mb-1",children:"🤖 Otomatik Program Oluşturma:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsx("li",{children:"• Sistem tüm kısıtlamaları ve tercihleri dikkate alır"}),a.jsx("li",{children:"• Çakışmaları otomatik olarak tespit eder ve çözer"}),a.jsx("li",{children:"• En optimal ders dağılımını hesaplar"}),a.jsx("li",{children:"• Birden fazla alternatif program oluşturabilir"}),a.jsx("li",{children:"• Sonuçları PDF olarak indirebilirsiniz"}),a.jsx("li",{children:"• Haftalık ders saati 45'e kadar desteklenir"})]})]})]})}),c&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mt-4",children:a.jsxs("div",{className:"text-red-700 font-medium",children:["Hata: ",c]})}),o&&o.success&&a.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mt-4",children:[a.jsxs("div",{className:"text-green-700 font-medium",children:["Program başarıyla oluşturuldu! Toplam program: ",o.schedules.length]}),a.jsxs("div",{className:"text-green-700 text-sm",children:["Dolu slot: ",o.statistics.filledSlots," / ",o.statistics.totalSlots]}),a.jsxs("div",{className:"text-green-700 text-sm",children:["Çakışma: ",o.statistics.conflictCount]})]})]})};function $R(t,e,r){const s=r.filter(A=>{var o;return((o=e.teacherIds)==null?void 0:o.includes(A.id))||e.classTeacherId===A.id}).find(A=>{const o=A.branch===t.branch||A.branches&&A.branches.includes(t.branch),l=A.level===t.level||A.levels&&A.levels.includes(t.level)||t.levels&&t.levels.includes(A.level)||A.levels&&t.levels&&A.levels.some(c=>t.levels.includes(c));return o&&l});if(s)return s;const i=r.find(A=>{const o=A.branch===t.branch||A.branches&&A.branches.includes(t.branch),l=A.level===t.level||A.levels&&A.levels.includes(t.level)||t.levels&&t.levels.includes(A.level)||A.levels&&t.levels&&A.levels.some(c=>t.levels.includes(c));return o&&l});return i||null}function WR(t,e,r,n){const s=[],i=[],A=r.filter(c=>t.classes.selectedClasses.includes(c.id)),o=n.filter(c=>t.subjects.selectedSubjects.includes(c.id)),l=e.filter(c=>t.teachers.selectedTeachers.includes(c.id));for(const c of A)for(const h of o){const f=c.levels||[c.level],p=h.levels||[h.level];if(!f.some(E=>p.includes(E))){console.warn(`⚠️ Seviye uyumsuzluğu: Sınıf '${c.name}' (Seviye: ${f.join(", ")}) ile Ders '${h.name}' (Seviye: ${p.join(", ")}). Bu ders atlanıyor.`);continue}const b=$R(h,c,l);b?s.push({id:`${c.id}-${h.id}-${b.id}`,classId:c.id,className:c.name,subjectId:h.id,subjectName:h.name,teacherId:b.id,teacherName:b.name,weeklyHours:t.subjects.subjectHours[h.id]||h.weeklyHours,assignedHours:0,priority:t.subjects.subjectPriorities[h.id]||"medium"}):i.push(`'${c.name}' sınıfı için "${h.name}" dersine uygun öğretmen bulunamadı. Lütfen yeterli sayıda öğretmen seçtiğinizden ve branş/seviye uyumluluklarını kontrol ettiğinizden emin olun.`)}return{mappings:s,errors:i}}const lm=[{id:"basic-info",title:"Temel Bilgiler",description:"Program adı ve dönem bilgileri",icon:"📝"},{id:"subjects",title:"Dersler",description:"Ders seçimi ve haftalık saatler",icon:"📚"},{id:"classes",title:"Sınıflar",description:"Sınıf seçimi ve kapasiteler",icon:"🏫"},{id:"classrooms",title:"Derslikler",description:"Derslik yönetimi ve atamalar",icon:"🚪"},{id:"teachers",title:"Öğretmenler",description:"Öğretmen seçimi ve ders yükleri",icon:"👨‍🏫"},{id:"constraints",title:"Kısıtlamalar",description:"Zaman kısıtlamaları ve kurallar",icon:"⏰"},{id:"generation",title:"Program Oluştur",description:"Otomatik program oluşturma",icon:"⚡"}],YR=()=>{const t=Wl(),e=$o(),{data:r}=St("teachers"),{data:n}=St("classes"),{data:s}=St("subjects"),{add:i,update:A,data:o}=St("schedule-templates"),{add:l,data:c,remove:h}=St("schedules");St("constraints");const{success:f,error:p,warning:g,info:b}=mi(),[E,N]=ce.useState(0),[w,y]=ce.useState(null),[_,L]=ce.useState({basicInfo:{name:"",academicYear:"2024/2025",semester:"",startDate:"2024-09-01",endDate:"2025-08-31",description:"",institutionTitle:"",dailyHours:8,weekDays:5,weekendClasses:!1},subjects:{selectedSubjects:[],subjectHours:{},subjectPriorities:{}},classes:{selectedClasses:[],classCapacities:{},classPreferences:{}},classrooms:[],teachers:{selectedTeachers:[],teacherSubjects:{},teacherMaxHours:{},teacherPreferences:{}},constraints:{timeConstraints:[],globalRules:{maxDailyHoursTeacher:8,maxDailyHoursClass:9,maxConsecutiveHours:3,avoidConsecutiveSameSubject:!0,preferMorningHours:!0,avoidFirstLastPeriod:!1,lunchBreakRequired:!0,lunchBreakDuration:1}},generationSettings:{algorithm:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,allowOverlaps:!1,generateMultipleOptions:!0,optimizationLevel:"balanced"}}),[V,$]=ce.useState(new Set),[F,B]=ce.useState(!1),[k,P]=ce.useState(!1);ce.useEffect(()=>{var O,Y,Z,J,ee,Ae,le,q;const Q=new URLSearchParams(e.search).get("templateId");if(Q&&o.length>0){const ae=o.find(ge=>ge.id===Q);if(ae&&ae.wizardData){y(Q),L(ae.wizardData);const ge=new Set;(O=ae.wizardData.basicInfo)!=null&&O.name&&ge.add(0),((Z=(Y=ae.wizardData.subjects)==null?void 0:Y.selectedSubjects)==null?void 0:Z.length)>0&&ge.add(1),((ee=(J=ae.wizardData.classes)==null?void 0:J.selectedClasses)==null?void 0:ee.length)>0&&ge.add(2),((Ae=ae.wizardData.classrooms)==null?void 0:Ae.length)>0&&ge.add(3),((q=(le=ae.wizardData.teachers)==null?void 0:le.selectedTeachers)==null?void 0:q.length)>0&&ge.add(4),$(ge),f("Şablon Yüklendi",`'${ae.name}' düzenleniyor.`)}}},[e.search,o,f]),ce.useEffect(()=>{if(E===4){const de=_.classes.selectedClasses;if(de.length>0){const Q=n.filter(Y=>de.includes(Y.id)),O=new Set;if(Q.forEach(Y=>{(Y.teacherIds||[]).forEach(Z=>O.add(Z)),Y.classTeacherId&&O.add(Y.classTeacherId)}),O.size>0){const Y=Array.from(new Set([..._.teachers.selectedTeachers,...Array.from(O)]));Y.length>_.teachers.selectedTeachers.length&&(L(Z=>({...Z,teachers:{...Z.teachers,selectedTeachers:Y}})),b("Öğretmenler Otomatik Seçildi","Seçilen sınıflara atanmış öğretmenler listeye eklendi."))}}}},[E,_.classes.selectedClasses,n,b]);const S=lm[E],j=()=>{switch(S.id){case"basic-info":return!!(_.basicInfo.name&&_.basicInfo.academicYear);case"subjects":return _.subjects.selectedSubjects.length>0;case"classes":return _.classes.selectedClasses.length>0;case"classrooms":return _.classrooms.length>0;case"teachers":return _.teachers.selectedTeachers.length>0;default:return!0}},T=()=>{j()?($(de=>new Set([...de,E])),E<lm.length-1&&N(E+1)):g("⚠️ Eksik Bilgi","Lütfen gerekli alanları doldurun")},re=()=>{E>0&&N(E-1)},xe=de=>{(V.has(de)||de<=E)&&N(de)},pe=async()=>{if(!_.basicInfo.name){g("⚠️ Program Adı Gerekli","Lütfen program adını girin");return}B(!0);try{const de={name:_.basicInfo.name,description:_.basicInfo.description,academicYear:_.basicInfo.academicYear,semester:_.basicInfo.semester,updatedAt:new Date,wizardData:_,status:"draft",generatedSchedules:[]};if(w)await A(w,de),f("✅ Şablon Güncellendi",`'${de.name}' başarıyla güncellendi`);else{const Q=await i(de);Q.success&&Q.id&&y(Q.id),f("✅ Şablon Kaydedildi",`'${de.name}' başarıyla kaydedildi`)}}catch{p("❌ Kayıt Hatası","Şablon kaydedilirken bir hata oluştu")}finally{B(!1)}},ve=(de,Q)=>{L(O=>({...O,[de.replace("-","_")]:Q}))},M=de=>{L(Q=>({...Q,teachers:{...Q.teachers,selectedTeachers:de}}))},oe=async()=>{var de,Q,O,Y,Z,J;if(!k){if((((Q=(de=_.teachers)==null?void 0:de.selectedTeachers)==null?void 0:Q.length)??0)===0||(((Y=(O=_.classes)==null?void 0:O.selectedClasses)==null?void 0:Y.length)??0)===0||(((J=(Z=_.subjects)==null?void 0:Z.selectedSubjects)==null?void 0:J.length)??0)===0){p("Eksik Bilgi","Devam etmek için en az bir öğretmen, sınıf ve ders seçmelisiniz.");return}P(!0),b("Program Oluşturuluyor...","Bu işlem birkaç dakika sürebilir. Lütfen bekleyin.");try{const{mappings:ee,errors:Ae}=WR(_,r,n,s);if(Ae.length>0){p("Planlama Hatası",`Program oluşturulamadı:
- ${Ae.join(`
- `)}`),P(!1);return}const le=SS(ee,r,n,s,_.constraints.timeConstraints);if(!le.success||le.schedules.length===0){p("Oluşturma Hatası","Program oluşturulurken bir hata oluştu veya hiç ders atanamadı. Lütfen seçimlerinizi ve kısıtlamalarınızı kontrol edin."),P(!1);return}if(le.statistics.unassignedLessons.length>0){const ge=le.statistics.unassignedLessons.map(Ee=>`'${Ee.className}' > '${Ee.subjectName}': ${Ee.missingHours} saat eksik`).join(`
`);g("Eksik Dersler",`Bazı dersler yerleştirilemedi:
${ge}`)}const q=new Set(le.schedules.map(ge=>ge.teacherId)),ae=c.filter(ge=>q.has(ge.teacherId));for(const ge of ae)await h(ge.id);for(const ge of le.schedules)await l(ge);f("🎉 Program Başarıyla Oluşturuldu!",`${le.schedules.length} öğretmen için yeni program kaydedildi.`),await pe(),setTimeout(()=>t("/all-schedules"),2e3)}catch(ee){console.error("Program oluşturma sırasında kritik hata:",ee),p("Kritik Hata","Beklenmedik bir hata oluştu. Lütfen konsolu kontrol edin.")}finally{P(!1)}}},X=()=>{switch(S.id){case"basic-info":return a.jsx(RR,{data:_.basicInfo,onUpdate:de=>ve("basicInfo",de)});case"subjects":return a.jsx(OR,{data:_.subjects,onUpdate:de=>ve("subjects",de)});case"classes":return a.jsx(HR,{data:_,onUpdate:de=>{de.classes&&ve("classes",de.classes)},classes:n});case"classrooms":return a.jsx(MR,{data:_,onUpdate:de=>{de.classrooms&&ve("classrooms",de.classrooms)}});case"teachers":return a.jsx(VR,{selectedTeachers:_.teachers.selectedTeachers,onSelectedTeachersChange:M});case"constraints":return a.jsx(zR,{data:_,onUpdate:de=>{de.constraints&&ve("constraints",de.constraints)},teachers:r,classes:n,subjects:s});case"generation":return a.jsx(qR,{data:_.generationSettings,wizardData:_,onUpdate:de=>ve("generationSettings",de),onGenerate:oe,isGenerating:k});default:return a.jsx("div",{children:"Bilinmeyen adım"})}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(e0,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:w?"Program Düzenleme":"Program Oluşturma Sihirbazı"}),a.jsx("p",{className:"text-sm text-gray-600",children:`Adım ${E+1}: ${S.title}`})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(De,{onClick:pe,icon:ig,variant:"secondary",disabled:F||!_.basicInfo.name,children:F?"Kaydediliyor...":"Şablonu Kaydet"}),a.jsx(De,{onClick:()=>t("/"),variant:"secondary",children:"İptal"})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Adımlar"}),a.jsx("div",{className:"space-y-2",children:lm.map((de,Q)=>{const O=V.has(Q),Y=Q===E,Z=V.has(Q)||Y||V.has(Q-1)||Q===0;return a.jsx("button",{onClick:()=>xe(Q),disabled:!Z,className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-[1.02] ${Y?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-400 shadow-lg ring-2 ring-blue-200":O?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 hover:border-green-400 shadow-md":Z?"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm hover:shadow-md":"bg-gray-50 border-gray-100 text-gray-400 cursor-not-allowed opacity-60"}`,children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm transition-all duration-300 ${Y?"bg-gradient-to-r from-blue-500 to-indigo-500 shadow-lg ring-2 ring-blue-300":O?"bg-gradient-to-r from-green-500 to-emerald-500 shadow-md":Z?"bg-gradient-to-r from-gray-400 to-gray-500":"bg-gray-300"}`,children:O?a.jsx(yS,{size:20,className:"animate-scale-in"}):a.jsx("span",{className:"text-sm font-bold",children:Q+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`font-semibold text-sm leading-tight transition-colors duration-300 ${Y?"text-blue-700":O?"text-green-700":Z?"text-gray-700":"text-gray-400"}`,children:de.title}),a.jsx("p",{className:`text-xs mt-1 leading-tight transition-colors duration-300 ${Y?"text-blue-600":O?"text-green-600":Z?"text-gray-500":"text-gray-400"}`,children:de.description})]}),Y&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]})},de.id)})})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:S.icon})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:S.title}),a.jsx("p",{className:"text-gray-600",children:S.description})]})]}),!j()&&a.jsxs("div",{className:"flex items-center text-amber-600",children:[a.jsx(Ks,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Eksik bilgi"})]})]})}),a.jsx("div",{className:"p-6",children:X()}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(De,{onClick:re,icon:wR,variant:"secondary",disabled:E===0,children:"Önceki"}),E<lm.length-1?a.jsx(De,{onClick:T,icon:my,variant:"primary",disabled:!j(),children:"Sonraki"}):a.jsx(De,{onClick:oe,icon:BS,variant:"primary",disabled:!j()||k,size:"lg",children:k?"Program Oluşturuluyor...":"Program Oluştur ve Kaydet"})]})})]})})]})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gy=function(t,e){return gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},gy(t,e)};function Vi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vy=function(){return vy=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},vy.apply(this,arguments)};function cs(t,e,r,n){function s(i){return i instanceof r?i:new r(function(A){A(i)})}return new(r||(r=Promise))(function(i,A){function o(h){try{c(n.next(h))}catch(f){A(f)}}function l(h){try{c(n.throw(h))}catch(f){A(f)}}function c(h){h.done?i(h.value):s(h.value).then(o,l)}c((n=n.apply(t,[])).next())})}function qn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,A;return A={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function o(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function cm(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var ua=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),n0=function(t,e){return ua.fromClientRect(t,e.getBoundingClientRect())},XR=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ua(0,0,n,s)},s0=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},$r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},l5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var um=0;um<l5.length;um++)JR[l5.charCodeAt(um)]=um;var c5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dm=0;dm<c5.length;dm++)Rd[c5.charCodeAt(dm)]=dm;var ZR=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Rd[t.charCodeAt(n)],A=Rd[t.charCodeAt(n+1)],o=Rd[t.charCodeAt(n+2)],l=Rd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|o>>2,h[s++]=(o&3)<<6|l&63;return c},e8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},t8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Tl=5,V2=11,w1=2,r8=V2-Tl,IS=65536>>Tl,n8=1<<Tl,x1=n8-1,s8=1024>>Tl,i8=IS+s8,A8=i8,a8=32,o8=A8+a8,l8=65536>>V2,c8=1<<r8,u8=c8-1,u5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},d8=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},h8=function(t,e){var r=ZR(t),n=Array.isArray(r)?t8(r):new Uint32Array(r),s=Array.isArray(r)?e8(r):new Uint16Array(r),i=24,A=u5(s,i/2,n[4]/2),o=n[5]===2?u5(s,(i+n[4])/2):d8(n,Math.ceil((i+n[4])/4));return new f8(n[0],n[1],n[2],n[3],A,o)},f8=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Tl],r=(r<<w1)+(e&x1),this.data[r];if(e<=65535)return r=this.index[IS+(e-55296>>Tl)],r=(r<<w1)+(e&x1),this.data[r];if(e<this.highStart)return r=o8-l8+(e>>V2),r=this.index[r],r+=e>>Tl&u8,r=this.index[r],r=(r<<w1)+(e&x1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),d5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hm=0;hm<d5.length;hm++)m8[d5.charCodeAt(hm)]=hm;var p8="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",h5=50,g8=1,FS=2,kS=3,v8=4,y8=5,f5=7,TS=8,m5=9,ho=10,yy=11,p5=12,wy=13,w8=14,Od=15,xy=16,fm=17,bd=18,x8=19,g5=20,By=21,Cd=22,B1=23,_c=24,Rs=25,Hd=26,Md=27,Nc=28,B8=29,Bl=30,b8=31,mm=32,pm=33,by=34,Cy=35,Ey=36,Kh=37,_y=38,ip=39,Ap=40,b1=41,US=42,C8=43,E8=[9001,65288],QS="!",Vt="×",gm="÷",Ny=h8(p8),VA=[Bl,Ey],Sy=[g8,FS,kS,y8],jS=[ho,TS],v5=[Md,Hd],_8=Sy.concat(jS),y5=[_y,ip,Ap,by,Cy],N8=[Od,wy],S8=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,A){var o=Ny.get(i);if(o>h5?(s.push(!0),o-=h5):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(A),r.push(xy);if(o===v8||o===yy){if(A===0)return n.push(A),r.push(Bl);var l=r[A-1];return _8.indexOf(l)===-1?(n.push(n[A-1]),r.push(l)):(n.push(A),r.push(Bl))}if(n.push(A),o===b8)return r.push(e==="strict"?By:Kh);if(o===US||o===B8)return r.push(Bl);if(o===C8)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Kh):r.push(Bl);r.push(o)}),[n,r,s]},C1=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var A=n[i];if(A===e)return!0;if(A!==ho)break}if(s===ho)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var A=n[l];if(A===e)return!0;if(A!==ho)break}if(o!==ho)break}return!1},w5=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===ho)r--;else return n}return 0},I8=function(t,e,r,n,s){if(r[n]===0)return Vt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Vt;var A=i-1,o=i+1,l=e[i],c=A>=0?e[A]:0,h=e[o];if(l===FS&&h===kS)return Vt;if(Sy.indexOf(l)!==-1)return QS;if(Sy.indexOf(h)!==-1||jS.indexOf(h)!==-1)return Vt;if(w5(i,e)===TS)return gm;if(Ny.get(t[i])===yy||(l===mm||l===pm)&&Ny.get(t[o])===yy||l===f5||h===f5||l===m5||[ho,wy,Od].indexOf(l)===-1&&h===m5||[fm,bd,x8,_c,Nc].indexOf(h)!==-1||w5(i,e)===Cd||C1(B1,Cd,i,e)||C1([fm,bd],By,i,e)||C1(p5,p5,i,e))return Vt;if(l===ho)return gm;if(l===B1||h===B1)return Vt;if(h===xy||l===xy)return gm;if([wy,Od,By].indexOf(h)!==-1||l===w8||c===Ey&&N8.indexOf(l)!==-1||l===Nc&&h===Ey||h===g5||VA.indexOf(h)!==-1&&l===Rs||VA.indexOf(l)!==-1&&h===Rs||l===Md&&[Kh,mm,pm].indexOf(h)!==-1||[Kh,mm,pm].indexOf(l)!==-1&&h===Hd||VA.indexOf(l)!==-1&&v5.indexOf(h)!==-1||v5.indexOf(l)!==-1&&VA.indexOf(h)!==-1||[Md,Hd].indexOf(l)!==-1&&(h===Rs||[Cd,Od].indexOf(h)!==-1&&e[o+1]===Rs)||[Cd,Od].indexOf(l)!==-1&&h===Rs||l===Rs&&[Rs,Nc,_c].indexOf(h)!==-1)return Vt;if([Rs,Nc,_c,fm,bd].indexOf(h)!==-1)for(var f=i;f>=0;){var p=e[f];if(p===Rs)return Vt;if([Nc,_c].indexOf(p)!==-1)f--;else break}if([Md,Hd].indexOf(h)!==-1)for(var f=[fm,bd].indexOf(l)!==-1?A:i;f>=0;){var p=e[f];if(p===Rs)return Vt;if([Nc,_c].indexOf(p)!==-1)f--;else break}if(_y===l&&[_y,ip,by,Cy].indexOf(h)!==-1||[ip,by].indexOf(l)!==-1&&[ip,Ap].indexOf(h)!==-1||[Ap,Cy].indexOf(l)!==-1&&h===Ap||y5.indexOf(l)!==-1&&[g5,Hd].indexOf(h)!==-1||y5.indexOf(h)!==-1&&l===Md||VA.indexOf(l)!==-1&&VA.indexOf(h)!==-1||l===_c&&VA.indexOf(h)!==-1||VA.concat(Rs).indexOf(l)!==-1&&h===Cd&&E8.indexOf(t[o])===-1||VA.concat(Rs).indexOf(h)!==-1&&l===bd)return Vt;if(l===b1&&h===b1){for(var g=r[i],b=1;g>0&&(g--,e[g]===b1);)b++;if(b%2!==0)return Vt}return l===mm&&h===pm?Vt:gm},F8=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=S8(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[Rs,Bl,US].indexOf(o)!==-1?Kh:o}));var A=e.wordBreak==="keep-all"?i.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,A]},k8=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===QS,this.start=n,this.end=s}return t.prototype.slice=function(){return $r.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),T8=function(t,e){var r=s0(t),n=F8(r,e),s=n[0],i=n[1],A=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var h=Vt;c<o&&(h=I8(r,i,s,++c,A))===Vt;);if(h!==Vt||c===o){var f=new k8(r,h,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},U8=1,Q8=2,df=4,x5=8,Ag=10,B5=47,Ah=92,j8=9,L8=32,vm=34,Ed=61,P8=35,D8=36,R8=37,ym=39,wm=40,_d=41,O8=95,Bs=45,H8=33,M8=60,V8=62,K8=64,z8=91,G8=93,q8=61,$8=123,xm=63,W8=125,b5=124,Y8=126,X8=128,C5=65533,E1=42,Sl=43,J8=44,Z8=58,eO=59,zh=46,tO=0,rO=8,nO=11,sO=14,iO=31,AO=127,AA=-1,LS=48,PS=97,DS=101,aO=102,oO=117,lO=122,RS=65,OS=69,HS=70,cO=85,uO=90,Wn=function(t){return t>=LS&&t<=57},dO=function(t){return t>=55296&&t<=57343},Sc=function(t){return Wn(t)||t>=RS&&t<=HS||t>=PS&&t<=aO},hO=function(t){return t>=PS&&t<=lO},fO=function(t){return t>=RS&&t<=uO},mO=function(t){return hO(t)||fO(t)},pO=function(t){return t>=X8},Bm=function(t){return t===Ag||t===j8||t===L8},ag=function(t){return mO(t)||pO(t)||t===O8},E5=function(t){return ag(t)||Wn(t)||t===Bs},gO=function(t){return t>=tO&&t<=rO||t===nO||t>=sO&&t<=iO||t===AO},eo=function(t,e){return t!==Ah?!1:e!==Ag},bm=function(t,e,r){return t===Bs?ag(e)||eo(e,r):ag(t)?!0:!!(t===Ah&&eo(t,e))},_1=function(t,e,r){return t===Sl||t===Bs?Wn(e)?!0:e===zh&&Wn(r):Wn(t===zh?e:t)},vO=function(t){var e=0,r=1;(t[e]===Sl||t[e]===Bs)&&(t[e]===Bs&&(r=-1),e++);for(var n=[];Wn(t[e]);)n.push(t[e++]);var s=n.length?parseInt($r.apply(void 0,n),10):0;t[e]===zh&&e++;for(var i=[];Wn(t[e]);)i.push(t[e++]);var A=i.length,o=A?parseInt($r.apply(void 0,i),10):0;(t[e]===OS||t[e]===DS)&&e++;var l=1;(t[e]===Sl||t[e]===Bs)&&(t[e]===Bs&&(l=-1),e++);for(var c=[];Wn(t[e]);)c.push(t[e++]);var h=c.length?parseInt($r.apply(void 0,c),10):0;return r*(s+o*Math.pow(10,-A))*Math.pow(10,l*h)},yO={type:2},wO={type:3},xO={type:4},BO={type:13},bO={type:8},CO={type:21},EO={type:9},_O={type:10},NO={type:11},SO={type:12},IO={type:14},Cm={type:23},FO={type:1},kO={type:25},TO={type:24},UO={type:26},QO={type:27},jO={type:28},LO={type:29},PO={type:31},Iy={type:32},MS=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(s0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Iy;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case vm:return this.consumeStringToken(vm);case P8:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(E5(r)||eo(n,s)){var i=bm(r,n,s)?Q8:U8,A=this.consumeName();return{type:5,value:A,flags:i}}break;case D8:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),BO;break;case ym:return this.consumeStringToken(ym);case wm:return yO;case _d:return wO;case E1:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),IO;break;case Sl:if(_1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case J8:return xO;case Bs:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(_1(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(bm(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Bs&&c===V8)return this.consumeCodePoint(),this.consumeCodePoint(),TO;break;case zh:if(_1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case B5:if(this.peekCodePoint(0)===E1)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===E1&&(h=this.consumeCodePoint(),h===B5))return this.consumeToken();if(h===AA)return this.consumeToken()}break;case Z8:return UO;case eO:return QO;case M8:if(this.peekCodePoint(0)===H8&&this.peekCodePoint(1)===Bs&&this.peekCodePoint(2)===Bs)return this.consumeCodePoint(),this.consumeCodePoint(),kO;break;case K8:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(bm(f,p,g)){var A=this.consumeName();return{type:7,value:A}}break;case z8:return jO;case Ah:if(eo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case G8:return LO;case q8:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),bO;break;case $8:return NO;case W8:return SO;case oO:case cO:var b=this.peekCodePoint(0),E=this.peekCodePoint(1);return b===Sl&&(Sc(E)||E===xm)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case b5:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),EO;if(this.peekCodePoint(0)===b5)return this.consumeCodePoint(),CO;break;case Y8:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),_O;break;case AA:return Iy}return Bm(e)?(this.consumeWhiteSpace(),PO):Wn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ag(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:$r(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Sc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===xm&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt($r.apply(void 0,e.map(function(l){return l===xm?LS:l})),16),i=parseInt($r.apply(void 0,e.map(function(l){return l===xm?HS:l})),16);return{type:30,start:s,end:i}}var A=parseInt($r.apply(void 0,e),16);if(this.peekCodePoint(0)===Bs&&Sc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];Sc(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt($r.apply(void 0,o),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===wm?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===wm?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===AA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ym||r===vm){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===AA||this.peekCodePoint(0)===_d)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Cm)}for(;;){var s=this.consumeCodePoint();if(s===AA||s===_d)return{type:22,value:$r.apply(void 0,e)};if(Bm(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===AA||this.peekCodePoint(0)===_d?(this.consumeCodePoint(),{type:22,value:$r.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Cm);if(s===vm||s===ym||s===wm||gO(s))return this.consumeBadUrlRemnants(),Cm;if(s===Ah)if(eo(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Cm;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Bm(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===_d||e===AA)return;eo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=$r.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===AA||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Ag)return this._value.splice(0,n),FO;if(s===Ah){var i=this._value[n+1];i!==AA&&i!==void 0&&(i===Ag?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):eo(s,i)&&(r+=this.consumeStringSlice(n),r+=$r(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=df,n=this.peekCodePoint(0);for((n===Sl||n===Bs)&&e.push(this.consumeCodePoint());Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===zh&&Wn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=x5;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===OS||n===DS)&&((s===Sl||s===Bs)&&Wn(i)||Wn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=x5;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[vO(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(bm(s,i,A)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return s===R8?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Sc(e)){for(var r=$r(e);Sc(this.peekCodePoint(0))&&r.length<6;)r+=$r(this.consumeCodePoint());Bm(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||dO(n)||n>1114111?C5:n}return e===AA?C5:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(E5(r))e+=$r(r);else if(eo(r,this.peekCodePoint(0)))e+=$r(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),VS=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new MS;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||RO(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Iy:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),hf=function(t){return t.type===15},Wu=function(t){return t.type===17},ur=function(t){return t.type===20},DO=function(t){return t.type===0},Fy=function(t,e){return ur(t)&&t.value===e},KS=function(t){return t.type!==31},ju=function(t){return t.type!==31&&t.type!==4},BA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},RO=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Oo=function(t){return t.type===17||t.type===15},an=function(t){return t.type===16||Oo(t)},zS=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Tn={type:17,number:0,flags:df},K2={type:16,number:50,flags:df},fo={type:16,number:100,flags:df},Vd=function(t,e,r){var n=t[0],s=t[1];return[yr(n,e),yr(typeof s<"u"?s:n,r)]},yr=function(t,e){if(t.type===16)return t.number/100*e;if(hf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},GS="deg",qS="grad",$S="rad",WS="turn",i0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case GS:return Math.PI*e.number/180;case qS:return Math.PI/200*e.number;case $S:return e.number;case WS:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},YS=function(t){return t.type===15&&(t.unit===GS||t.unit===qS||t.unit===$S||t.unit===WS)},XS=function(t){var e=t.filter(ur).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Tn,Tn];case"to top":case"bottom":return oi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Tn,fo];case"to right":case"left":return oi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[fo,fo];case"to bottom":case"top":return oi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[fo,Tn];case"to left":case"right":return oi(270)}return 0},oi=function(t){return Math.PI*t/180},Uo={name:"color",parse:function(t,e){if(e.type===18){var r=OO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return mo(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return mo(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return mo(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return mo(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var o=ta[e.value.toUpperCase()];if(typeof o<"u")return o}return ta.TRANSPARENT}},Qo=function(t){return(255&t)===0},vn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},mo=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},_5=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},N5=function(t,e){var r=e.filter(ju);if(r.length===3){var n=r.map(_5),s=n[0],i=n[1],A=n[2];return mo(s,i,A,1)}if(r.length===4){var o=r.map(_5),s=o[0],i=o[1],A=o[2],l=o[3];return mo(s,i,A,l)}return 0};function N1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var S5=function(t,e){var r=e.filter(ju),n=r[0],s=r[1],i=r[2],A=r[3],o=(n.type===17?oi(n.number):i0.parse(t,n))/(Math.PI*2),l=an(s)?s.number/100:0,c=an(i)?i.number/100:0,h=typeof A<"u"&&an(A)?yr(A,1):1;if(l===0)return mo(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,g=N1(p,f,o+1/3),b=N1(p,f,o),E=N1(p,f,o-1/3);return mo(g*255,b*255,E*255,h)},OO={hsl:S5,hsla:S5,rgb:N5,rgba:N5},ah=function(t,e){return Uo.parse(t,VS.create(e).parseComponentValue())},ta={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},HO={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},MO={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},A0=function(t,e){var r=Uo.parse(t,e[0]),n=e[1];return n&&an(n)?{color:r,stop:n}:{color:r,stop:null}},I5=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Tn),n.stop===null&&(n.stop=fo);for(var s=[],i=0,A=0;A<t.length;A++){var o=t[A].stop;if(o!==null){var l=yr(o,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var h=s[A];if(h===null)c===null&&(c=A);else if(c!==null){for(var f=A-c,p=s[c-1],g=(h-p)/(f+1),b=1;b<=f;b++)s[c+b-1]=g*b;c=null}}return t.map(function(E,N){var w=E.color;return{color:w,stop:Math.max(Math.min(1,s[N]/e),0)}})},VO=function(t,e,r){var n=e/2,s=r/2,i=yr(t[0],e)-n,A=s-yr(t[1],r);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},KO=function(t,e,r){var n=typeof t=="number"?t:VO(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,A=r/2,o=s/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[s,i-c,i+c,A-l,A+l]},Fi=function(t,e){return Math.sqrt(t*t+e*e)},F5=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,o){var l=o[0],c=o[1],h=Fi(r-l,n-c);return(s?h<A.optimumDistance:h>A.optimumDistance)?{optimumCorner:o,optimumDistance:h}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},zO=function(t,e,r,n,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=A=Math.min(Fi(e,r),Fi(e,r-s),Fi(e-n,r),Fi(e-n,r-s));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=F5(n,s,e,r,!0),c=l[0],h=l[1];i=Fi(c-e,(h-r)/o),A=o*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=A=Math.max(Fi(e,r),Fi(e,r-s),Fi(e-n,r),Fi(e-n,r-s));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),f=F5(n,s,e,r,!1),c=f[0],h=f[1];i=Fi(c-e,(h-r)/o),A=o*i}break}return Array.isArray(t.size)&&(i=yr(t.size[0],n),A=t.size.length===2?yr(t.size[1],s):i),[i,A]},GO=function(t,e){var r=oi(180),n=[];return BA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){r=XS(s);return}else if(YS(A)){r=i0.parse(t,A);return}}var o=A0(t,s);n.push(o)}),{angle:r,stops:n,type:1}},Em=function(t,e){var r=oi(180),n=[];return BA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=XS(s);return}else if(YS(A)){r=(i0.parse(t,A)+oi(270))%oi(360);return}}var o=A0(t,s);n.push(o)}),{angle:r,stops:n,type:1}},qO=function(t,e){var r=oi(180),n=[],s=1,i=0,A=3,o=[];return BA(e).forEach(function(l,c){var h=l[0];if(c===0){if(ur(h)&&h.value==="linear"){s=1;return}else if(ur(h)&&h.value==="radial"){s=2;return}}if(h.type===18){if(h.name==="from"){var f=Uo.parse(t,h.values[0]);n.push({stop:Tn,color:f})}else if(h.name==="to"){var f=Uo.parse(t,h.values[0]);n.push({stop:fo,color:f})}else if(h.name==="color-stop"){var p=h.values.filter(ju);if(p.length===2){var f=Uo.parse(t,p[1]),g=p[0];Wu(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:f})}}}}),s===1?{angle:(r+oi(180))%oi(360),stops:n,type:s}:{size:A,shape:i,stops:n,position:o,type:s}},JS="closest-side",ZS="farthest-side",eI="closest-corner",tI="farthest-corner",rI="circle",nI="ellipse",sI="cover",iI="contain",$O=function(t,e){var r=0,n=3,s=[],i=[];return BA(e).forEach(function(A,o){var l=!0;if(o===0){var c=!1;l=A.reduce(function(f,p){if(c)if(ur(p))switch(p.value){case"center":return i.push(K2),f;case"top":case"left":return i.push(Tn),f;case"right":case"bottom":return i.push(fo),f}else(an(p)||Oo(p))&&i.push(p);else if(ur(p))switch(p.value){case rI:return r=0,!1;case nI:return r=1,!1;case"at":return c=!0,!1;case JS:return n=0,!1;case sI:case ZS:return n=1,!1;case iI:case eI:return n=2,!1;case tI:return n=3,!1}else if(Oo(p)||an(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return f},l)}if(l){var h=A0(t,A);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},_m=function(t,e){var r=0,n=3,s=[],i=[];return BA(e).forEach(function(A,o){var l=!0;if(o===0?l=A.reduce(function(h,f){if(ur(f))switch(f.value){case"center":return i.push(K2),!1;case"top":case"left":return i.push(Tn),!1;case"right":case"bottom":return i.push(fo),!1}else if(an(f)||Oo(f))return i.push(f),!1;return h},l):o===1&&(l=A.reduce(function(h,f){if(ur(f))switch(f.value){case rI:return r=0,!1;case nI:return r=1,!1;case iI:case JS:return n=0,!1;case ZS:return n=1,!1;case eI:return n=2,!1;case sI:case tI:return n=3,!1}else if(Oo(f)||an(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return h},l)),l){var c=A0(t,A);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},WO=function(t){return t.type===1},YO=function(t){return t.type===2},z2={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=AI[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function XO(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!AI[t.name])}var AI={"linear-gradient":GO,"-moz-linear-gradient":Em,"-ms-linear-gradient":Em,"-o-linear-gradient":Em,"-webkit-linear-gradient":Em,"radial-gradient":$O,"-moz-radial-gradient":_m,"-ms-radial-gradient":_m,"-o-radial-gradient":_m,"-webkit-radial-gradient":_m,"-webkit-gradient":qO},JO={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return ju(n)&&XO(n)}).map(function(n){return z2.parse(t,n)})}},ZO={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},eH={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return BA(e).map(function(r){return r.filter(an)}).map(zS)}},tH={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return BA(e).map(function(r){return r.filter(ur).map(function(n){return n.value}).join(" ")}).map(rH)}},rH=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},hu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(hu||(hu={}));var nH={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return BA(e).map(function(r){return r.filter(sH)})}},sH=function(t){return ur(t)||an(t)},a0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},iH=a0("top"),AH=a0("right"),aH=a0("bottom"),oH=a0("left"),o0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return zS(r.filter(an))}}},lH=o0("top-left"),cH=o0("top-right"),uH=o0("bottom-right"),dH=o0("bottom-left"),l0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},hH=l0("top"),fH=l0("right"),mH=l0("bottom"),pH=l0("left"),c0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return hf(r)?r.number:0}}},gH=c0("top"),vH=c0("right"),yH=c0("bottom"),wH=c0("left"),xH={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},BH={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},bH={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).reduce(function(r,n){return r|CH(n.value)},0)}},CH=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},EH={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},_H={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},og;(function(t){t.NORMAL="normal",t.STRICT="strict"})(og||(og={}));var NH={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return og.STRICT;case"normal":default:return og.NORMAL}}},SH={name:"line-height",initialValue:"normal",prefix:!1,type:4},k5=function(t,e){return ur(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:an(t)?yr(t,e):e},IH={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:z2.parse(t,e)}},FH={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},ky={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},u0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},kH=u0("top"),TH=u0("right"),UH=u0("bottom"),QH=u0("left"),jH={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},LH={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},d0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},PH=d0("top"),DH=d0("right"),RH=d0("bottom"),OH=d0("left"),HH={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},MH={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},VH={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Fy(e[0],"none")?[]:BA(e).map(function(r){for(var n={color:ta.TRANSPARENT,offsetX:Tn,offsetY:Tn,blur:Tn},s=0,i=0;i<r.length;i++){var A=r[i];Oo(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:n.blur=A,s++):n.color=Uo.parse(t,A)}return n})}},KH={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zH={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=$H[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},GH=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},qH=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,s,i,A,o]:null},$H={matrix:GH,matrix3d:qH},T5={type:16,number:50,flags:df},WH=[T5,T5],YH={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(an);return r.length!==2?WH:[r[0],r[1]]}},XH={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},oh;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(oh||(oh={}));var JH={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return oh.BREAK_ALL;case"keep-all":return oh.KEEP_ALL;case"normal":default:return oh.NORMAL}}},ZH={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Wu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},aI={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},eM={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Wu(e)?e.number:1}},tM={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rM={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},nM={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},sM={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},iM={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Wu(e))return e.number;if(ur(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},AM={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ur).map(function(r){return r.value})}},aM={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},hn=function(t,e){return(t&e)!==0},oM={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},lM={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(KS),i=0;i<s.length;i++){var A=s[i],o=s[i+1];if(A.type===20){var l=o&&Wu(o)?o.number:1;n.push({counter:A.value,increment:l})}}return n}},cM={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(KS),s=0;s<n.length;s++){var i=n[s],A=n[s+1];if(ur(i)&&i.value!=="none"){var o=A&&Wu(A)?A.number:0;r.push({counter:i.value,reset:o})}}return r}},uM={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(hf).map(function(r){return aI.parse(t,r)})}},dM={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(DO);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,o=s[i+1].value;n.push({open:A,close:o})}return n}},U5=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},hM={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Fy(e[0],"none")?[]:BA(e).map(function(r){for(var n={color:255,offsetX:Tn,offsetY:Tn,blur:Tn,spread:Tn,inset:!1},s=0,i=0;i<r.length;i++){var A=r[i];Fy(A,"inset")?n.inset=!0:Oo(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:s===2?n.blur=A:n.spread=A,s++):n.color=Uo.parse(t,A)}return n})}},fM={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ur).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},mM={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pM={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return hf(e)?e.number:0}},gM=function(){function t(e,r){var n,s;this.animationDuration=it(e,uM,r.animationDuration),this.backgroundClip=it(e,HO,r.backgroundClip),this.backgroundColor=it(e,MO,r.backgroundColor),this.backgroundImage=it(e,JO,r.backgroundImage),this.backgroundOrigin=it(e,ZO,r.backgroundOrigin),this.backgroundPosition=it(e,eH,r.backgroundPosition),this.backgroundRepeat=it(e,tH,r.backgroundRepeat),this.backgroundSize=it(e,nH,r.backgroundSize),this.borderTopColor=it(e,iH,r.borderTopColor),this.borderRightColor=it(e,AH,r.borderRightColor),this.borderBottomColor=it(e,aH,r.borderBottomColor),this.borderLeftColor=it(e,oH,r.borderLeftColor),this.borderTopLeftRadius=it(e,lH,r.borderTopLeftRadius),this.borderTopRightRadius=it(e,cH,r.borderTopRightRadius),this.borderBottomRightRadius=it(e,uH,r.borderBottomRightRadius),this.borderBottomLeftRadius=it(e,dH,r.borderBottomLeftRadius),this.borderTopStyle=it(e,hH,r.borderTopStyle),this.borderRightStyle=it(e,fH,r.borderRightStyle),this.borderBottomStyle=it(e,mH,r.borderBottomStyle),this.borderLeftStyle=it(e,pH,r.borderLeftStyle),this.borderTopWidth=it(e,gH,r.borderTopWidth),this.borderRightWidth=it(e,vH,r.borderRightWidth),this.borderBottomWidth=it(e,yH,r.borderBottomWidth),this.borderLeftWidth=it(e,wH,r.borderLeftWidth),this.boxShadow=it(e,hM,r.boxShadow),this.color=it(e,xH,r.color),this.direction=it(e,BH,r.direction),this.display=it(e,bH,r.display),this.float=it(e,EH,r.cssFloat),this.fontFamily=it(e,nM,r.fontFamily),this.fontSize=it(e,sM,r.fontSize),this.fontStyle=it(e,aM,r.fontStyle),this.fontVariant=it(e,AM,r.fontVariant),this.fontWeight=it(e,iM,r.fontWeight),this.letterSpacing=it(e,_H,r.letterSpacing),this.lineBreak=it(e,NH,r.lineBreak),this.lineHeight=it(e,SH,r.lineHeight),this.listStyleImage=it(e,IH,r.listStyleImage),this.listStylePosition=it(e,FH,r.listStylePosition),this.listStyleType=it(e,ky,r.listStyleType),this.marginTop=it(e,kH,r.marginTop),this.marginRight=it(e,TH,r.marginRight),this.marginBottom=it(e,UH,r.marginBottom),this.marginLeft=it(e,QH,r.marginLeft),this.opacity=it(e,eM,r.opacity);var i=it(e,jH,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=it(e,LH,r.overflowWrap),this.paddingTop=it(e,PH,r.paddingTop),this.paddingRight=it(e,DH,r.paddingRight),this.paddingBottom=it(e,RH,r.paddingBottom),this.paddingLeft=it(e,OH,r.paddingLeft),this.paintOrder=it(e,fM,r.paintOrder),this.position=it(e,MH,r.position),this.textAlign=it(e,HH,r.textAlign),this.textDecorationColor=it(e,tM,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=it(e,rM,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=it(e,VH,r.textShadow),this.textTransform=it(e,KH,r.textTransform),this.transform=it(e,zH,r.transform),this.transformOrigin=it(e,YH,r.transformOrigin),this.visibility=it(e,XH,r.visibility),this.webkitTextStrokeColor=it(e,mM,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=it(e,pM,r.webkitTextStrokeWidth),this.wordBreak=it(e,JH,r.wordBreak),this.zIndex=it(e,ZH,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Qo(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return hn(this.display,4)||hn(this.display,33554432)||hn(this.display,268435456)||hn(this.display,536870912)||hn(this.display,67108864)||hn(this.display,134217728)},t}(),vM=function(){function t(e,r){this.content=it(e,oM,r.content),this.quotes=it(e,dM,r.quotes)}return t}(),Q5=function(){function t(e,r){this.counterIncrement=it(e,lM,r.counterIncrement),this.counterReset=it(e,cM,r.counterReset)}return t}(),it=function(t,e,r){var n=new MS,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new VS(n.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,ur(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return i0.parse(t,i.parseComponentValue());case"color":return Uo.parse(t,i.parseComponentValue());case"image":return z2.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Oo(o)?o:Tn;case"length-percentage":var l=i.parseComponentValue();return an(l)?l:Tn;case"time":return aI.parse(t,i.parseComponentValue())}break}},yM="data-html2canvas-debug",wM=function(t){var e=t.getAttribute(yM);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ty=function(t,e){var r=wM(t);return r===1||e===r},bA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ty(r,3))debugger;this.styles=new gM(e,window.getComputedStyle(r,null)),jy(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=n0(this.context,r),Ty(r,4)&&(this.flags|=16)}return t}(),xM="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",j5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nm=0;Nm<j5.length;Nm++)Kd[j5.charCodeAt(Nm)]=Nm;var BM=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Kd[t.charCodeAt(n)],A=Kd[t.charCodeAt(n+1)],o=Kd[t.charCodeAt(n+2)],l=Kd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|o>>2,h[s++]=(o&3)<<6|l&63;return c},bM=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},CM=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ul=5,G2=11,S1=2,EM=G2-Ul,oI=65536>>Ul,_M=1<<Ul,I1=_M-1,NM=1024>>Ul,SM=oI+NM,IM=SM,FM=32,kM=IM+FM,TM=65536>>G2,UM=1<<EM,QM=UM-1,L5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},jM=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},LM=function(t,e){var r=BM(t),n=Array.isArray(r)?CM(r):new Uint32Array(r),s=Array.isArray(r)?bM(r):new Uint16Array(r),i=24,A=L5(s,i/2,n[4]/2),o=n[5]===2?L5(s,(i+n[4])/2):jM(n,Math.ceil((i+n[4])/4));return new PM(n[0],n[1],n[2],n[3],A,o)},PM=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ul],r=(r<<S1)+(e&I1),this.data[r];if(e<=65535)return r=this.index[oI+(e-55296>>Ul)],r=(r<<S1)+(e&I1),this.data[r];if(e<this.highStart)return r=kM-TM+(e>>G2),r=this.index[r],r+=e>>Ul&QM,r=this.index[r],r=(r<<S1)+(e&I1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),P5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sm=0;Sm<P5.length;Sm++)DM[P5.charCodeAt(Sm)]=Sm;var RM=1,F1=2,k1=3,D5=4,R5=5,OM=7,O5=8,T1=9,U1=10,H5=11,M5=12,V5=13,K5=14,Q1=15,HM=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},MM=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},VM=LM(xM),ri="×",j1="÷",KM=function(t){return VM.get(t)},zM=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],A=e[r];if(i===F1&&A===k1)return ri;if(i===F1||i===k1||i===D5||A===F1||A===k1||A===D5)return j1;if(i===O5&&[O5,T1,H5,M5].indexOf(A)!==-1||(i===H5||i===T1)&&(A===T1||A===U1)||(i===M5||i===U1)&&A===U1||A===V5||A===R5||A===OM||i===RM)return ri;if(i===V5&&A===K5){for(;s===R5;)s=e[--n];if(s===K5)return ri}if(i===Q1&&A===Q1){for(var o=0;s===Q1;)o++,s=e[--n];if(o%2===0)return ri}return j1},GM=function(t){var e=HM(t),r=e.length,n=0,s=0,i=e.map(KM);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=ri;n<r&&(A=zM(e,i,++n))===ri;);if(A!==ri||n===r){var o=MM.apply(null,e.slice(s,n));return s=n,{value:o,done:!1}}return{done:!0,value:null}}}},qM=function(t){for(var e=GM(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},$M=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},WM=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=s0(n.data).map(function(l){return $r(l)}),i=0,A={},o=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var h=r.getBoundingClientRect();i+=l.length;var f=h.x>A.x||h.y>A.y;return A=h,c===0?!0:f});return t.body.removeChild(e),o},YM=function(){return typeof new Image().crossOrigin<"u"},XM=function(){return typeof new XMLHttpRequest().responseType=="string"},JM=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},z5=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},ZM=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var A=Uy(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),G5(A).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",z5(l)?G5(Uy(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),z5(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Uy=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(s),A},G5=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},In={get SUPPORT_RANGE_BOUNDS(){var t=$M(document);return Object.defineProperty(In,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=In.SUPPORT_RANGE_BOUNDS&&WM(document);return Object.defineProperty(In,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=JM(document);return Object.defineProperty(In,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?ZM(document):Promise.resolve(!1);return Object.defineProperty(In,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=YM();return Object.defineProperty(In,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=XM();return Object.defineProperty(In,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(In,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(In,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},lh=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),e7=function(t,e,r,n){var s=n7(e,r),i=[],A=0;return s.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(In.SUPPORT_RANGE_BOUNDS){var l=q5(n,A,o.length).getClientRects();if(l.length>1){var c=q2(o),h=0;c.forEach(function(p){i.push(new lh(p,ua.fromDOMRectList(t,q5(n,h+A,p.length).getClientRects()))),h+=p.length})}else i.push(new lh(o,ua.fromDOMRectList(t,l)))}else{var f=n.splitText(o.length);i.push(new lh(o,t7(t,n))),n=f}else In.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));A+=o.length}),i},t7=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=n0(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return ua.EMPTY},q5=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},q2=function(t){if(In.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return qM(t)},r7=function(t,e){if(In.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return i7(t,e)},n7=function(t,e){return e.letterSpacing!==0?q2(t):r7(t,e)},s7=[32,160,4961,65792,65793,4153,4241],i7=function(t,e){for(var r=T8(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var A=s.value.slice(),o=s0(A),l="";o.forEach(function(c){s7.indexOf(c)===-1?l+=$r(c):(l.length&&n.push(l),n.push($r(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},A7=function(){function t(e,r,n){this.text=a7(r.data,n.textTransform),this.textBounds=e7(e,this.text,n,r)}return t}(),a7=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(o7,l7);case 2:return t.toUpperCase();default:return t}},o7=/(^|\s|:|-|\(|\))([a-z])/g,l7=function(t,e,r){return t.length>0?e+r.toUpperCase():t},lI=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(bA),cI=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(bA),uI=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,A=n0(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(bA),dI=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(bA),Qy=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(bA),c7=[{type:15,flags:0,unit:"px",number:3}],u7=[{type:16,flags:0,number:50}],d7=function(t){return t.width>t.height?new ua(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ua(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},h7=function(t){var e=t.type===f7?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},lg="checkbox",cg="radio",f7="password",$5=707406591,$2=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=h7(n),(s.type===lg||s.type===cg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=d7(s.bounds)),s.type){case lg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=c7;break;case cg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=u7;break}return s}return e}(bA),hI=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(bA),fI=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(bA),mI=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=gI(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ah(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ta.TRANSPARENT,A=n.contentWindow.document.body?ah(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ta.TRANSPARENT;s.backgroundColor=Qo(i)?Qo(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(bA),m7=["OL","UL","MENU"],ap=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,vI(s)&&s.data.trim().length>0)r.textNodes.push(new A7(t,s,r.styles));else if(eu(s))if(BI(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return ap(t,o,r,n)});else{var A=pI(t,s);A.styles.isVisible()&&(p7(s,A,n)?A.flags|=4:g7(A.styles)&&(A.flags|=2),m7.indexOf(s.tagName)!==-1&&(A.flags|=8),r.elements.push(A),s.slot,s.shadowRoot?ap(t,s.shadowRoot,A,n):!ug(s)&&!yI(s)&&!dg(s)&&ap(t,s,A,n))}},pI=function(t,e){return Ly(e)?new lI(t,e):wI(e)?new cI(t,e):yI(e)?new uI(t,e):v7(e)?new dI(t,e):y7(e)?new Qy(t,e):w7(e)?new $2(t,e):dg(e)?new hI(t,e):ug(e)?new fI(t,e):xI(e)?new mI(t,e):new bA(t,e)},gI=function(t,e){var r=pI(t,e);return r.flags|=4,ap(t,e,r,r),r},p7=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||W2(t)&&r.styles.isTransparent()},g7=function(t){return t.isPositioned()||t.isFloating()},vI=function(t){return t.nodeType===Node.TEXT_NODE},eu=function(t){return t.nodeType===Node.ELEMENT_NODE},jy=function(t){return eu(t)&&typeof t.style<"u"&&!op(t)},op=function(t){return typeof t.className=="object"},v7=function(t){return t.tagName==="LI"},y7=function(t){return t.tagName==="OL"},w7=function(t){return t.tagName==="INPUT"},x7=function(t){return t.tagName==="HTML"},yI=function(t){return t.tagName==="svg"},W2=function(t){return t.tagName==="BODY"},wI=function(t){return t.tagName==="CANVAS"},W5=function(t){return t.tagName==="VIDEO"},Ly=function(t){return t.tagName==="IMG"},xI=function(t){return t.tagName==="IFRAME"},Y5=function(t){return t.tagName==="STYLE"},B7=function(t){return t.tagName==="SCRIPT"},ug=function(t){return t.tagName==="TEXTAREA"},dg=function(t){return t.tagName==="SELECT"},BI=function(t){return t.tagName==="SLOT"},X5=function(t){return t.tagName.indexOf("-")>0},b7=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var A=[];return i&&s.forEach(function(o){var l=r.counters[o.counter];A.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),A},t}(),J5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Z5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},C7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},E7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Ic=function(t,e,r,n,s,i){return t<e||t>r?Gh(t,s,i.length>0):n.integers.reduce(function(A,o,l){for(;t>=o;)t-=o,A+=n.values[l];return A},"")+i},bI=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},qr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(bI(Math.abs(t),i,n,function(A){return $r(Math.floor(A%i)+e)})+s)},gl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return bI(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Pc=1,Ya=2,Xa=4,zd=8,KA=function(t,e,r,n,s,i){if(t<-9999||t>9999)return Gh(t,4,s.length>0);var A=Math.abs(t),o=s;if(A===0)return e[0]+o;for(var l=0;A>0&&l<=4;l++){var c=A%10;c===0&&hn(i,Pc)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&hn(i,Ya)||c===1&&l===1&&hn(i,Xa)&&t>100||c===1&&l>1&&hn(i,zd)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),A=Math.floor(A/10)}return(t<0?n:"")+o},eC="十百千萬",tC="拾佰仟萬",rC="マイナス",L1="마이너스",Gh=function(t,e,r){var n=r?". ":"",s=r?"、":"",i=r?", ":"",A=r?" ":"";switch(e){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var o=qr(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return gl(t,"〇一二三四五六七八九",s);case 6:return Ic(t,1,3999,J5,3,n).toLowerCase();case 7:return Ic(t,1,3999,J5,3,n);case 8:return qr(t,945,969,!1,n);case 9:return qr(t,97,122,!1,n);case 10:return qr(t,65,90,!1,n);case 11:return qr(t,1632,1641,!0,n);case 12:case 49:return Ic(t,1,9999,Z5,3,n);case 35:return Ic(t,1,9999,Z5,3,n).toLowerCase();case 13:return qr(t,2534,2543,!0,n);case 14:case 30:return qr(t,6112,6121,!0,n);case 15:return gl(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return gl(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return KA(t,"零一二三四五六七八九",eC,"負",s,Ya|Xa|zd);case 47:return KA(t,"零壹貳參肆伍陸柒捌玖",tC,"負",s,Pc|Ya|Xa|zd);case 42:return KA(t,"零一二三四五六七八九",eC,"负",s,Ya|Xa|zd);case 41:return KA(t,"零壹贰叁肆伍陆柒捌玖",tC,"负",s,Pc|Ya|Xa|zd);case 26:return KA(t,"〇一二三四五六七八九","十百千万",rC,s,0);case 25:return KA(t,"零壱弐参四伍六七八九","拾百千万",rC,s,Pc|Ya|Xa);case 31:return KA(t,"영일이삼사오육칠팔구","십백천만",L1,i,Pc|Ya|Xa);case 33:return KA(t,"零一二三四五六七八九","十百千萬",L1,i,0);case 32:return KA(t,"零壹貳參四五六七八九","拾百千",L1,i,Pc|Ya|Xa);case 18:return qr(t,2406,2415,!0,n);case 20:return Ic(t,1,19999,E7,3,n);case 21:return qr(t,2790,2799,!0,n);case 22:return qr(t,2662,2671,!0,n);case 22:return Ic(t,1,10999,C7,3,n);case 23:return gl(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return gl(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return qr(t,3302,3311,!0,n);case 28:return gl(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return gl(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return qr(t,3792,3801,!0,n);case 37:return qr(t,6160,6169,!0,n);case 38:return qr(t,4160,4169,!0,n);case 39:return qr(t,2918,2927,!0,n);case 40:return qr(t,1776,1785,!0,n);case 43:return qr(t,3046,3055,!0,n);case 44:return qr(t,3174,3183,!0,n);case 45:return qr(t,3664,3673,!0,n);case 46:return qr(t,3872,3881,!0,n);case 3:default:return qr(t,48,57,!0,n)}},CI="data-html2canvas-ignore",nC=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new b7,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=_7(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,o=s.contentWindow,l=o.document,c=I7(s).then(function(){return cs(n,void 0,void 0,function(){var h,f;return qn(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(U7),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),h=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,S7(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(l,f)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(k7(document.doctype)+"<html></html>"),T7(this.referenceElement.ownerDocument,i,A),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(Ty(e,2))debugger;if(wI(e))return this.createCanvasClone(e);if(W5(e))return this.createVideoClone(e);if(Y5(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Ly(r)&&(Ly(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),X5(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return P1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!eu(r)||!B7(r)&&!r.hasAttribute(CI)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!eu(r)||!Y5(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(eu(i)&&BI(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(o){return s.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(vI(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&eu(e)&&(jy(e)||op(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&jy(s)&&(this.clonedReferenceElement=s),W2(s)&&L7(s);var l=this.counters.parse(new Q5(this.context,i)),c=this.resolvePseudoContent(e,s,A,ch.BEFORE);X5(e)&&(r=!0),W5(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var h=this.resolvePseudoContent(e,s,o,ch.AFTER);return h&&s.appendChild(h),this.counters.pop(l),(i&&(this.options.copyStyles||op(e))&&!xI(e)||r)&&P1(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(ug(e)||dg(e))&&(ug(s)||dg(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var A=n.content,o=r.ownerDocument;if(!(!o||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Q5(this.context,n));var l=new vM(this.context,n),c=o.createElement("html2canvaspseudoelement");P1(n,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(o.createTextNode(f.value));else if(f.type===22){var p=o.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var g=f.values.filter(ur);g.length&&c.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(f.name==="counter"){var b=f.values.filter(ju),E=b[0],N=b[1];if(E&&ur(E)){var w=i.counters.getCounterValue(E.value),y=N&&ur(N)?ky.parse(i.context,N.value):3;c.appendChild(o.createTextNode(Gh(w,y,!1)))}}else if(f.name==="counters"){var _=f.values.filter(ju),E=_[0],L=_[1],N=_[2];if(E&&ur(E)){var V=i.counters.getCounterValues(E.value),$=N&&ur(N)?ky.parse(i.context,N.value):3,F=L&&L.type===0?L.value:"",B=V.map(function(S){return Gh(S,$,!1)}).join(F);c.appendChild(o.createTextNode(B))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(o.createTextNode(U5(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(U5(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(f.value))}}),c.className=Py+" "+Dy;var h=s===ch.BEFORE?" "+Py:" "+Dy;return op(r)?r.className.baseValue+=h:r.className+=h,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),ch;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ch||(ch={}));var _7=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(CI,"true"),t.body.appendChild(r),r},N7=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},S7=function(t){return Promise.all([].slice.call(t.images,0).map(N7))},I7=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},F7=["all","d","content"],P1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);F7.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},k7=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},T7=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},U7=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Q7=":before",j7=":after",Py="___html2canvas___pseudoelement_before",Dy="___html2canvas___pseudoelement_after",sC=`{
    content: "" !important;
    display: none !important;
}`,L7=function(t){P7(t,"."+Py+Q7+sC+`
         .`+Dy+j7+sC)},P7=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},EI=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),D7=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(R1(e)||M7(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return cs(this,void 0,void 0,function(){var r,n,s,i,A=this;return qn(this,function(o){switch(o.label){case 0:return r=EI.isSameOrigin(e),n=!D1(e)&&this._options.useCORS===!0&&In.SUPPORT_CORS_IMAGES&&!r,s=!D1(e)&&!r&&!R1(e)&&typeof this._options.proxy=="string"&&In.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!D1(e)&&!R1(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var h=new Image;h.onload=function(){return l(h)},h.onerror=c,(V7(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return l(h)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var o=In.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")i(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(p){return A(p)},!1),f.readAsDataURL(l.response)}else A("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=A;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var h=r._options.imageTimeout;l.timeout=h,l.ontimeout=function(){return A("Timed out ("+h+"ms) proxying "+s)}}l.send()})},t}(),R7=/^data:image\/svg\+xml/i,O7=/^data:image\/.*;base64,/i,H7=/^data:image\/.*/i,M7=function(t){return In.SUPPORT_SVG_DRAWING||!K7(t)},D1=function(t){return H7.test(t)},V7=function(t){return O7.test(t)},R1=function(t){return t.substr(0,4)==="blob"},K7=function(t){return t.substr(-3).toLowerCase()==="svg"||R7.test(t)},tt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Fc=function(t,e,r){return new tt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Im=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Fc(this.start,this.startControl,e),s=Fc(this.startControl,this.endControl,e),i=Fc(this.endControl,this.end,e),A=Fc(n,s,e),o=Fc(s,i,e),l=Fc(A,o,e);return r?new t(this.start,n,A,l):new t(l,o,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ii=function(t){return t.type===1},z7=function(){function t(e){var r=e.styles,n=e.bounds,s=Vd(r.borderTopLeftRadius,n.width,n.height),i=s[0],A=s[1],o=Vd(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],h=Vd(r.borderBottomRightRadius,n.width,n.height),f=h[0],p=h[1],g=Vd(r.borderBottomLeftRadius,n.width,n.height),b=g[0],E=g[1],N=[];N.push((i+l)/n.width),N.push((b+f)/n.width),N.push((A+E)/n.height),N.push((c+p)/n.height);var w=Math.max.apply(Math,N);w>1&&(i/=w,A/=w,l/=w,c/=w,f/=w,p/=w,b/=w,E/=w);var y=n.width-l,_=n.height-p,L=n.width-f,V=n.height-E,$=r.borderTopWidth,F=r.borderRightWidth,B=r.borderBottomWidth,k=r.borderLeftWidth,P=yr(r.paddingTop,e.bounds.width),S=yr(r.paddingRight,e.bounds.width),j=yr(r.paddingBottom,e.bounds.width),T=yr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?Nr(n.left+k/3,n.top+$/3,i-k/3,A-$/3,rr.TOP_LEFT):new tt(n.left+k/3,n.top+$/3),this.topRightBorderDoubleOuterBox=i>0||A>0?Nr(n.left+y,n.top+$/3,l-F/3,c-$/3,rr.TOP_RIGHT):new tt(n.left+n.width-F/3,n.top+$/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?Nr(n.left+L,n.top+_,f-F/3,p-B/3,rr.BOTTOM_RIGHT):new tt(n.left+n.width-F/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=b>0||E>0?Nr(n.left+k/3,n.top+V,b-k/3,E-B/3,rr.BOTTOM_LEFT):new tt(n.left+k/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?Nr(n.left+k*2/3,n.top+$*2/3,i-k*2/3,A-$*2/3,rr.TOP_LEFT):new tt(n.left+k*2/3,n.top+$*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?Nr(n.left+y,n.top+$*2/3,l-F*2/3,c-$*2/3,rr.TOP_RIGHT):new tt(n.left+n.width-F*2/3,n.top+$*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?Nr(n.left+L,n.top+_,f-F*2/3,p-B*2/3,rr.BOTTOM_RIGHT):new tt(n.left+n.width-F*2/3,n.top+n.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||E>0?Nr(n.left+k*2/3,n.top+V,b-k*2/3,E-B*2/3,rr.BOTTOM_LEFT):new tt(n.left+k*2/3,n.top+n.height-B*2/3),this.topLeftBorderStroke=i>0||A>0?Nr(n.left+k/2,n.top+$/2,i-k/2,A-$/2,rr.TOP_LEFT):new tt(n.left+k/2,n.top+$/2),this.topRightBorderStroke=i>0||A>0?Nr(n.left+y,n.top+$/2,l-F/2,c-$/2,rr.TOP_RIGHT):new tt(n.left+n.width-F/2,n.top+$/2),this.bottomRightBorderStroke=f>0||p>0?Nr(n.left+L,n.top+_,f-F/2,p-B/2,rr.BOTTOM_RIGHT):new tt(n.left+n.width-F/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=b>0||E>0?Nr(n.left+k/2,n.top+V,b-k/2,E-B/2,rr.BOTTOM_LEFT):new tt(n.left+k/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||A>0?Nr(n.left,n.top,i,A,rr.TOP_LEFT):new tt(n.left,n.top),this.topRightBorderBox=l>0||c>0?Nr(n.left+y,n.top,l,c,rr.TOP_RIGHT):new tt(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||p>0?Nr(n.left+L,n.top+_,f,p,rr.BOTTOM_RIGHT):new tt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||E>0?Nr(n.left,n.top+V,b,E,rr.BOTTOM_LEFT):new tt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||A>0?Nr(n.left+k,n.top+$,Math.max(0,i-k),Math.max(0,A-$),rr.TOP_LEFT):new tt(n.left+k,n.top+$),this.topRightPaddingBox=l>0||c>0?Nr(n.left+Math.min(y,n.width-F),n.top+$,y>n.width+F?0:Math.max(0,l-F),Math.max(0,c-$),rr.TOP_RIGHT):new tt(n.left+n.width-F,n.top+$),this.bottomRightPaddingBox=f>0||p>0?Nr(n.left+Math.min(L,n.width-k),n.top+Math.min(_,n.height-B),Math.max(0,f-F),Math.max(0,p-B),rr.BOTTOM_RIGHT):new tt(n.left+n.width-F,n.top+n.height-B),this.bottomLeftPaddingBox=b>0||E>0?Nr(n.left+k,n.top+Math.min(V,n.height-B),Math.max(0,b-k),Math.max(0,E-B),rr.BOTTOM_LEFT):new tt(n.left+k,n.top+n.height-B),this.topLeftContentBox=i>0||A>0?Nr(n.left+k+T,n.top+$+P,Math.max(0,i-(k+T)),Math.max(0,A-($+P)),rr.TOP_LEFT):new tt(n.left+k+T,n.top+$+P),this.topRightContentBox=l>0||c>0?Nr(n.left+Math.min(y,n.width+k+T),n.top+$+P,y>n.width+k+T?0:l-k+T,c-($+P),rr.TOP_RIGHT):new tt(n.left+n.width-(F+S),n.top+$+P),this.bottomRightContentBox=f>0||p>0?Nr(n.left+Math.min(L,n.width-(k+T)),n.top+Math.min(_,n.height+$+P),Math.max(0,f-(F+S)),p-(B+j),rr.BOTTOM_RIGHT):new tt(n.left+n.width-(F+S),n.top+n.height-(B+j)),this.bottomLeftContentBox=b>0||E>0?Nr(n.left+k+T,n.top+V,Math.max(0,b-(k+T)),E-(B+j),rr.BOTTOM_LEFT):new tt(n.left+k+T,n.top+n.height-(B+j))}return t}(),rr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rr||(rr={}));var Nr=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),A=r*i,o=n*i,l=t+r,c=e+n;switch(s){case rr.TOP_LEFT:return new Im(new tt(t,c),new tt(t,c-o),new tt(l-A,e),new tt(l,e));case rr.TOP_RIGHT:return new Im(new tt(t,e),new tt(t+A,e),new tt(l,c-o),new tt(l,c));case rr.BOTTOM_RIGHT:return new Im(new tt(l,e),new tt(l,e+o),new tt(t+A,c),new tt(t,c));case rr.BOTTOM_LEFT:default:return new Im(new tt(l,c),new tt(l-A,c),new tt(t,e+o),new tt(t,e))}},hg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},G7=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},fg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},q7=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Fm=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),$7=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),W7=function(t){return t.type===0},_I=function(t){return t.type===1},Y7=function(t){return t.type===2},iC=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},X7=function(t,e,r,n,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},NI=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),SI=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new z7(this.container),this.container.styles.opacity<1&&this.effects.push(new $7(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new q7(n,s,i))}if(this.container.styles.overflowX!==0){var A=hg(this.curves),o=fg(this.curves);iC(A,o)?this.effects.push(new Fm(A,6)):(this.effects.push(new Fm(A,2)),this.effects.push(new Fm(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!_I(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=hg(n.curves),o=fg(n.curves);iC(A,o)||s.unshift(new Fm(o,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return hn(l.target,e)})},t}(),Ry=function(t,e,r,n){t.container.elements.forEach(function(s){var i=hn(s.flags,4),A=hn(s.flags,2),o=new SI(s,t);hn(s.styles.display,2048)&&n.push(o);var l=hn(s.flags,8)?[]:n;if(i||A){var c=i||s.styles.isPositioned()?r:e,h=new NI(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var f=s.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(b,E){return f>b.element.container.styles.zIndex.order?(p=E,!1):p>0}),c.negativeZIndex.splice(p,0,h)}else if(f>0){var g=0;c.positiveZIndex.some(function(b,E){return f>=b.element.container.styles.zIndex.order?(g=E+1,!1):g>0}),c.positiveZIndex.splice(g,0,h)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else s.styles.isFloating()?c.nonPositionedFloats.push(h):c.nonPositionedInlineLevel.push(h);Ry(o,h,i?h:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Ry(o,e,r,l);hn(s.flags,8)&&II(s,l)})},II=function(t,e){for(var r=t instanceof Qy?t.start:1,n=t instanceof Qy?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof dI&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Gh(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},J7=function(t){var e=new SI(t,null),r=new NI(e),n=[];return Ry(e,r,r,n),II(e.container,n),r},AC=function(t,e){switch(e){case 0:return li(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return li(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return li(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return li(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Z7=function(t,e){switch(e){case 0:return li(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return li(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return li(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return li(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},e9=function(t,e){switch(e){case 0:return li(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return li(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return li(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return li(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},t9=function(t,e){switch(e){case 0:return km(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return km(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return km(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return km(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},km=function(t,e){var r=[];return ii(t)?r.push(t.subdivide(.5,!1)):r.push(t),ii(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},li=function(t,e,r,n){var s=[];return ii(t)?s.push(t.subdivide(.5,!1)):s.push(t),ii(r)?s.push(r.subdivide(.5,!0)):s.push(r),ii(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),ii(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},FI=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},mg=function(t){var e=t.styles,r=t.bounds,n=yr(e.paddingLeft,r.width),s=yr(e.paddingRight,r.width),i=yr(e.paddingTop,r.width),A=yr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},r9=function(t,e){return t===0?e.bounds:t===2?mg(e):FI(e)},n9=function(t,e){return t===0?e.bounds:t===2?mg(e):FI(e)},O1=function(t,e,r){var n=r9(Dc(t.styles.backgroundOrigin,e),t),s=n9(Dc(t.styles.backgroundClip,e),t),i=s9(Dc(t.styles.backgroundSize,e),r,n),A=i[0],o=i[1],l=Vd(Dc(t.styles.backgroundPosition,e),n.width-A,n.height-o),c=i9(Dc(t.styles.backgroundRepeat,e),l,i,n,s),h=Math.round(n.left+l[0]),f=Math.round(n.top+l[1]);return[c,h,f,A,o]},kc=function(t){return ur(t)&&t.value===hu.AUTO},Tm=function(t){return typeof t=="number"},s9=function(t,e,r){var n=e[0],s=e[1],i=e[2],A=t[0],o=t[1];if(!A)return[0,0];if(an(A)&&o&&an(o))return[yr(A,r.width),yr(o,r.height)];var l=Tm(i);if(ur(A)&&(A.value===hu.CONTAIN||A.value===hu.COVER)){if(Tm(i)){var c=r.width/r.height;return c<i!=(A.value===hu.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=Tm(n),f=Tm(s),p=h||f;if(kc(A)&&(!o||kc(o))){if(h&&f)return[n,s];if(!l&&!p)return[r.width,r.height];if(p&&l){var g=h?n:s*i,b=f?s:n/i;return[g,b]}var E=h?n:r.width,N=f?s:r.height;return[E,N]}if(l){var w=0,y=0;return an(A)?w=yr(A,r.width):an(o)&&(y=yr(o,r.height)),kc(A)?w=y*i:(!o||kc(o))&&(y=w/i),[w,y]}var _=null,L=null;if(an(A)?_=yr(A,r.width):o&&an(o)&&(L=yr(o,r.height)),_!==null&&(!o||kc(o))&&(L=h&&f?_/n*s:r.height),L!==null&&kc(A)&&(_=h&&f?L/s*n:r.width),_!==null&&L!==null)return[_,L];throw new Error("Unable to calculate background-size for element")},Dc=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},i9=function(t,e,r,n,s){var i=e[0],A=e[1],o=r[0],l=r[1];switch(t){case 2:return[new tt(Math.round(n.left),Math.round(n.top+A)),new tt(Math.round(n.left+n.width),Math.round(n.top+A)),new tt(Math.round(n.left+n.width),Math.round(l+n.top+A)),new tt(Math.round(n.left),Math.round(l+n.top+A))];case 3:return[new tt(Math.round(n.left+i),Math.round(n.top)),new tt(Math.round(n.left+i+o),Math.round(n.top)),new tt(Math.round(n.left+i+o),Math.round(n.height+n.top)),new tt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new tt(Math.round(n.left+i),Math.round(n.top+A)),new tt(Math.round(n.left+i+o),Math.round(n.top+A)),new tt(Math.round(n.left+i+o),Math.round(n.top+A+l)),new tt(Math.round(n.left+i),Math.round(n.top+A+l))];default:return[new tt(Math.round(s.left),Math.round(s.top)),new tt(Math.round(s.left+s.width),Math.round(s.top)),new tt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new tt(Math.round(s.left),Math.round(s.height+s.top))]}},A9="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",aC="Hidden Text",a9=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),s.src=A9,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(aC)),n.appendChild(i),n.appendChild(s);var o=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(aC)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),kI=function(){function t(e,r){this.context=e,this.options=r}return t}(),o9=1e4,l9=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new a9(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),Y7(r)&&(this.ctx.globalAlpha=r.opacity),W7(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),_I(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return cs(this,void 0,void 0,function(){var n;return qn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return cs(this,void 0,void 0,function(){return qn(this,function(n){switch(n.label){case 0:if(hn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var A=q2(r.text);A.reduce(function(o,l){return i.ctx.fillText(l,o,r.bounds.top+s),o+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=f9(r.fontFamily).join(", "),i=hf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return cs(this,void 0,void 0,function(){var s,i,A,o,l,c,h,f,p=this;return qn(this,function(g){return s=this.createFontStyle(n),i=s[0],A=s[1],o=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(A,o),c=l.baseline,h=l.middle,f=n.paintOrder,r.textBounds.forEach(function(b){f.forEach(function(E){switch(E){case 0:p.ctx.fillStyle=vn(n.color),p.renderTextWithLetterSpacing(b,n.letterSpacing,c);var N=n.textShadow;N.length&&b.text.trim().length&&(N.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=vn(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(b,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=vn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+c),b.bounds.width,1);break;case 2:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:p.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+h),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(p.ctx.strokeStyle=vn(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=mg(r),A=fg(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return cs(this,void 0,void 0,function(){var n,s,i,A,o,l,y,y,c,h,f,p,L,g,b,V,E,N,w,y,_,L,V;return qn(this,function($){switch($.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,A=0,o=n.textNodes,$.label=1;case 1:return A<o.length?(l=o[A],[4,this.renderTextNode(l,i)]):[3,4];case 2:$.sent(),$.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof lI))return[3,8];$.label=5;case 5:return $.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=$.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return $.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof cI&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof uI))return[3,12];$.label=9;case 9:return $.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=$.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return $.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof mI&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:h=$.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),$.label=14;case 14:if(n instanceof $2&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===lg?n.checked&&(this.ctx.save(),this.path([new tt(n.bounds.left+f*.39363,n.bounds.top+f*.79),new tt(n.bounds.left+f*.16,n.bounds.top+f*.5549),new tt(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new tt(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new tt(n.bounds.left+f*.72983,n.bounds.top+f*.23),new tt(n.bounds.left+f*.84,n.bounds.top+f*.34085),new tt(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=vn($5),this.ctx.fill(),this.ctx.restore()):n.type===cg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=vn($5),this.ctx.fill(),this.ctx.restore())),c9(n)&&n.value.length){switch(p=this.createFontStyle(i),L=p[0],g=p[1],b=this.fontMetrics.getMetrics(L,g).baseline,this.ctx.font=L,this.ctx.fillStyle=vn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=d9(n.styles.textAlign),V=mg(n),E=0,n.styles.textAlign){case 1:E+=V.width/2;break;case 2:E+=V.width;break}N=V.add(E,0,0,-V.height/2+1),this.ctx.save(),this.path([new tt(V.left,V.top),new tt(V.left+V.width,V.top),new tt(V.left+V.width,V.top+V.height),new tt(V.left,V.top+V.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new lh(n.value,N),i.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!hn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];y=void 0,_=w.url,$.label=15;case 15:return $.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return y=$.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return $.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(L=this.createFontStyle(i)[0],this.ctx.font=L,this.ctx.fillStyle=vn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",V=new ua(n.bounds.left,n.bounds.top+yr(n.styles.paddingTop,n.bounds.width),n.bounds.width,k5(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new lh(r.listValue,V),i.letterSpacing,k5(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),$.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return cs(this,void 0,void 0,function(){var n,s,w,i,A,w,o,l,w,c,h,w,f,p,w,g,b,w,E,N,w;return qn(this,function(y){switch(y.label){case 0:if(hn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(w=s[n],[4,this.renderStack(w)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,A=r.nonInlineLevel,y.label=7;case 7:return i<A.length?(w=A[i],[4,this.renderNode(w)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:o=0,l=r.nonPositionedFloats,y.label=11;case 11:return o<l.length?(w=l[o],[4,this.renderStack(w)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:c=0,h=r.nonPositionedInlineLevel,y.label=15;case 15:return c<h.length?(w=h[c],[4,this.renderStack(w)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:f=0,p=r.inlineLevel,y.label=19;case 19:return f<p.length?(w=p[f],[4,this.renderNode(w)]):[3,22];case 20:y.sent(),y.label=21;case 21:return f++,[3,19];case 22:g=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return g<b.length?(w=b[g],[4,this.renderStack(w)]):[3,26];case 24:y.sent(),y.label=25;case 25:return g++,[3,23];case 26:E=0,N=r.positiveZIndex,y.label=27;case 27:return E<N.length?(w=N[E],[4,this.renderStack(w)]):[3,30];case 28:y.sent(),y.label=29;case 29:return E++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var A=ii(s)?s.start:s;i===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),ii(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=A.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),o},e.prototype.renderBackgroundImage=function(r){return cs(this,void 0,void 0,function(){var n,s,i,A,o,l;return qn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(h){var f,p,g,P,pe,ve,T,re,B,b,P,pe,ve,T,re,E,N,w,y,_,L,V,$,F,B,k,P,S,j,T,re,xe,pe,ve,M,oe,X,de,Q,O,Y,Z;return qn(this,function(J){switch(J.label){case 0:if(h.type!==0)return[3,5];f=void 0,p=h.url,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return f=J.sent(),[3,4];case 3:return J.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(g=O1(r,n,[f.width,f.height,f.width/f.height]),P=g[0],pe=g[1],ve=g[2],T=g[3],re=g[4],B=i.ctx.createPattern(i.resizeImage(f,T,re),"repeat"),i.renderRepeat(P,B,pe,ve)),[3,6];case 5:WO(h)?(b=O1(r,n,[null,null,null]),P=b[0],pe=b[1],ve=b[2],T=b[3],re=b[4],E=KO(h.angle,T,re),N=E[0],w=E[1],y=E[2],_=E[3],L=E[4],V=document.createElement("canvas"),V.width=T,V.height=re,$=V.getContext("2d"),F=$.createLinearGradient(w,_,y,L),I5(h.stops,N).forEach(function(ee){return F.addColorStop(ee.stop,vn(ee.color))}),$.fillStyle=F,$.fillRect(0,0,T,re),T>0&&re>0&&(B=i.ctx.createPattern(V,"repeat"),i.renderRepeat(P,B,pe,ve))):YO(h)&&(k=O1(r,n,[null,null,null]),P=k[0],S=k[1],j=k[2],T=k[3],re=k[4],xe=h.position.length===0?[K2]:h.position,pe=yr(xe[0],T),ve=yr(xe[xe.length-1],re),M=zO(h,pe,ve,T,re),oe=M[0],X=M[1],oe>0&&X>0&&(de=i.ctx.createRadialGradient(S+pe,j+ve,0,S+pe,j+ve,oe),I5(h.stops,oe*2).forEach(function(ee){return de.addColorStop(ee.stop,vn(ee.color))}),i.path(P),i.ctx.fillStyle=de,oe!==X?(Q=r.bounds.left+.5*r.bounds.width,O=r.bounds.top+.5*r.bounds.height,Y=X/oe,Z=1/Y,i.ctx.save(),i.ctx.translate(Q,O),i.ctx.transform(1,0,0,Y,0,0),i.ctx.translate(-Q,-O),i.ctx.fillRect(S,Z*(j-O)+O,T,re*Z),i.ctx.restore()):i.ctx.fill())),J.label=6;case 6:return n--,[2]}})},i=this,A=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<o.length?(l=o[A],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return cs(this,void 0,void 0,function(){return qn(this,function(i){return this.path(AC(s,n)),this.ctx.fillStyle=vn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return cs(this,void 0,void 0,function(){var A,o;return qn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return A=Z7(i,s),this.path(A),this.ctx.fillStyle=vn(r),this.ctx.fill(),o=e9(i,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return cs(this,void 0,void 0,function(){var n,s,i,A,o,l,c,h,f=this;return qn(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Qo(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=u9(Dc(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Qo(n.backgroundColor)||(this.ctx.fillStyle=vn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){f.ctx.save();var b=hg(r.curves),E=g.inset?0:o9,N=X7(b,-E+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(f.path(b),f.ctx.clip(),f.mask(N)):(f.mask(b),f.ctx.clip(),f.path(N)),f.ctx.shadowOffsetX=g.offsetX.number+E,f.ctx.shadowOffsetY=g.offsetY.number,f.ctx.shadowColor=vn(g.color),f.ctx.shadowBlur=g.blur.number,f.ctx.fillStyle=g.inset?vn(g.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:o=0,l=0,c=i,p.label=3;case 3:return l<c.length?(h=c[l],h.style!==0&&!Qo(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,o,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,o,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,o,r.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,A){return cs(this,void 0,void 0,function(){var o,l,c,h,f,p,g,b,E,N,w,y,_,L,V,$,V,$;return qn(this,function(F){return this.ctx.save(),o=t9(i,s),l=AC(i,s),A===2&&(this.path(l),this.ctx.clip()),ii(l[0])?(c=l[0].start.x,h=l[0].start.y):(c=l[0].x,h=l[0].y),ii(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),s===0||s===2?g=Math.abs(c-f):g=Math.abs(h-p),this.ctx.beginPath(),A===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=n<3?n*3:n*2,E=n<3?n*2:n,A===3&&(b=n,E=n),N=!0,g<=b*2?N=!1:g<=b*2+E?(w=g/(2*b+E),b*=w,E*=w):(y=Math.floor((g+E)/(b+E)),_=(g-y*b)/(y-1),L=(g-(y+1)*b)/y,E=L<=0||Math.abs(E-_)<Math.abs(E-L)?_:L),N&&(A===3?this.ctx.setLineDash([0,b+E]):this.ctx.setLineDash([b,E])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=vn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(ii(l[0])&&(V=l[3],$=l[0],this.ctx.beginPath(),this.formatPath([new tt(V.end.x,V.end.y),new tt($.start.x,$.start.y)]),this.ctx.stroke()),ii(l[1])&&(V=l[1],$=l[2],this.ctx.beginPath(),this.formatPath([new tt(V.end.x,V.end.y),new tt($.start.x,$.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return cs(this,void 0,void 0,function(){var n;return qn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=J7(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(kI),c9=function(t){return t instanceof fI||t instanceof hI?!0:t instanceof $2&&t.type!==cg&&t.type!==lg},u9=function(t,e){switch(t){case 0:return hg(e);case 2:return G7(e);case 1:default:return fg(e)}},d9=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},h9=["-apple-system","system-ui"],f9=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return h9.indexOf(e)===-1}):t},m9=function(t){Vi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return cs(this,void 0,void 0,function(){var n,s;return qn(this,function(i){switch(i.label){case 0:return n=Uy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,p9(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(kI),p9=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},g9=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,cm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,cm([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,cm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,cm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),v9=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new g9({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new D7(this,e)}return t.instanceCount=1,t}(),Lu=function(t,e){return e===void 0&&(e={}),y9(t,e)};typeof window<"u"&&EI.setContext(window);var y9=function(t,e){return cs(void 0,void 0,void 0,function(){var r,n,s,i,A,o,l,c,h,f,p,g,b,E,N,w,y,_,L,V,F,$,F,B,k,P,S,j,T,re,xe,pe,ve,M,oe,X,de,Q,O,Y;return qn(this,function(Z){switch(Z.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},i=vy({logging:(S=e.logging)!==null&&S!==void 0?S:!0,cache:e.cache},s),A={windowWidth:(j=e.windowWidth)!==null&&j!==void 0?j:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(re=e.scrollX)!==null&&re!==void 0?re:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},o=new ua(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),l=new v9(i,o),c=(pe=e.foreignObjectRendering)!==null&&pe!==void 0?pe:!1,h={allowTaint:(ve=e.allowTaint)!==null&&ve!==void 0?ve:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new nC(l,t,h),p=f.clonedReferenceElement,p?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=Z.sent(),b=W2(p)||x7(p)?XR(p.ownerDocument):n0(l,p),E=b.width,N=b.height,w=b.left,y=b.top,_=w9(l,p,e.backgroundColor),L={canvas:e.canvas,backgroundColor:_,scale:(oe=(M=e.scale)!==null&&M!==void 0?M:n.devicePixelRatio)!==null&&oe!==void 0?oe:1,x:((X=e.x)!==null&&X!==void 0?X:0)+w,y:((de=e.y)!==null&&de!==void 0?de:0)+y,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(E),height:(O=e.height)!==null&&O!==void 0?O:Math.ceil(N)},c?(l.logger.debug("Document cloned, using foreign object rendering"),F=new m9(l,L),[4,F.render(p)]):[3,3];case 2:return V=Z.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+w+","+y+" with size "+E+"x"+N+" using computed rendering"),l.logger.debug("Starting DOM parsing"),$=gI(l,p),_===$.styles.backgroundColor&&($.styles.backgroundColor=ta.TRANSPARENT),l.logger.debug("Starting renderer for element at "+L.x+","+L.y+" with size "+L.width+"x"+L.height),F=new l9(l,L),[4,F.render($)];case 4:V=Z.sent(),Z.label=5;case 5:return(!((Y=e.removeContainer)!==null&&Y!==void 0)||Y)&&(nC.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,V]}})})},w9=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?ah(t,getComputedStyle(n.documentElement).backgroundColor):ta.TRANSPARENT,i=n.body?ah(t,getComputedStyle(n.body).backgroundColor):ta.TRANSPARENT,A=typeof r=="string"?ah(t,r):r===null?ta.TRANSPARENT:4294967295;return e===n.documentElement?Qo(s)?Qo(i)?A:i:s:A};const x9=Object.freeze(Object.defineProperty({__proto__:null,default:Lu},Symbol.toStringTag,{value:"Module"})),B9="modulepreload",b9=function(t){return"/"+t},oC={},Oy=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),o=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=b9(l),l in oC)return;oC[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":B9,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(A){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=A,window.dispatchEvent(o),!o.defaultPrevented)throw A}return s.then(A=>{for(const o of A||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function Ar(t){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}var Jn=Uint8Array,Ms=Uint16Array,Y2=Int32Array,h0=new Jn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),f0=new Jn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hy=new Jn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TI=function(t,e){for(var r=new Ms(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new Y2(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},UI=TI(h0,2),QI=UI.b,My=UI.r;QI[28]=258,My[258]=28;var jI=TI(f0,0),C9=jI.b,lC=jI.r,Vy=new Ms(32768);for(var Er=0;Er<32768;++Er){var $a=(Er&43690)>>1|(Er&21845)<<1;$a=($a&52428)>>2|($a&13107)<<2,$a=($a&61680)>>4|($a&3855)<<4,Vy[Er]=(($a&65280)>>8|($a&255)<<8)>>1}var yA=function(t,e,r){for(var n=t.length,s=0,i=new Ms(e);s<n;++s)t[s]&&++i[t[s]-1];var A=new Ms(e);for(s=1;s<e;++s)A[s]=A[s-1]+i[s-1]<<1;var o;if(r){o=new Ms(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],h=e-t[s],f=A[t[s]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)o[Vy[f]>>l]=c}else for(o=new Ms(n),s=0;s<n;++s)t[s]&&(o[s]=Vy[A[t[s]-1]++]>>15-t[s]);return o},Ho=new Jn(288);for(var Er=0;Er<144;++Er)Ho[Er]=8;for(var Er=144;Er<256;++Er)Ho[Er]=9;for(var Er=256;Er<280;++Er)Ho[Er]=7;for(var Er=280;Er<288;++Er)Ho[Er]=8;var qh=new Jn(32);for(var Er=0;Er<32;++Er)qh[Er]=5;var E9=yA(Ho,9,0),_9=yA(Ho,9,1),N9=yA(qh,5,0),S9=yA(qh,5,1),H1=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Si=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},M1=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},X2=function(t){return(t+7)/8|0},LI=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Jn(t.subarray(e,r))},I9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ti=function(t,e,r){var n=new Error(e||I9[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ti),!r)throw n;return n},F9=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new Jn(0);var A=!r,o=A||e.i!=2,l=e.i;A&&(r=new Jn(s*3));var c=function(ae){var ge=r.length;if(ae>ge){var Ee=new Jn(Math.max(ge*2,ae));Ee.set(r),r=Ee}},h=e.f||0,f=e.p||0,p=e.b||0,g=e.l,b=e.d,E=e.m,N=e.n,w=s*8;do{if(!g){h=Si(t,f,1);var y=Si(t,f+1,3);if(f+=3,y)if(y==1)g=_9,b=S9,E=9,N=5;else if(y==2){var $=Si(t,f,31)+257,F=Si(t,f+10,15)+4,B=$+Si(t,f+5,31)+1;f+=14;for(var k=new Jn(B),P=new Jn(19),S=0;S<F;++S)P[Hy[S]]=Si(t,f+S*3,7);f+=F*3;for(var j=H1(P),T=(1<<j)-1,re=yA(P,j,1),S=0;S<B;){var xe=re[Si(t,f,T)];f+=xe&15;var _=xe>>4;if(_<16)k[S++]=_;else{var pe=0,ve=0;for(_==16?(ve=3+Si(t,f,3),f+=2,pe=k[S-1]):_==17?(ve=3+Si(t,f,7),f+=3):_==18&&(ve=11+Si(t,f,127),f+=7);ve--;)k[S++]=pe}}var M=k.subarray(0,$),oe=k.subarray($);E=H1(M),N=H1(oe),g=yA(M,E,1),b=yA(oe,N,1)}else Ti(1);else{var _=X2(f)+4,L=t[_-4]|t[_-3]<<8,V=_+L;if(V>s){l&&Ti(0);break}o&&c(p+L),r.set(t.subarray(_,V),p),e.b=p+=L,e.p=f=V*8,e.f=h;continue}if(f>w){l&&Ti(0);break}}o&&c(p+131072);for(var X=(1<<E)-1,de=(1<<N)-1,Q=f;;Q=f){var pe=g[M1(t,f)&X],O=pe>>4;if(f+=pe&15,f>w){l&&Ti(0);break}if(pe||Ti(2),O<256)r[p++]=O;else if(O==256){Q=f,g=null;break}else{var Y=O-254;if(O>264){var S=O-257,Z=h0[S];Y=Si(t,f,(1<<Z)-1)+QI[S],f+=Z}var J=b[M1(t,f)&de],ee=J>>4;J||Ti(3),f+=J&15;var oe=C9[ee];if(ee>3){var Z=f0[ee];oe+=M1(t,f)&(1<<Z)-1,f+=Z}if(f>w){l&&Ti(0);break}o&&c(p+131072);var Ae=p+Y;if(p<oe){var le=i-oe,q=Math.min(oe,Ae);for(le+p<0&&Ti(3);p<q;++p)r[p]=n[le+p]}for(;p<Ae;++p)r[p]=r[p-oe]}}e.l=g,e.p=Q,e.b=p,e.f=h,g&&(h=1,e.m=E,e.d=b,e.n=N)}while(!h);return p!=r.length&&A?LI(r,0,p):r.subarray(0,p)},zA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Nd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},V1=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:DI,l:0};if(s==1){var A=new Jn(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(V,$){return V.f-$.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,h=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=s-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=h&&r[c].f<r[f].f?c++:f++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var g=new Ms(p+1),b=Ky(r[h-1],g,0);if(b>e){var n=0,E=0,N=b-e,w=1<<N;for(i.sort(function($,F){return g[F.s]-g[$.s]||$.f-F.f});n<s;++n){var y=i[n].s;if(g[y]>e)E+=w-(1<<b-g[y]),g[y]=e;else break}for(E>>=N;E>0;){var _=i[n].s;g[_]<e?E-=1<<e-g[_]++-1:++n}for(;n>=0&&E;--n){var L=i[n].s;g[L]==e&&(--g[L],++E)}b=e}return{t:new Jn(g),l:b}},Ky=function(t,e,r){return t.s==-1?Math.max(Ky(t.l,e,r+1),Ky(t.r,e,r+1)):e[t.s]=r},cC=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ms(++e),n=0,s=t[0],i=1,A=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)A(32754);i>2&&(A(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(A(s),--i;i>6;i-=6)A(8304);i>2&&(A(i-3<<5|8208),i=0)}for(;i--;)A(s);i=1,s=t[o]}return{c:r.subarray(0,n),n:e}},Sd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},PI=function(t,e,r){var n=r.length,s=X2(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},uC=function(t,e,r,n,s,i,A,o,l,c,h){zA(e,h++,r),++s[256];for(var f=V1(s,15),p=f.t,g=f.l,b=V1(i,15),E=b.t,N=b.l,w=cC(p),y=w.c,_=w.n,L=cC(E),V=L.c,$=L.n,F=new Ms(19),B=0;B<y.length;++B)++F[y[B]&31];for(var B=0;B<V.length;++B)++F[V[B]&31];for(var k=V1(F,7),P=k.t,S=k.l,j=19;j>4&&!P[Hy[j-1]];--j);var T=c+5<<3,re=Sd(s,Ho)+Sd(i,qh)+A,xe=Sd(s,p)+Sd(i,E)+A+14+3*j+Sd(F,P)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&T<=re&&T<=xe)return PI(e,h,t.subarray(l,l+c));var pe,ve,M,oe;if(zA(e,h,1+(xe<re)),h+=2,xe<re){pe=yA(p,g,0),ve=p,M=yA(E,N,0),oe=E;var X=yA(P,S,0);zA(e,h,_-257),zA(e,h+5,$-1),zA(e,h+10,j-4),h+=14;for(var B=0;B<j;++B)zA(e,h+3*B,P[Hy[B]]);h+=3*j;for(var de=[y,V],Q=0;Q<2;++Q)for(var O=de[Q],B=0;B<O.length;++B){var Y=O[B]&31;zA(e,h,X[Y]),h+=P[Y],Y>15&&(zA(e,h,O[B]>>5&127),h+=O[B]>>12)}}else pe=E9,ve=Ho,M=N9,oe=qh;for(var B=0;B<o;++B){var Z=n[B];if(Z>255){var Y=Z>>18&31;Nd(e,h,pe[Y+257]),h+=ve[Y+257],Y>7&&(zA(e,h,Z>>23&31),h+=h0[Y]);var J=Z&31;Nd(e,h,M[J]),h+=oe[J],J>3&&(Nd(e,h,Z>>5&8191),h+=f0[J])}else Nd(e,h,pe[Z]),h+=ve[Z]}return Nd(e,h,pe[256]),h+ve[256]},k9=new Y2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DI=new Jn(0),T9=function(t,e,r,n,s,i){var A=i.z||t.length,o=new Jn(n+A+5*(1+Math.ceil(A/7e3))+s),l=o.subarray(n,o.length-s),c=i.l,h=(i.r||0)&7;if(e){h&&(l[0]=i.r>>3);for(var f=k9[e-1],p=f>>13,g=f&8191,b=(1<<r)-1,E=i.p||new Ms(32768),N=i.h||new Ms(b+1),w=Math.ceil(r/3),y=2*w,_=function(Le){return(t[Le]^t[Le+1]<<w^t[Le+2]<<y)&b},L=new Y2(25e3),V=new Ms(288),$=new Ms(32),F=0,B=0,k=i.i||0,P=0,S=i.w||0,j=0;k+2<A;++k){var T=_(k),re=k&32767,xe=N[T];if(E[re]=xe,N[T]=re,S<=k){var pe=A-k;if((F>7e3||P>24576)&&(pe>423||!c)){h=uC(t,l,0,L,V,$,B,P,j,k-j,h),P=F=B=0,j=k;for(var ve=0;ve<286;++ve)V[ve]=0;for(var ve=0;ve<30;++ve)$[ve]=0}var M=2,oe=0,X=g,de=re-xe&32767;if(pe>2&&T==_(k-de))for(var Q=Math.min(p,pe)-1,O=Math.min(32767,k),Y=Math.min(258,pe);de<=O&&--X&&re!=xe;){if(t[k+M]==t[k+M-de]){for(var Z=0;Z<Y&&t[k+Z]==t[k+Z-de];++Z);if(Z>M){if(M=Z,oe=de,Z>Q)break;for(var J=Math.min(de,Z-2),ee=0,ve=0;ve<J;++ve){var Ae=k-de+ve&32767,le=E[Ae],q=Ae-le&32767;q>ee&&(ee=q,xe=Ae)}}}re=xe,xe=E[re],de+=re-xe&32767}if(oe){L[P++]=268435456|My[M]<<18|lC[oe];var ae=My[M]&31,ge=lC[oe]&31;B+=h0[ae]+f0[ge],++V[257+ae],++$[ge],S=k+M,++F}else L[P++]=t[k],++V[t[k]]}}for(k=Math.max(k,S);k<A;++k)L[P++]=t[k],++V[t[k]];h=uC(t,l,c,L,V,$,B,P,j,k-j,h),c||(i.r=h&7|l[h/8|0]<<3,h-=7,i.h=N,i.p=E,i.i=k,i.w=S)}else{for(var k=i.w||0;k<A+c;k+=65535){var Ee=k+65535;Ee>=A&&(l[h/8|0]=c,Ee=A),h=PI(l,h+1,t.subarray(k,Ee))}i.i=A}return LI(o,0,n+X2(h)+s)},RI=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,A=0;A!=i;){for(var o=Math.min(A+2655,i);A<o;++A)s+=n+=r[A];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},U9=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),A=new Jn(i.length+t.length);A.set(i),A.set(t,i.length),t=A,s.w=i.length}return T9(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},OI=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Q9=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=RI();s.p(e.dictionary),OI(t,2,s.d())}},j9=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ti(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Ti(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function zy(t,e){e||(e={});var r=RI();r.p(t);var n=U9(t,e,e.dictionary?6:2,4);return Q9(n,e),OI(n,n.length-4,r.d()),n}function L9(t,e){return F9(t.subarray(j9(t,e),-4),{i:2},e,e)}var P9=typeof TextDecoder<"u"&&new TextDecoder,D9=0;try{P9.decode(DI,{stream:!0}),D9=1}catch{}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function K1(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var fr={log:K1,warn:function(t){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):K1.call(null,arguments))},error:function(t){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):K1(t))}};function z1(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){xl(n.response,e,r)},n.onerror=function(){fr.error("could not download file")},n.send()}function dC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Um(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var uh,Gy,xl=Et.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Et.URL||Et.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?dC(s.href)?z1(t,e,r):Um(s,s.target="_blank"):Um(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Um(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(dC(t))z1(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Um(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Ar(i)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return z1(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(Et.HTMLElement)||Et.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||s&&i)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=A?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=Et.URL||Et.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,A=s.exec(t);A&&(e=i(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function G1(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=Vn(r,n,s,i,e[0],7,-680876936),i=Vn(i,r,n,s,e[1],12,-389564586),s=Vn(s,i,r,n,e[2],17,606105819),n=Vn(n,s,i,r,e[3],22,-1044525330),r=Vn(r,n,s,i,e[4],7,-176418897),i=Vn(i,r,n,s,e[5],12,1200080426),s=Vn(s,i,r,n,e[6],17,-1473231341),n=Vn(n,s,i,r,e[7],22,-45705983),r=Vn(r,n,s,i,e[8],7,1770035416),i=Vn(i,r,n,s,e[9],12,-1958414417),s=Vn(s,i,r,n,e[10],17,-42063),n=Vn(n,s,i,r,e[11],22,-1990404162),r=Vn(r,n,s,i,e[12],7,1804603682),i=Vn(i,r,n,s,e[13],12,-40341101),s=Vn(s,i,r,n,e[14],17,-1502002290),r=Kn(r,n=Vn(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Kn(i,r,n,s,e[6],9,-1069501632),s=Kn(s,i,r,n,e[11],14,643717713),n=Kn(n,s,i,r,e[0],20,-373897302),r=Kn(r,n,s,i,e[5],5,-701558691),i=Kn(i,r,n,s,e[10],9,38016083),s=Kn(s,i,r,n,e[15],14,-660478335),n=Kn(n,s,i,r,e[4],20,-405537848),r=Kn(r,n,s,i,e[9],5,568446438),i=Kn(i,r,n,s,e[14],9,-1019803690),s=Kn(s,i,r,n,e[3],14,-187363961),n=Kn(n,s,i,r,e[8],20,1163531501),r=Kn(r,n,s,i,e[13],5,-1444681467),i=Kn(i,r,n,s,e[2],9,-51403784),s=Kn(s,i,r,n,e[7],14,1735328473),r=zn(r,n=Kn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=zn(i,r,n,s,e[8],11,-2022574463),s=zn(s,i,r,n,e[11],16,1839030562),n=zn(n,s,i,r,e[14],23,-35309556),r=zn(r,n,s,i,e[1],4,-1530992060),i=zn(i,r,n,s,e[4],11,1272893353),s=zn(s,i,r,n,e[7],16,-155497632),n=zn(n,s,i,r,e[10],23,-1094730640),r=zn(r,n,s,i,e[13],4,681279174),i=zn(i,r,n,s,e[0],11,-358537222),s=zn(s,i,r,n,e[3],16,-722521979),n=zn(n,s,i,r,e[6],23,76029189),r=zn(r,n,s,i,e[9],4,-640364487),i=zn(i,r,n,s,e[12],11,-421815835),s=zn(s,i,r,n,e[15],16,530742520),r=Gn(r,n=zn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Gn(i,r,n,s,e[7],10,1126891415),s=Gn(s,i,r,n,e[14],15,-1416354905),n=Gn(n,s,i,r,e[5],21,-57434055),r=Gn(r,n,s,i,e[12],6,1700485571),i=Gn(i,r,n,s,e[3],10,-1894986606),s=Gn(s,i,r,n,e[10],15,-1051523),n=Gn(n,s,i,r,e[1],21,-2054922799),r=Gn(r,n,s,i,e[8],6,1873313359),i=Gn(i,r,n,s,e[15],10,-30611744),s=Gn(s,i,r,n,e[6],15,-1560198380),n=Gn(n,s,i,r,e[13],21,1309151649),r=Gn(r,n,s,i,e[4],6,-145523070),i=Gn(i,r,n,s,e[11],10,-1120210379),s=Gn(s,i,r,n,e[2],15,718787259),n=Gn(n,s,i,r,e[9],21,-343485551),t[0]=po(r,t[0]),t[1]=po(n,t[1]),t[2]=po(s,t[2]),t[3]=po(i,t[3])}function m0(t,e,r,n,s,i){return e=po(po(e,t),po(n,i)),po(e<<s|e>>>32-s,r)}function Vn(t,e,r,n,s,i,A){return m0(e&r|~e&n,t,e,s,i,A)}function Kn(t,e,r,n,s,i,A){return m0(e&n|r&~n,t,e,s,i,A)}function zn(t,e,r,n,s,i,A){return m0(e^r^n,t,e,s,i,A)}function Gn(t,e,r,n,s,i,A){return m0(r^(e|~n),t,e,s,i,A)}function MI(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)G1(n,R9(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(G1(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,G1(n,s),n}function R9(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}uh=Et.atob.bind(Et),Gy=Et.btoa.bind(Et);var hC="0123456789abcdef".split("");function O9(t){for(var e="",r=0;r<4;r++)e+=hC[t>>8*r+4&15]+hC[t>>8*r&15];return e}function H9(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function qy(t){return MI(t).map(H9).join("")}var M9=function(t){for(var e=0;e<t.length;e++)t[e]=O9(t[e]);return t.join("")}(MI("hello"))!="5d41402abc4b2a76b9719d911017c592";function po(t,e){if(M9){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $y(t,e){var r,n,s,i;if(t!==r){for(var A=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var h=o[l];c=(c+h+A.charCodeAt(l))%256,o[l]=o[c],o[c]=h}r=t,n=o}else o=n;var f=e.length,p=0,g=0,b="";for(l=0;l<f;l++)g=(g+(h=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=h,A=o[(o[p]+o[g])%256],b+=String.fromCharCode(e.charCodeAt(l)^A);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fC={print:4,modify:8,copy:16,"annot-forms":32};function Rc(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(fC.perm!==void 0)throw new Error("Invalid permission: "+o);s+=fC[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,A),this.P=-(1+(255^s)),this.encryptionKey=qy(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=$y(this.encryptionKey,this.padding)}function Oc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function mC(t){if(Ar(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var A=e[r][i];try{A[0].apply(t,n)}catch(o){Et.console&&fr.error("jsPDF PubSub Error",o.message,o)}A[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pg(t){if(!(this instanceof pg))return new pg(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function VI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bl(t,e,r,n,s){if(!(this instanceof bl))return new bl(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,VI.call(this,n,s)}function tu(t,e,r,n,s){if(!(this instanceof tu))return new tu(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,VI.call(this,n,s)}function bt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],A=[],o=1,l=16,c="S",h=null;Ar(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),A=t.filters||(i===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=mC;var b="1.3",E=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(v){b=v};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var w=g.__private__.getPageFormat=function(v){return N[v]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},_=y.COMPAT;function L(){this.saveGraphicsState(),ne(new ot(je,0,0,-je,0,Rn()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),c="n",_=y.ADVANCED}function V(){this.restoreGraphicsState(),c="S",_=y.COMPAT}var $=g.__private__.combineFontStyleAndFontWeight=function(v,D){if(v=="bold"&&D=="normal"||v=="bold"&&D==400||v=="normal"&&D=="italic"||v=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(v=D==400||D==="normal"?v==="italic"?"italic":"normal":D!=700&&D!=="bold"||v!=="normal"?(D==700?"bold":D)+""+v:"bold"),v};g.advancedAPI=function(v){var D=_===y.COMPAT;return D&&L.call(this),typeof v!="function"||(v(this),D&&V.call(this)),this},g.compatAPI=function(v){var D=_===y.ADVANCED;return D&&V.call(this),typeof v!="function"||(v(this),D&&L.call(this)),this},g.isAdvancedAPI=function(){return _===y.ADVANCED};var F,B=function(v){if(_!==y.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(v,D){var ie=e||D;if(isNaN(v)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(ie).replace(/0+$/,"")};F=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,16)};var P=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return k(v,2)},S=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return k(v,3)},j=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return _===y.COMPAT?v*je:_===y.ADVANCED?v:void 0},T=function(v){return _===y.COMPAT?Rn()-v:_===y.ADVANCED?v:void 0},re=function(v){return j(T(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var xe,pe="00000000000000000000000000000000",ve=g.__private__.getFileId=function(){return pe},M=g.__private__.setFileId=function(v){return pe=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Br=new Rc(h.userPermissions,h.userPassword,h.ownerPassword,pe)),pe};g.setFileId=function(v){return M(v),this},g.getFileId=function(){return ve()};var oe=g.__private__.convertDateToPDFDate=function(v){var D=v.getTimezoneOffset(),ie=D<0?"+":"-",he=Math.floor(Math.abs(D/60)),Be=Math.abs(D%60),Te=[ie,Y(he),"'",Y(Be),"'"].join("");return["D:",v.getFullYear(),Y(v.getMonth()+1),Y(v.getDate()),Y(v.getHours()),Y(v.getMinutes()),Y(v.getSeconds()),Te].join("")},X=g.__private__.convertPDFDateToDate=function(v){var D=parseInt(v.substr(2,4),10),ie=parseInt(v.substr(6,2),10)-1,he=parseInt(v.substr(8,2),10),Be=parseInt(v.substr(10,2),10),Te=parseInt(v.substr(12,2),10),Ve=parseInt(v.substr(14,2),10);return new Date(D,ie,he,Be,Te,Ve,0)},de=g.__private__.setCreationDate=function(v){var D;if(v===void 0&&(v=new Date),v instanceof Date)D=oe(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=v}return xe=D},Q=g.__private__.getCreationDate=function(v){var D=xe;return v==="jsDate"&&(D=X(xe)),D};g.setCreationDate=function(v){return de(v),this},g.getCreationDate=function(v){return Q(v)};var O,Y=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Z=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},J=0,ee=[],Ae=[],le=0,q=[],ae=[],ge=!1,Ee=Ae,Le=function(){J=0,le=0,Ae=[],ee=[],q=[],pi=jr(),Dn=jr()};g.__private__.setCustomOutputDestination=function(v){ge=!0,Ee=v};var _e=function(v){ge||(Ee=v)};g.__private__.resetCustomOutputDestination=function(){ge=!1,Ee=Ae};var ne=g.__private__.out=function(v){return v=v.toString(),le+=v.length+1,Ee.push(v),Ee},te=g.__private__.write=function(v){return ne(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},ue=g.__private__.getArrayBuffer=function(v){for(var D=v.length,ie=new ArrayBuffer(D),he=new Uint8Array(ie);D--;)he[D]=v.charCodeAt(D);return ie},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return be};var Qe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Qe=_===y.ADVANCED?v/je:v,this};var Ge,We=g.__private__.getFontSize=g.getFontSize=function(){return _===y.COMPAT?Qe:Qe*je},At=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return At=v,this},g.__private__.getR2L=g.getR2L=function(){return At};var vt,Ct=g.__private__.setZoomMode=function(v){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ge=v;else if(isNaN(v)){if(D.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ge=v}else Ge=parseInt(v,10)};g.__private__.getZoomMode=function(){return Ge};var ft,yt=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');vt=v};g.__private__.getPageMode=function(){return vt};var Rt=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ft=v};g.__private__.getLayoutMode=function(){return ft},g.__private__.setDisplayMode=g.setDisplayMode=function(v,D,ie){return Ct(v),Rt(D),yt(ie),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(gt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[v]},g.__private__.getDocumentProperties=function(){return gt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var D in gt)gt.hasOwnProperty(D)&&v[D]&&(gt[D]=v[D]);return this},g.__private__.setDocumentProperty=function(v,D){if(Object.keys(gt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[v]=D};var Fe,je,Je,ht,Mr,Dt={},zt={},Ue=[],$e={},st={},et={},rt={},mt=null,pt=0,at=[],Bt=new mC(g),mr=t.hotfixes||[],lr={},Ir={},mn=[],ot=function v(D,ie,he,Be,Te,Ve){if(!(this instanceof v))return new v(D,ie,he,Be,Te,Ve);isNaN(D)&&(D=1),isNaN(ie)&&(ie=0),isNaN(he)&&(he=0),isNaN(Be)&&(Be=1),isNaN(Te)&&(Te=0),isNaN(Ve)&&(Ve=0),this._matrix=[D,ie,he,Be,Te,Ve]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(v)},ot.prototype.multiply=function(v){var D=v.sx*this.sx+v.shy*this.shx,ie=v.sx*this.shy+v.shy*this.sy,he=v.shx*this.sx+v.sy*this.shx,Be=v.shx*this.shy+v.sy*this.sy,Te=v.tx*this.sx+v.ty*this.shx+this.tx,Ve=v.tx*this.shy+v.ty*this.sy+this.ty;return new ot(D,ie,he,Be,Te,Ve)},ot.prototype.decompose=function(){var v=this.sx,D=this.shy,ie=this.shx,he=this.sy,Be=this.tx,Te=this.ty,Ve=Math.sqrt(v*v+D*D),Xe=(v/=Ve)*ie+(D/=Ve)*he;ie-=v*Xe,he-=D*Xe;var d=Math.sqrt(ie*ie+he*he);return Xe/=d,v*(he/=d)<D*(ie/=d)&&(v=-v,D=-D,Xe=-Xe,Ve=-Ve),{scale:new ot(Ve,0,0,d,0,0),translate:new ot(1,0,0,1,Be,Te),rotate:new ot(v,D,-D,v,0,0),skew:new ot(1,0,Xe,1,0,0)}},ot.prototype.toString=function(v){return this.join(" ")},ot.prototype.inversed=function(){var v=this.sx,D=this.shy,ie=this.shx,he=this.sy,Be=this.tx,Te=this.ty,Ve=1/(v*he-D*ie),Xe=he*Ve,d=-D*Ve,C=-ie*Ve,U=v*Ve;return new ot(Xe,d,C,U,-Xe*Be-C*Te,-d*Be-U*Te)},ot.prototype.applyToPoint=function(v){var D=v.x*this.sx+v.y*this.shx+this.tx,ie=v.x*this.shy+v.y*this.sy+this.ty;return new QA(D,ie)},ot.prototype.applyToRectangle=function(v){var D=this.applyToPoint(v),ie=this.applyToPoint(new QA(v.x+v.w,v.y+v.h));return new Fa(D.x,D.y,ie.x-D.x,ie.y-D.y)},ot.prototype.clone=function(){var v=this.sx,D=this.shy,ie=this.shx,he=this.sy,Be=this.tx,Te=this.ty;return new ot(v,D,ie,he,Be,Te)},g.Matrix=ot;var ms=g.matrixMult=function(v,D){return D.multiply(v)},Pn=new ot(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Pn;var tn=function(v,D){if(!st[v]){var ie=(D instanceof bl?"Sh":"P")+(Object.keys($e).length+1).toString(10);D.id=ie,st[v]=ie,$e[ie]=D,Bt.publish("addPattern",D)}};g.ShadingPattern=bl,g.TilingPattern=tu,g.addShadingPattern=function(v,D){return B("addShadingPattern()"),tn(v,D),this},g.beginTilingPattern=function(v){B("beginTilingPattern()"),ka(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,D){B("endTilingPattern()"),D.stream=ae[O].join(`
`),tn(v,D),Bt.publish("endTilingPattern",D),mn.pop().restore()};var Vr=g.__private__.newObject=function(){var v=jr();return rn(v,!0),v},jr=g.__private__.newObjectDeferred=function(){return J++,ee[J]=function(){return le},J},rn=function(v,D){return D=typeof D=="boolean"&&D,ee[v]=le,D&&ne(v+" 0 obj"),v},pa=g.__private__.newAdditionalObject=function(){var v={objId:jr(),content:""};return q.push(v),v},pi=jr(),Dn=jr(),ps=g.__private__.decodeColorString=function(v){var D=v.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var ie=parseFloat(D[0]);D=[ie,ie,ie,"r"]}for(var he="#",Be=0;Be<3;Be++)he+=("0"+Math.floor(255*parseFloat(D[Be])).toString(16)).slice(-2);return he},ss=g.__private__.encodeColorString=function(v){var D;typeof v=="string"&&(v={ch1:v});var ie=v.ch1,he=v.ch2,Be=v.ch3,Te=v.ch4,Ve=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Xe=new HI(ie);if(Xe.ok)ie=Xe.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var d=parseInt(ie.substr(1),16);ie=d>>16&255,he=d>>8&255,Be=255&d}if(he===void 0||Te===void 0&&ie===he&&he===Be)if(typeof ie=="string")D=ie+" "+Ve[0];else switch(v.precision){case 2:D=P(ie/255)+" "+Ve[0];break;case 3:default:D=S(ie/255)+" "+Ve[0]}else if(Te===void 0||Ar(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return D=["1.","1.","1.",Ve[1]].join(" ");if(typeof ie=="string")D=[ie,he,Be,Ve[1]].join(" ");else switch(v.precision){case 2:D=[P(ie/255),P(he/255),P(Be/255),Ve[1]].join(" ");break;default:case 3:D=[S(ie/255),S(he/255),S(Be/255),Ve[1]].join(" ")}}else if(typeof ie=="string")D=[ie,he,Be,Te,Ve[2]].join(" ");else switch(v.precision){case 2:D=[P(ie),P(he),P(Be),P(Te),Ve[2]].join(" ");break;case 3:default:D=[S(ie),S(he),S(Be),S(Te),Ve[2]].join(" ")}return D},is=g.__private__.getFilters=function(){return A},Kr=g.__private__.putStream=function(v){var D=(v=v||{}).data||"",ie=v.filters||is(),he=v.alreadyAppliedFilters||[],Be=v.addLength1||!1,Te=D.length,Ve=v.objectId,Xe=function(Ft){return Ft};if(h!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Xe=Br.encryptor(Ve,0));var d={};ie===!0&&(ie=["FlateEncode"]);var C=v.additionalKeyValues||[],U=(d=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(D,ie):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(d.data.length!==0&&(C.push({key:"Length",value:d.data.length}),Be===!0&&C.push({key:"Length1",value:Te})),U.length!=0)if(U.split("/").length-1==1)C.push({key:"Filter",value:U});else{C.push({key:"Filter",value:"["+U+"]"});for(var z=0;z<C.length;z+=1)if(C[z].key==="DecodeParms"){for(var we=[],Ie=0;Ie<d.reverseChain.split("/").length-1;Ie+=1)we.push("null");we.push(C[z].value),C[z].value="["+we.join(" ")+"]"}}ne("<<");for(var Ke=0;Ke<C.length;Ke++)ne("/"+C[Ke].key+" "+C[Ke].value);ne(">>"),d.data.length!==0&&(ne("stream"),ne(Xe(d.data)),ne("endstream"))},ks=g.__private__.putPage=function(v){var D=v.number,ie=v.data,he=v.objId,Be=v.contentsObjId;rn(he,!0),ne("<</Type /Page"),ne("/Parent "+v.rootDictionaryObjId+" 0 R"),ne("/Resources "+v.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(F(v.mediaBox.bottomLeftX))+" "+parseFloat(F(v.mediaBox.bottomLeftY))+" "+F(v.mediaBox.topRightX)+" "+F(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ne("/CropBox ["+F(v.cropBox.bottomLeftX)+" "+F(v.cropBox.bottomLeftY)+" "+F(v.cropBox.topRightX)+" "+F(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ne("/BleedBox ["+F(v.bleedBox.bottomLeftX)+" "+F(v.bleedBox.bottomLeftY)+" "+F(v.bleedBox.topRightX)+" "+F(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ne("/TrimBox ["+F(v.trimBox.bottomLeftX)+" "+F(v.trimBox.bottomLeftY)+" "+F(v.trimBox.topRightX)+" "+F(v.trimBox.topRightY)+"]"),v.artBox!==null&&ne("/ArtBox ["+F(v.artBox.bottomLeftX)+" "+F(v.artBox.bottomLeftY)+" "+F(v.artBox.topRightX)+" "+F(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ne("/UserUnit "+v.userUnit),Bt.publish("putPage",{objId:he,pageContext:at[D],pageNumber:D,page:ie}),ne("/Contents "+Be+" 0 R"),ne(">>"),ne("endobj");var Te=ie.join(`
`);return _===y.ADVANCED&&(Te+=`
Q`),rn(Be,!0),Kr({data:Te,filters:is(),objectId:Be}),ne("endobj"),he},Gi=g.__private__.putPages=function(){var v,D,ie=[];for(v=1;v<=pt;v++)at[v].objId=jr(),at[v].contentsObjId=jr();for(v=1;v<=pt;v++)ie.push(ks({number:v,data:ae[v],objId:at[v].objId,contentsObjId:at[v].contentsObjId,mediaBox:at[v].mediaBox,cropBox:at[v].cropBox,bleedBox:at[v].bleedBox,trimBox:at[v].trimBox,artBox:at[v].artBox,userUnit:at[v].userUnit,rootDictionaryObjId:pi,resourceDictionaryObjId:Dn}));rn(pi,!0),ne("<</Type /Pages");var he="/Kids [";for(D=0;D<pt;D++)he+=ie[D]+" 0 R ";ne(he+"]"),ne("/Count "+pt),ne(">>"),ne("endobj"),Bt.publish("postPutPages")},qi=function(v){Bt.publish("putFont",{font:v,out:ne,newObject:Vr,putStream:Kr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Vr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Oc(v.postScriptName)),ne("/Subtype /Type1"),typeof v.encoding=="string"&&ne("/Encoding /"+v.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},$i=function(){for(var v in Dt)Dt.hasOwnProperty(v)&&(f===!1||f===!0&&p.hasOwnProperty(v))&&qi(Dt[v])},EA=function(v){v.objectNumber=Vr();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[F(v.x),F(v.y),F(v.x+v.width),F(v.y+v.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var ie=v.pages[1].join(`
`);Kr({data:ie,additionalKeyValues:D,objectId:v.objectNumber}),ne("endobj")},_A=function(){for(var v in lr)lr.hasOwnProperty(v)&&EA(lr[v])},ec=function(v,D){var ie,he=[],Be=1/(D-1);for(ie=0;ie<1;ie+=Be)he.push(ie);if(he.push(1),v[0].offset!=0){var Te={offset:0,color:v[0].color};v.unshift(Te)}if(v[v.length-1].offset!=1){var Ve={offset:1,color:v[v.length-1].color};v.push(Ve)}for(var Xe="",d=0,C=0;C<he.length;C++){for(ie=he[C];ie>v[d+1].offset;)d++;var U=v[d].offset,z=(ie-U)/(v[d+1].offset-U),we=v[d].color,Ie=v[d+1].color;Xe+=Z(Math.round((1-z)*we[0]+z*Ie[0]).toString(16))+Z(Math.round((1-z)*we[1]+z*Ie[1]).toString(16))+Z(Math.round((1-z)*we[2]+z*Ie[2]).toString(16))}return Xe.trim()},ga=function(v,D){D||(D=21);var ie=Vr(),he=ec(v.colors,D),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+D+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kr({data:he,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),ne("endobj"),v.objectNumber=Vr(),ne("<< /ShadingType "+v.type),ne("/ColorSpace /DeviceRGB");var Te="/Coords ["+F(parseFloat(v.coords[0]))+" "+F(parseFloat(v.coords[1]))+" ";v.type===2?Te+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3])):Te+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3]))+" "+F(parseFloat(v.coords[4]))+" "+F(parseFloat(v.coords[5])),ne(Te+="]"),v.matrix&&ne("/Matrix ["+v.matrix.toString()+"]"),ne("/Function "+ie+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},tc=function(v,D){var ie=jr(),he=Vr();D.push({resourcesOid:ie,objectOid:he}),v.objectNumber=he;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+v.boundingBox.map(F).join(" ")+"]"}),Be.push({key:"XStep",value:F(v.xStep)}),Be.push({key:"YStep",value:F(v.yStep)}),Be.push({key:"Resources",value:ie+" 0 R"}),v.matrix&&Be.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Kr({data:v.stream,additionalKeyValues:Be,objectId:v.objectNumber}),ne("endobj")},Wi=function(v){var D;for(D in $e)$e.hasOwnProperty(D)&&($e[D]instanceof bl?ga($e[D]):$e[D]instanceof tu&&tc($e[D],v))},Yi=function(v){for(var D in v.objectNumber=Vr(),ne("<<"),v)switch(D){case"opacity":ne("/ca "+P(v[D]));break;case"stroke-opacity":ne("/CA "+P(v[D]))}ne(">>"),ne("endobj")},gi=function(){var v;for(v in et)et.hasOwnProperty(v)&&Yi(et[v])},NA=function(){for(var v in ne("/XObject <<"),lr)lr.hasOwnProperty(v)&&lr[v].objectNumber>=0&&ne("/"+v+" "+lr[v].objectNumber+" 0 R");Bt.publish("putXobjectDict"),ne(">>")},Yu=function(){Br.oid=Vr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Br.v),ne("/R "+Br.r),ne("/U <"+Br.toHexString(Br.U)+">"),ne("/O <"+Br.toHexString(Br.O)+">"),ne("/P "+Br.P),ne(">>"),ne("endobj")},Xo=function(){for(var v in ne("/Font <<"),Dt)Dt.hasOwnProperty(v)&&(f===!1||f===!0&&p.hasOwnProperty(v))&&ne("/"+v+" "+Dt[v].objectNumber+" 0 R");ne(">>")},rc=function(){if(Object.keys($e).length>0){for(var v in ne("/Shading <<"),$e)$e.hasOwnProperty(v)&&$e[v]instanceof bl&&$e[v].objectNumber>=0&&ne("/"+v+" "+$e[v].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),ne(">>")}},SA=function(v){if(Object.keys($e).length>0){for(var D in ne("/Pattern <<"),$e)$e.hasOwnProperty(D)&&$e[D]instanceof g.TilingPattern&&$e[D].objectNumber>=0&&$e[D].objectNumber<v&&ne("/"+D+" "+$e[D].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),ne(">>")}},Jo=function(){if(Object.keys(et).length>0){var v;for(v in ne("/ExtGState <<"),et)et.hasOwnProperty(v)&&et[v].objectNumber>=0&&ne("/"+v+" "+et[v].objectNumber+" 0 R");Bt.publish("putGStateDict"),ne(">>")}},xr=function(v){rn(v.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Xo(),rc(),SA(v.objectOid),Jo(),NA(),ne(">>"),ne("endobj")},Zo=function(){var v=[];$i(),gi(),_A(),Wi(v),Bt.publish("putResources"),v.forEach(xr),xr({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources")},el=function(){Bt.publish("putAdditionalObjects");for(var v=0;v<q.length;v++){var D=q[v];rn(D.objId,!0),ne(D.content),ne("endobj")}Bt.publish("postPutAdditionalObjects")},nc=function(v){zt[v.fontName]=zt[v.fontName]||{},zt[v.fontName][v.fontStyle]=v.id},tl=function(v,D,ie,he,Be){var Te={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:v,fontName:D,fontStyle:ie,encoding:he,isStandardFont:Be||!1,metadata:{}};return Bt.publish("addFont",{font:Te,instance:this}),Dt[Te.id]=Te,nc(Te),Te.id},sc=function(v){for(var D=0,ie=be.length;D<ie;D++){var he=tl.call(this,v[D][0],v[D][1],v[D][2],be[D][3],!0);f===!1&&(p[he]=!0);var Be=v[D][0].split("-");nc({id:he,fontName:Be[0],fontStyle:Be[1]||""})}Bt.publish("addFonts",{fonts:Dt,dictionary:zt})},gs=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(he){var D=he.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ie="Error in function "+D.split(`
`)[0].split("<")[0]+": "+he.message;if(!Et.console)throw new Error(ie);Et.console.error(ie,he),Et.alert&&alert(ie)}},v.foo.bar=v,v.foo},va=function(v,D){var ie,he,Be,Te,Ve,Xe,d,C,U;if(Be=(D=D||{}).sourceEncoding||"Unicode",Ve=D.outputEncoding,(D.autoencode||Ve)&&Dt[Fe].metadata&&Dt[Fe].metadata[Be]&&Dt[Fe].metadata[Be].encoding&&(Te=Dt[Fe].metadata[Be].encoding,!Ve&&Dt[Fe].encoding&&(Ve=Dt[Fe].encoding),!Ve&&Te.codePages&&(Ve=Te.codePages[0]),typeof Ve=="string"&&(Ve=Te[Ve]),Ve)){for(d=!1,Xe=[],ie=0,he=v.length;ie<he;ie++)(C=Ve[v.charCodeAt(ie)])?Xe.push(String.fromCharCode(C)):Xe.push(v[ie]),Xe[ie].charCodeAt(0)>>8&&(d=!0);v=Xe.join("")}for(ie=v.length;d===void 0&&ie!==0;)v.charCodeAt(ie-1)>>8&&(d=!0),ie--;if(!d)return v;for(Xe=D.noBOM?[]:[254,255],ie=0,he=v.length;ie<he;ie++){if((U=(C=v.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xe.push(U),Xe.push(C-(U<<8))}return String.fromCharCode.apply(void 0,Xe)},Lr=g.__private__.pdfEscape=g.pdfEscape=function(v,D){return va(v,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},As=g.__private__.beginPage=function(v){ae[++pt]=[],at[pt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},rl(pt),_e(ae[O])},IA=function(v,D){var ie,he,Be;switch(r=D||r,typeof v=="string"&&(ie=w(v.toLowerCase()),Array.isArray(ie)&&(he=ie[0],Be=ie[1])),Array.isArray(v)&&(he=v[0]*je,Be=v[1]*je),isNaN(he)&&(he=s[0],Be=s[1]),(he>14400||Be>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),Be=Math.min(14400,Be)),s=[he,Be],r.substr(0,1)){case"l":Be>he&&(s=[Be,he]);break;case"p":he>Be&&(s=[Be,he])}As(s),al(Al),ne(Cn),cl!==0&&ne(cl+" J"),Ia!==0&&ne(Ia+" j"),Bt.publish("addPage",{pageNumber:pt})},ya=function(v){v>0&&v<=pt&&(ae.splice(v,1),at.splice(v,1),pt--,O>pt&&(O=pt),this.setPage(O))},rl=function(v){v>0&&v<=pt&&(O=v)},nr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ae.length-1},FA=function(v,D,ie){var he,Be=void 0;return ie=ie||{},v=v!==void 0?v:Dt[Fe].fontName,D=D!==void 0?D:Dt[Fe].fontStyle,he=v.toLowerCase(),zt[he]!==void 0&&zt[he][D]!==void 0?Be=zt[he][D]:zt[v]!==void 0&&zt[v][D]!==void 0?Be=zt[v][D]:ie.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+v+"', '"+D+"'. Refer to getFontList() for available fonts."),Be||ie.noFallback||(Be=zt.times[D])==null&&(Be=zt.times.normal),Be},kA=g.__private__.putInfo=function(){var v=Vr(),D=function(he){return he};for(var ie in h!==null&&(D=Br.encryptor(v,0)),ne("<<"),ne("/Producer ("+Lr(D("jsPDF "+bt.version))+")"),gt)gt.hasOwnProperty(ie)&&gt[ie]&&ne("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Lr(D(gt[ie]))+")");ne("/CreationDate ("+Lr(D(xe))+")"),ne(">>"),ne("endobj")},vi=g.__private__.putCatalog=function(v){var D=(v=v||{}).rootDictionaryObjId||pi;switch(Vr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+D+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Ge;ie.substr(ie.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+P(Ge)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}vt&&ne("/PageMode /"+vt),Bt.publish("putCatalog"),ne(">>"),ne("endobj")},Xu=g.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(J+1)),ne("/Root "+J+" 0 R"),ne("/Info "+(J-1)+" 0 R"),h!==null&&ne("/Encrypt "+Br.oid+" 0 R"),ne("/ID [ <"+pe+"> <"+pe+"> ]"),ne(">>")},ic=g.__private__.putHeader=function(){ne("%PDF-"+b),ne("%ºß¬à")},Ju=g.__private__.putXRef=function(){var v="0000000000";ne("xref"),ne("0 "+(J+1)),ne("0000000000 65535 f ");for(var D=1;D<=J;D++)typeof ee[D]=="function"?ne((v+ee[D]()).slice(-10)+" 00000 n "):ee[D]!==void 0?ne((v+ee[D]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},yi=g.__private__.buildDocument=function(){Le(),_e(Ae),Bt.publish("buildDocument"),ic(),Gi(),el(),Zo(),h!==null&&Yu(),kA(),vi();var v=le;return Ju(),Xu(),ne("startxref"),ne(""+v),ne("%%EOF"),_e(ae[O]),Ae.join(`
`)},wa=g.__private__.getBlob=function(v){return new Blob([ue(v)],{type:"application/pdf"})},xa=g.output=g.__private__.output=gs(function(v,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",v){case void 0:return yi();case"save":g.save(D.filename);break;case"arraybuffer":return ue(yi());case"blob":return wa(yi());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(wa(yi()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",he=yi();try{ie=Gy(he)}catch{ie=Gy(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+D.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(Be=D.pdfObjectUrl,Te="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Xe=Et.open();return Xe!==null&&Xe.document.write(Ve),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',C=Et.open();if(C!==null){C.document.write(d);var U=this;C.document.documentElement.querySelector("#pdfViewer").onload=function(){C.document.title=D.filename,C.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(U.output("bloburl"))}}return C}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var z='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',we=Et.open();if(we!==null&&(we.document.write(z),we.document.title=D.filename),we||typeof safari>"u")return we;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",D);default:return null}}),Xi=function(v){return Array.isArray(mr)===!0&&mr.indexOf(v)>-1};switch(n){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=Xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);je=n}var Br=null;de(),M();var Ac=function(v){return h!==null?Br.encryptor(v,0):function(D){return D}},nl=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[v].objId,pageNumber:v,pageContext:at[v]}},_t=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in at)if(at[D].objId===v)break;return nl(D)},Ji=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:at[O].objId,pageNumber:O,pageContext:at[O]}};g.addPage=function(){return IA.apply(this,arguments),this},g.setPage=function(){return rl.apply(this,arguments),_e.call(this,ae[O]),this},g.insertPage=function(v){return this.addPage(),this.movePage(O,v),this},g.movePage=function(v,D){var ie,he;if(v>D){ie=ae[v],he=at[v];for(var Be=v;Be>D;Be--)ae[Be]=ae[Be-1],at[Be]=at[Be-1];ae[D]=ie,at[D]=he,this.setPage(D)}else if(v<D){ie=ae[v],he=at[v];for(var Te=v;Te<D;Te++)ae[Te]=ae[Te+1],at[Te]=at[Te+1];ae[D]=ie,at[D]=he,this.setPage(D)}return this},g.deletePage=function(){return ya.apply(this,arguments),this},g.__private__.text=g.text=function(v,D,ie,he,Be){var Te,Ve,Xe,d,C,U,z,we,Ie,Ke=(he=he||{}).scope||this;if(typeof v=="number"&&typeof D=="number"&&(typeof ie=="string"||Array.isArray(ie))){var Ft=ie;ie=D,D=v,v=Ft}if(arguments[3]instanceof ot?(B("The transform parameter of text() with a Matrix value"),Ie=Be):(Xe=arguments[4],d=arguments[5],Ar(z=arguments[3])==="object"&&z!==null||(typeof Xe=="string"&&(d=Xe,Xe=null),typeof z=="string"&&(d=z,z=null),typeof z=="number"&&(Xe=z,z=null),he={flags:z,angle:Xe,align:d})),isNaN(D)||isNaN(ie)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Ke;var Ht="",kt=!1,tr=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:er,dr=Ke.internal.scaleFactor;function Ci(pr){return pr=pr.split("	").join(Array(he.TabLen||9).join(" ")),Lr(pr,z)}function En(pr){for(var gr,Gr=pr.concat(),un=[],RA=Gr.length;RA--;)typeof(gr=Gr.shift())=="string"?un.push(gr):Array.isArray(pr)&&(gr.length===1||gr[1]===void 0&&gr[2]===void 0)?un.push(gr[0]):un.push([gr[0],gr[1],gr[2]]);return un}function rA(pr,gr){var Gr;if(typeof pr=="string")Gr=gr(pr)[0];else if(Array.isArray(pr)){for(var un,RA,ad=pr.concat(),yc=[],vf=ad.length;vf--;)typeof(un=ad.shift())=="string"?yc.push(gr(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&(RA=gr(un[0],un[1],un[2]),yc.push([RA[0],RA[1],RA[2]]));Gr=yc}return Gr}var nA=!1,ed=!0;if(typeof v=="string")nA=!0;else if(Array.isArray(v)){var td=v.concat();Ve=[];for(var uc,_n=td.length;_n--;)(typeof(uc=td.shift())!="string"||Array.isArray(uc)&&typeof uc[0]!="string")&&(ed=!1);nA=ed}if(nA===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var dc=Qe/Ke.internal.scaleFactor,hc=dc*(tr-1);switch(he.baseline){case"bottom":ie-=hc;break;case"top":ie+=dc-hc;break;case"hanging":ie+=dc-2*hc;break;case"middle":ie+=dc/2-hc}if((U=he.maxWidth||0)>0&&(typeof v=="string"?v=Ke.splitTextToSize(v,U):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(pr,gr){return pr.concat(Ke.splitTextToSize(gr,U))},[]))),Te={text:v,x:D,y:ie,options:he,mutex:{pdfEscape:Lr,activeFontKey:Fe,fonts:Dt,activeFontSize:Qe}},Bt.publish("preProcessText",Te),v=Te.text,Xe=(he=Te.options).angle,!(Ie instanceof ot)&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,he.rotationDirection===0&&(Xe=-Xe),_===y.ADVANCED&&(Xe=-Xe);var fc=Math.cos(Xe),rd=Math.sin(Xe);Ie=new ot(fc,rd,-rd,fc,0,0)}else Xe&&Xe instanceof ot&&(Ie=Xe);_!==y.ADVANCED||Ie||(Ie=Pn),(C=he.charSpace||UA)!==void 0&&(Ht+=F(j(C))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(we=he.horizontalScale)!==void 0&&(Ht+=F(100*we)+` Tz
`),he.lang;var vs=-1,p0=he.renderingMode!==void 0?he.renderingMode:he.stroke,nd=Ke.internal.getCurrentPageInfo().pageContext;switch(p0){case 0:case!1:case"fill":vs=0;break;case 1:case!0:case"stroke":vs=1;break;case 2:case"fillThenStroke":vs=2;break;case 3:case"invisible":vs=3;break;case 4:case"fillAndAddForClipping":vs=4;break;case 5:case"strokeAndAddPathForClipping":vs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vs=6;break;case 7:case"addToPathForClipping":vs=7}var ff=nd.usedRenderingMode!==void 0?nd.usedRenderingMode:-1;vs!==-1?Ht+=vs+` Tr
`:ff!==-1&&(Ht+=`0 Tr
`),vs!==-1&&(nd.usedRenderingMode=vs),d=he.align||"left";var Ws,mc=Qe*tr,mf=Ke.internal.pageSize.getWidth(),pf=Dt[Fe];C=he.charSpace||UA,U=he.maxWidth||0,z=Object.assign({autoencode:!0,noBOM:!0},he.flags);var Qa=[],ul=function(pr){return Ke.getStringUnitWidth(pr,{font:pf,charSpace:C,fontSize:Qe,doKerning:!1})*Qe/dr};if(Object.prototype.toString.call(v)==="[object Array]"){var ys;Ve=En(v),d!=="left"&&(Ws=Ve.map(ul));var as,ja=0;if(d==="right"){D-=Ws[0],v=[],_n=Ve.length;for(var LA=0;LA<_n;LA++)LA===0?(as=Qs(D),ys=cn(ie)):(as=j(ja-Ws[LA]),ys=-mc),v.push([Ve[LA],as,ys]),ja=Ws[LA]}else if(d==="center"){D-=Ws[0]/2,v=[],_n=Ve.length;for(var PA=0;PA<_n;PA++)PA===0?(as=Qs(D),ys=cn(ie)):(as=j((ja-Ws[PA])/2),ys=-mc),v.push([Ve[PA],as,ys]),ja=Ws[PA]}else if(d==="left"){v=[],_n=Ve.length;for(var pc=0;pc<_n;pc++)v.push(Ve[pc])}else if(d==="justify"&&pf.encoding==="Identity-H"){v=[],_n=Ve.length,U=U!==0?U:mf;for(var DA=0,zr=0;zr<_n;zr++)if(ys=zr===0?cn(ie):-mc,as=zr===0?Qs(D):DA,zr<_n-1){var sd=j((U-Ws[zr])/(Ve[zr].split(" ").length-1)),os=Ve[zr].split(" ");v.push([os[0]+" ",as,ys]),DA=0;for(var Ys=1;Ys<os.length;Ys++){var gc=(ul(os[Ys-1]+" "+os[Ys])-ul(os[Ys]))*dr+sd;Ys==os.length-1?v.push([os[Ys],gc,0]):v.push([os[Ys]+" ",gc,0]),DA-=gc}}else v.push([Ve[zr],as,ys]);v.push(["",DA,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],_n=Ve.length,U=U!==0?U:mf,zr=0;zr<_n;zr++)ys=zr===0?cn(ie):-mc,as=zr===0?Qs(D):0,zr<_n-1?Qa.push(F(j((U-Ws[zr])/(Ve[zr].split(" ").length-1)))):Qa.push(0),v.push([Ve[zr],as,ys])}}var gf=typeof he.R2L=="boolean"?he.R2L:At;gf===!0&&(v=rA(v,function(pr,gr,Gr){return[pr.split("").reverse().join(""),gr,Gr]})),Te={text:v,x:D,y:ie,options:he,mutex:{pdfEscape:Lr,activeFontKey:Fe,fonts:Dt,activeFontSize:Qe}},Bt.publish("postProcessText",Te),v=Te.text,kt=Te.mutex.isHex||!1;var id=Dt[Fe].encoding;id!=="WinAnsiEncoding"&&id!=="StandardEncoding"||(v=rA(v,function(pr,gr,Gr){return[Ci(pr),gr,Gr]})),Ve=En(v),v=[];for(var dl,hl,La,fl=0,vc=1,ml=Array.isArray(Ve[0])?vc:fl,Pa="",Ad=function(pr,gr,Gr){var un="";return Gr instanceof ot?(Gr=typeof he.angle=="number"?ms(Gr,new ot(1,0,0,1,pr,gr)):ms(new ot(1,0,0,1,pr,gr),Gr),_===y.ADVANCED&&(Gr=ms(new ot(1,0,0,-1,0,0),Gr)),un=Gr.join(" ")+` Tm
`):un=F(pr)+" "+F(gr)+` Td
`,un},Xs=0;Xs<Ve.length;Xs++){switch(Pa="",ml){case vc:La=(kt?"<":"(")+Ve[Xs][0]+(kt?">":")"),dl=parseFloat(Ve[Xs][1]),hl=parseFloat(Ve[Xs][2]);break;case fl:La=(kt?"<":"(")+Ve[Xs]+(kt?">":")"),dl=Qs(D),hl=cn(ie)}Qa!==void 0&&Qa[Xs]!==void 0&&(Pa=Qa[Xs]+` Tw
`),Xs===0?v.push(Pa+Ad(dl,hl,Ie)+La):ml===fl?v.push(Pa+La):ml===vc&&v.push(Pa+Ad(dl,hl,Ie)+La)}v=ml===fl?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Js=`BT
/`;return Js+=Fe+" "+Qe+` Tf
`,Js+=F(Qe*tr)+` TL
`,Js+=Bi+`
`,Js+=Ht,Js+=v,ne(Js+="ET"),p[Fe]=!0,Ke};var Zu=g.__private__.clip=g.clip=function(v){return ne(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Zu("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ne("n"),this};var $s=g.__private__.isValidStyle=function(v){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(D=!0),D};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return $s(v)&&(c=v),this};var ac=g.__private__.getStyle=g.getStyle=function(v){var D=c;switch(v){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=v}return D},Ts=g.close=function(){return ne("h"),this};g.stroke=function(){return ne("S"),this},g.fill=function(v){return Ba("f",v),this},g.fillEvenOdd=function(v){return Ba("f*",v),this},g.fillStroke=function(v){return Ba("B",v),this},g.fillStrokeEvenOdd=function(v){return Ba("B*",v),this};var Ba=function(v,D){Ar(D)==="object"?Ca(D,v):ne(v)},sl=function(v){v===null||_===y.ADVANCED&&v===void 0||(v=ac(v),ne(v))};function ba(v,D,ie,he,Be){var Te=new tu(D||this.boundingBox,ie||this.xStep,he||this.yStep,this.gState,Be||this.matrix);Te.stream=this.stream;var Ve=v+"$$"+this.cloneIndex+++"$$";return tn(Ve,Te),Te}var Ca=function(v,D){var ie=st[v.key],he=$e[ie];if(he instanceof bl)ne("q"),ne(oc(D)),he.gState&&g.setGState(he.gState),ne(v.matrix.toString()+" cm"),ne("/"+ie+" sh"),ne("Q");else if(he instanceof tu){var Be=new ot(1,0,0,-1,0,Rn());v.matrix&&(Be=Be.multiply(v.matrix||Pn),ie=ba.call(he,v.key,v.boundingBox,v.xStep,v.yStep,Be).id),ne("q"),ne("/Pattern cs"),ne("/"+ie+" scn"),he.gState&&g.setGState(he.gState),ne(D),ne("Q")}},oc=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wi=g.moveTo=function(v,D){return ne(F(j(v))+" "+F(re(D))+" m"),this},Us=g.lineTo=function(v,D){return ne(F(j(v))+" "+F(re(D))+" l"),this},xi=g.curveTo=function(v,D,ie,he,Be,Te){return ne([F(j(v)),F(re(D)),F(j(ie)),F(re(he)),F(j(Be)),F(re(Te)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,D,ie,he,Be){if(isNaN(v)||isNaN(D)||isNaN(ie)||isNaN(he)||!$s(Be))throw new Error("Invalid arguments passed to jsPDF.line");return _===y.COMPAT?this.lines([[ie-v,he-D]],v,D,[1,1],Be||"S"):this.lines([[ie-v,he-D]],v,D,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,D,ie,he,Be,Te){var Ve,Xe,d,C,U,z,we,Ie,Ke,Ft,Ht,kt;if(typeof v=="number"&&(kt=ie,ie=D,D=v,v=kt),he=he||[1,1],Te=Te||!1,isNaN(D)||isNaN(ie)||!Array.isArray(v)||!Array.isArray(he)||!$s(Be)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wi(D,ie),Ve=he[0],Xe=he[1],C=v.length,Ft=D,Ht=ie,d=0;d<C;d++)(U=v[d]).length===2?(Ft=U[0]*Ve+Ft,Ht=U[1]*Xe+Ht,Us(Ft,Ht)):(z=U[0]*Ve+Ft,we=U[1]*Xe+Ht,Ie=U[2]*Ve+Ft,Ke=U[3]*Xe+Ht,Ft=U[4]*Ve+Ft,Ht=U[5]*Xe+Ht,xi(z,we,Ie,Ke,Ft,Ht));return Te&&Ts(),sl(Be),this},g.path=function(v){for(var D=0;D<v.length;D++){var ie=v[D],he=ie.c;switch(ie.op){case"m":wi(he[0],he[1]);break;case"l":Us(he[0],he[1]);break;case"c":xi.apply(this,he);break;case"h":Ts()}}return this},g.__private__.rect=g.rect=function(v,D,ie,he,Be){if(isNaN(v)||isNaN(D)||isNaN(ie)||isNaN(he)||!$s(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return _===y.COMPAT&&(he=-he),ne([F(j(v)),F(re(D)),F(j(ie)),F(j(he)),"re"].join(" ")),sl(Be),this},g.__private__.triangle=g.triangle=function(v,D,ie,he,Be,Te,Ve){if(isNaN(v)||isNaN(D)||isNaN(ie)||isNaN(he)||isNaN(Be)||isNaN(Te)||!$s(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-v,he-D],[Be-ie,Te-he],[v-Be,D-Te]],v,D,[1,1],Ve,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,D,ie,he,Be,Te,Ve){if(isNaN(v)||isNaN(D)||isNaN(ie)||isNaN(he)||isNaN(Be)||isNaN(Te)||!$s(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*ie),Te=Math.min(Te,.5*he),this.lines([[ie-2*Be,0],[Be*Xe,0,Be,Te-Te*Xe,Be,Te],[0,he-2*Te],[0,Te*Xe,-Be*Xe,Te,-Be,Te],[2*Be-ie,0],[-Be*Xe,0,-Be,-Te*Xe,-Be,-Te],[0,2*Te-he],[0,-Te*Xe,Be*Xe,-Te,Be,-Te]],v+Be,D,[1,1],Ve,!0),this},g.__private__.ellipse=g.ellipse=function(v,D,ie,he,Be){if(isNaN(v)||isNaN(D)||isNaN(ie)||isNaN(he)||!$s(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*ie,Ve=4/3*(Math.SQRT2-1)*he;return wi(v+ie,D),xi(v+ie,D-Ve,v+Te,D-he,v,D-he),xi(v-Te,D-he,v-ie,D-Ve,v-ie,D),xi(v-ie,D+Ve,v-Te,D+he,v,D+he),xi(v+Te,D+he,v+ie,D+Ve,v+ie,D),sl(Be),this},g.__private__.circle=g.circle=function(v,D,ie,he){if(isNaN(v)||isNaN(D)||isNaN(ie)||!$s(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,D,ie,ie,he)},g.setFont=function(v,D,ie){return ie&&(D=$(D,ie)),Fe=FA(v,D,{disableWarning:!1}),this};var il=g.__private__.getFont=g.getFont=function(){return Dt[FA.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,D,ie={};for(v in zt)if(zt.hasOwnProperty(v))for(D in ie[v]=[],zt[v])zt[v].hasOwnProperty(D)&&ie[v].push(D);return ie},g.addFont=function(v,D,ie,he,Be){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(ie=$(ie,he)),Be=Be||"Identity-H",tl.call(this,v,D,ie,Be)};var er,Al=t.lineWidth||.200025,Ea=g.__private__.getLineWidth=g.getLineWidth=function(){return Al},al=g.__private__.setLineWidth=g.setLineWidth=function(v){return Al=v,ne(F(j(v))+" w"),this};g.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(v,D){if(v=v||[],D=D||0,isNaN(D)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(ie){return F(j(ie))}).join(" "),D=F(j(D)),ne("["+v+"] "+D+" d"),this};var ol=g.__private__.getLineHeight=g.getLineHeight=function(){return Qe*er};g.__private__.getLineHeight=g.getLineHeight=function(){return Qe*er};var ll=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(er=v),this},TA=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return er};ll(t.lineHeight);var Qs=g.__private__.getHorizontalCoordinate=function(v){return j(v)},cn=g.__private__.getVerticalCoordinate=function(v){return _===y.ADVANCED?v:at[O].mediaBox.topRightY-at[O].mediaBox.bottomLeftY-j(v)},lc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return F(Qs(v))},Zi=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return F(cn(v))},Cn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ps(Cn)},g.__private__.setStrokeColor=g.setDrawColor=function(v,D,ie,he){return Cn=ss({ch1:v,ch2:D,ch3:ie,ch4:he,pdfColorType:"draw",precision:2}),ne(Cn),this};var _a=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ps(_a)},g.__private__.setFillColor=g.setFillColor=function(v,D,ie,he){return _a=ss({ch1:v,ch2:D,ch3:ie,ch4:he,pdfColorType:"fill",precision:2}),ne(_a),this};var Bi=t.textColor||"0 g",Na=g.__private__.getTextColor=g.getTextColor=function(){return ps(Bi)};g.__private__.setTextColor=g.setTextColor=function(v,D,ie,he){return Bi=ss({ch1:v,ch2:D,ch3:ie,ch4:he,pdfColorType:"text",precision:3}),this};var UA=t.charSpace,Sa=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(UA||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return UA=v,this};var cl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var D=g.CapJoinStyles[v];if(D===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cl=D,ne(D+" J"),this};var Ia=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var D=g.CapJoinStyles[v];if(D===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ia=D,ne(D+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(F(j(v))+" M"),this},g.GState=pg,g.setGState=function(v){(v=typeof v=="string"?et[rt[v]]:eA(null,v)).equals(mt)||(ne("/"+v.id+" gs"),mt=v)};var eA=function(v,D){if(!v||!rt[v]){var ie=!1;for(var he in et)if(et.hasOwnProperty(he)&&et[he].equals(D)){ie=!0;break}if(ie)D=et[he];else{var Be="GS"+(Object.keys(et).length+1).toString(10);et[Be]=D,D.id=Be}return v&&(rt[v]=D.id),Bt.publish("addGState",D),D}};g.addGState=function(v,D){return eA(v,D),this},g.saveGraphicsState=function(){return ne("q"),Ue.push({key:Fe,size:Qe,color:Bi}),this},g.restoreGraphicsState=function(){ne("Q");var v=Ue.pop();return Fe=v.key,Qe=v.size,Bi=v.color,mt=null,this},g.setCurrentTransformationMatrix=function(v){return ne(v.toString()+" cm"),this},g.comment=function(v){return ne("#"+v),this};var QA=function(v,D){var ie=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Te){isNaN(Te)||(ie=parseFloat(Te))}});var he=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Te){isNaN(Te)||(he=parseFloat(Te))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(Te){Be=Te.toString()}}),this},Fa=function(v,D,ie,he){QA.call(this,v,D),this.type="rect";var Be=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(Ve){isNaN(Ve)||(Be=parseFloat(Ve))}});var Te=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Ve){isNaN(Ve)||(Te=parseFloat(Ve))}}),this},jA=function(){this.page=pt,this.currentPage=O,this.pages=ae.slice(0),this.pagesContext=at.slice(0),this.x=Je,this.y=ht,this.matrix=Mr,this.width=tA(O),this.height=Rn(O),this.outputDestination=Ee,this.id="",this.objectNumber=-1};jA.prototype.restore=function(){pt=this.page,O=this.currentPage,at=this.pagesContext,ae=this.pages,Je=this.x,ht=this.y,Mr=this.matrix,Ta(O,this.width),Ua(O,this.height),Ee=this.outputDestination};var ka=function(v,D,ie,he,Be){mn.push(new jA),pt=O=0,ae=[],Je=v,ht=D,Mr=Be,As([ie,he])},cc=function(v){if(Ir[v])mn.pop().restore();else{var D=new jA,ie="Xo"+(Object.keys(lr).length+1).toString(10);D.id=ie,Ir[v]=ie,lr[ie]=D,Bt.publish("addFormObject",D),mn.pop().restore()}};for(var bi in g.beginFormObject=function(v,D,ie,he,Be){return ka(v,D,ie,he,Be),this},g.endFormObject=function(v){return cc(v),this},g.doFormObject=function(v,D){var ie=lr[Ir[v]];return ne("q"),ne(D.toString()+" cm"),ne("/"+ie.id+" Do"),ne("Q"),this},g.getFormObject=function(v){var D=lr[Ir[v]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},g.save=function(v,D){return v=v||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(xl(wa(yi()),v),typeof xl.unload=="function"&&Et.setTimeout&&setTimeout(xl.unload,911),this):new Promise(function(ie,he){try{var Be=xl(wa(yi()),v);typeof xl.unload=="function"&&Et.setTimeout&&setTimeout(xl.unload,911),ie(Be)}catch(Te){he(Te.message)}})},bt.API)bt.API.hasOwnProperty(bi)&&(bi==="events"&&bt.API.events.length?function(v,D){var ie,he,Be;for(Be=D.length-1;Be!==-1;Be--)ie=D[Be][0],he=D[Be][1],v.subscribe.apply(v,[ie].concat(typeof he=="function"?[he]:he))}(Bt,bt.API.events):g[bi]=bt.API[bi]);var tA=g.getPageWidth=function(v){return(at[v=v||O].mediaBox.topRightX-at[v].mediaBox.bottomLeftX)/je},Ta=g.setPageWidth=function(v,D){at[v].mediaBox.topRightX=D*je+at[v].mediaBox.bottomLeftX},Rn=g.getPageHeight=function(v){return(at[v=v||O].mediaBox.topRightY-at[v].mediaBox.bottomLeftY)/je},Ua=g.setPageHeight=function(v,D){at[v].mediaBox.topRightY=D*je+at[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:Lr,getStyle:ac,getFont:il,getFontSize:We,getCharSpace:Sa,getTextColor:Na,getLineHeight:ol,getLineHeightFactor:TA,getLineWidth:Ea,write:te,getHorizontalCoordinate:Qs,getVerticalCoordinate:cn,getCoordinateString:lc,getVerticalCoordinateString:Zi,collections:{},newObject:Vr,newAdditionalObject:pa,newObjectDeferred:jr,newObjectDeferredBegin:rn,getFilters:is,putStream:Kr,events:Bt,scaleFactor:je,pageSize:{getWidth:function(){return tA(O)},setWidth:function(v){Ta(O,v)},getHeight:function(){return Rn(O)},setHeight:function(v){Ua(O,v)}},encryptionOptions:h,encryption:Br,getEncryptor:Ac,output:xa,getNumberOfPages:nr,pages:ae,out:ne,f2:P,f3:S,getPageInfo:nl,getPageInfoByObjId:_t,getCurrentPageInfo:Ji,getPDFVersion:E,Point:QA,Rectangle:Fa,Matrix:ot,hasHotfix:Xi},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return tA(O)},set:function(v){Ta(O,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Rn(O)},set:function(v){Ua(O,v)},enumerable:!0,configurable:!0}),sc.call(g,be),Fe="F1",IA(s,r),Bt.publish("initialized"),g}Rc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Rc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Rc.prototype.processOwnerPassword=function(t,e){return $y(qy(e).substr(0,5),t)},Rc.prototype.encryptor=function(t,e){var r=qy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return $y(r,n)}},pg.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ar(t)!==Ar(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},bt.API={events:[]},bt.version="2.5.2";var Dr=bt.API,J2=1,Zl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},Wa=function(t){return t.toFixed(5)};Dr.__acroform__={};var Fs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},pC=function(t){return t*J2},aA=function(t){var e=new zI,r=ut.internal.getHeight(t)||0,n=ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Tt(n)),Number(Tt(r))],e},V9=Dr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},K9=Dr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},z9=Dr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Xr=Dr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return z9(t,e-1)},Jr=Dr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return V9(t,e-1)},Zr=Dr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K9(t,e-1)},G9=Dr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],A=t[2],o=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(s+A)||0,l.upperRight_Y=n(i)||0,[Number(Tt(l.lowerLeft_X)),Number(Tt(l.lowerLeft_Y)),Number(Tt(l.upperRight_X)),Number(Tt(l.upperRight_Y))]},q9=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Wy(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Tt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=aA(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Wy=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(S){return S.split(`
`)}):s.map(function(S){return[S]});var i=r,A=ut.internal.getHeight(t)||0;A=A<0?-A:A;var o=ut.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(S,j,T){if(S+1<s.length){var re=j+" "+s[S+1][0];return Qm(re,t,T).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,h,f=Qm("3",t,i).height,p=t.multiline?A-i:(A-f)/2,g=p+=2,b=0,E=0,N=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qm(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var w="",y=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var L=!1;if(s[_].length!==1&&N!==s[_].length-1){if((f+2)*(y+2)+2>A)continue e;w+=s[_][N],L=!0,E=_,_--}else{w=(w+=s[_][N]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var V=parseInt(_),$=l(V,w,i),F=_>=s.length-1;if($&&!F){w+=" ",N=0;continue}if($||F){if(F)E=V;else if(t.multiline&&(f+2)*(y+2)+2>A)continue e}else{if(!t.multiline||(f+2)*(y+2)+2>A)continue e;E=V}}for(var B="",k=b;k<=E;k++){var P=s[k];if(t.multiline){if(k===E){B+=P[N]+" ",N=(N+1)%P.length;continue}if(k===b){B+=P[P.length-1]+" ";continue}}B+=P[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,h=Qm(B,t,i).width,t.textAlign){case"right":c=o-h-2;break;case"center":c=(o-h)/2;break;case"left":default:c=2}e+=Tt(c)+" "+Tt(g)+` Td
`,e+="("+Zl(B)+`) Tj
`,e+=-Tt(c)+` 0 Td
`,g=-(i+2),h=0,b=L?E:E+1,y++,w=""}break}return n.text=e,n.fontSize=i,n},Qm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},$9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},W9=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Y9=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Ar(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},X9=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ki.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($9)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");J2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new GI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&W9(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var A in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var o=n[A],l=[],c=o.Rect;if(o.Rect&&(o.Rect=G9(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ut.createDefaultAppearanceStream(o),Ar(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=q9(o);l.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var A in g)if(g.hasOwnProperty(A)){var b=g[A];typeof b=="function"&&(b=b.call(s,o)),f+="/"+A+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(s,o)),f+="/"+A+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}i&&Y9(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},KI=Dr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Ar(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+Zl(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},q1=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Zl(n(t))+")"},uA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uA.prototype.toString=function(){return this.objId+" 0 R"},uA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},uA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:KI(s,this.objId,this.scope)}):s instanceof uA?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var zI=function(){uA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Fs(zI,uA);var GI=function(){uA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Zl(r(t))+")"}},set:function(r){t=r}})};Fs(GI,uA);var Ki=function t(){uA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xr(e,3)},set:function(w){w?this.F=Jr(e,3):this.F=Zr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof gg)return;i="FieldObject"+t.FieldNum++}var w=function(y){return y};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Zl(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/J2:c},set:function(w){c=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof gg||this instanceof Ql))return q1(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xn?p:q1(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof xn?w:w.substr(0,1)==="("?Tc(w.substr(1,w.length-2)):Tc(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?Tc(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof xn?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof xn?g:q1(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof xn?w:w.substr(0,1)==="("?Tc(w.substr(1,w.length-2)):Tc(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?Tc(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof xn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(w){w=!!w,E=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,1)},set:function(w){w?this.Ff=Jr(this.Ff,1):this.Ff=Zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,2)},set:function(w){w?this.Ff=Jr(this.Ff,2):this.Ff=Zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,3)},set:function(w){w?this.Ff=Jr(this.Ff,3):this.Ff=Zr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');N=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(N){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Fs(Ki,uA);var fu=function(){Ki.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return KI(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,A,o){o||(o=1);for(var l,c=[];l=A.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,18)},set:function(r){r?this.Ff=Jr(this.Ff,18):this.Ff=Zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Jr(this.Ff,19):this.Ff=Zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,20)},set:function(r){r?(this.Ff=Jr(this.Ff,20),e.sort()):this.Ff=Zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,22)},set:function(r){r?this.Ff=Jr(this.Ff,22):this.Ff=Zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(r){r?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,27)},set:function(r){r?this.Ff=Jr(this.Ff,27):this.Ff=Zr(this.Ff,27)}}),this.hasAppearanceStream=!1};Fs(fu,Ki);var mu=function(){fu.call(this),this.fontName="helvetica",this.combo=!1};Fs(mu,fu);var pu=function(){mu.call(this),this.combo=!0};Fs(pu,mu);var lp=function(){pu.call(this),this.edit=!0};Fs(lp,pu);var xn=function(){Ki.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,15)},set:function(r){r?this.Ff=Jr(this.Ff,15):this.Ff=Zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,16)},set:function(r){r?this.Ff=Jr(this.Ff,16):this.Ff=Zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,17)},set:function(r){r?this.Ff=Jr(this.Ff,17):this.Ff=Zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(r){r?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Zl(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ar(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Fs(xn,Ki);var cp=function(){xn.call(this),this.pushButton=!0};Fs(cp,xn);var gu=function(){xn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Fs(gu,xn);var gg=function(){var t,e;Ki.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,A=[];for(i in A.push("<<"),n)A.push("/"+i+" ("+Zl(s(n[i]))+")");return A.push(">>"),A.join(`
`)},set:function(s){Ar(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fs(gg,Ki),gu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},gu.prototype.createOption=function(t){var e=new gg;return e.Parent=this,e.optionName=t,this.Kids.push(e),J9.call(this.scope,e),e};var up=function(){xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};Fs(up,xn);var Ql=function(){Ki.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,13)},set:function(e){e?this.Ff=Jr(this.Ff,13):this.Ff=Zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,21)},set:function(e){e?this.Ff=Jr(this.Ff,21):this.Ff=Zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,24)},set:function(e){e?this.Ff=Jr(this.Ff,24):this.Ff=Zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,25)},set:function(e){e?this.Ff=Jr(this.Ff,25):this.Ff=Zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fs(Ql,Ki);var dp=function(){Ql.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,14)},set:function(t){t?this.Ff=Jr(this.Ff,14):this.Ff=Zr(this.Ff,14)}}),this.password=!0};Fs(dp,Ql);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Wy(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Tt(ut.internal.getWidth(t))+" "+Tt(ut.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Tt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=ut.internal.getHeight(t),A=ut.internal.getWidth(t),o=Wy(t,t.caption);return s.push("1 g"),s.push("0 0 "+Tt(A)+" "+Tt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Tt(A-1)+" "+Tt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Tt(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(ut.internal.getWidth(t))+" "+Tt(ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Circle.YesNormal,e.D[t]=ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=ut.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Wa(ut.internal.getWidth(t)/2)+" "+Wa(ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5)),A=Number((n*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wa(ut.internal.getWidth(t)/2)+" "+Wa(ut.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Wa(ut.internal.getWidth(t)/2)+" "+Wa(ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wa(ut.internal.getWidth(t)/2)+" "+Wa(ut.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Cross.YesNormal,e.D[t]=ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=ut.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Tt(ut.internal.getWidth(t)-2)+" "+Tt(ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),r.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),r.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),r.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=ut.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(ut.internal.getWidth(t))+" "+Tt(ut.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Tt(ut.internal.getWidth(t)-2)+" "+Tt(ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),n.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),n.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),n.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(ut.internal.getWidth(t))+" "+Tt(ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ut.internal.getWidth(t),r=ut.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ut.internal.getWidth=function(t){var e=0;return Ar(t)==="object"&&(e=pC(t.Rect[2])),e},ut.internal.getHeight=function(t){var e=0;return Ar(t)==="object"&&(e=pC(t.Rect[3])),e};var J9=Dr.addField=function(t){if(X9(this,t),!(t instanceof Ki))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Dr.AcroFormChoiceField=fu,Dr.AcroFormListBox=mu,Dr.AcroFormComboBox=pu,Dr.AcroFormEditBox=lp,Dr.AcroFormButton=xn,Dr.AcroFormPushButton=cp,Dr.AcroFormRadioButton=gu,Dr.AcroFormCheckBox=up,Dr.AcroFormTextField=Ql,Dr.AcroFormPasswordField=dp,Dr.AcroFormAppearance=ut,Dr.AcroForm={ChoiceField:fu,ListBox:mu,ComboBox:pu,EditBox:lp,Button:xn,PushButton:cp,RadioButton:gu,CheckBox:up,TextField:Ql,PasswordField:dp,Appearance:ut},bt.AcroForm={ChoiceField:fu,ListBox:mu,ComboBox:pu,EditBox:lp,Button:xn,PushButton:cp,RadioButton:gu,CheckBox:up,TextField:Ql,PasswordField:dp,Appearance:ut};function qI(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(S,j){var T,re,xe,pe,ve,M=e;if((j=j||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if($(S))for(ve in r)for(xe=r[ve],T=0;T<xe.length;T+=1){for(pe=!0,re=0;re<xe[T].length;re+=1)if(xe[T][re]!==void 0&&xe[T][re]!==S[re]){pe=!1;break}if(pe===!0){M=ve;break}}else for(ve in r)for(xe=r[ve],T=0;T<xe.length;T+=1){for(pe=!0,re=0;re<xe[T].length;re+=1)if(xe[T][re]!==void 0&&xe[T][re]!==S.charCodeAt(re)){pe=!1;break}if(pe===!0){M=ve;break}}return M===e&&j!==e&&(M=j),M},s=function S(j){for(var T=this.internal.write,re=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:j.width}),pe.push({key:"Height",value:j.height}),j.colorSpace===N.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===N.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var ve="",M=0,oe=j.transparency.length;M<oe;M++)ve+=j.transparency[M]+" "+j.transparency[M]+" ";pe.push({key:"Mask",value:"["+ve+"]"})}j.sMask!==void 0&&pe.push({key:"SMask",value:j.objectId+1+" 0 R"});var X=j.filter!==void 0?["/"+j.filter]:void 0;if(re({data:j.data,additionalKeyValues:pe,alreadyAppliedFilters:X,objectId:j.objectId}),T("endobj"),"sMask"in j&&j.sMask!==void 0){var de="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,Q={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:de,data:j.sMask};"filter"in j&&(Q.filter=j.filter),S.call(this,Q)}if(j.colorSpace===N.INDEXED){var O=this.internal.newObject();re({data:B(new Uint8Array(j.palette)),objectId:O}),T("endobj")}},i=function(){var S=this.internal.collections.addImage_images;for(var j in S)s.call(this,S[j])},A=function(){var S,j=this.internal.collections.addImage_images,T=this.internal.write;for(var re in j)T("/I"+(S=j[re]).index,S.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",A))},l=function(){var S=this.internal.collections.addImage_images;return o.call(this),S},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(S){return typeof t["process"+S.toUpperCase()]=="function"},f=function(S){return Ar(S)==="object"&&S.nodeType===1},p=function(S,j){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var T=""+S.getAttribute("src");if(T.indexOf("data:image/")===0)return uh(unescape(T).split("base64,").pop());var re=t.loadFile(T,!0);if(re!==void 0)return re}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var xe;switch(j){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;case"JPEG":case"JPG":default:xe="image/jpeg"}return uh(S.toDataURL(xe,1).split("base64,").pop())}},g=function(S){var j=this.internal.collections.addImage_images;if(j){for(var T in j)if(S===j[T].alias)return j[T]}},b=function(S,j,T){return S||j||(S=-96,j=-96),S<0&&(S=-1*T.width*72/S/this.internal.scaleFactor),j<0&&(j=-1*T.height*72/j/this.internal.scaleFactor),S===0&&(S=j*T.width/T.height),j===0&&(j=S*T.height/T.width),[S,j]},E=function(S,j,T,re,xe,pe){var ve=b.call(this,T,re,xe),M=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,X=l.call(this);if(T=ve[0],re=ve[1],X[xe.index]=xe,pe){pe*=Math.PI/180;var de=Math.cos(pe),Q=Math.sin(pe),O=function(Z){return Z.toFixed(4)},Y=[O(de),O(Q),O(-1*Q),O(de),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,M(S),oe(j+re),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([M(T),"0","0",M(re),"0","0","cm"].join(" "))):this.internal.write([M(T),"0","0",M(re),M(S),oe(j+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(S){var j,T,re=0;if(typeof S=="string")for(T=S.length,j=0;j<T;j++)re=(re<<5)-re+S.charCodeAt(j),re|=0;else if($(S))for(T=S.byteLength/2,j=0;j<T;j++)re=(re<<5)-re+S[j],re|=0;return re},_=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var j=!0;return S.length===0&&(j=!1),S.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(j=!1),j},L=t.__addimage__.extractImageFromDataUrl=function(S){var j=(S=S||"").split("base64,"),T=null;if(j.length===2){var re=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(re)&&(T={mimeType:re[1],charset:re[2],data:j[1]})}return T},V=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(S){return V()&&S instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(S){return V()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},F=t.__addimage__.binaryStringToUint8Array=function(S){for(var j=S.length,T=new Uint8Array(j),re=0;re<j;re++)T[re]=S.charCodeAt(re);return T},B=t.__addimage__.arrayBufferToBinaryString=function(S){for(var j="",T=$(S)?S:new Uint8Array(S),re=0;re<T.length;re+=8192)j+=String.fromCharCode.apply(null,T.subarray(re,re+8192));return j};t.addImage=function(){var S,j,T,re,xe,pe,ve,M,oe;if(typeof arguments[1]=="number"?(j=e,T=arguments[1],re=arguments[2],xe=arguments[3],pe=arguments[4],ve=arguments[5],M=arguments[6],oe=arguments[7]):(j=arguments[1],T=arguments[2],re=arguments[3],xe=arguments[4],pe=arguments[5],ve=arguments[6],M=arguments[7],oe=arguments[8]),Ar(S=arguments[0])==="object"&&!f(S)&&"imageData"in S){var X=S;S=X.imageData,j=X.format||j||e,T=X.x||T||0,re=X.y||re||0,xe=X.w||X.width||xe,pe=X.h||X.height||pe,ve=X.alias||ve,M=X.compression||M,oe=X.rotation||X.angle||oe}var de=this.internal.getFilters();if(M===void 0&&de.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(T)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var Q=k.call(this,S,j,ve,M);return E.call(this,T,re,xe,pe,Q,oe),this};var k=function(S,j,T,re){var xe,pe,ve;if(typeof S=="string"&&n(S)===e){S=unescape(S);var M=P(S,!1);(M!==""||(M=t.loadFile(S,!0))!==void 0)&&(S=M)}if(f(S)&&(S=p(S,j)),j=n(S,j),!h(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ve=T)==null||ve.length===0)&&(T=function(oe){return typeof oe=="string"||$(oe)?y(oe):$(oe.data)?y(oe.data):null}(S)),(xe=g.call(this,T))||(V()&&(S instanceof Uint8Array||j==="RGBA"||(pe=S,S=F(S))),xe=this["process"+j.toUpperCase()](S,c.call(this),T,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:w.NONE}(re),pe)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},P=t.__addimage__.convertBase64ToBinaryString=function(S,j){var T;j=typeof j!="boolean"||j;var re,xe="";if(typeof S=="string"){re=(T=L(S))!==null?T.data:S;try{xe=uh(re)}catch(pe){if(j)throw _(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return xe};t.getImageProperties=function(S){var j,T,re="";if(f(S)&&(S=p(S)),typeof S=="string"&&n(S)===e&&((re=P(S,!1))===""&&(re=t.loadFile(S)||""),S=re),T=n(S),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!V()||S instanceof Uint8Array||(S=F(S)),!(j=this["process"+T.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=T,j}})(bt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};bt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,A=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(E.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(w(y))+") >>",E.content=i;var _=E.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+A(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(E.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var V=this.annotations._nameMap[n.options.name];n.options.pageNumber=V.page,n.options.top=V.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var $=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+$+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,A){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:A,type:"link"})},t.textWithLink=function(r,n,s,i){var A,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;A=Math.ceil(c*h)}else o=l,A=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,o,A,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(bt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},o=t.__arabicParser__.isArabicEndLetter=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(E){return A(E)&&s.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(E){var N=0,w=r,y="",_=0;for(N=0;N<E.length;N+=1)w[E.charCodeAt(N)]!==void 0?(_++,typeof(w=w[E.charCodeAt(N)])=="number"&&(y+=String.fromCharCode(w),w=r,_=0),N===E.length-1&&(w=r,y+=E.charAt(N-(_-1)),N-=_-1,_=0)):(w=r,y+=E.charAt(N-_),N-=_,_=0);return y};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(E,N,w){return A(E)?i(E)===!1?-1:!c(E)||!A(N)&&!A(w)||!A(w)&&o(N)||o(E)&&!A(N)||o(E)&&l(N)||o(E)&&o(N)?0:h(E)&&A(N)&&!o(N)&&A(w)&&c(w)?3:o(E)||!A(w)?1:2:-1},g=function(E){var N=0,w=0,y=0,_="",L="",V="",$=(E=E||"").split("\\s+"),F=[];for(N=0;N<$.length;N+=1){for(F.push(""),w=0;w<$[N].length;w+=1)_=$[N][w],L=$[N][w-1],V=$[N][w+1],A(_)?(y=p(_,L,V),F[N]+=y!==-1?String.fromCharCode(e[_.charCodeAt(0)][y]):_):F[N]+=_;F[N]=f(F[N])}return F.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var E,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(N)){var y=0;for(w=[],y=0;y<N.length;y+=1)Array.isArray(N[y])?w.push([g(N[y][0]),N[y][1],N[y][2]]):w.push([g(N[y])]);E=w}else E=g(N);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",b])}(bt.API),bt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(o){A=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(bt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(E){b=E}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,g=0,b=0,E=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,L){return _.concat(N.splitTextToSize(L,w))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)g<(E=this.getStringUnitWidth(l[y],{font:f})*h)&&(g=E);return g!==0&&(b=l.length),{w:g/=p,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,f,p){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,b,E,N,w=[],y=[],_=[],L={},V={},$=[],F=[],B=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,P=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,S=p.margins||Object.assign({width:this.getPageWidth()},e),j=typeof p.padding=="number"?p.padding:3,T=p.headerBackgroundColor||"#c8c8c8",re=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=re,this.setFontSize(P),f==null)y=w=Object.keys(h[0]),_=w.map(function(){return"left"});else if(Array.isArray(f)&&Ar(f[0])==="object")for(w=f.map(function(X){return X.name}),y=f.map(function(X){return X.prompt||X.name||""}),_=f.map(function(X){return X.align||"left"}),g=0;g<f.length;g+=1)V[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=w=f,_=w.map(function(){return"left"}));if(B||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<w.length;g+=1){for(L[N=w[g]]=h.map(function(X){return X[N]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=L[N],this.setFont(void 0,"normal"),E=0;E<b.length;E+=1)$.push(this.getTextDimensions(b[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[N]=Math.max.apply(null,$)+j+j,$=[]}if(k){var xe={};for(g=0;g<w.length;g+=1)xe[w[g]]={},xe[w[g]].text=y[g],xe[w[g]].align=_[g];var pe=o.call(this,xe,V);F=w.map(function(X){return new i(l,c,V[X],pe,xe[X].text,void 0,xe[X].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ve=f.reduce(function(X,de){return X[de.name]=de.align,X},{});for(g=0;g<h.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:h[g]},this);var M=o.call(this,h[g],V);for(E=0;E<w.length;E+=1){var oe=h[g][w[E]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:E,data:oe},this),A.call(this,new i(l,c,V[w[E]],M,oe,g+2,ve[w[E]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(g){var b=l[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/p+h+h},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,h),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(bt.API);var $I={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Yy=qI(WI),YI=[100,200,300,400,500,600,700,800,900],Z9=qI(YI);function Xy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return $I[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Yy[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function gC(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var eV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tV(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},eV,r.genericFontFamilies||{}),i=null,A=null,o=0;o<e.length;++o)if(s[(i=Xy(e[o])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){A=t[i.family];break}if(!(A=A||t[n]))throw new Error("Could not find a font-family for the rule '"+yC(i)+"' and default family '"+n+"'.");if(A=function(l,c){if(c[l])return c[l];var h=Yy[l],f=h<=Yy.normal?-1:1,p=gC(c,WI,h,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,A),A=function(l,c){if(c[l])return c[l];for(var h=$I[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,A),!(A=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=Z9[l],f=gC(c,YI,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,A)))throw new Error("Failed to resolve a font for the rule '"+yC(i)+"'.");return A}function wC(t){return t.trimLeft()}function rV(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function nV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jm,xC,BC,$1=["times"];(function(t){var e,r,n,s,i,A,o,l,c,h=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new A,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new A,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,A=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=Q;Object.defineProperty(this,"pdf",{get:function(){return O}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(_e){Y=!!_e}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(_e){Z=!!_e}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(_e){isNaN(_e)||(J=_e)}});var ee=0;Object.defineProperty(this,"posY",{get:function(){return ee},set:function(_e){isNaN(_e)||(ee=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var ne;typeof _e=="number"?ne=[_e,_e,_e,_e]:((ne=new Array(4))[0]=_e[0],ne[1]=_e.length>=2?_e[1]:ne[0],ne[2]=_e.length>=3?_e[2]:ne[0],ne[3]=_e.length>=4?_e[3]:ne[1]),c.margin=ne}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(_e){Ae=_e}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(_e){le=_e}});var q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return q},set:function(_e){q=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof h&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return ae},set:function(_e){ae=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var ne;ne=p(_e),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var ne=p(_e);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var ge=null;function Ee(_e,ne){if(ge===null){var te=function(ue){var be=[];return Object.keys(ue).forEach(function(Qe){ue[Qe].forEach(function(Ge){var We=null;switch(Ge){case"bold":We={family:Qe,weight:"bold"};break;case"italic":We={family:Qe,style:"italic"};break;case"bolditalic":We={family:Qe,weight:"bold",style:"italic"};break;case"":case"normal":We={family:Qe}}We!==null&&(We.ref={name:Qe,style:Ge},be.push(We))})}),be}(_e.getFontList());ge=function(ue){for(var be={},Qe=0;Qe<ue.length;++Qe){var Ge=Xy(ue[Qe]),We=Ge.family,At=Ge.stretch,vt=Ge.style,Ct=Ge.weight;be[We]=be[We]||{},be[We][At]=be[We][At]||{},be[We][At][vt]=be[We][At][vt]||{},be[We][At][vt][Ct]=Ge}return be}(te.concat(ne))}return ge}var Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(_e){ge=null,Le=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var ne;if(this.ctx.font=_e,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var te=ne[1],ue=(ne[2],ne[3]),be=ne[4],Qe=(ne[5],ne[6]),Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(be)[2];be=Math.floor(Ge==="px"?parseFloat(be)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(be)*this.pdf.getFontSize():parseFloat(be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(be);var We=function(gt){var Fe,je,Je=[],ht=gt.trim();if(ht==="")return $1;if(ht in vC)return[vC[ht]];for(;ht!=="";){switch(je=null,Fe=(ht=wC(ht)).charAt(0)){case'"':case"'":je=rV(ht.substring(1),Fe);break;default:je=nV(ht)}if(je===null||(Je.push(je[0]),(ht=wC(je[1]))!==""&&ht.charAt(0)!==","))return $1;ht=ht.replace(/^,/,"")}return Je}(Qe);if(this.fontFaces){var At=tV(Ee(this.pdf,this.fontFaces),We.map(function(gt){return{family:gt,stretch:"normal",weight:ue,style:te}}));this.pdf.setFont(At.ref.name,At.ref.style)}else{var vt="";(ue==="bold"||parseInt(ue,10)>=700||te==="bold")&&(vt="bold"),te==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var Ct="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<We.length;yt++){if(this.pdf.internal.getFont(We[yt],vt,{noFallback:!0,disableWarning:!0})!==void 0){Ct=We[yt];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(We[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ct=We[yt],vt="bold";else if(this.pdf.internal.getFont(We[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ct=We[yt],vt="normal";break}}if(Ct===""){for(var Rt=0;Rt<We.length;Rt++)if(ft[We[Rt]]){Ct=ft[We[Rt]];break}}Ct=Ct===""?"Times":Ct,this.pdf.setFont(Ct,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(Q){this.lineDash=Q},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){L.call(this,"fill",!1)},f.prototype.stroke=function(){L.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(Q,O){if(isNaN(Q)||isNaN(O))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new A(Q,O));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new A(Q,O)},f.prototype.closePath=function(){var Q=new A(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&Ar(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){Q=new A(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(Q.x,Q.y)},f.prototype.lineTo=function(Q,O){if(isNaN(Q)||isNaN(O))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new A(Q,O));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new A(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},f.prototype.quadraticCurveTo=function(Q,O,Y,Z){if(isNaN(Y)||isNaN(Z)||isNaN(Q)||isNaN(O))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new A(Y,Z)),ee=this.ctx.transform.applyToPoint(new A(Q,O));this.path.push({type:"qct",x1:ee.x,y1:ee.y,x:J.x,y:J.y}),this.ctx.lastPoint=new A(J.x,J.y)},f.prototype.bezierCurveTo=function(Q,O,Y,Z,J,ee){if(isNaN(J)||isNaN(ee)||isNaN(Q)||isNaN(O)||isNaN(Y)||isNaN(Z))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new A(J,ee)),le=this.ctx.transform.applyToPoint(new A(Q,O)),q=this.ctx.transform.applyToPoint(new A(Y,Z));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:q.x,y2:q.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new A(Ae.x,Ae.y)},f.prototype.arc=function(Q,O,Y,Z,J,ee){if(isNaN(Q)||isNaN(O)||isNaN(Y)||isNaN(Z)||isNaN(J))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ee=!!ee,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new A(Q,O));Q=Ae.x,O=Ae.y;var le=this.ctx.transform.applyToPoint(new A(0,Y)),q=this.ctx.transform.applyToPoint(new A(0,0));Y=Math.sqrt(Math.pow(le.x-q.x,2)+Math.pow(le.y-q.y,2))}Math.abs(J-Z)>=2*Math.PI&&(Z=0,J=2*Math.PI),this.path.push({type:"arc",x:Q,y:O,radius:Y,startAngle:Z,endAngle:J,counterclockwise:ee})},f.prototype.arcTo=function(Q,O,Y,Z,J){throw new Error("arcTo not implemented.")},f.prototype.rect=function(Q,O,Y,Z){if(isNaN(Q)||isNaN(O)||isNaN(Y)||isNaN(Z))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,O),this.lineTo(Q+Y,O),this.lineTo(Q+Y,O+Z),this.lineTo(Q,O+Z),this.lineTo(Q,O),this.lineTo(Q+Y,O),this.lineTo(Q,O)},f.prototype.fillRect=function(Q,O,Y,Z){if(isNaN(Q)||isNaN(O)||isNaN(Y)||isNaN(Z))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,O,Y,Z),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},f.prototype.strokeRect=function(Q,O,Y,Z){if(isNaN(Q)||isNaN(O)||isNaN(Y)||isNaN(Z))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(Q,O,Y,Z),this.stroke())},f.prototype.clearRect=function(Q,O,Y,Z){if(isNaN(Q)||isNaN(O)||isNaN(Y)||isNaN(Z))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,O,Y,Z))},f.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(O),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(Q){var O,Y,Z,J;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))O=0,Y=0,Z=0,J=0;else{var ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(ee!==null)O=parseInt(ee[1]),Y=parseInt(ee[2]),Z=parseInt(ee[3]),J=1;else if((ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)O=parseInt(ee[1]),Y=parseInt(ee[2]),Z=parseInt(ee[3]),J=parseFloat(ee[4]);else{if(J=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var Ae=new HI(Q);Q=Ae.ok?Ae.toHex():"#000000"}Q.length===4?(O=Q.substring(1,2),O+=O,Y=Q.substring(2,3),Y+=Y,Z=Q.substring(3,4),Z+=Z):(O=Q.substring(1,3),Y=Q.substring(3,5),Z=Q.substring(5,7)),O=parseInt(O,16),Y=parseInt(Y,16),Z=parseInt(Z,16)}}return{r:O,g:Y,b:Z,a:J,style:Q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(Q,O,Y,Z){if(isNaN(O)||isNaN(Y)||typeof Q!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!g.call(this)){var J=M(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;j.call(this,{text:Q,x:O,y:Y,scale:ee,angle:J,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(Q,O,Y,Z){if(isNaN(O)||isNaN(Y)||typeof Q!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Z=isNaN(Z)?void 0:Z;var J=M(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;j.call(this,{text:Q,x:O,y:Y,scale:ee,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(Q){if(typeof Q!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,Y=this.pdf.internal.scaleFactor,Z=O.internal.getFontSize(),J=O.getStringUnitWidth(Q)*Z/O.internal.scaleFactor,ee=function(Ae){var le=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new ee({width:J*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(Q,O){if(isNaN(Q)||isNaN(O))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(Q,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(Q){if(isNaN(Q))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.translate=function(Q,O){if(isNaN(Q)||isNaN(O))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,Q,O);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(Q,O,Y,Z,J,ee){if(isNaN(Q)||isNaN(O)||isNaN(Y)||isNaN(Z)||isNaN(J)||isNaN(ee))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new l(Q,O,Y,Z,J,ee);this.ctx.transform=this.ctx.transform.multiply(Ae)},f.prototype.setTransform=function(Q,O,Y,Z,J,ee){Q=isNaN(Q)?1:Q,O=isNaN(O)?0:O,Y=isNaN(Y)?0:Y,Z=isNaN(Z)?1:Z,J=isNaN(J)?0:J,ee=isNaN(ee)?0:ee,this.ctx.transform=new l(Q,O,Y,Z,J,ee)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(Q,O,Y,Z,J,ee,Ae,le,q){var ae=this.pdf.getImageProperties(Q),ge=1,Ee=1,Le=1,_e=1;Z!==void 0&&le!==void 0&&(Le=le/Z,_e=q/J,ge=ae.width/Z*le/Z,Ee=ae.height/J*q/J),ee===void 0&&(ee=O,Ae=Y,O=0,Y=0),Z!==void 0&&le===void 0&&(le=Z,q=J),Z===void 0&&le===void 0&&(le=ae.width,q=ae.height);for(var ne,te=this.ctx.transform.decompose(),ue=M(te.rotate.shx),be=new l,Qe=(be=(be=(be=be.multiply(te.translate)).multiply(te.skew)).multiply(te.scale)).applyToRectangle(new o(ee-O*Le,Ae-Y*_e,Z*ge,J*Ee)),Ge=N.call(this,Qe),We=[],At=0;At<Ge.length;At+=1)We.indexOf(Ge[At])===-1&&We.push(Ge[At]);if(_(We),this.autoPaging)for(var vt=We[0],Ct=We[We.length-1],ft=vt;ft<Ct+1;ft++){this.pdf.setPage(ft);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=ft===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=ft===1?0:gt+(ft-2)*Fe;if(this.ctx.clip_path.length!==0){var Je=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ne,this.posX+this.margin[3],-je+Rt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=Je}var ht=JSON.parse(JSON.stringify(Qe));ht=y([ht],this.posX+this.margin[3],-je+Rt+this.ctx.prevPageLastElemOffset)[0];var Mr=(ft>vt||ft<Ct)&&E.call(this);Mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Fe,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,ue),Mr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,ue)};var N=function(Q,O,Y){var Z=[];O=O||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":Z.push(Math.floor((Q.y+J)/Y)+1);break;case"arc":Z.push(Math.floor((Q.y+J-Q.radius)/Y)+1),Z.push(Math.floor((Q.y+J+Q.radius)/Y)+1);break;case"qct":var ee=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);Z.push(Math.floor((ee.y+J)/Y)+1),Z.push(Math.floor((ee.y+ee.h+J)/Y)+1);break;case"bct":var Ae=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);Z.push(Math.floor((Ae.y+J)/Y)+1),Z.push(Math.floor((Ae.y+Ae.h+J)/Y)+1);break;case"rect":Z.push(Math.floor((Q.y+J)/Y)+1),Z.push(Math.floor((Q.y+Q.h+J)/Y)+1)}for(var le=0;le<Z.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<Z[le];)w.call(this);return Z},w=function(){var Q=this.fillStyle,O=this.strokeStyle,Y=this.font,Z=this.lineCap,J=this.lineWidth,ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=O,this.font=Y,this.lineCap=Z,this.lineWidth=J,this.lineJoin=ee},y=function(Q,O,Y){for(var Z=0;Z<Q.length;Z++)switch(Q[Z].type){case"bct":Q[Z].x2+=O,Q[Z].y2+=Y;case"qct":Q[Z].x1+=O,Q[Z].y1+=Y;case"mt":case"lt":case"arc":default:Q[Z].x+=O,Q[Z].y+=Y}return Q},_=function(Q){return Q.sort(function(O,Y){return O-Y})},L=function(Q,O){for(var Y,Z,J=this.fillStyle,ee=this.strokeStyle,Ae=this.lineCap,le=this.lineWidth,q=Math.abs(le*this.ctx.transform.scaleX),ae=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Le=[],_e=0;_e<Ee.length;_e++)if(Ee[_e].x!==void 0)for(var ne=N.call(this,Ee[_e]),te=0;te<ne.length;te+=1)Le.indexOf(ne[te])===-1&&Le.push(ne[te]);for(var ue=0;ue<Le.length;ue++)for(;this.pdf.internal.getNumberOfPages()<Le[ue];)w.call(this);if(_(Le),this.autoPaging)for(var be=Le[0],Qe=Le[Le.length-1],Ge=be;Ge<Qe+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=J,this.strokeStyle=ee,this.lineCap=Ae,this.lineWidth=q,this.lineJoin=ae;var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Ge===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Ge===1?0:vt+(Ge-2)*Ct;if(this.ctx.clip_path.length!==0){var yt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Y,this.posX+this.margin[3],-ft+At+this.ctx.prevPageLastElemOffset),V.call(this,Q,!0),this.path=yt}if(Z=JSON.parse(JSON.stringify(ge)),this.path=y(Z,this.posX+this.margin[3],-ft+At+this.ctx.prevPageLastElemOffset),O===!1||Ge===0){var Rt=(Ge>be||Ge<Qe)&&E.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Ct,null).clip().discardPath()),V.call(this,Q,O),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=q,V.call(this,Q,O),this.lineWidth=le;this.path=ge},V=function(Q,O){if((Q!=="stroke"||O||!b.call(this))&&(Q==="stroke"||O||!g.call(this))){for(var Y,Z,J=[],ee=this.path,Ae=0;Ae<ee.length;Ae++){var le=ee[Ae];switch(le.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:le,deltas:[],abs:[]});break;case"lt":var q=J.length;if(ee[Ae-1]&&!isNaN(ee[Ae-1].x)&&(Y=[le.x-ee[Ae-1].x,le.y-ee[Ae-1].y],q>0)){for(;q>=0;q--)if(J[q-1].close!==!0&&J[q-1].begin!==!0){J[q-1].deltas.push(Y),J[q-1].abs.push(le);break}}break;case"bct":Y=[le.x1-ee[Ae-1].x,le.y1-ee[Ae-1].y,le.x2-ee[Ae-1].x,le.y2-ee[Ae-1].y,le.x-ee[Ae-1].x,le.y-ee[Ae-1].y],J[J.length-1].deltas.push(Y);break;case"qct":var ae=ee[Ae-1].x+2/3*(le.x1-ee[Ae-1].x),ge=ee[Ae-1].y+2/3*(le.y1-ee[Ae-1].y),Ee=le.x+2/3*(le.x1-le.x),Le=le.y+2/3*(le.y1-le.y),_e=le.x,ne=le.y;Y=[ae-ee[Ae-1].x,ge-ee[Ae-1].y,Ee-ee[Ae-1].x,Le-ee[Ae-1].y,_e-ee[Ae-1].x,ne-ee[Ae-1].y],J[J.length-1].deltas.push(Y);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(le)}}Z=O?null:Q==="stroke"?"stroke":"fill";for(var te=!1,ue=0;ue<J.length;ue++)if(J[ue].arc)for(var be=J[ue].abs,Qe=0;Qe<be.length;Qe++){var Ge=be[Qe];Ge.type==="arc"?B.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,O,!te):T.call(this,Ge.x,Ge.y),te=!0}else if(J[ue].close===!0)this.pdf.internal.out("h"),te=!1;else if(J[ue].begin!==!0){var We=J[ue].start.x,At=J[ue].start.y;re.call(this,J[ue].deltas,We,At),te=!0}Z&&k.call(this,Z),O&&P.call(this)}},$=function(Q){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-Y;case"top":return Q+O-Y;case"hanging":return Q+O-2*Y;case"middle":return Q+O/2-Y;case"ideographic":return Q;case"alphabetic":default:return Q}},F=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(O,Y){this.colorStops.push([O,Y])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(Q,O,Y,Z,J,ee,Ae,le,q){for(var ae=pe.call(this,Y,Z,J,ee),ge=0;ge<ae.length;ge++){var Ee=ae[ge];ge===0&&(q?S.call(this,Ee.x1+Q,Ee.y1+O):T.call(this,Ee.x1+Q,Ee.y1+O)),xe.call(this,Q,O,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}le?P.call(this):k.call(this,Ae)},k=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(Q,O){this.pdf.internal.out(r(Q)+" "+n(O)+" m")},j=function(Q){var O;switch(Q.align){case"right":case"end":O="right";break;case"center":O="center";break;case"left":case"start":default:O="left"}var Y=this.pdf.getTextDimensions(Q.text),Z=$.call(this,Q.y),J=F.call(this,Z)-Y.h,ee=this.ctx.transform.applyToPoint(new A(Q.x,Z)),Ae=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var q,ae,ge,Ee=this.ctx.transform.applyToRectangle(new o(Q.x,Z,Y.w,Y.h)),Le=le.applyToRectangle(new o(Q.x,J,Y.w,Y.h)),_e=N.call(this,Le),ne=[],te=0;te<_e.length;te+=1)ne.indexOf(_e[te])===-1&&ne.push(_e[te]);if(_(ne),this.autoPaging)for(var ue=ne[0],be=ne[ne.length-1],Qe=ue;Qe<be+1;Qe++){this.pdf.setPage(Qe);var Ge=Qe===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],vt=At-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],ft=Ct-this.margin[3],yt=Qe===1?0:We+(Qe-2)*vt;if(this.ctx.clip_path.length!==0){var Rt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(q,this.posX+this.margin[3],-1*yt+Ge),V.call(this,"fill",!0),this.path=Rt}var gt=y([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-yt+Ge+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*Q.scale),ge=this.lineWidth,this.lineWidth=ge*Q.scale);var Fe=this.autoPaging!=="text";if(Fe||gt.y+gt.h<=At){if(Fe||gt.y>=Ge&&gt.x<=Ct){var je=Fe?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Ct-gt.x)[0],Je=y([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-yt+Ge+this.ctx.prevPageLastElemOffset)[0],ht=Fe&&(Qe>ue||Qe<be)&&E.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,vt,null).clip().discardPath()),this.pdf.text(je,Je.x,Je.y,{angle:Q.angle,align:O,renderingMode:Q.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else gt.y<At&&(this.ctx.prevPageLastElemOffset+=At-gt.y);Q.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ge)}else Q.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*Q.scale),ge=this.lineWidth,this.lineWidth=ge*Q.scale),this.pdf.text(Q.text,ee.x+this.posX,ee.y+this.posY,{angle:Q.angle,align:O,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ge)},T=function(Q,O,Y,Z){Y=Y||0,Z=Z||0,this.pdf.internal.out(r(Q+Y)+" "+n(O+Z)+" l")},re=function(Q,O,Y){return this.pdf.lines(Q,O,Y,null,null)},xe=function(Q,O,Y,Z,J,ee,Ae,le){this.pdf.internal.out([e(s(Y+Q)),e(i(Z+O)),e(s(J+Q)),e(i(ee+O)),e(s(Ae+Q)),e(i(le+O)),"c"].join(" "))},pe=function(Q,O,Y,Z){for(var J=2*Math.PI,ee=Math.PI/2;O>Y;)O-=J;var Ae=Math.abs(Y-O);Ae<J&&Z&&(Ae=J-Ae);for(var le=[],q=Z?-1:1,ae=O;Ae>1e-5;){var ge=ae+q*Math.min(Ae,ee);le.push(ve.call(this,Q,ae,ge)),Ae-=Math.abs(ge-ae),ae=ge}return le},ve=function(Q,O,Y){var Z=(Y-O)/2,J=Q*Math.cos(Z),ee=Q*Math.sin(Z),Ae=J,le=-ee,q=Ae*Ae+le*le,ae=q+Ae*J+le*ee,ge=4/3*(Math.sqrt(2*q*ae)-ae)/(Ae*ee-le*J),Ee=Ae-ge*le,Le=le+ge*Ae,_e=Ee,ne=-Le,te=Z+O,ue=Math.cos(te),be=Math.sin(te);return{x1:Q*Math.cos(O),y1:Q*Math.sin(O),x2:Ee*ue-Le*be,y2:Ee*be+Le*ue,x3:_e*ue-ne*be,y3:_e*be+ne*ue,x4:Q*Math.cos(Y),y4:Q*Math.sin(Y)}},M=function(Q){return 180*Q/Math.PI},oe=function(Q,O,Y,Z,J,ee){var Ae=Q+.5*(Y-Q),le=O+.5*(Z-O),q=J+.5*(Y-J),ae=ee+.5*(Z-ee),ge=Math.min(Q,J,Ae,q),Ee=Math.max(Q,J,Ae,q),Le=Math.min(O,ee,le,ae),_e=Math.max(O,ee,le,ae);return new o(ge,Le,Ee-ge,_e-Le)},X=function(Q,O,Y,Z,J,ee,Ae,le){var q,ae,ge,Ee,Le,_e,ne,te,ue,be,Qe,Ge,We,At,vt=Y-Q,Ct=Z-O,ft=J-Y,yt=ee-Z,Rt=Ae-J,gt=le-ee;for(ae=0;ae<41;ae++)ue=(ne=(ge=Q+(q=ae/40)*vt)+q*((Le=Y+q*ft)-ge))+q*(Le+q*(J+q*Rt-Le)-ne),be=(te=(Ee=O+q*Ct)+q*((_e=Z+q*yt)-Ee))+q*(_e+q*(ee+q*gt-_e)-te),ae==0?(Qe=ue,Ge=be,We=ue,At=be):(Qe=Math.min(Qe,ue),Ge=Math.min(Ge,be),We=Math.max(We,ue),At=Math.max(At,be));return new o(Math.round(Qe),Math.round(Ge),Math.round(We-Qe),Math.round(At-Ge))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,O,Y=(Q=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:O}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(bt.API),function(t){var e=function(i){var A,o,l,c,h,f,p,g,b,E;for(o=[],l=0,c=(i+=A="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(h=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(E=h%85))/85)-(b=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)%85,o.push(f+33,p+33,g+33,b+33,E+33)):o.push(122);return function(N,w){for(var y=w;y>0;y--)N.pop()}(o,A.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var A,o,l,c,h,f=String,p="length",g=255,b="charCodeAt",E="slice",N="replace";for(i[E](-2),i=i[E](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),l=[],c=0,h=(i+=A="uuuuu"[E](i[p]%5||5))[p];h>c;c+=5)o=52200625*(i[b](c)-33)+614125*(i[b](c+1)-33)+7225*(i[b](c+2)-33)+85*(i[b](c+3)-33)+(i[b](c+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(w,y){for(var _=y;_>0;_--)w.pop()}(l,A[p]),f.fromCharCode.apply(f,l)},n=function(i){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),A.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},s=function(i){for(var A=new Uint8Array(i.length),o=i.length;o--;)A[o]=i.charCodeAt(o);return i=(A=zy(A)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,A){var o=0,l=i||"",c=[];for(typeof(A=A||[])=="string"&&(A=[A]),o=0;o<A.length;o+=1)switch(A[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(bt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,A){i=i!==!1,A=typeof A=="function"?A:function(){};var o=void 0;try{o=function(l,c,h){var f=new XMLHttpRequest,p=0,g=function(b){var E=b.length,N=[],w=String.fromCharCode;for(p=0;p<E;p+=1)N.push(w(255&b.charCodeAt(p)));return N.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return g(f.responseText)}(s,i,A)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(bt.API),function(t){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):Oy(()=>Promise.resolve().then(()=>x9),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):Oy(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var o=Ar(A);return o==="undefined"?"undefined":o==="string"||A instanceof String?"string":o==="number"||A instanceof Number?"number":o==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(A,o){var l=document.createElement(A);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function A(o){var l=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),c=A.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,A,1,[A])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(A,o){return A.__proto__=o||i.prototype,A},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(A,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:A,dompurify:l})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},i.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var g=c[p],b=g.src.find(function(E){return E.format==="truetype"});b&&l.addFont(b.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(A,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(A,o):this.outputPdf(A,o)},i.prototype.outputPdf=function(A,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,o)})},i.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},i.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(A){if(n(A)!=="object")return this;var o=Object.keys(A||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=A[l]};switch(l){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[l]=A[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(A,o){return this.then(function(){var l=A in i.template.prop?this.prop[A]:this.opt[A];return o?o(l):l})},i.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},i.prototype.setPageSize=function(A){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(A=A||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:o(A.inner.width,A.k),height:o(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},i.prototype.setProgress=function(A,o,l,c){return A!=null&&(this.progress.val=A),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(A,o,l,c){return this.setProgress(A?this.progress.val+A:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(A,o){var l=this;return this.thenCore(A,o,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(A,o,l){l=l||Promise.prototype.then,A&&(A=A.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=l.call(c,A,o);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(A,o){return Promise.prototype.then.call(this,A,o)},i.prototype.thenList=function(A){var o=this;return A.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(A){A&&(A=A.bind(this));var o=Promise.prototype.catch.call(this,A);return i.convert(o,this)},i.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},i.prototype.error=function(A){return this.then(function(){throw new Error(A)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,bt.getPageSize=function(A,o,l){if(Ar(A)==="object"){var c=A;A=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",A=(""+(A||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var g,b=0,E=0;if(p.hasOwnProperty(f))b=p[f][1]/h,E=p[f][0]/h;else try{b=l[1],E=l[0]}catch{throw new Error("Invalid format: "+l)}if(A==="p"||A==="portrait")A="p",E>b&&(g=E,E=b,b=g);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",b>E&&(g=E,E=b,b=g)}return{width:E,height:b,unit:o,k:h,orientation:A}},t.html=function(A,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Xy):null;var l=new i(o);return o.worker?l:l.from(A).doCallback()}}(bt.API),bt.API.addJS=function(t){return BC=t,this.internal.events.subscribe("postPutResources",function(){jm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+BC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jm!==void 0&&xC!==void 0&&this.internal.out("/Names <</JavaScript "+jm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var A=s[i],o=n.exec(A);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(i=0;i<c;i++){var f=r.internal.newObject();h.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var A={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var A=n.children[i];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var o=this.count=this.count_r({count:0},A);if(o>0&&this.line("/Count "+o),A.options&&A.options.pageNumber){var l=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(bt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,A,o){var l,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,g=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,E={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=g,e.indexOf(f.charCodeAt(N+1))!==-1){p=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),E={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:p,numcomponents:f.charCodeAt(N+9)};break}g=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return E}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:s}}return h}}(bt.API);var Uc,Lm,bC,CC,EC,sV=function(){var t,e,r;function n(i){var A,o,l,c,h,f,p,g,b,E,N,w,y,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(A=this.readUInt32(),b=(function(){var L,V;for(V=[],L=0;L<4;++L)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,A-=4),i=(f!=null?f.data:void 0)||this.imgData,w=0;0<=A?w<A:w>A;0<=A?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((E=l-this.transparency.indexed.length)>0)for(y=0;0<=E?y<E:y>E;0<=E?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":p=(N=this.read(A)).indexOf(0),g=String.fromCharCode.apply(String,N.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,N.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var A,o;for(o=[],A=0;0<=i?A<i:A>i;0<=i?++A:--A)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var A=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*A),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(f,p,g,b){var E,N,w,y,_,L,V,$,F,B,k,P,S,j,T,re,xe,pe,ve,M,oe,X=Math.ceil((c.width-f)/g),de=Math.ceil((c.height-p)/b),Q=c.width==X&&c.height==de;for(j=A*X,P=Q?o:new Uint8Array(j*de),L=i.length,S=0,N=0;S<de&&l<L;){switch(i[l++]){case 0:for(y=xe=0;xe<j;y=xe+=1)P[N++]=i[l++];break;case 1:for(y=pe=0;pe<j;y=pe+=1)E=i[l++],_=y<A?0:P[N-A],P[N++]=(E+_)%256;break;case 2:for(y=ve=0;ve<j;y=ve+=1)E=i[l++],w=(y-y%A)/A,T=S&&P[(S-1)*j+w*A+y%A],P[N++]=(T+E)%256;break;case 3:for(y=M=0;M<j;y=M+=1)E=i[l++],w=(y-y%A)/A,_=y<A?0:P[N-A],T=S&&P[(S-1)*j+w*A+y%A],P[N++]=(E+Math.floor((_+T)/2))%256;break;case 4:for(y=oe=0;oe<j;y=oe+=1)E=i[l++],w=(y-y%A)/A,_=y<A?0:P[N-A],S===0?T=re=0:(T=P[(S-1)*j+w*A+y%A],re=w&&P[(S-1)*j+(w-1)*A+y%A]),V=_+T-re,$=Math.abs(V-_),B=Math.abs(V-T),k=Math.abs(V-re),F=$<=B&&$<=k?_:B<=k?T:re,P[N++]=(E+F)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!Q){var O=((p+S*b)*c.width+f)*A,Y=S*j;for(y=0;y<X;y+=1){for(var Z=0;Z<A;Z+=1)o[O++]=P[Y++];O+=(g-1)*A}}S++}}return i=L9(i),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var i,A,o,l,c,h,f,p,g;for(o=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+o.length),l=0,i=0,A=f=0,p=o.length;f<p;A=f+=3)c[l++]=o[A],c[l++]=o[A+1],c[l++]=o[A+2],c[l++]=(g=h[i++])!=null?g:255;return c},n.prototype.copyToImageData=function(i,A){var o,l,c,h,f,p,g,b,E,N,w;if(l=this.colors,E=null,o=this.hasAlphaChannel,this.palette.length&&(E=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,o=!0),b=(c=i.data||i).length,f=E||A,h=p=0,l===1)for(;h<b;)g=E?4*A[h/4]:p,N=f[g++],c[h++]=N,c[h++]=N,c[h++]=N,c[h++]=o?f[g++]:255,p=g;else for(;h<b;)g=E?4*A[h/4]:p,c[h++]=f[g++],c[h++]=f[g++],c[h++]=f[g++],c[h++]=o?f[g++]:255,p=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Et)==="[object Window]"){try{e=Et.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var A;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(A=new Image).src=e.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var A,o,l,c,h,f,p,g;if(this.animation){for(g=[],o=h=0,f=(p=this.animation.frames).length;h<f;o=++h)A=p[o],l=i.createImageData(A.width,A.height),c=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(l,c),A.imageData=l,g.push(A.image=t(l));return g}},n.prototype.renderFrame=function(i,A){var o,l,c;return o=(l=this.animation.frames)[A],c=l[A-1],A===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var A,o,l,c,h,f,p=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(A=function(){var g,b;if(g=o++%c,b=l[g],p.renderFrame(i,g),c>1&&o/c<h)return p.animation._timeout=setTimeout(A,b.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var A,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,A=i.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(o=A.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),A.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function iV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,A=1<<(7&s)+1;t[e++],t[e++];var o=null,l=null;i&&(o=e,l=A,e+=3*A);var c=!0,h=[],f=0,p=null,g=0,b=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],!(1&E)&&(p=null),g=E>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,L=t[e++],V=L>>6&1,$=1<<(7&L)+1,F=o,B=l,k=!1;L>>7&&(k=!0,F=e,B=$,e+=3*$);var P=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}h.push({x:N,y:w,width:y,height:_,has_local_palette:k,palette_offset:F,palette_size:B,data_offset:P,data_length:e-P,transparent_index:p,interlaced:!!V,delay:f,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(j){if(j<0||j>=h.length)throw new Error("Frame index out of range.");return h[j]},this.decodeAndBlitFrameBGRA=function(j,T){var re=this.frameInfo(j),xe=re.width*re.height,pe=new Uint8Array(xe);_C(t,re.data_offset,pe,xe);var ve=re.palette_offset,M=re.transparent_index;M===null&&(M=256);var oe=re.width,X=r-oe,de=oe,Q=4*(re.y*r+re.x),O=4*((re.y+re.height)*r+re.x),Y=Q,Z=4*X;re.interlaced===!0&&(Z+=4*r*7);for(var J=8,ee=0,Ae=pe.length;ee<Ae;++ee){var le=pe[ee];if(de===0&&(de=oe,(Y+=Z)>=O&&(Z=4*X+4*r*(J-1),Y=Q+(oe+X)*(J<<1),J>>=1)),le===M)Y+=4;else{var q=t[ve+3*le],ae=t[ve+3*le+1],ge=t[ve+3*le+2];T[Y++]=ge,T[Y++]=ae,T[Y++]=q,T[Y++]=255}--de}},this.decodeAndBlitFrameRGBA=function(j,T){var re=this.frameInfo(j),xe=re.width*re.height,pe=new Uint8Array(xe);_C(t,re.data_offset,pe,xe);var ve=re.palette_offset,M=re.transparent_index;M===null&&(M=256);var oe=re.width,X=r-oe,de=oe,Q=4*(re.y*r+re.x),O=4*((re.y+re.height)*r+re.x),Y=Q,Z=4*X;re.interlaced===!0&&(Z+=4*r*7);for(var J=8,ee=0,Ae=pe.length;ee<Ae;++ee){var le=pe[ee];if(de===0&&(de=oe,(Y+=Z)>=O&&(Z=4*X+4*r*(J-1),Y=Q+(oe+X)*(J<<1),J>>=1)),le===M)Y+=4;else{var q=t[ve+3*le],ae=t[ve+3*le+1],ge=t[ve+3*le+2];T[Y++]=q,T[Y++]=ae,T[Y++]=ge,T[Y++]=255}--de}}}function _C(t,e,r,n){for(var s=t[e++],i=1<<s,A=i+1,o=A+1,l=s+1,c=(1<<l)-1,h=0,f=0,p=0,g=t[e++],b=new Int32Array(4096),E=null;;){for(;h<16&&g!==0;)f|=t[e++]<<h,h+=8,g===1?g=t[e++]:--g;if(h<l)break;var N=f&c;if(f>>=l,h-=l,N!==i){if(N===A)break;for(var w=N<o?N:E,y=0,_=w;_>i;)_=b[_]>>8,++y;var L=_;if(p+y+(w!==N?1:0)>n)return void fr.log("Warning, gif stream longer than expected.");r[p++]=L;var V=p+=y;for(w!==N&&(r[p++]=L),_=w;y--;)_=b[_],r[--V]=255&_,_>>=8;E!==null&&o<4096&&(b[o++]=E<<8|L,o>=c+1&&l<12&&(++l,c=c<<1|1)),E=N}else o=A+1,c=(1<<(l=s+1))-1,E=null}return p!==n&&fr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function W1(t){var e,r,n,s,i,A=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),g=new Array(64),b=new Array(64),E=[],N=0,w=7,y=new Array(64),_=new Array(64),L=new Array(64),V=new Array(256),$=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(Q,O){for(var Y=0,Z=0,J=new Array,ee=1;ee<=16;ee++){for(var Ae=1;Ae<=Q[ee];Ae++)J[O[Z]]=[],J[O[Z]][0]=Y,J[O[Z]][1]=ee,Z++,Y++;Y*=2}return J}function ve(Q){for(var O=Q[0],Y=Q[1]-1;Y>=0;)O&1<<Y&&(N|=1<<w),Y--,--w<0&&(N==255?(M(255),M(0)):M(N),w=7,N=0)}function M(Q){E.push(Q)}function oe(Q){M(Q>>8&255),M(255&Q)}function X(Q,O,Y,Z,J){for(var ee,Ae=J[0],le=J[240],q=function(be,Qe){var Ge,We,At,vt,Ct,ft,yt,Rt,gt,Fe,je=0;for(gt=0;gt<8;++gt){Ge=be[je],We=be[je+1],At=be[je+2],vt=be[je+3],Ct=be[je+4],ft=be[je+5],yt=be[je+6];var Je=Ge+(Rt=be[je+7]),ht=Ge-Rt,Mr=We+yt,Dt=We-yt,zt=At+ft,Ue=At-ft,$e=vt+Ct,st=vt-Ct,et=Je+$e,rt=Je-$e,mt=Mr+zt,pt=Mr-zt;be[je]=et+mt,be[je+4]=et-mt;var at=.707106781*(pt+rt);be[je+2]=rt+at,be[je+6]=rt-at;var Bt=.382683433*((et=st+Ue)-(pt=Dt+ht)),mr=.5411961*et+Bt,lr=1.306562965*pt+Bt,Ir=.707106781*(mt=Ue+Dt),mn=ht+Ir,ot=ht-Ir;be[je+5]=ot+mr,be[je+3]=ot-mr,be[je+1]=mn+lr,be[je+7]=mn-lr,je+=8}for(je=0,gt=0;gt<8;++gt){Ge=be[je],We=be[je+8],At=be[je+16],vt=be[je+24],Ct=be[je+32],ft=be[je+40],yt=be[je+48];var ms=Ge+(Rt=be[je+56]),Pn=Ge-Rt,tn=We+yt,Vr=We-yt,jr=At+ft,rn=At-ft,pa=vt+Ct,pi=vt-Ct,Dn=ms+pa,ps=ms-pa,ss=tn+jr,is=tn-jr;be[je]=Dn+ss,be[je+32]=Dn-ss;var Kr=.707106781*(is+ps);be[je+16]=ps+Kr,be[je+48]=ps-Kr;var ks=.382683433*((Dn=pi+rn)-(is=Vr+Pn)),Gi=.5411961*Dn+ks,qi=1.306562965*is+ks,$i=.707106781*(ss=rn+Vr),EA=Pn+$i,_A=Pn-$i;be[je+40]=_A+Gi,be[je+24]=_A-Gi,be[je+8]=EA+qi,be[je+56]=EA-qi,je++}for(gt=0;gt<64;++gt)Fe=be[gt]*Qe[gt],g[gt]=Fe>0?Fe+.5|0:Fe-.5|0;return g}(Q,O),ae=0;ae<64;++ae)b[F[ae]]=q[ae];var ge=b[0]-Y;Y=b[0],ge==0?ve(Z[0]):(ve(Z[p[ee=32767+ge]]),ve(f[ee]));for(var Ee=63;Ee>0&&b[Ee]==0;)Ee--;if(Ee==0)return ve(Ae),Y;for(var Le,_e=1;_e<=Ee;){for(var ne=_e;b[_e]==0&&_e<=Ee;)++_e;var te=_e-ne;if(te>=16){Le=te>>4;for(var ue=1;ue<=Le;++ue)ve(le);te&=15}ee=32767+b[_e],ve(J[(te<<4)+p[ee]]),ve(f[ee]),_e++}return Ee!=63&&ve(Ae),Y}function de(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&(function(O){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var J=A((Y[Z]*O+50)/100);J=Math.min(Math.max(J,1),255),o[F[Z]]=J}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var le=A((ee[Ae]*O+50)/100);le=Math.min(Math.max(le,1),255),l[F[Ae]]=le}for(var q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ae=0,ge=0;ge<8;ge++)for(var Ee=0;Ee<8;Ee++)c[ae]=1/(o[F[ae]]*q[ge]*q[Ee]*8),h[ae]=1/(l[F[ae]]*q[ge]*q[Ee]*8),ae++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,O){O&&de(O),E=new Array,N=0,w=7,oe(65496),oe(65504),oe(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),oe(1),oe(1),M(0),M(0),function(){oe(65499),oe(132),M(0);for(var We=0;We<64;We++)M(o[We]);M(1);for(var At=0;At<64;At++)M(l[At])}(),function(We,At){oe(65472),oe(17),M(8),oe(At),oe(We),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(Q.width,Q.height),function(){oe(65476),oe(418),M(0);for(var We=0;We<16;We++)M(B[We+1]);for(var At=0;At<=11;At++)M(k[At]);M(16);for(var vt=0;vt<16;vt++)M(P[vt+1]);for(var Ct=0;Ct<=161;Ct++)M(S[Ct]);M(1);for(var ft=0;ft<16;ft++)M(j[ft+1]);for(var yt=0;yt<=11;yt++)M(T[yt]);M(17);for(var Rt=0;Rt<16;Rt++)M(re[Rt+1]);for(var gt=0;gt<=161;gt++)M(xe[gt])}(),oe(65498),oe(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var Y=0,Z=0,J=0;N=0,w=7,this.encode.displayName="_encode_";for(var ee,Ae,le,q,ae,ge,Ee,Le,_e,ne=Q.data,te=Q.width,ue=Q.height,be=4*te,Qe=0;Qe<ue;){for(ee=0;ee<be;){for(ae=be*Qe+ee,Ee=-1,Le=0,_e=0;_e<64;_e++)ge=ae+(Le=_e>>3)*be+(Ee=4*(7&_e)),Qe+Le>=ue&&(ge-=be*(Qe+1+Le-ue)),ee+Ee>=be&&(ge-=ee+Ee-be+4),Ae=ne[ge++],le=ne[ge++],q=ne[ge++],y[_e]=($[Ae]+$[le+256>>0]+$[q+512>>0]>>16)-128,_[_e]=($[Ae+768>>0]+$[le+1024>>0]+$[q+1280>>0]>>16)-128,L[_e]=($[Ae+1280>>0]+$[le+1536>>0]+$[q+1792>>0]>>16)-128;Y=X(y,c,Y,e,n),Z=X(_,h,Z,r,s),J=X(L,h,J,r,s),ee+=32}Qe+=8}if(w>=0){var Ge=[];Ge[1]=w+1,Ge[0]=(1<<w+1)-1,ve(Ge)}return oe(65497),new Uint8Array(E)},t=t||50,function(){for(var Q=String.fromCharCode,O=0;O<256;O++)V[O]=Q(O)}(),e=pe(B,k),r=pe(j,T),n=pe(P,S),s=pe(re,xe),function(){for(var Q=1,O=2,Y=1;Y<=15;Y++){for(var Z=Q;Z<O;Z++)p[32767+Z]=Y,f[32767+Z]=[],f[32767+Z][1]=Y,f[32767+Z][0]=Z;for(var J=-(O-1);J<=-Q;J++)p[32767+J]=Y,f[32767+J]=[],f[32767+J][1]=Y,f[32767+J][0]=O-1+J;Q<<=1,O<<=1}}(),function(){for(var Q=0;Q<256;Q++)$[Q]=19595*Q,$[Q+256>>0]=38470*Q,$[Q+512>>0]=7471*Q+32768,$[Q+768>>0]=-11059*Q,$[Q+1024>>0]=-21709*Q,$[Q+1280>>0]=32768*Q+8421375,$[Q+1536>>0]=-27439*Q,$[Q+1792>>0]=-5329*Q}(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ii(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function NC(t){function e(B){if(!B)throw Error("assert :P")}function r(B,k,P){for(var S=0;4>S;S++)if(B[k+S]!=P.charCodeAt(S))return!0;return!1}function n(B,k,P,S,j){for(var T=0;T<j;T++)B[k+T]=P[S+T]}function s(B,k,P,S){for(var j=0;j<S;j++)B[k+j]=P}function i(B){return new Int32Array(B)}function A(B,k){for(var P=[],S=0;S<B;S++)P.push(new k);return P}function o(B,k){var P=[];return function S(j,T,re){for(var xe=re[T],pe=0;pe<xe&&(j.push(re.length>T+1?[]:new k),!(re.length<T+1));pe++)S(j[pe],T+1,re)}(P,0,B),P}var l=function(){var B=this;function k(u,m){for(var x=1<<m-1>>>0;u&x;)x>>>=1;return x?(u&x-1)+x:u}function P(u,m,x,I,R){e(!(I%x));do u[m+(I-=x)]=R;while(0<I)}function S(u,m,x,I,R){if(e(2328>=R),512>=R)var H=i(512);else if((H=i(R))==null)return 0;return function(K,G,W,se,fe,Ne){var Se,Ce,Oe=G,ke=1<<W,me=i(16),ye=i(16);for(e(fe!=0),e(se!=null),e(K!=null),e(0<W),Ce=0;Ce<fe;++Ce){if(15<se[Ce])return 0;++me[se[Ce]]}if(me[0]==fe)return 0;for(ye[1]=0,Se=1;15>Se;++Se){if(me[Se]>1<<Se)return 0;ye[Se+1]=ye[Se]+me[Se]}for(Ce=0;Ce<fe;++Ce)Se=se[Ce],0<se[Ce]&&(Ne[ye[Se]++]=Ce);if(ye[15]==1)return(se=new j).g=0,se.value=Ne[0],P(K,Oe,1,ke,se),ke;var Pe,Me=-1,Re=ke-1,nt=0,Ye=1,xt=1,Ze=1<<W;for(Ce=0,Se=1,fe=2;Se<=W;++Se,fe<<=1){if(Ye+=xt<<=1,0>(xt-=me[Se]))return 0;for(;0<me[Se];--me[Se])(se=new j).g=Se,se.value=Ne[Ce++],P(K,Oe+nt,fe,Ze,se),nt=k(nt,Se)}for(Se=W+1,fe=2;15>=Se;++Se,fe<<=1){if(Ye+=xt<<=1,0>(xt-=me[Se]))return 0;for(;0<me[Se];--me[Se]){if(se=new j,(nt&Re)!=Me){for(Oe+=Ze,Pe=1<<(Me=Se)-W;15>Me&&!(0>=(Pe-=me[Me]));)++Me,Pe<<=1;ke+=Ze=1<<(Pe=Me-W),K[G+(Me=nt&Re)].g=Pe+W,K[G+Me].value=Oe-G-Me}se.g=Se-W,se.value=Ne[Ce++],P(K,Oe+(nt>>W),fe,Ze,se),nt=k(nt,Se)}}return Ye!=2*ye[15]-1?0:ke}(u,m,x,I,R,H)}function j(){this.value=this.g=0}function T(){this.value=this.g=0}function re(){this.G=A(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(_n,T)}function xe(u,m,x,I){e(u!=null),e(m!=null),e(2147483648>I),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=m,u.pa=x,u.Jd=m,u.Yc=x+I,u.Zc=4<=I?x+I-4+1:x,ee(u)}function pe(u,m){for(var x=0;0<m--;)x|=le(u,128)<<m;return x}function ve(u,m){var x=pe(u,m);return Ae(u)?-x:x}function M(u,m,x,I){var R,H=0;for(e(u!=null),e(m!=null),e(4294967288>I),u.Sb=I,u.Ra=0,u.u=0,u.h=0,4<I&&(I=4),R=0;R<I;++R)H+=m[x+R]<<8*R;u.Ra=H,u.bb=I,u.oa=m,u.pa=x}function oe(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<fc-8>>>0,++u.bb,u.u-=8;Y(u)&&(u.h=1,u.u=0)}function X(u,m){if(e(0<=m),!u.h&&m<=hc){var x=O(u)&dc[m];return u.u+=m,oe(u),x}return u.h=1,u.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(u){return u.Ra>>>(u.u&fc-1)>>>0}function Y(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>fc}function Z(u,m){u.u=m,u.h=Y(u)}function J(u){u.u>=rd&&(e(u.u>=rd),oe(u))}function ee(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function Ae(u){return pe(u,1)}function le(u,m){var x=u.Ca;0>u.b&&ee(u);var I=u.b,R=x*m>>>8,H=(u.I>>>I>R)+0;for(H?(x-=R,u.I-=R+1<<I>>>0):x=R+1,I=x,R=0;256<=I;)R+=8,I>>=8;return I=7^R+vs[I],u.b-=I,u.Ca=(x<<I)-1,H}function q(u,m,x){u[m+0]=x>>24&255,u[m+1]=x>>16&255,u[m+2]=x>>8&255,u[m+3]=x>>0&255}function ae(u,m){return u[m+0]<<0|u[m+1]<<8}function ge(u,m){return ae(u,m)|u[m+2]<<16}function Ee(u,m){return ae(u,m)|ae(u,m+2)<<16}function Le(u,m){var x=1<<m;return e(u!=null),e(0<m),u.X=i(x),u.X==null?0:(u.Mb=32-m,u.Xa=m,1)}function _e(u,m){e(u!=null),e(m!=null),e(u.Xa==m.Xa),n(m.X,0,u.X,0,1<<m.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function te(u,m,x,I){e(x!=null),e(I!=null);var R=x[0],H=I[0];return R==0&&(R=(u*H+m/2)/m),H==0&&(H=(m*R+u/2)/u),0>=R||0>=H?0:(x[0]=R,I[0]=H,1)}function ue(u,m){return u+(1<<m)-1>>>m}function be(u,m){return((4278255360&u)+(4278255360&m)>>>0&4278255360)+((16711935&u)+(16711935&m)>>>0&16711935)>>>0}function Qe(u,m){B[m]=function(x,I,R,H,K,G,W){var se;for(se=0;se<K;++se){var fe=B[u](G[W+se-1],R,H+se);G[W+se]=be(x[I+se],fe)}}}function Ge(){this.ud=this.hd=this.jd=0}function We(u,m){return((4278124286&(u^m))>>>1)+(u&m)>>>0}function At(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function vt(u,m){return At(u+(u-m+.5>>1))}function Ct(u,m,x){return Math.abs(m-x)-Math.abs(u-x)}function ft(u,m,x,I,R,H,K){for(I=H[K-1],x=0;x<R;++x)H[K+x]=I=be(u[m+x],I)}function yt(u,m,x,I,R){var H;for(H=0;H<x;++H){var K=u[m+H],G=K>>8&255,W=16711935&(W=(W=16711935&K)+((G<<16)+G));I[R+H]=(4278255360&K)+W>>>0}}function Rt(u,m){m.jd=u>>0&255,m.hd=u>>8&255,m.ud=u>>16&255}function gt(u,m,x,I,R,H){var K;for(K=0;K<I;++K){var G=m[x+K],W=G>>>8,se=G,fe=255&(fe=(fe=G>>>16)+((u.jd<<24>>24)*(W<<24>>24)>>>5));se=255&(se=(se=se+((u.hd<<24>>24)*(W<<24>>24)>>>5))+((u.ud<<24>>24)*(fe<<24>>24)>>>5)),R[H+K]=(4278255360&G)+(fe<<16)+se}}function Fe(u,m,x,I,R){B[m]=function(H,K,G,W,se,fe,Ne,Se,Ce){for(W=Ne;W<Se;++W)for(Ne=0;Ne<Ce;++Ne)se[fe++]=R(G[I(H[K++])])},B[u]=function(H,K,G,W,se,fe,Ne){var Se=8>>H.b,Ce=H.Ea,Oe=H.K[0],ke=H.w;if(8>Se)for(H=(1<<H.b)-1,ke=(1<<Se)-1;K<G;++K){var me,ye=0;for(me=0;me<Ce;++me)me&H||(ye=I(W[se++])),fe[Ne++]=R(Oe[ye&ke]),ye>>=Se}else B["VP8LMapColor"+x](W,se,Oe,ke,fe,Ne,K,G,Ce)}}function je(u,m,x,I,R){for(x=m+x;m<x;){var H=u[m++];I[R++]=H>>16&255,I[R++]=H>>8&255,I[R++]=H>>0&255}}function Je(u,m,x,I,R){for(x=m+x;m<x;){var H=u[m++];I[R++]=H>>16&255,I[R++]=H>>8&255,I[R++]=H>>0&255,I[R++]=H>>24&255}}function ht(u,m,x,I,R){for(x=m+x;m<x;){var H=(K=u[m++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;I[R++]=H,I[R++]=K}}function Mr(u,m,x,I,R){for(x=m+x;m<x;){var H=(K=u[m++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;I[R++]=H,I[R++]=K}}function Dt(u,m,x,I,R){for(x=m+x;m<x;){var H=u[m++];I[R++]=H>>0&255,I[R++]=H>>8&255,I[R++]=H>>16&255}}function zt(u,m,x,I,R,H){if(H==0)for(x=m+x;m<x;)q(I,((H=u[m++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),R+=32;else n(I,R,u,m,x)}function Ue(u,m){B[m][0]=B[u+"0"],B[m][1]=B[u+"1"],B[m][2]=B[u+"2"],B[m][3]=B[u+"3"],B[m][4]=B[u+"4"],B[m][5]=B[u+"5"],B[m][6]=B[u+"6"],B[m][7]=B[u+"7"],B[m][8]=B[u+"8"],B[m][9]=B[u+"9"],B[m][10]=B[u+"10"],B[m][11]=B[u+"11"],B[m][12]=B[u+"12"],B[m][13]=B[u+"13"],B[m][14]=B[u+"0"],B[m][15]=B[u+"0"]}function $e(u){return u==y0||u==w0||u==Cf||u==x0}function st(){this.eb=[],this.size=this.A=this.fb=0}function et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new st,this.f.kb=new et,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function at(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Bt(u,m){var x=u.T,I=m.ba.f.RGBA,R=I.eb,H=I.fb+u.ka*I.A,K=ei[m.ba.S],G=u.y,W=u.O,se=u.f,fe=u.N,Ne=u.ea,Se=u.W,Ce=m.cc,Oe=m.dc,ke=m.Mc,me=m.Nc,ye=u.ka,Pe=u.ka+u.T,Me=u.U,Re=Me+1>>1;for(ye==0?K(G,W,null,null,se,fe,Ne,Se,se,fe,Ne,Se,R,H,null,null,Me):(K(m.ec,m.fc,G,W,Ce,Oe,ke,me,se,fe,Ne,Se,R,H-I.A,R,H,Me),++x);ye+2<Pe;ye+=2)Ce=se,Oe=fe,ke=Ne,me=Se,fe+=u.Rc,Se+=u.Rc,H+=2*I.A,K(G,(W+=2*u.fa)-u.fa,G,W,Ce,Oe,ke,me,se,fe,Ne,Se,R,H-I.A,R,H,Me);return W+=u.fa,u.j+Pe<u.o?(n(m.ec,m.fc,G,W,Me),n(m.cc,m.dc,se,fe,Re),n(m.Mc,m.Nc,Ne,Se,Re),x--):1&Pe||K(G,W,null,null,se,fe,Ne,Se,se,fe,Ne,Se,R,H+I.A,null,null,Me),x}function mr(u,m,x){var I=u.F,R=[u.J];if(I!=null){var H=u.U,K=m.ba.S,G=K==bf||K==Cf;m=m.ba.f.RGBA;var W=[0],se=u.ka;W[0]=u.T,u.Kb&&(se==0?--W[0]:(--se,R[0]-=u.width),u.j+u.ka+u.T==u.o&&(W[0]=u.o-u.j-se));var fe=m.eb;se=m.fb+se*m.A,u=gr(I,R[0],u.width,H,W,fe,se+(G?0:3),m.A),e(x==W),u&&$e(K)&&Js(fe,se,G,H,W,m.A)}return 0}function lr(u){var m=u.ma,x=m.ba.S,I=11>x,R=x==xf||x==Bf||x==bf||x==v0||x==12||$e(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!ed(m.Oa,u,R?11:12))return 0;if(R&&$e(x)&&Ve(),u.da)alert("todo:use_scaling");else{if(I){if(m.Ib=at,u.Kb){if(x=u.U+1>>1,m.memory=i(u.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+u.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=Bt,Ve()}}else alert("todo:EmitYUV");R&&(m.Jb=mr,I&&Be())}if(I&&!lx){for(u=0;256>u;++u)vF[u]=89858*(u-128)+_f>>Ef,xF[u]=-22014*(u-128)+_f,wF[u]=-45773*(u-128),yF[u]=113618*(u-128)+_f>>Ef;for(u=ld;u<C0;++u)m=76283*(u-16)+_f>>Ef,BF[u-ld]=tr(m,255),bF[u-ld]=tr(m+8>>4,15);lx=1}return 1}function Ir(u){var m=u.ma,x=u.U,I=u.T;return e(!(1&u.ka)),0>=x||0>=I?0:(x=m.Ib(u,m),m.Jb!=null&&m.Jb(u,m,x),m.Dc+=x,1)}function mn(u){u.ma.memory=null}function ot(u,m,x,I){return X(u,8)!=47?0:(m[0]=X(u,14)+1,x[0]=X(u,14)+1,I[0]=X(u,1),X(u,3)!=0?0:!u.h)}function ms(u,m){if(4>u)return u+1;var x=u-2>>1;return(2+(1&u)<<x)+X(m,x)+1}function Pn(u,m){return 120<m?m-120:1<=(x=((x=sF[m-1])>>4)*u+(8-(15&x)))?x:1;var x}function tn(u,m,x){var I=O(x),R=u[m+=255&I].g-8;return 0<R&&(Z(x,x.u+8),I=O(x),m+=u[m].value,m+=I&(1<<R)-1),Z(x,x.u+u[m].g),u[m].value}function Vr(u,m,x){return x.g+=u.g,x.value+=u.value<<m>>>0,e(8>=x.g),u.g}function jr(u,m,x){var I=u.xc;return e((m=I==0?0:u.vc[u.md*(x>>I)+(m>>I)])<u.Wb),u.Ya[m]}function rn(u,m,x,I){var R=u.ab,H=u.c*m,K=u.C;m=K+m;var G=x,W=I;for(I=u.Ta,x=u.Ua;0<R--;){var se=u.gc[R],fe=K,Ne=m,Se=G,Ce=W,Oe=(W=I,G=x,se.Ea);switch(e(fe<Ne),e(Ne<=se.nc),se.hc){case 2:ff(Se,Ce,(Ne-fe)*Oe,W,G);break;case 0:var ke=fe,me=Ne,ye=W,Pe=G,Me=(Ze=se).Ea;ke==0&&(p0(Se,Ce,null,null,1,ye,Pe),ft(Se,Ce+1,0,0,Me-1,ye,Pe+1),Ce+=Me,Pe+=Me,++ke);for(var Re=1<<Ze.b,nt=Re-1,Ye=ue(Me,Ze.b),xt=Ze.K,Ze=Ze.w+(ke>>Ze.b)*Ye;ke<me;){var Zt=xt,sr=Ze,$t=1;for(nd(Se,Ce,ye,Pe-Me,1,ye,Pe);$t<Me;){var Mt=($t&~nt)+Re;Mt>Me&&(Mt=Me),(0,Qa[Zt[sr++]>>8&15])(Se,Ce+ +$t,ye,Pe+$t-Me,Mt-$t,ye,Pe+$t),$t=Mt}Ce+=Me,Pe+=Me,++ke&nt||(Ze+=Ye)}Ne!=se.nc&&n(W,G-Oe,W,G+(Ne-fe-1)*Oe,Oe);break;case 1:for(Oe=Se,me=Ce,Me=(Se=se.Ea)-(Pe=Se&~(ye=(Ce=1<<se.b)-1)),ke=ue(Se,se.b),Re=se.K,se=se.w+(fe>>se.b)*ke;fe<Ne;){for(nt=Re,Ye=se,xt=new Ge,Ze=me+Pe,Zt=me+Se;me<Ze;)Rt(nt[Ye++],xt),ul(xt,Oe,me,Ce,W,G),me+=Ce,G+=Ce;me<Zt&&(Rt(nt[Ye++],xt),ul(xt,Oe,me,Me,W,G),me+=Me,G+=Me),++fe&ye||(se+=ke)}break;case 3:if(Se==W&&Ce==G&&0<se.b){for(me=W,Se=Oe=G+(Ne-fe)*Oe-(Pe=(Ne-fe)*ue(se.Ea,se.b)),Ce=W,ye=G,ke=[],Pe=(Me=Pe)-1;0<=Pe;--Pe)ke[Pe]=Ce[ye+Pe];for(Pe=Me-1;0<=Pe;--Pe)me[Se+Pe]=ke[Pe];Ws(se,fe,Ne,W,Oe,W,G)}else Ws(se,fe,Ne,Se,Ce,W,G)}G=I,W=x}W!=x&&n(I,x,G,W,H)}function pa(u,m){var x=u.V,I=u.Ba+u.c*u.C,R=m-u.C;if(e(m<=u.l.o),e(16>=R),0<R){var H=u.l,K=u.Ta,G=u.Ua,W=H.width;if(rn(u,R,x,I),R=G=[G],e((x=u.C)<(I=m)),e(H.v<H.va),I>H.o&&(I=H.o),x<H.j){var se=H.j-x;x=H.j,R[0]+=se*W}if(x>=I?x=0:(R[0]+=4*H.v,H.ka=x-H.j,H.U=H.va-H.v,H.T=I-x,x=1),x){if(G=G[0],11>(x=u.ca).S){var fe=x.f.RGBA,Ne=(I=x.S,R=H.U,H=H.T,se=fe.eb,fe.A),Se=H;for(fe=fe.fb+u.Ma*fe.A;0<Se--;){var Ce=K,Oe=G,ke=R,me=se,ye=fe;switch(I){case wf:ys(Ce,Oe,ke,me,ye);break;case xf:as(Ce,Oe,ke,me,ye);break;case y0:as(Ce,Oe,ke,me,ye),Js(me,ye,0,ke,1,0);break;case Z2:PA(Ce,Oe,ke,me,ye);break;case Bf:zt(Ce,Oe,ke,me,ye,1);break;case w0:zt(Ce,Oe,ke,me,ye,1),Js(me,ye,0,ke,1,0);break;case bf:zt(Ce,Oe,ke,me,ye,0);break;case Cf:zt(Ce,Oe,ke,me,ye,0),Js(me,ye,1,ke,1,0);break;case v0:ja(Ce,Oe,ke,me,ye);break;case x0:ja(Ce,Oe,ke,me,ye),pr(me,ye,ke,1,0);break;case ex:LA(Ce,Oe,ke,me,ye);break;default:e(0)}G+=W,fe+=Ne}u.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=x.height)}}u.C=m,e(u.C<=u.i)}function pi(u){var m;if(0<u.ua)return 0;for(m=0;m<u.Wb;++m){var x=u.Ya[m].G,I=u.Ya[m].H;if(0<x[1][I[1]+0].g||0<x[2][I[2]+0].g||0<x[3][I[3]+0].g)return 0}return 1}function Dn(u,m,x,I,R,H){if(u.Z!=0){var K=u.qd,G=u.rd;for(e(Ra[u.Z]!=null);m<x;++m)Ra[u.Z](K,G,I,R,I,R,H),K=I,G=R,R+=H;u.qd=K,u.rd=G}}function ps(u,m){var x=u.l.ma,I=x.Z==0||x.Z==1?u.l.j:u.C;if(I=u.C<I?I:u.C,e(m<=u.l.o),m>I){var R=u.l.width,H=x.ca,K=x.tb+R*I,G=u.V,W=u.Ba+u.c*I,se=u.gc;e(u.ab==1),e(se[0].hc==3),mf(se[0],I,m,G,W,H,K),Dn(x,I,m,H,K,R)}u.C=u.Ma=m}function ss(u,m,x,I,R,H,K){var G=u.$/I,W=u.$%I,se=u.m,fe=u.s,Ne=x+u.$,Se=Ne;R=x+I*R;var Ce=x+I*H,Oe=280+fe.ua,ke=u.Pb?G:16777216,me=0<fe.ua?fe.Wa:null,ye=fe.wc,Pe=Ne<Ce?jr(fe,W,G):null;e(u.C<H),e(Ce<=R);var Me=!1;e:for(;;){for(;Me||Ne<Ce;){var Re=0;if(G>=ke){var nt=Ne-x;e((ke=u).Pb),ke.wd=ke.m,ke.xd=nt,0<ke.s.ua&&_e(ke.s.Wa,ke.s.vb),ke=G+AF}if(W&ye||(Pe=jr(fe,W,G)),e(Pe!=null),Pe.Qb&&(m[Ne]=Pe.qb,Me=!0),!Me)if(J(se),Pe.jc){Re=se,nt=m;var Ye=Ne,xt=Pe.pd[O(Re)&_n-1];e(Pe.jc),256>xt.g?(Z(Re,Re.u+xt.g),nt[Ye]=xt.value,Re=0):(Z(Re,Re.u+xt.g-256),e(256<=xt.value),Re=xt.value),Re==0&&(Me=!0)}else Re=tn(Pe.G[0],Pe.H[0],se);if(se.h)break;if(Me||256>Re){if(!Me)if(Pe.nd)m[Ne]=(Pe.qb|Re<<8)>>>0;else{if(J(se),Me=tn(Pe.G[1],Pe.H[1],se),J(se),nt=tn(Pe.G[2],Pe.H[2],se),Ye=tn(Pe.G[3],Pe.H[3],se),se.h)break;m[Ne]=(Ye<<24|Me<<16|Re<<8|nt)>>>0}if(Me=!1,++Ne,++W>=I&&(W=0,++G,K!=null&&G<=H&&!(G%16)&&K(u,G),me!=null))for(;Se<Ne;)Re=m[Se++],me.X[(506832829*Re&4294967295)>>>me.Mb]=Re}else if(280>Re){if(Re=ms(Re-256,se),nt=tn(Pe.G[4],Pe.H[4],se),J(se),nt=Pn(I,nt=ms(nt,se)),se.h)break;if(Ne-x<nt||R-Ne<Re)break e;for(Ye=0;Ye<Re;++Ye)m[Ne+Ye]=m[Ne+Ye-nt];for(Ne+=Re,W+=Re;W>=I;)W-=I,++G,K!=null&&G<=H&&!(G%16)&&K(u,G);if(e(Ne<=R),W&ye&&(Pe=jr(fe,W,G)),me!=null)for(;Se<Ne;)Re=m[Se++],me.X[(506832829*Re&4294967295)>>>me.Mb]=Re}else{if(!(Re<Oe))break e;for(Me=Re-280,e(me!=null);Se<Ne;)Re=m[Se++],me.X[(506832829*Re&4294967295)>>>me.Mb]=Re;Re=Ne,e(!(Me>>>(nt=me).Xa)),m[Re]=nt.X[Me],Me=!0}Me||e(se.h==Y(se))}if(u.Pb&&se.h&&Ne<R)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&_e(u.s.vb,u.s.Wa);else{if(se.h)break e;K!=null&&K(u,G>H?H:G),u.a=0,u.$=Ne-x}return 1}return u.a=3,0}function is(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var m=u.Wa;m!=null&&(m.X=null),u.vb=null,e(u!=null)}function Kr(){var u=new cc;return u==null?null:(u.a=0,u.xb=nx,Ue("Predictor","VP8LPredictors"),Ue("Predictor","VP8LPredictors_C"),Ue("PredictorAdd","VP8LPredictorsAdd"),Ue("PredictorAdd","VP8LPredictorsAdd_C"),ff=yt,ul=gt,ys=je,as=Je,ja=ht,LA=Mr,PA=Dt,B.VP8LMapColor32b=mc,B.VP8LMapColor8b=pf,u)}function ks(u,m,x,I,R){var H=1,K=[u],G=[m],W=I.m,se=I.s,fe=null,Ne=0;e:for(;;){if(x)for(;H&&X(W,1);){var Se=K,Ce=G,Oe=I,ke=1,me=Oe.m,ye=Oe.gc[Oe.ab],Pe=X(me,2);if(Oe.Oc&1<<Pe)H=0;else{switch(Oe.Oc|=1<<Pe,ye.hc=Pe,ye.Ea=Se[0],ye.nc=Ce[0],ye.K=[null],++Oe.ab,e(4>=Oe.ab),Pe){case 0:case 1:ye.b=X(me,3)+2,ke=ks(ue(ye.Ea,ye.b),ue(ye.nc,ye.b),0,Oe,ye.K),ye.K=ye.K[0];break;case 3:var Me,Re=X(me,8)+1,nt=16<Re?0:4<Re?1:2<Re?2:3;if(Se[0]=ue(ye.Ea,nt),ye.b=nt,Me=ke=ks(Re,1,0,Oe,ye.K)){var Ye,xt=Re,Ze=ye,Zt=1<<(8>>Ze.b),sr=i(Zt);if(sr==null)Me=0;else{var $t=Ze.K[0],Mt=Ze.w;for(sr[0]=Ze.K[0][0],Ye=1;Ye<1*xt;++Ye)sr[Ye]=be($t[Mt+Ye],sr[Ye-1]);for(;Ye<4*Zt;++Ye)sr[Ye]=0;Ze.K[0]=null,Ze.K[0]=sr,Me=1}}ke=Me;break;case 2:break;default:e(0)}H=ke}}if(K=K[0],G=G[0],H&&X(W,1)&&!(H=1<=(Ne=X(W,4))&&11>=Ne)){I.a=3;break e}var hr;if(hr=H)t:{var cr,jt,nn,ws=I,sn=K,xs=G,ir=Ne,Ls=x,Ps=ws.m,pn=ws.s,Nn=[null],ls=1,ti=0,sA=iF[ir];r:for(;;){if(Ls&&X(Ps,1)){var gn=X(Ps,3)+2,HA=ue(sn,gn),pl=ue(xs,gn),wc=HA*pl;if(!ks(HA,pl,0,ws,Nn))break r;for(Nn=Nn[0],pn.xc=gn,cr=0;cr<wc;++cr){var Oa=Nn[cr]>>8&65535;Nn[cr]=Oa,Oa>=ls&&(ls=Oa+1)}}if(Ps.h)break r;for(jt=0;5>jt;++jt){var Pr=tx[jt];!jt&&0<ir&&(Pr+=1<<ir),ti<Pr&&(ti=Pr)}var E0=A(ls*sA,j),dx=ls,hx=A(dx,re);if(hx==null)var Sf=null;else e(65536>=dx),Sf=hx;var cd=i(ti);if(Sf==null||cd==null||E0==null){ws.a=1;break r}var If=E0;for(cr=nn=0;cr<ls;++cr){var _i=Sf[cr],xc=_i.G,Bc=_i.H,fx=0,Ff=1,mx=0;for(jt=0;5>jt;++jt){Pr=tx[jt],xc[jt]=If,Bc[jt]=nn,!jt&&0<ir&&(Pr+=1<<ir);s:{var kf,_0=Pr,Tf=ws,ud=cd,_F=If,NF=nn,N0=0,Ha=Tf.m,SF=X(Ha,1);if(s(ud,0,0,_0),SF){var IF=X(Ha,1)+1,FF=X(Ha,1),px=X(Ha,FF==0?1:8);ud[px]=1,IF==2&&(ud[px=X(Ha,8)]=1);var Uf=1}else{var gx=i(19),vx=X(Ha,4)+4;if(19<vx){Tf.a=3;var Qf=0;break s}for(kf=0;kf<vx;++kf)gx[nF[kf]]=X(Ha,3);var S0=void 0,dd=void 0,yx=Tf,kF=gx,jf=_0,wx=ud,I0=0,Ma=yx.m,xx=8,Bx=A(128,j);n:for(;S(Bx,0,7,kF,19);){if(X(Ma,1)){var TF=2+2*X(Ma,3);if((S0=2+X(Ma,TF))>jf)break n}else S0=jf;for(dd=0;dd<jf&&S0--;){J(Ma);var bx=Bx[0+(127&O(Ma))];Z(Ma,Ma.u+bx.g);var bc=bx.value;if(16>bc)wx[dd++]=bc,bc!=0&&(xx=bc);else{var UF=bc==16,Cx=bc-16,QF=tF[Cx],Ex=X(Ma,eF[Cx])+QF;if(dd+Ex>jf)break n;for(var jF=UF?xx:0;0<Ex--;)wx[dd++]=jF}}I0=1;break n}I0||(yx.a=3),Uf=I0}(Uf=Uf&&!Ha.h)&&(N0=S(_F,NF,8,ud,_0)),Uf&&N0!=0?Qf=N0:(Tf.a=3,Qf=0)}if(Qf==0)break r;if(Ff&&rF[jt]==1&&(Ff=If[nn].g==0),fx+=If[nn].g,nn+=Qf,3>=jt){var hd,F0=cd[0];for(hd=1;hd<Pr;++hd)cd[hd]>F0&&(F0=cd[hd]);mx+=F0}}if(_i.nd=Ff,_i.Qb=0,Ff&&(_i.qb=(xc[3][Bc[3]+0].value<<24|xc[1][Bc[1]+0].value<<16|xc[2][Bc[2]+0].value)>>>0,fx==0&&256>xc[0][Bc[0]+0].value&&(_i.Qb=1,_i.qb+=xc[0][Bc[0]+0].value<<8)),_i.jc=!_i.Qb&&6>mx,_i.jc){var Lf,MA=_i;for(Lf=0;Lf<_n;++Lf){var Va=Lf,Ka=MA.pd[Va],Pf=MA.G[0][MA.H[0]+Va];256<=Pf.value?(Ka.g=Pf.g+256,Ka.value=Pf.value):(Ka.g=0,Ka.value=0,Va>>=Vr(Pf,8,Ka),Va>>=Vr(MA.G[1][MA.H[1]+Va],16,Ka),Va>>=Vr(MA.G[2][MA.H[2]+Va],0,Ka),Vr(MA.G[3][MA.H[3]+Va],24,Ka))}}}pn.vc=Nn,pn.Wb=ls,pn.Ya=Sf,pn.yc=E0,hr=1;break t}hr=0}if(!(H=hr)){I.a=3;break e}if(0<Ne){if(se.ua=1<<Ne,!Le(se.Wa,Ne)){I.a=1,H=0;break e}}else se.ua=0;var k0=I,_x=K,LF=G,T0=k0.s,U0=T0.xc;if(k0.c=_x,k0.i=LF,T0.md=ue(_x,U0),T0.wc=U0==0?-1:(1<<U0)-1,x){I.xb=hF;break e}if((fe=i(K*G))==null){I.a=1,H=0;break e}H=(H=ss(I,fe,0,K,G,G,null))&&!W.h;break e}return H?(R!=null?R[0]=fe:(e(fe==null),e(x)),I.$=0,x||is(se)):is(se),H}function Gi(u,m){var x=u.c*u.i,I=x+m+16*m;return e(u.c<=m),u.V=i(I),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+x+m,1)}function qi(u,m){var x=u.C,I=m-x,R=u.V,H=u.Ba+u.c*x;for(e(m<=u.l.o);0<I;){var K=16<I?16:I,G=u.l.ma,W=u.l.width,se=W*K,fe=G.ca,Ne=G.tb+W*x,Se=u.Ta,Ce=u.Ua;rn(u,K,R,H),Gr(Se,Ce,fe,Ne,se),Dn(G,x,x+K,fe,Ne,W),I-=K,R+=K*u.c,x+=K}e(x==m),u.C=u.Ma=m}function $i(){this.ub=this.yd=this.td=this.Rb=0}function EA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _A(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ec(){this.Yb=function(){var u=[];return function m(x,I,R){for(var H=R[I],K=0;K<H&&(x.push(R.length>I+1?[]:0),!(R.length<I+1));K++)m(x[K],I+1,R)}(u,0,[3,11]),u}()}function ga(){this.jb=i(3),this.Wc=o([4,8],ec),this.Xc=o([4,17],ec)}function tc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Wi(){this.ld=this.La=this.dd=this.tc=0}function Yi(){this.Na=this.la=0}function gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function NA(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wi),this.Y=0,this.ya=Array(new NA),this.aa=0,this.l=new SA}function Xo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function rc(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new $i,this.Kc=new EA,this.ed=new tc,this.Qa=new _A,this.Ic=this.$c=this.Aa=0,this.D=new Yu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,de),this.ia=0,this.pb=A(4,gi),this.Pa=new ga,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xo),this.Hd=0,this.rb=Array(new Yi),this.sb=0,this.wa=Array(new Wi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new NA),this.L=this.aa=0,this.gd=o([4,2],Wi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function SA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jo(){var u=new rc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,od||(od=nc)),u}function xr(u,m,x){return u.a==0&&(u.a=m,u.sc=x,u.cb=0),0}function Zo(u,m,x){return 3<=x&&u[m+0]==157&&u[m+1]==1&&u[m+2]==42}function el(u,m){if(u==null)return 0;if(u.a=0,u.sc="OK",m==null)return xr(u,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,I=m.w,R=m.ha;if(4>R)return xr(u,7,"Truncated header.");var H=x[I+0]|x[I+1]<<8|x[I+2]<<16,K=u.Od;if(K.Rb=!(1&H),K.td=H>>1&7,K.yd=H>>4&1,K.ub=H>>5,3<K.td)return xr(u,3,"Incorrect keyframe parameters.");if(!K.yd)return xr(u,4,"Frame not displayable.");I+=3,R-=3;var G=u.Kc;if(K.Rb){if(7>R)return xr(u,7,"cannot parse picture header");if(!Zo(x,I,R))return xr(u,3,"Bad code word");G.c=16383&(x[I+4]<<8|x[I+3]),G.Td=x[I+4]>>6,G.i=16383&(x[I+6]<<8|x[I+5]),G.Ud=x[I+6]>>6,I+=7,R-=7,u.za=G.c+15>>4,u.Ub=G.i+15>>4,m.width=G.c,m.height=G.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,s((H=u.Pa).jb,0,255,H.jb.length),e((H=u.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(K.ub>R)return xr(u,7,"bad partition length");xe(H=u.m,x,I,K.ub),I+=K.ub,R-=K.ub,K.Rb&&(G.Ld=Ae(H),G.Kd=Ae(H)),G=u.Qa;var W,se=u.Pa;if(e(H!=null),e(G!=null),G.Cb=Ae(H),G.Cb){if(G.Bb=Ae(H),Ae(H)){for(G.Fb=Ae(H),W=0;4>W;++W)G.Zb[W]=Ae(H)?ve(H,7):0;for(W=0;4>W;++W)G.Lb[W]=Ae(H)?ve(H,6):0}if(G.Bb)for(W=0;3>W;++W)se.jb[W]=Ae(H)?pe(H,8):255}else G.Bb=0;if(H.Ka)return xr(u,3,"cannot parse segment header");if((G=u.ed).zd=Ae(H),G.Tb=pe(H,6),G.wb=pe(H,3),G.Pc=Ae(H),G.Pc&&Ae(H)){for(se=0;4>se;++se)Ae(H)&&(G.vd[se]=ve(H,6));for(se=0;4>se;++se)Ae(H)&&(G.od[se]=ve(H,6))}if(u.L=G.Tb==0?0:G.zd?1:2,H.Ka)return xr(u,3,"cannot parse filter header");var fe=R;if(R=W=I,I=W+fe,G=fe,u.Xb=(1<<pe(u.m,2))-1,fe<3*(se=u.Xb))x=7;else{for(W+=3*se,G-=3*se,fe=0;fe<se;++fe){var Ne=x[R+0]|x[R+1]<<8|x[R+2]<<16;Ne>G&&(Ne=G),xe(u.Jc[+fe],x,W,Ne),W+=Ne,G-=Ne,R+=3}xe(u.Jc[+se],x,W,G),x=W<I?0:5}if(x!=0)return xr(u,x,"cannot parse partitions");for(x=pe(W=u.m,7),R=Ae(W)?ve(W,4):0,I=Ae(W)?ve(W,4):0,G=Ae(W)?ve(W,4):0,se=Ae(W)?ve(W,4):0,W=Ae(W)?ve(W,4):0,fe=u.Qa,Ne=0;4>Ne;++Ne){if(fe.Cb){var Se=fe.Zb[Ne];fe.Fb||(Se+=x)}else{if(0<Ne){u.pb[Ne]=u.pb[0];continue}Se=x}var Ce=u.pb[Ne];Ce.Sc[0]=B0[tr(Se+R,127)],Ce.Sc[1]=b0[tr(Se+0,127)],Ce.Eb[0]=2*B0[tr(Se+I,127)],Ce.Eb[1]=101581*b0[tr(Se+G,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=B0[tr(Se+se,117)],Ce.Qc[1]=b0[tr(Se+W,127)],Ce.lc=Se+W}if(!K.Rb)return xr(u,4,"Not a key frame.");for(Ae(H),K=u.Pa,x=0;4>x;++x){for(R=0;8>R;++R)for(I=0;3>I;++I)for(G=0;11>G;++G)se=le(H,uF[x][R][I][G])?pe(H,8):lF[x][R][I][G],K.Wc[x][R].Yb[I][G]=se;for(R=0;17>R;++R)K.Xc[x][R]=K.Wc[x][dF[R]]}return u.kc=Ae(H),u.kc&&(u.Bd=pe(H,8)),u.cb=1}function nc(u,m,x,I,R,H,K){var G=m[R].Yb[x];for(x=0;16>R;++R){if(!le(u,G[x+0]))return R;for(;!le(u,G[x+1]);)if(G=m[++R].Yb[0],x=0,R==16)return 16;var W=m[R+1].Yb;if(le(u,G[x+2])){var se=u,fe=0;if(le(se,(Se=G)[(Ne=x)+3]))if(le(se,Se[Ne+6])){for(G=0,Ne=2*(fe=le(se,Se[Ne+8]))+(Se=le(se,Se[Ne+9+fe])),fe=0,Se=aF[Ne];Se[G];++G)fe+=fe+le(se,Se[G]);fe+=3+(8<<Ne)}else le(se,Se[Ne+7])?(fe=7+2*le(se,165),fe+=le(se,145)):fe=5+le(se,159);else fe=le(se,Se[Ne+4])?3+le(se,Se[Ne+5]):2;G=W[2]}else fe=1,G=W[1];W=K+oF[R],0>(se=u).b&&ee(se);var Ne,Se=se.b,Ce=(Ne=se.Ca>>1)-(se.I>>Se)>>31;--se.b,se.Ca+=Ce,se.Ca|=1,se.I-=(Ne+1&Ce)<<Se,H[W]=((fe^Ce)-Ce)*I[(0<R)+0]}return 16}function tl(u){var m=u.rb[u.sb-1];m.la=0,m.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function sc(u,m){if(u==null)return 0;if(m==null)return xr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!el(u,m))return 0;if(e(u.cb),m.ac==null||m.ac(m)){m.ob&&(u.L=0);var x=Nf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=m.v-x>>4,u.zb=m.j-x>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=m.o+15+x>>4,u.Hb=m.va+15+x>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var I=u.ed;for(x=0;4>x;++x){var R;if(u.Qa.Cb){var H=u.Qa.Lb[x];u.Qa.Fb||(H+=I.Tb)}else H=I.Tb;for(R=0;1>=R;++R){var K=u.gd[x][R],G=H;if(I.Pc&&(G+=I.vd[0],R&&(G+=I.od[0])),0<(G=0>G?0:63<G?63:G)){var W=G;0<I.wb&&(W=4<I.wb?W>>2:W>>1)>9-I.wb&&(W=9-I.wb),1>W&&(W=1),K.dd=W,K.tc=2*G+W,K.ld=40<=G?2:15<=G?1:0}else K.tc=0;K.La=R}}}x=0}else xr(u,6,"Frame setup failed"),x=u.a;if(x=x==0){if(x){u.$c=0,0<u.Aa||(u.Ic=EF);e:{x=u.Ic,I=4*(W=u.za);var se=32*W,fe=W+1,Ne=0<u.L?W*(0<u.Aa?2:1):0,Se=(u.Aa==2?2:1)*W;if((K=I+832+(R=3*(16*x+Nf[u.L])/2*se)+(H=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=K)x=0;else{if(K>u.Vb){if(u.Vb=0,u.Ec=i(K),u.Fc=0,u.Ec==null){x=xr(u,1,"no memory during frame initialization.");break e}u.Vb=K}K=u.Ec,G=u.Fc,u.Ac=K,u.Bc=G,G+=I,u.Gd=A(se,Xo),u.Hd=0,u.rb=A(fe+1,Yi),u.sb=1,u.wa=Ne?A(Ne,Wi):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=W),e(!0),u.oc=K,u.pc=G,G+=832,u.ya=A(Se,NA),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=W),u.R=16*W,u.B=8*W,W=(se=Nf[u.L])*u.R,se=se/2*u.B,u.sa=K,u.ta=G+W,u.qa=u.sa,u.ra=u.ta+16*x*u.R+se,u.Ha=u.qa,u.Ia=u.ra+8*x*u.B+se,u.$c=0,G+=R,u.mb=H?K:null,u.nb=H?G:null,e(G+H<=u.Fc+u.Vb),tl(u),s(u.Ac,u.Bc,0,I),x=1}}if(x){if(m.ka=0,m.y=u.sa,m.O=u.ta,m.f=u.qa,m.N=u.ra,m.ea=u.Ha,m.Vd=u.Ia,m.fa=u.R,m.Rc=u.B,m.F=null,m.J=0,!vf){for(x=-255;255>=x;++x)un[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)RA[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)ad[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)yc[255+x]=0>x?0:255<x?255:x;vf=1}pc=kA,DA=ya,sd=rl,os=nr,Ys=FA,zr=IA,gc=_a,gf=Bi,id=Sa,dl=cl,hl=Na,La=UA,fl=Ia,vc=eA,ml=TA,Pa=Qs,Ad=cn,Xs=lc,Ei[0]=$s,Ei[1]=Xu,Ei[2]=Ji,Ei[3]=Zu,Ei[4]=ac,Ei[5]=Ba,Ei[6]=Ts,Ei[7]=sl,Ei[8]=Ca,Ei[9]=ba,Da[0]=Xi,Da[1]=Ju,Da[2]=yi,Da[3]=wa,Da[4]=Br,Da[5]=Ac,Da[6]=nl,OA[0]=xi,OA[1]=ic,OA[2]=oc,OA[3]=wi,OA[4]=er,OA[5]=il,OA[6]=Al,x=1}else x=0}x&&(x=function(Ce,Oe){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var ke,me=Ce.Jc[Ce.M&Ce.Xb],ye=Ce.m,Pe=Ce;for(ke=0;ke<Pe.za;++ke){var Me=ye,Re=Pe,nt=Re.Ac,Ye=Re.Bc+4*ke,xt=Re.zc,Ze=Re.ya[Re.aa+ke];if(Re.Qa.Bb?Ze.$b=le(Me,Re.Pa.jb[0])?2+le(Me,Re.Pa.jb[2]):le(Me,Re.Pa.jb[1]):Ze.$b=0,Re.kc&&(Ze.Ad=le(Me,Re.Bd)),Ze.Za=!le(Me,145)+0,Ze.Za){var Zt=Ze.Ob,sr=0;for(Re=0;4>Re;++Re){var $t,Mt=xt[0+Re];for($t=0;4>$t;++$t){Mt=cF[nt[Ye+$t]][Mt];for(var hr=rx[le(Me,Mt[0])];0<hr;)hr=rx[2*hr+le(Me,Mt[hr])];Mt=-hr,nt[Ye+$t]=Mt}n(Zt,sr,nt,Ye,4),sr+=4,xt[0+Re]=Mt}}else Mt=le(Me,156)?le(Me,128)?1:3:le(Me,163)?2:0,Ze.Ob[0]=Mt,s(nt,Ye,Mt,4),s(xt,0,Mt,4);Ze.Dd=le(Me,142)?le(Me,114)?le(Me,183)?1:3:2:0}if(Pe.m.Ka)return xr(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(Pe=me,Me=(ye=Ce).rb[ye.sb-1],nt=ye.rb[ye.sb+ye.ja],ke=ye.ya[ye.aa+ye.ja],Ye=ye.kc?ke.Ad:0)Me.la=nt.la=0,ke.Za||(Me.Na=nt.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var cr,jt;if(Me=nt,nt=Pe,Ye=ye.Pa.Xc,xt=ye.ya[ye.aa+ye.ja],Ze=ye.pb[xt.$b],Re=xt.ad,Zt=0,sr=ye.rb[ye.sb-1],Mt=$t=0,s(Re,Zt,0,384),xt.Za)var nn=0,ws=Ye[3];else{hr=i(16);var sn=Me.Na+sr.Na;if(sn=od(nt,Ye[1],sn,Ze.Eb,0,hr,0),Me.Na=sr.Na=(0<sn)+0,1<sn)pc(hr,0,Re,Zt);else{var xs=hr[0]+3>>3;for(hr=0;256>hr;hr+=16)Re[Zt+hr]=xs}nn=1,ws=Ye[0]}var ir=15&Me.la,Ls=15&sr.la;for(hr=0;4>hr;++hr){var Ps=1&Ls;for(xs=jt=0;4>xs;++xs)ir=ir>>1|(Ps=(sn=od(nt,ws,sn=Ps+(1&ir),Ze.Sc,nn,Re,Zt))>nn)<<7,jt=jt<<2|(3<sn?3:1<sn?2:Re[Zt+0]!=0),Zt+=16;ir>>=4,Ls=Ls>>1|Ps<<7,$t=($t<<8|jt)>>>0}for(ws=ir,nn=Ls>>4,cr=0;4>cr;cr+=2){for(jt=0,ir=Me.la>>4+cr,Ls=sr.la>>4+cr,hr=0;2>hr;++hr){for(Ps=1&Ls,xs=0;2>xs;++xs)sn=Ps+(1&ir),ir=ir>>1|(Ps=0<(sn=od(nt,Ye[2],sn,Ze.Qc,0,Re,Zt)))<<3,jt=jt<<2|(3<sn?3:1<sn?2:Re[Zt+0]!=0),Zt+=16;ir>>=2,Ls=Ls>>1|Ps<<5}Mt|=jt<<4*cr,ws|=ir<<4<<cr,nn|=(240&Ls)<<cr}Me.la=ws,sr.la=nn,xt.Hc=$t,xt.Gc=Mt,xt.ia=43690&Mt?0:Ze.ia,Ye=!($t|Mt)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[ke.$b][ke.Za],ye.wa[ye.Y+ye.ja].La|=!Ye),Pe.Ka)return xr(Ce,7,"Premature end-of-file encountered.")}if(tl(Ce),ye=Oe,Pe=1,ke=(me=Ce).D,Me=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(ke.M=me.M,ke.uc=Me,rA(me,ke),Pe=1,ke=(jt=me.D).Nb,Me=(Mt=Nf[me.L])*me.R,nt=Mt/2*me.B,hr=16*ke*me.R,xs=8*ke*me.B,Ye=me.sa,xt=me.ta-Me+hr,Ze=me.qa,Re=me.ra-nt+xs,Zt=me.Ha,sr=me.Ia-nt+xs,Ls=(ir=jt.M)==0,$t=ir>=me.Va-1,me.Aa==2&&rA(me,jt),jt.uc)for(Ps=(sn=me).D.M,e(sn.D.uc),jt=sn.yb;jt<sn.Hb;++jt){nn=jt,ws=Ps;var pn=(Nn=(Pr=sn).D).Nb;cr=Pr.R;var Nn=Nn.wa[Nn.Y+nn],ls=Pr.sa,ti=Pr.ta+16*pn*cr+16*nn,sA=Nn.dd,gn=Nn.tc;if(gn!=0)if(e(3<=gn),Pr.L==1)0<nn&&Pa(ls,ti,cr,gn+4),Nn.La&&Xs(ls,ti,cr,gn),0<ws&&ml(ls,ti,cr,gn+4),Nn.La&&Ad(ls,ti,cr,gn);else{var HA=Pr.B,pl=Pr.qa,wc=Pr.ra+8*pn*HA+8*nn,Oa=Pr.Ha,Pr=Pr.Ia+8*pn*HA+8*nn;pn=Nn.ld,0<nn&&(gf(ls,ti,cr,gn+4,sA,pn),dl(pl,wc,Oa,Pr,HA,gn+4,sA,pn)),Nn.La&&(La(ls,ti,cr,gn,sA,pn),vc(pl,wc,Oa,Pr,HA,gn,sA,pn)),0<ws&&(gc(ls,ti,cr,gn+4,sA,pn),id(pl,wc,Oa,Pr,HA,gn+4,sA,pn)),Nn.La&&(hl(ls,ti,cr,gn,sA,pn),fl(pl,wc,Oa,Pr,HA,gn,sA,pn))}}if(me.ia&&alert("todo:DitherRow"),ye.put!=null){if(jt=16*ir,ir=16*(ir+1),Ls?(ye.y=me.sa,ye.O=me.ta+hr,ye.f=me.qa,ye.N=me.ra+xs,ye.ea=me.Ha,ye.W=me.Ia+xs):(jt-=Mt,ye.y=Ye,ye.O=xt,ye.f=Ze,ye.N=Re,ye.ea=Zt,ye.W=sr),$t||(ir-=Mt),ir>ye.o&&(ir=ye.o),ye.F=null,ye.J=null,me.Fa!=null&&0<me.Fa.length&&jt<ir&&(ye.J=Ua(me,ye,jt,ir-jt),ye.F=me.mb,ye.F==null&&ye.F.length==0)){Pe=xr(me,3,"Could not decode alpha data.");break e}jt<ye.j&&(Mt=ye.j-jt,jt=ye.j,e(!(1&Mt)),ye.O+=me.R*Mt,ye.N+=me.B*(Mt>>1),ye.W+=me.B*(Mt>>1),ye.F!=null&&(ye.J+=ye.width*Mt)),jt<ir&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=jt-ye.j,ye.U=ye.va-ye.v,ye.T=ir-jt,Pe=ye.put(ye))}ke+1!=me.Ic||$t||(n(me.sa,me.ta-Me,Ye,xt+16*me.R,Me),n(me.qa,me.ra-nt,Ze,Re+8*me.B,nt),n(me.Ha,me.Ia-nt,Zt,sr+8*me.B,nt))}if(!Pe)return xr(Ce,6,"Output aborted.")}return 1}(u,m)),m.bc!=null&&m.bc(m),x&=1}return x?(u.cb=0,x):0}function gs(u,m,x,I,R){R=u[m+x+32*I]+(R>>3),u[m+x+32*I]=-256&R?0>R?0:255:R}function va(u,m,x,I,R,H){gs(u,m,0,x,I+R),gs(u,m,1,x,I+H),gs(u,m,2,x,I-H),gs(u,m,3,x,I-R)}function Lr(u){return(20091*u>>16)+u}function As(u,m,x,I){var R,H=0,K=i(16);for(R=0;4>R;++R){var G=u[m+0]+u[m+8],W=u[m+0]-u[m+8],se=(35468*u[m+4]>>16)-Lr(u[m+12]),fe=Lr(u[m+4])+(35468*u[m+12]>>16);K[H+0]=G+fe,K[H+1]=W+se,K[H+2]=W-se,K[H+3]=G-fe,H+=4,m++}for(R=H=0;4>R;++R)G=(u=K[H+0]+4)+K[H+8],W=u-K[H+8],se=(35468*K[H+4]>>16)-Lr(K[H+12]),gs(x,I,0,0,G+(fe=Lr(K[H+4])+(35468*K[H+12]>>16))),gs(x,I,1,0,W+se),gs(x,I,2,0,W-se),gs(x,I,3,0,G-fe),H++,I+=32}function IA(u,m,x,I){var R=u[m+0]+4,H=35468*u[m+4]>>16,K=Lr(u[m+4]),G=35468*u[m+1]>>16;va(x,I,0,R+K,u=Lr(u[m+1]),G),va(x,I,1,R+H,u,G),va(x,I,2,R-H,u,G),va(x,I,3,R-K,u,G)}function ya(u,m,x,I,R){As(u,m,x,I),R&&As(u,m+16,x,I+4)}function rl(u,m,x,I){DA(u,m+0,x,I,1),DA(u,m+32,x,I+128,1)}function nr(u,m,x,I){var R;for(u=u[m+0]+4,R=0;4>R;++R)for(m=0;4>m;++m)gs(x,I,m,R,u)}function FA(u,m,x,I){u[m+0]&&os(u,m+0,x,I),u[m+16]&&os(u,m+16,x,I+4),u[m+32]&&os(u,m+32,x,I+128),u[m+48]&&os(u,m+48,x,I+128+4)}function kA(u,m,x,I){var R,H=i(16);for(R=0;4>R;++R){var K=u[m+0+R]+u[m+12+R],G=u[m+4+R]+u[m+8+R],W=u[m+4+R]-u[m+8+R],se=u[m+0+R]-u[m+12+R];H[0+R]=K+G,H[8+R]=K-G,H[4+R]=se+W,H[12+R]=se-W}for(R=0;4>R;++R)K=(u=H[0+4*R]+3)+H[3+4*R],G=H[1+4*R]+H[2+4*R],W=H[1+4*R]-H[2+4*R],se=u-H[3+4*R],x[I+0]=K+G>>3,x[I+16]=se+W>>3,x[I+32]=K-G>>3,x[I+48]=se-W>>3,I+=64}function vi(u,m,x){var I,R=m-32,H=js,K=255-u[R-1];for(I=0;I<x;++I){var G,W=H,se=K+u[m-1];for(G=0;G<x;++G)u[m+G]=W[se+u[R+G]];m+=32}}function Xu(u,m){vi(u,m,4)}function ic(u,m){vi(u,m,8)}function Ju(u,m){vi(u,m,16)}function yi(u,m){var x;for(x=0;16>x;++x)n(u,m+32*x,u,m-32,16)}function wa(u,m){var x;for(x=16;0<x;--x)s(u,m,u[m-1],16),m+=32}function xa(u,m,x){var I;for(I=0;16>I;++I)s(m,x+32*I,u,16)}function Xi(u,m){var x,I=16;for(x=0;16>x;++x)I+=u[m-1+32*x]+u[m+x-32];xa(I>>5,u,m)}function Br(u,m){var x,I=8;for(x=0;16>x;++x)I+=u[m-1+32*x];xa(I>>4,u,m)}function Ac(u,m){var x,I=8;for(x=0;16>x;++x)I+=u[m+x-32];xa(I>>4,u,m)}function nl(u,m){xa(128,u,m)}function _t(u,m,x){return u+2*m+x+2>>2}function Ji(u,m){var x,I=m-32;for(I=new Uint8Array([_t(u[I-1],u[I+0],u[I+1]),_t(u[I+0],u[I+1],u[I+2]),_t(u[I+1],u[I+2],u[I+3]),_t(u[I+2],u[I+3],u[I+4])]),x=0;4>x;++x)n(u,m+32*x,I,0,I.length)}function Zu(u,m){var x=u[m-1],I=u[m-1+32],R=u[m-1+64],H=u[m-1+96];q(u,m+0,16843009*_t(u[m-1-32],x,I)),q(u,m+32,16843009*_t(x,I,R)),q(u,m+64,16843009*_t(I,R,H)),q(u,m+96,16843009*_t(R,H,H))}function $s(u,m){var x,I=4;for(x=0;4>x;++x)I+=u[m+x-32]+u[m-1+32*x];for(I>>=3,x=0;4>x;++x)s(u,m+32*x,I,4)}function ac(u,m){var x=u[m-1+0],I=u[m-1+32],R=u[m-1+64],H=u[m-1-32],K=u[m+0-32],G=u[m+1-32],W=u[m+2-32],se=u[m+3-32];u[m+0+96]=_t(I,R,u[m-1+96]),u[m+1+96]=u[m+0+64]=_t(x,I,R),u[m+2+96]=u[m+1+64]=u[m+0+32]=_t(H,x,I),u[m+3+96]=u[m+2+64]=u[m+1+32]=u[m+0+0]=_t(K,H,x),u[m+3+64]=u[m+2+32]=u[m+1+0]=_t(G,K,H),u[m+3+32]=u[m+2+0]=_t(W,G,K),u[m+3+0]=_t(se,W,G)}function Ts(u,m){var x=u[m+1-32],I=u[m+2-32],R=u[m+3-32],H=u[m+4-32],K=u[m+5-32],G=u[m+6-32],W=u[m+7-32];u[m+0+0]=_t(u[m+0-32],x,I),u[m+1+0]=u[m+0+32]=_t(x,I,R),u[m+2+0]=u[m+1+32]=u[m+0+64]=_t(I,R,H),u[m+3+0]=u[m+2+32]=u[m+1+64]=u[m+0+96]=_t(R,H,K),u[m+3+32]=u[m+2+64]=u[m+1+96]=_t(H,K,G),u[m+3+64]=u[m+2+96]=_t(K,G,W),u[m+3+96]=_t(G,W,W)}function Ba(u,m){var x=u[m-1+0],I=u[m-1+32],R=u[m-1+64],H=u[m-1-32],K=u[m+0-32],G=u[m+1-32],W=u[m+2-32],se=u[m+3-32];u[m+0+0]=u[m+1+64]=H+K+1>>1,u[m+1+0]=u[m+2+64]=K+G+1>>1,u[m+2+0]=u[m+3+64]=G+W+1>>1,u[m+3+0]=W+se+1>>1,u[m+0+96]=_t(R,I,x),u[m+0+64]=_t(I,x,H),u[m+0+32]=u[m+1+96]=_t(x,H,K),u[m+1+32]=u[m+2+96]=_t(H,K,G),u[m+2+32]=u[m+3+96]=_t(K,G,W),u[m+3+32]=_t(G,W,se)}function sl(u,m){var x=u[m+0-32],I=u[m+1-32],R=u[m+2-32],H=u[m+3-32],K=u[m+4-32],G=u[m+5-32],W=u[m+6-32],se=u[m+7-32];u[m+0+0]=x+I+1>>1,u[m+1+0]=u[m+0+64]=I+R+1>>1,u[m+2+0]=u[m+1+64]=R+H+1>>1,u[m+3+0]=u[m+2+64]=H+K+1>>1,u[m+0+32]=_t(x,I,R),u[m+1+32]=u[m+0+96]=_t(I,R,H),u[m+2+32]=u[m+1+96]=_t(R,H,K),u[m+3+32]=u[m+2+96]=_t(H,K,G),u[m+3+64]=_t(K,G,W),u[m+3+96]=_t(G,W,se)}function ba(u,m){var x=u[m-1+0],I=u[m-1+32],R=u[m-1+64],H=u[m-1+96];u[m+0+0]=x+I+1>>1,u[m+2+0]=u[m+0+32]=I+R+1>>1,u[m+2+32]=u[m+0+64]=R+H+1>>1,u[m+1+0]=_t(x,I,R),u[m+3+0]=u[m+1+32]=_t(I,R,H),u[m+3+32]=u[m+1+64]=_t(R,H,H),u[m+3+64]=u[m+2+64]=u[m+0+96]=u[m+1+96]=u[m+2+96]=u[m+3+96]=H}function Ca(u,m){var x=u[m-1+0],I=u[m-1+32],R=u[m-1+64],H=u[m-1+96],K=u[m-1-32],G=u[m+0-32],W=u[m+1-32],se=u[m+2-32];u[m+0+0]=u[m+2+32]=x+K+1>>1,u[m+0+32]=u[m+2+64]=I+x+1>>1,u[m+0+64]=u[m+2+96]=R+I+1>>1,u[m+0+96]=H+R+1>>1,u[m+3+0]=_t(G,W,se),u[m+2+0]=_t(K,G,W),u[m+1+0]=u[m+3+32]=_t(x,K,G),u[m+1+32]=u[m+3+64]=_t(I,x,K),u[m+1+64]=u[m+3+96]=_t(R,I,x),u[m+1+96]=_t(H,R,I)}function oc(u,m){var x;for(x=0;8>x;++x)n(u,m+32*x,u,m-32,8)}function wi(u,m){var x;for(x=0;8>x;++x)s(u,m,u[m-1],8),m+=32}function Us(u,m,x){var I;for(I=0;8>I;++I)s(m,x+32*I,u,8)}function xi(u,m){var x,I=8;for(x=0;8>x;++x)I+=u[m+x-32]+u[m-1+32*x];Us(I>>4,u,m)}function il(u,m){var x,I=4;for(x=0;8>x;++x)I+=u[m+x-32];Us(I>>3,u,m)}function er(u,m){var x,I=4;for(x=0;8>x;++x)I+=u[m-1+32*x];Us(I>>3,u,m)}function Al(u,m){Us(128,u,m)}function Ea(u,m,x){var I=u[m-x],R=u[m+0],H=3*(R-I)+g0[1020+u[m-2*x]-u[m+x]],K=yf[112+(H+4>>3)];u[m-x]=js[255+I+yf[112+(H+3>>3)]],u[m+0]=js[255+R-K]}function al(u,m,x,I){var R=u[m+0],H=u[m+x];return Zs[255+u[m-2*x]-u[m-x]]>I||Zs[255+H-R]>I}function ol(u,m,x,I){return 4*Zs[255+u[m-x]-u[m+0]]+Zs[255+u[m-2*x]-u[m+x]]<=I}function ll(u,m,x,I,R){var H=u[m-3*x],K=u[m-2*x],G=u[m-x],W=u[m+0],se=u[m+x],fe=u[m+2*x],Ne=u[m+3*x];return 4*Zs[255+G-W]+Zs[255+K-se]>I?0:Zs[255+u[m-4*x]-H]<=R&&Zs[255+H-K]<=R&&Zs[255+K-G]<=R&&Zs[255+Ne-fe]<=R&&Zs[255+fe-se]<=R&&Zs[255+se-W]<=R}function TA(u,m,x,I){var R=2*I+1;for(I=0;16>I;++I)ol(u,m+I,x,R)&&Ea(u,m+I,x)}function Qs(u,m,x,I){var R=2*I+1;for(I=0;16>I;++I)ol(u,m+I*x,1,R)&&Ea(u,m+I*x,1)}function cn(u,m,x,I){var R;for(R=3;0<R;--R)TA(u,m+=4*x,x,I)}function lc(u,m,x,I){var R;for(R=3;0<R;--R)Qs(u,m+=4,x,I)}function Zi(u,m,x,I,R,H,K,G){for(H=2*H+1;0<R--;){if(ll(u,m,x,H,K))if(al(u,m,x,G))Ea(u,m,x);else{var W=u,se=m,fe=x,Ne=W[se-2*fe],Se=W[se-fe],Ce=W[se+0],Oe=W[se+fe],ke=W[se+2*fe],me=27*(Pe=g0[1020+3*(Ce-Se)+g0[1020+Ne-Oe]])+63>>7,ye=18*Pe+63>>7,Pe=9*Pe+63>>7;W[se-3*fe]=js[255+W[se-3*fe]+Pe],W[se-2*fe]=js[255+Ne+ye],W[se-fe]=js[255+Se+me],W[se+0]=js[255+Ce-me],W[se+fe]=js[255+Oe-ye],W[se+2*fe]=js[255+ke-Pe]}m+=I}}function Cn(u,m,x,I,R,H,K,G){for(H=2*H+1;0<R--;){if(ll(u,m,x,H,K))if(al(u,m,x,G))Ea(u,m,x);else{var W=u,se=m,fe=x,Ne=W[se-fe],Se=W[se+0],Ce=W[se+fe],Oe=yf[112+((ke=3*(Se-Ne))+4>>3)],ke=yf[112+(ke+3>>3)],me=Oe+1>>1;W[se-2*fe]=js[255+W[se-2*fe]+me],W[se-fe]=js[255+Ne+ke],W[se+0]=js[255+Se-Oe],W[se+fe]=js[255+Ce-me]}m+=I}}function _a(u,m,x,I,R,H){Zi(u,m,x,1,16,I,R,H)}function Bi(u,m,x,I,R,H){Zi(u,m,1,x,16,I,R,H)}function Na(u,m,x,I,R,H){var K;for(K=3;0<K;--K)Cn(u,m+=4*x,x,1,16,I,R,H)}function UA(u,m,x,I,R,H){var K;for(K=3;0<K;--K)Cn(u,m+=4,1,x,16,I,R,H)}function Sa(u,m,x,I,R,H,K,G){Zi(u,m,R,1,8,H,K,G),Zi(x,I,R,1,8,H,K,G)}function cl(u,m,x,I,R,H,K,G){Zi(u,m,1,R,8,H,K,G),Zi(x,I,1,R,8,H,K,G)}function Ia(u,m,x,I,R,H,K,G){Cn(u,m+4*R,R,1,8,H,K,G),Cn(x,I+4*R,R,1,8,H,K,G)}function eA(u,m,x,I,R,H,K,G){Cn(u,m+4,1,R,8,H,K,G),Cn(x,I+4,1,R,8,H,K,G)}function QA(){this.ba=new rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ka(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new j}function cc(){this.xb=this.a=0,this.l=new SA,this.ca=new rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ka,this.ab=0,this.gc=A(4,jA),this.Oc=0}function bi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new SA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tA(u,m,x,I,R,H,K){for(u=u==null?0:u[m+0],m=0;m<K;++m)R[H+m]=u+x[I+m]&255,u=R[H+m]}function Ta(u,m,x,I,R,H,K){var G;if(u==null)tA(null,null,x,I,R,H,K);else for(G=0;G<K;++G)R[H+G]=u[m+G]+x[I+G]&255}function Rn(u,m,x,I,R,H,K){if(u==null)tA(null,null,x,I,R,H,K);else{var G,W=u[m+0],se=W,fe=W;for(G=0;G<K;++G)se=fe+(W=u[m+G])-se,fe=x[I+G]+(-256&se?0>se?0:255:se)&255,se=W,R[H+G]=fe}}function Ua(u,m,x,I){var R=m.width,H=m.o;if(e(u!=null&&m!=null),0>x||0>=I||x+I>H)return null;if(!u.Cc){if(u.ga==null){var K;if(u.ga=new bi,(K=u.ga==null)||(K=m.width*m.o,e(u.Gb.length==0),u.Gb=i(K),u.Uc=0,u.Gb==null?K=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,K=1),K=!K),!K){K=u.ga;var G=u.Fa,W=u.P,se=u.qc,fe=u.mb,Ne=u.nb,Se=W+1,Ce=se-1,Oe=K.l;if(e(G!=null&&fe!=null&&m!=null),Ra[0]=null,Ra[1]=tA,Ra[2]=Ta,Ra[3]=Rn,K.ca=fe,K.tb=Ne,K.c=m.width,K.i=m.height,e(0<K.c&&0<K.i),1>=se)m=0;else if(K.$a=G[W+0]>>0&3,K.Z=G[W+0]>>2&3,K.Lc=G[W+0]>>4&3,W=G[W+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||W)m=0;else if(Oe.put=Ir,Oe.ac=lr,Oe.bc=mn,Oe.ma=K,Oe.width=m.width,Oe.height=m.height,Oe.Da=m.Da,Oe.v=m.v,Oe.va=m.va,Oe.j=m.j,Oe.o=m.o,K.$a)e:{e(K.$a==1),m=Kr();t:for(;;){if(m==null){m=0;break e}if(e(K!=null),K.mc=m,m.c=K.c,m.i=K.i,m.l=K.l,m.l.ma=K,m.l.width=K.c,m.l.height=K.i,m.a=0,M(m.m,G,Se,Ce),!ks(K.c,K.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&pi(m.s)?(K.ic=1,G=m.c*m.i,m.Ta=null,m.Ua=0,m.V=i(G),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(K.ic=0,m=Gi(m,K.c)),!m))break t;m=1;break e}K.mc=null,m=0}else m=Ce>=K.c*K.i;K=!m}if(K)return null;u.ga.Lc!=1?u.Ga=0:I=H-x}e(u.ga!=null),e(x+I<=H);e:{if(m=(G=u.ga).c,H=G.l.o,G.$a==0){if(Se=u.rc,Ce=u.Vc,Oe=u.Fa,W=u.P+1+x*m,se=u.mb,fe=u.nb+x*m,e(W<=u.P+u.qc),G.Z!=0)for(e(Ra[G.Z]!=null),K=0;K<I;++K)Ra[G.Z](Se,Ce,Oe,W,se,fe,m),Se=se,Ce=fe,fe+=m,W+=m;else for(K=0;K<I;++K)n(se,fe,Oe,W,m),Se=se,Ce=fe,fe+=m,W+=m;u.rc=Se,u.Vc=Ce}else{if(e(G.mc!=null),m=x+I,e((K=G.mc)!=null),e(m<=K.i),K.C>=m)m=1;else if(G.ic||Be(),G.ic){G=K.V,Se=K.Ba,Ce=K.c;var ke=K.i,me=(Oe=1,W=K.$/Ce,se=K.$%Ce,fe=K.m,Ne=K.s,K.$),ye=Ce*ke,Pe=Ce*m,Me=Ne.wc,Re=me<Pe?jr(Ne,se,W):null;e(me<=ye),e(m<=ke),e(pi(Ne));t:for(;;){for(;!fe.h&&me<Pe;){if(se&Me||(Re=jr(Ne,se,W)),e(Re!=null),J(fe),256>(ke=tn(Re.G[0],Re.H[0],fe)))G[Se+me]=ke,++me,++se>=Ce&&(se=0,++W<=m&&!(W%16)&&ps(K,W));else{if(!(280>ke)){Oe=0;break t}ke=ms(ke-256,fe);var nt,Ye=tn(Re.G[4],Re.H[4],fe);if(J(fe),!(me>=(Ye=Pn(Ce,Ye=ms(Ye,fe)))&&ye-me>=ke)){Oe=0;break t}for(nt=0;nt<ke;++nt)G[Se+me+nt]=G[Se+me+nt-Ye];for(me+=ke,se+=ke;se>=Ce;)se-=Ce,++W<=m&&!(W%16)&&ps(K,W);me<Pe&&se&Me&&(Re=jr(Ne,se,W))}e(fe.h==Y(fe))}ps(K,W>m?m:W);break t}!Oe||fe.h&&me<ye?(Oe=0,K.a=fe.h?5:3):K.$=me,m=Oe}else m=ss(K,K.V,K.Ba,K.c,K.i,m,qi);if(!m){I=0;break e}}x+I>=H&&(u.Cc=1),I=1}if(!I)return null;if(u.Cc&&((I=u.ga)!=null&&(I.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+x*R}function v(u,m,x,I,R,H){for(;0<R--;){var K,G=u,W=m+(x?1:0),se=u,fe=m+(x?0:3);for(K=0;K<I;++K){var Ne=se[fe+4*K];Ne!=255&&(Ne*=32897,G[W+4*K+0]=G[W+4*K+0]*Ne>>23,G[W+4*K+1]=G[W+4*K+1]*Ne>>23,G[W+4*K+2]=G[W+4*K+2]*Ne>>23)}m+=H}}function D(u,m,x,I,R){for(;0<I--;){var H;for(H=0;H<x;++H){var K=u[m+2*H+0],G=15&(se=u[m+2*H+1]),W=4369*G,se=(240&se|se>>4)*W>>16;u[m+2*H+0]=(240&K|K>>4)*W>>16&240|(15&K|K<<4)*W>>16>>4&15,u[m+2*H+1]=240&se|G}m+=R}}function ie(u,m,x,I,R,H,K,G){var W,se,fe=255;for(se=0;se<R;++se){for(W=0;W<I;++W){var Ne=u[m+W];H[K+4*W]=Ne,fe&=Ne}m+=x,K+=G}return fe!=255}function he(u,m,x,I,R){var H;for(H=0;H<R;++H)x[I+H]=u[m+H]>>8}function Be(){Js=v,pr=D,gr=ie,Gr=he}function Te(u,m,x){B[u]=function(I,R,H,K,G,W,se,fe,Ne,Se,Ce,Oe,ke,me,ye,Pe,Me){var Re,nt=Me-1>>1,Ye=G[W+0]|se[fe+0]<<16,xt=Ne[Se+0]|Ce[Oe+0]<<16;e(I!=null);var Ze=3*Ye+xt+131074>>2;for(m(I[R+0],255&Ze,Ze>>16,ke,me),H!=null&&(Ze=3*xt+Ye+131074>>2,m(H[K+0],255&Ze,Ze>>16,ye,Pe)),Re=1;Re<=nt;++Re){var Zt=G[W+Re]|se[fe+Re]<<16,sr=Ne[Se+Re]|Ce[Oe+Re]<<16,$t=Ye+Zt+xt+sr+524296,Mt=$t+2*(Zt+xt)>>3;Ze=Mt+Ye>>1,Ye=($t=$t+2*(Ye+sr)>>3)+Zt>>1,m(I[R+2*Re-1],255&Ze,Ze>>16,ke,me+(2*Re-1)*x),m(I[R+2*Re-0],255&Ye,Ye>>16,ke,me+(2*Re-0)*x),H!=null&&(Ze=$t+xt>>1,Ye=Mt+sr>>1,m(H[K+2*Re-1],255&Ze,Ze>>16,ye,Pe+(2*Re-1)*x),m(H[K+2*Re+0],255&Ye,Ye>>16,ye,Pe+(2*Re+0)*x)),Ye=Zt,xt=sr}1&Me||(Ze=3*Ye+xt+131074>>2,m(I[R+Me-1],255&Ze,Ze>>16,ke,me+(Me-1)*x),H!=null&&(Ze=3*xt+Ye+131074>>2,m(H[K+Me-1],255&Ze,Ze>>16,ye,Pe+(Me-1)*x)))}}function Ve(){ei[wf]=fF,ei[xf]=sx,ei[Z2]=mF,ei[Bf]=ix,ei[bf]=Ax,ei[v0]=ax,ei[ex]=pF,ei[y0]=sx,ei[w0]=ix,ei[Cf]=Ax,ei[x0]=ax}function Xe(u){return u&~gF?0>u?0:255:u>>ox}function d(u,m){return Xe((19077*u>>8)+(26149*m>>8)-14234)}function C(u,m,x){return Xe((19077*u>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function U(u,m){return Xe((19077*u>>8)+(33050*m>>8)-17685)}function z(u,m,x,I,R){I[R+0]=d(u,x),I[R+1]=C(u,m,x),I[R+2]=U(u,m)}function we(u,m,x,I,R){I[R+0]=U(u,m),I[R+1]=C(u,m,x),I[R+2]=d(u,x)}function Ie(u,m,x,I,R){var H=C(u,m,x);m=H<<3&224|U(u,m)>>3,I[R+0]=248&d(u,x)|H>>5,I[R+1]=m}function Ke(u,m,x,I,R){var H=240&U(u,m)|15;I[R+0]=240&d(u,x)|C(u,m,x)>>4,I[R+1]=H}function Ft(u,m,x,I,R){I[R+0]=255,z(u,m,x,I,R+1)}function Ht(u,m,x,I,R){we(u,m,x,I,R),I[R+3]=255}function kt(u,m,x,I,R){z(u,m,x,I,R),I[R+3]=255}function tr(u,m){return 0>u?0:u>m?m:u}function dr(u,m,x){B[u]=function(I,R,H,K,G,W,se,fe,Ne){for(var Se=fe+(-2&Ne)*x;fe!=Se;)m(I[R+0],H[K+0],G[W+0],se,fe),m(I[R+1],H[K+0],G[W+0],se,fe+x),R+=2,++K,++W,fe+=2*x;1&Ne&&m(I[R+0],H[K+0],G[W+0],se,fe)}}function Ci(u,m,x){return x==0?u==0?m==0?6:5:m==0?4:0:x}function En(u,m,x,I,R){switch(u>>>30){case 3:DA(m,x,I,R,0);break;case 2:zr(m,x,I,R);break;case 1:os(m,x,I,R)}}function rA(u,m){var x,I,R=m.M,H=m.Nb,K=u.oc,G=u.pc+40,W=u.oc,se=u.pc+584,fe=u.oc,Ne=u.pc+600;for(x=0;16>x;++x)K[G+32*x-1]=129;for(x=0;8>x;++x)W[se+32*x-1]=129,fe[Ne+32*x-1]=129;for(0<R?K[G-1-32]=W[se-1-32]=fe[Ne-1-32]=129:(s(K,G-32-1,127,21),s(W,se-32-1,127,9),s(fe,Ne-32-1,127,9)),I=0;I<u.za;++I){var Se=m.ya[m.aa+I];if(0<I){for(x=-1;16>x;++x)n(K,G+32*x-4,K,G+32*x+12,4);for(x=-1;8>x;++x)n(W,se+32*x-4,W,se+32*x+4,4),n(fe,Ne+32*x-4,fe,Ne+32*x+4,4)}var Ce=u.Gd,Oe=u.Hd+I,ke=Se.ad,me=Se.Hc;if(0<R&&(n(K,G-32,Ce[Oe].y,0,16),n(W,se-32,Ce[Oe].f,0,8),n(fe,Ne-32,Ce[Oe].ea,0,8)),Se.Za){var ye=K,Pe=G-32+16;for(0<R&&(I>=u.za-1?s(ye,Pe,Ce[Oe].y[15],4):n(ye,Pe,Ce[Oe+1].y,0,4)),x=0;4>x;x++)ye[Pe+128+x]=ye[Pe+256+x]=ye[Pe+384+x]=ye[Pe+0+x];for(x=0;16>x;++x,me<<=2)ye=K,Pe=G+cx[x],Ei[Se.Ob[x]](ye,Pe),En(me,ke,16*+x,ye,Pe)}else if(ye=Ci(I,R,Se.Ob[0]),Da[ye](K,G),me!=0)for(x=0;16>x;++x,me<<=2)En(me,ke,16*+x,K,G+cx[x]);for(x=Se.Gc,ye=Ci(I,R,Se.Dd),OA[ye](W,se),OA[ye](fe,Ne),me=ke,ye=W,Pe=se,255&(Se=x>>0)&&(170&Se?sd(me,256,ye,Pe):Ys(me,256,ye,Pe)),Se=fe,me=Ne,255&(x>>=8)&&(170&x?sd(ke,320,Se,me):Ys(ke,320,Se,me)),R<u.Ub-1&&(n(Ce[Oe].y,0,K,G+480,16),n(Ce[Oe].f,0,W,se+224,8),n(Ce[Oe].ea,0,fe,Ne+224,8)),x=8*H*u.B,Ce=u.sa,Oe=u.ta+16*I+16*H*u.R,ke=u.qa,Se=u.ra+8*I+x,me=u.Ha,ye=u.Ia+8*I+x,x=0;16>x;++x)n(Ce,Oe+x*u.R,K,G+32*x,16);for(x=0;8>x;++x)n(ke,Se+x*u.B,W,se+32*x,8),n(me,ye+x*u.B,fe,Ne+32*x,8)}}function nA(u,m,x,I,R,H,K,G,W){var se=[0],fe=[0],Ne=0,Se=W!=null?W.kd:0,Ce=W??new Fa;if(u==null||12>x)return 7;Ce.data=u,Ce.w=m,Ce.ha=x,m=[m],x=[x],Ce.gb=[Ce.gb];e:{var Oe=m,ke=x,me=Ce.gb;if(e(u!=null),e(ke!=null),e(me!=null),me[0]=0,12<=ke[0]&&!r(u,Oe[0],"RIFF")){if(r(u,Oe[0]+8,"WEBP")){me=3;break e}var ye=Ee(u,Oe[0]+4);if(12>ye||4294967286<ye){me=3;break e}if(Se&&ye>ke[0]-8){me=7;break e}me[0]=ye,Oe[0]+=12,ke[0]-=12}me=0}if(me!=0)return me;for(ye=0<Ce.gb[0],x=x[0];;){e:{var Pe=u;ke=m,me=x;var Me=se,Re=fe,nt=Oe=[0];if((Ze=Ne=[Ne])[0]=0,8>me[0])me=7;else{if(!r(Pe,ke[0],"VP8X")){if(Ee(Pe,ke[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Ye=Ee(Pe,ke[0]+8),xt=1+ge(Pe,ke[0]+12);if(2147483648<=xt*(Pe=1+ge(Pe,ke[0]+15))){me=3;break e}nt!=null&&(nt[0]=Ye),Me!=null&&(Me[0]=xt),Re!=null&&(Re[0]=Pe),ke[0]+=18,me[0]-=18,Ze[0]=1}me=0}}if(Ne=Ne[0],Oe=Oe[0],me!=0)return me;if(ke=!!(2&Oe),!ye&&Ne)return 3;if(H!=null&&(H[0]=!!(16&Oe)),K!=null&&(K[0]=ke),G!=null&&(G[0]=0),K=se[0],Oe=fe[0],Ne&&ke&&W==null){me=0;break}if(4>x){me=7;break}if(ye&&Ne||!ye&&!Ne&&!r(u,m[0],"ALPH")){x=[x],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Ye=u,me=m,ye=x;var Ze=Ce.gb;Me=Ce.na,Re=Ce.P,nt=Ce.Sa,xt=22,e(Ye!=null),e(ye!=null),Pe=me[0];var Zt=ye[0];for(e(Me!=null),e(nt!=null),Me[0]=null,Re[0]=null,nt[0]=0;;){if(me[0]=Pe,ye[0]=Zt,8>Zt){me=7;break e}var sr=Ee(Ye,Pe+4);if(4294967286<sr){me=3;break e}var $t=8+sr+1&-2;if(xt+=$t,0<Ze&&xt>Ze){me=3;break e}if(!r(Ye,Pe,"VP8 ")||!r(Ye,Pe,"VP8L")){me=0;break e}if(Zt[0]<$t){me=7;break e}r(Ye,Pe,"ALPH")||(Me[0]=Ye,Re[0]=Pe+8,nt[0]=sr),Pe+=$t,Zt-=$t}}if(x=x[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],me!=0)break}x=[x],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Ze=u,me=m,ye=x,Me=Ce.gb[0],Re=Ce.Ja,nt=Ce.xa,Ye=me[0],Pe=!r(Ze,Ye,"VP8 "),xt=!r(Ze,Ye,"VP8L"),e(Ze!=null),e(ye!=null),e(Re!=null),e(nt!=null),8>ye[0])me=7;else{if(Pe||xt){if(Ze=Ee(Ze,Ye+4),12<=Me&&Ze>Me-12){me=3;break e}if(Se&&Ze>ye[0]-8){me=7;break e}Re[0]=Ze,me[0]+=8,ye[0]-=8,nt[0]=xt}else nt[0]=5<=ye[0]&&Ze[Ye+0]==47&&!(Ze[Ye+4]>>5),Re[0]=ye[0];me=0}if(x=x[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],m=m[0],me!=0)break;if(4294967286<Ce.Ja)return 3;if(G==null||ke||(G[0]=Ce.xa?2:1),K=[K],Oe=[Oe],Ce.xa){if(5>x){me=7;break}G=K,Se=Oe,ke=H,u==null||5>x?u=0:5<=x&&u[m+0]==47&&!(u[m+4]>>5)?(ye=[0],Ze=[0],Me=[0],M(Re=new Q,u,m,x),ot(Re,ye,Ze,Me)?(G!=null&&(G[0]=ye[0]),Se!=null&&(Se[0]=Ze[0]),ke!=null&&(ke[0]=Me[0]),u=1):u=0):u=0}else{if(10>x){me=7;break}G=Oe,u==null||10>x||!Zo(u,m+3,x-3)?u=0:(Se=u[m+0]|u[m+1]<<8|u[m+2]<<16,ke=16383&(u[m+7]<<8|u[m+6]),u=16383&(u[m+9]<<8|u[m+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Ce.Ja||!ke||!u?u=0:(K&&(K[0]=ke),G&&(G[0]=u),u=1))}if(!u||(K=K[0],Oe=Oe[0],Ne&&(se[0]!=K||fe[0]!=Oe)))return 3;W!=null&&(W[0]=Ce,W.offset=m-W.w,e(4294967286>m-W.w),e(W.offset==W.ha-x));break}return me==0||me==7&&Ne&&W==null?(H!=null&&(H[0]|=Ce.na!=null&&0<Ce.na.length),I!=null&&(I[0]=K),R!=null&&(R[0]=Oe),0):me}function ed(u,m,x){var I=m.width,R=m.height,H=0,K=0,G=I,W=R;if(m.Da=u!=null&&0<u.Da,m.Da&&(G=u.cd,W=u.bd,H=u.v,K=u.j,11>x||(H&=-2,K&=-2),0>H||0>K||0>=G||0>=W||H+G>I||K+W>R))return 0;if(m.v=H,m.j=K,m.va=H+G,m.o=K+W,m.U=G,m.T=W,m.da=u!=null&&0<u.da,m.da){if(!te(G,W,x=[u.ib],H=[u.hb]))return 0;m.ib=x[0],m.hb=H[0]}return m.ob=u!=null&&u.ob,m.Kb=u==null||!u.Sd,m.da&&(m.ob=m.ib<3*I/4&&m.hb<3*R/4,m.Kb=0),1}function td(u){if(u==null)return 2;if(11>u.S){var m=u.f.RGBA;m.fb+=(u.height-1)*m.A,m.A=-m.A}else m=u.f.kb,u=u.height,m.O+=(u-1)*m.fa,m.fa=-m.fa,m.N+=(u-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(u-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(u-1)*m.lb,m.lb=-m.lb);return 0}function uc(u,m,x,I){if(I==null||0>=u||0>=m)return 2;if(x!=null){if(x.Da){var R=x.cd,H=x.bd,K=-2&x.v,G=-2&x.j;if(0>K||0>G||0>=R||0>=H||K+R>u||G+H>m)return 2;u=R,m=H}if(x.da){if(!te(u,m,R=[x.ib],H=[x.hb]))return 2;u=R[0],m=H[0]}}I.width=u,I.height=m;e:{var W=I.width,se=I.height;if(u=I.S,0>=W||0>=se||!(u>=wf&&13>u))u=2;else{if(0>=I.Rd&&I.sd==null){K=H=R=m=0;var fe=(G=W*ux[u])*se;if(11>u||(H=(se+1)/2*(m=(W+1)/2),u==12&&(K=(R=W)*se)),(se=i(fe+2*H+K))==null){u=1;break e}I.sd=se,11>u?((W=I.f.RGBA).eb=se,W.fb=0,W.A=G,W.size=fe):((W=I.f.kb).y=se,W.O=0,W.fa=G,W.Fd=fe,W.f=se,W.N=0+fe,W.Ab=m,W.Cd=H,W.ea=se,W.W=0+fe+H,W.Db=m,W.Ed=H,u==12&&(W.F=se,W.J=0+fe+2*H),W.Tc=K,W.lb=R)}if(m=1,R=I.S,H=I.width,K=I.height,R>=wf&&13>R)if(11>R)u=I.f.RGBA,m&=(G=Math.abs(u.A))*(K-1)+H<=u.size,m&=G>=H*ux[R],m&=u.eb!=null;else{u=I.f.kb,G=(H+1)/2,fe=(K+1)/2,W=Math.abs(u.fa),se=Math.abs(u.Ab);var Ne=Math.abs(u.Db),Se=Math.abs(u.lb),Ce=Se*(K-1)+H;m&=W*(K-1)+H<=u.Fd,m&=se*(fe-1)+G<=u.Cd,m=(m&=Ne*(fe-1)+G<=u.Ed)&W>=H&se>=G&Ne>=G,m&=u.y!=null,m&=u.f!=null,m&=u.ea!=null,R==12&&(m&=Se>=H,m&=Ce<=u.Tc,m&=u.F!=null)}else m=0;u=m?0:2}}return u!=0||x!=null&&x.fd&&(u=td(I)),u}var _n=64,dc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hc=24,fc=32,rd=8,vs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(u){return u},B.Predictor2=function(u,m,x){return m[x+0]},B.Predictor3=function(u,m,x){return m[x+1]},B.Predictor4=function(u,m,x){return m[x-1]},B.Predictor5=function(u,m,x){return We(We(u,m[x+1]),m[x+0])},B.Predictor6=function(u,m,x){return We(u,m[x-1])},B.Predictor7=function(u,m,x){return We(u,m[x+0])},B.Predictor8=function(u,m,x){return We(m[x-1],m[x+0])},B.Predictor9=function(u,m,x){return We(m[x+0],m[x+1])},B.Predictor10=function(u,m,x){return We(We(u,m[x-1]),We(m[x+0],m[x+1]))},B.Predictor11=function(u,m,x){var I=m[x+0];return 0>=Ct(I>>24&255,u>>24&255,(m=m[x-1])>>24&255)+Ct(I>>16&255,u>>16&255,m>>16&255)+Ct(I>>8&255,u>>8&255,m>>8&255)+Ct(255&I,255&u,255&m)?I:u},B.Predictor12=function(u,m,x){var I=m[x+0];return(At((u>>24&255)+(I>>24&255)-((m=m[x-1])>>24&255))<<24|At((u>>16&255)+(I>>16&255)-(m>>16&255))<<16|At((u>>8&255)+(I>>8&255)-(m>>8&255))<<8|At((255&u)+(255&I)-(255&m)))>>>0},B.Predictor13=function(u,m,x){var I=m[x-1];return(vt((u=We(u,m[x+0]))>>24&255,I>>24&255)<<24|vt(u>>16&255,I>>16&255)<<16|vt(u>>8&255,I>>8&255)<<8|vt(u>>0&255,I>>0&255))>>>0};var p0=B.PredictorAdd0;B.PredictorAdd1=ft,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var nd=B.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var ff,Ws=B.ColorIndexInverseTransform,mc=B.MapARGB,mf=B.VP8LColorIndexInverseTransformAlpha,pf=B.MapAlpha,Qa=B.VP8LPredictorsAdd=[];Qa.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var ul,ys,as,ja,LA,PA,pc,DA,zr,sd,os,Ys,gc,gf,id,dl,hl,La,fl,vc,ml,Pa,Ad,Xs,Js,pr,gr,Gr,un=i(511),RA=i(2041),ad=i(225),yc=i(767),vf=0,g0=RA,yf=ad,js=yc,Zs=un,wf=0,xf=1,Z2=2,Bf=3,bf=4,v0=5,ex=6,y0=7,w0=8,Cf=9,x0=10,eF=[2,3,7],tF=[3,3,11],tx=[280,256,256,256,40],rF=[0,1,1,1,0],nF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],AF=8,B0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],b0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],od=null,aF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],uF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Da=[],Ei=[],OA=[],hF=1,nx=2,Ra=[],ei=[];Te("UpsampleRgbLinePair",z,3),Te("UpsampleBgrLinePair",we,3),Te("UpsampleRgbaLinePair",kt,4),Te("UpsampleBgraLinePair",Ht,4),Te("UpsampleArgbLinePair",Ft,4),Te("UpsampleRgba4444LinePair",Ke,2),Te("UpsampleRgb565LinePair",Ie,2);var fF=B.UpsampleRgbLinePair,mF=B.UpsampleBgrLinePair,sx=B.UpsampleRgbaLinePair,ix=B.UpsampleBgraLinePair,Ax=B.UpsampleArgbLinePair,ax=B.UpsampleRgba4444LinePair,pF=B.UpsampleRgb565LinePair,Ef=16,_f=1<<Ef-1,ld=-227,C0=482,ox=6,gF=(256<<ox)-1,lx=0,vF=i(256),yF=i(256),wF=i(256),xF=i(256),BF=i(C0-ld),bF=i(C0-ld);dr("YuvToRgbRow",z,3),dr("YuvToBgrRow",we,3),dr("YuvToRgbaRow",kt,4),dr("YuvToBgraRow",Ht,4),dr("YuvToArgbRow",Ft,4),dr("YuvToRgba4444Row",Ke,2),dr("YuvToRgb565Row",Ie,2);var cx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nf=[0,2,8],CF=[8,7,6,4,4,2,2,2,1,1,1,1],EF=1;this.WebPDecodeRGBA=function(u,m,x,I,R){var H=xf,K=new QA,G=new rt;K.ba=G,G.S=H,G.width=[G.width],G.height=[G.height];var W=G.width,se=G.height,fe=new mt;if(fe==null||u==null)var Ne=2;else e(fe!=null),Ne=nA(u,m,x,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ne!=0?W=0:(W!=null&&(W[0]=fe.width[0]),se!=null&&(se[0]=fe.height[0]),W=1),W){G.width=G.width[0],G.height=G.height[0],I!=null&&(I[0]=G.width),R!=null&&(R[0]=G.height);e:{if(I=new SA,(R=new Fa).data=u,R.w=m,R.ha=x,R.kd=1,m=[0],e(R!=null),((u=nA(R.data,R.w,R.ha,null,null,null,m,null,R))==0||u==7)&&m[0]&&(u=4),(m=u)==0){if(e(K!=null),I.data=R.data,I.w=R.w+R.offset,I.ha=R.ha-R.offset,I.put=Ir,I.ac=lr,I.bc=mn,I.ma=K,R.xa){if((u=Kr())==null){K=1;break e}if(function(Se,Ce){var Oe=[0],ke=[0],me=[0];t:for(;;){if(Se==null)return 0;if(Ce==null)return Se.a=2,0;if(Se.l=Ce,Se.a=0,M(Se.m,Ce.data,Ce.w,Ce.ha),!ot(Se.m,Oe,ke,me)){Se.a=3;break t}if(Se.xb=nx,Ce.width=Oe[0],Ce.height=ke[0],!ks(Oe[0],ke[0],1,Se,null))break t;return 1}return e(Se.a!=0),0}(u,I)){if(I=(m=uc(I.width,I.height,K.Oa,K.ba))==0){t:{I=u;r:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((x=I.l)!=null),e((R=x.ma)!=null),I.xb!=0){if(I.ca=R.ba,I.tb=R.tb,e(I.ca!=null),!ed(R.Oa,x,Bf)){I.a=2;break r}if(!Gi(I,x.width)||x.da)break r;if((x.da||$e(I.ca.S))&&Be(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Be()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Le(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!ss(I,I.V,I.Ba,I.c,I.i,x.o,pa))break r;R.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(m=u.a)}else m=u.a}else{if((u=new Jo)==null){K=1;break e}if(u.Fa=R.na,u.P=R.P,u.qc=R.Sa,el(u,I)){if((m=uc(I.width,I.height,K.Oa,K.ba))==0){if(u.Aa=0,x=K.Oa,e((R=u)!=null),x!=null){if(0<(W=0>(W=x.Md)?0:100<W?255:255*W/100)){for(se=fe=0;4>se;++se)12>(Ne=R.pb[se]).lc&&(Ne.ia=W*CF[0>Ne.lc?0:Ne.lc]>>3),fe|=Ne.ia;fe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=x.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}sc(u,I)||(m=u.a)}}else m=u.a}m==0&&K.Oa!=null&&K.Oa.fd&&(m=td(K.ba))}K=m}H=K!=0?null:11>H?G.f.RGBA.eb:G.f.kb.y}else H=null;return H};var ux=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(B,k){for(var P="",S=0;S<4;S++)P+=String.fromCharCode(B[k++]);return P}function h(B,k){return(B[k+0]<<0|B[k+1]<<8|B[k+2]<<16)>>>0}function f(B,k){return(B[k+0]<<0|B[k+1]<<8|B[k+2]<<16|B[k+3]<<24)>>>0}new l;var p=[0],g=[0],b=[],E=new l,N=t,w=function(B,k){var P={},S=0,j=!1,T=0,re=0;if(P.frames=[],!function(O,Y,Z,J){for(var ee=0;ee<J;ee++)if(O[Y+ee]!=Z.charCodeAt(ee))return!0;return!1}(B,k,"RIFF",4)){var xe,pe;for(f(B,k+=4),k+=8;k<B.length;){var ve=c(B,k),M=f(B,k+=4);k+=4;var oe=M+(1&M);switch(ve){case"VP8 ":case"VP8L":P.frames[S]===void 0&&(P.frames[S]={}),(Q=P.frames[S]).src_off=j?re:k-8,Q.src_size=T+M+8,S++,j&&(j=!1,T=0,re=0);break;case"VP8X":(Q=P.header={}).feature_flags=B[k];var X=k+4;Q.canvas_width=1+h(B,X),X+=3,Q.canvas_height=1+h(B,X),X+=3;break;case"ALPH":j=!0,T=oe+8,re=k-8;break;case"ANIM":(Q=P.header).bgcolor=f(B,k),X=k+4,Q.loop_count=(xe=B)[(pe=X)+0]<<0|xe[pe+1]<<8,X+=2;break;case"ANMF":var de,Q;(Q=P.frames[S]={}).offset_x=2*h(B,k),k+=3,Q.offset_y=2*h(B,k),k+=3,Q.width=1+h(B,k),k+=3,Q.height=1+h(B,k),k+=3,Q.duration=h(B,k),k+=3,de=B[k++],Q.dispose=1&de,Q.blend=de>>1&1}ve!="ANMF"&&(k+=oe)}return P}}(N,0);w.response=N,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,_=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],g=[y.canvas_width];for(var L=0;L<_.length&&_[L].blend!=0;L++);}var V=_[0],$=E.WebPDecodeRGBA(N,V.src_off,V.src_size,g,p);V.rgba=$,V.imgwidth=g[0],V.imgheight=p[0];for(var F=0;F<g[0]*p[0]*4;F++)b[F]=$[F];return this.width=g,this.height=p,this.data=b,this}(function(t){var e=function(){return typeof zy=="function"},r=function(p,g,b,E){var N=4,w=A;switch(E){case t.image_compression.FAST:N=1,w=i;break;case t.image_compression.MEDIUM:N=6,w=o;break;case t.image_compression.SLOW:N=9,w=l}p=n(p,g,b,w);var y=zy(p,{level:N});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(p,g,b,E){for(var N,w,y,_=p.length/g,L=new Uint8Array(p.length+_),V=h(),$=0;$<_;$+=1){if(y=$*g,N=p.subarray(y,y+g),E)L.set(E(N,b,w),y+$);else{for(var F,B=V.length,k=[];F<B;F+=1)k[F]=V[F](N,b,w);var P=f(k.concat());L.set(k[P],y+$)}w=N}return L},s=function(p){var g=Array.apply([],p);return g.unshift(0),g},i=function(p,g){var b,E=[],N=p.length;E[0]=1;for(var w=0;w<N;w+=1)b=p[w-g]||0,E[w+1]=p[w]-b+256&255;return E},A=function(p,g,b){var E,N=[],w=p.length;N[0]=2;for(var y=0;y<w;y+=1)E=b&&b[y]||0,N[y+1]=p[y]-E+256&255;return N},o=function(p,g,b){var E,N,w=[],y=p.length;w[0]=3;for(var _=0;_<y;_+=1)E=p[_-g]||0,N=b&&b[_]||0,w[_+1]=p[_]+256-(E+N>>>1)&255;return w},l=function(p,g,b){var E,N,w,y,_=[],L=p.length;_[0]=4;for(var V=0;V<L;V+=1)E=p[V-g]||0,N=b&&b[V]||0,w=b&&b[V-g]||0,y=c(E,N,w),_[V+1]=p[V]-y+256&255;return _},c=function(p,g,b){if(p===g&&g===b)return p;var E=Math.abs(g-b),N=Math.abs(p-b),w=Math.abs(p+g-b-b);return E<=N&&E<=w?p:N<=w?g:b},h=function(){return[s,i,A,o,l]},f=function(p){var g=p.map(function(b){return b.reduce(function(E,N){return E+Math.abs(N)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,b,E){var N,w,y,_,L,V,$,F,B,k,P,S,j,T,re,xe=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new sV(p)).imgData,w=y.bits,N=y.colorSpace,L=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){B=(F=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,P=new Uint8Array(B*y.colors),k=new Uint8Array(B);var ve,M=y.pixelBitlength-y.bits;for(T=0,re=0;T<B;T++){for(j=F[T],ve=0;ve<M;)P[re++]=j>>>ve&255,ve+=y.bits;k[T]=j>>>ve&255}}if(y.bits===16){B=(F=new Uint32Array(y.decodePixels().buffer)).length,P=new Uint8Array(B*(32/y.pixelBitlength)*y.colors),k=new Uint8Array(B*(32/y.pixelBitlength)),S=y.colors>1,T=0,re=0;for(var oe=0;T<B;)j=F[T++],P[re++]=j>>>0&255,S&&(P[re++]=j>>>16&255,j=F[T++],P[re++]=j>>>0&255),k[oe++]=j>>>16&255;w=8}E!==t.image_compression.NONE&&e()?(p=r(P,y.width*y.colors,y.colors,E),$=r(k,y.width,1,E)):(p=P,$=k,xe=void 0)}if(y.colorType===3&&(N=this.color_spaces.INDEXED,V=y.palette,y.transparency.indexed)){var X=y.transparency.indexed,de=0;for(T=0,B=X.length;T<B;++T)de+=X[T];if((de/=255)===B-1&&X.indexOf(0)!==-1)_=[X.indexOf(0)];else if(de!==B){for(F=y.decodePixels(),k=new Uint8Array(F.length),T=0,B=F.length;T<B;T++)k[T]=X[F[T]];$=r(k,y.width,1)}}var Q=function(O){var Y;switch(O){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(E);return xe===this.decode.FLATE_DECODE&&(pe="/Predictor "+Q+" "),pe+="/Colors "+L+" /BitsPerComponent "+w+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:b,data:p,index:g,filter:xe,decodeParameters:pe,transparency:_,palette:V,sMask:$,predictor:Q,width:y.width,height:y.height,bitsPerComponent:w,colorSpace:N}}}})(bt.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new iV(e),A=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:A,height:o},h=new W1(100).encode(c,100);return t.processJPEG.call(this,h,r,n,s)},t.processGIF87A=t.processGIF89A}(bt.API),Ii.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ii.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){fr.log("bit decode error:"+r)}},Ii.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[A+4*o]=l.blue,this.data[A+4*o+1]=l.green,this.data[A+4*o+2]=l.red,this.data[A+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ii.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*s*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[A]=c.blue,this.data[A+1]=c.green,this.data[A+2]=c.red,this.data[A+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[A+4]=c.blue,this.data[A+4+1]=c.green,this.data[A+4+2]=c.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},Ii.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var A=this.palette[s];this.data[i]=A.red,this.data[i+1]=A.green,this.data[i+2]=A.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ii.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=A,this.data[h+3]=c}this.pos+=t}},Ii.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(A&e)/e*255|0,l=(A>>5&r)/r*255|0,c=(A>>11)/e*255|0,h=s*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Ii.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},Ii.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=A}},Ii.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Ii(e,!1),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new W1(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(bt.API),NC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new NC(e),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new W1(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(bt.API),bt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),A=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var h=n[c],f=n[c+1],p=n[c+2],g=n[c+3];i[o++]=h,i[o++]=f,i[o++]=p,A[l++]=g}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},bt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Uc=bt.API,Lm=Uc.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,g=t.length,b=0,E=o[0]||l,N=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+A*(1e3/i)||0)/1e3):(p=f&&Ar(c[n])==="object"&&!isNaN(parseInt(c[n][b],10))?c[n][b]/h:0,N.push((o[n]||E)/l+p)),b=n;return N},bC=Uc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Uc.processArabic&&(t=Uc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Lm.apply(this,arguments).reduce(function(i,A){return i+A},0)},CC=function(t,e,r,n){for(var s=[],i=0,A=t.length,o=0;i!==A&&o+e[i]<r;)o+=e[i],i++;s.push(t.slice(0,i));var l=i;for(o=0;i!==A;)o+e[i]>n&&(s.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},EC=function(t,e,r){r||(r={});var n,s,i,A,o,l,c,h=[],f=[h],p=r.textIndent||0,g=0,b=0,E=t.split(" "),N=Lm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),y=[];E.map(function(L){(L=L.split(/\s*\n/)).length>1?y=y.concat(L.map(function(V,$){return($&&V.length?`
`:"")+V})):y.push(L[0])}),E=y,l=bC.apply(this,[w,r])}for(i=0,A=E.length;i<A;i++){var _=0;if(n=E[i],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+g+(b=(s=Lm.apply(this,[n,r])).reduce(function(L,V){return L+V},0))>e||_){if(b>e){for(o=CC.apply(this,[n,s,e-(p+g),e]),h.push(o.shift()),h=[o.pop()];o.length;)f.push([o.shift()]);b=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(L,V){return L+V},0)}else h=[n];f.push(h),p=b+l,g=N}else h.push(n),p+=g+b,g=N}return c=l?function(L,V){return(V?w:"")+L.join(" ")}:function(L){return L.join(" ")},f.map(c)},Uc.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(EC.apply(this,[n[o],A,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(f){return"0x"+parseInt(f,10).toString(16)},A=t.__fontmetrics__.compress=function(f){var p,g,b,E,N=["{"];for(var w in f){if(p=f[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=i(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(b=i(p).slice(3),E="-"):(b=i(p).slice(2),E=""),b=E+b.slice(0,-1)+n[b.slice(-1)];else{if(Ar(p)!=="object")throw new Error("Don't know what to do with value type "+Ar(p)+".");b=A(p)}N.push(g+b)}return N.push("}"),N.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,b,E,N={},w=1,y=N,_=[],L="",V="",$=f.length-1,F=1;F<$;F+=1)(E=f[F])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(E):E=="{"?(_.push([y,b]),y={},b=void 0):E=="}"?((g=_.pop())[0][g[1]]=y,b=void 0,y=g[0]):E=="-"?w=-1:b===void 0?r.hasOwnProperty(E)?(L+=r[E],b=parseInt(L,16)*w,w=1,L=""):L+=E:r.hasOwnProperty(E)?(V+=r[E],y[b]=parseInt(V,16)*w,w=1,b=void 0,V=""):V+=E;return N},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,g=h.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var b=c.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(bt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(A,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(uh(o)),A.metadata=t.API.TTFFont.open(o),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(s,n)}}])}(bt),function(t){function e(){return(Et.canvg?Promise.resolve(Et.canvg):Oy(()=>import("./index.es-Bb7DK1gZ.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}bt.API.addSvgAsImage=function(r,n,s,i,A,o,l,c){if(isNaN(n)||isNaN(s))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(A))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=A;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(b){return b.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),n,s,i,A,l,c)})}}(),bt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},bt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(A),l=[],c=0,h=0,f=0;function p(b,E){var N,w=!1;for(N=0;N<b.length;N+=1)b[N]===E&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(f=0;f<g;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Ar(t)==="object"){for(s in t)if(i=t[s],p(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(h=0;h<i[c].length;h+=1)typeof i[c][h]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,E=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?E.push("/"+b+" /"+r[b].value):E.push("/"+b+" "+r[b].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+A.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+A+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(bt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,A){for(var o,l=A.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,p=i.length;f<p;++f){if(o=A.metadata.characterToGlyph(i.charCodeAt(f)),A.metadata.glyIdsUsed.push(o),A.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(A.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(c[4-o.length],o)}return h.join("")},n=function(i){var A,o,l,c,h,f,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(i).sort(function(g,b){return g-b})).length;f<p;f++)A=o[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[A]!==void 0&&i[A]!==null&&typeof i[A].toString=="function"&&(c=("0000"+i[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),l.push("<"+A+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,h=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",b=0;b<p.length;b++)g+=String.fromCharCode(p[b]);var E=c();h({data:g,addLength1:!0,objectId:E}),l("endobj");var N=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Oc(o.fontName)),l("/FontFile2 "+E+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Oc(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+Oc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,h=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var b=c();h({data:p,addLength1:!0,objectId:b}),l("endobj");var E=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var N=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Oc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Oc(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var A,o=i.text||"",l=i.x,c=i.y,h=i.options||{},f=i.mutex||{},p=f.pdfEscape,g=f.activeFontKey,b=f.fonts,E=g,N="",w=0,y="",_=b[E].encoding;if(b[E].encoding!=="Identity-H")return{text:o,x:l,y:c,options:h,mutex:f};for(y=o,E=g,Array.isArray(o)&&(y=o[0]),w=0;w<y.length;w+=1)b[E].metadata.hasOwnProperty("cmap")&&(A=b[E].metadata.cmap.unicode.codeMap[y[w].charCodeAt(0)]),A||y[w].charCodeAt(0)<256&&b[E].metadata.hasOwnProperty("Unicode")?N+=y[w]:N+="";var L="";return parseInt(E.slice(1))<14||_==="WinAnsiEncoding"?L=p(N,E).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(L=r(N,b[E])),f.isHex=!0,{text:L,x:l,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(i){var A=i.text||"",o=[],l={text:A,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(A)){var c=0;for(c=0;c<A.length;c+=1)Array.isArray(A[c])&&A[c].length===3?o.push([s(Object.assign({},l,{text:A[c][0]})).text,A[c][1],A[c][2]]):o.push(s(Object.assign({},l,{text:A[c]})).text);i.text=o}else i.text=s(Object.assign({},l,{text:A})).text}])}(bt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(bt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,A,o,l,c,h,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,_=0;this.__bidiEngine__={};var L=function(S){var j=S.charCodeAt(),T=j>>8,re=E[T];return re!==void 0?f[256*re+(255&j)]:T===252||T===253?"AL":w.test(T)?"L":T===8?"R":"N"},V=function(S){for(var j,T=0;T<S.length;T++){if((j=L(S.charAt(T)))==="L")return!1;if(j==="R")return!0}return!1},$=function(S,j,T,re){var xe,pe,ve,M,oe=j[re];switch(oe){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(oe="AN");break;case"AL":y=!0,oe="R";break;case"WS":oe="N";break;case"CS":re<1||re+1>=j.length||(xe=T[re-1])!=="EN"&&xe!=="AN"||(pe=j[re+1])!=="EN"&&pe!=="AN"?oe="N":y&&(pe="AN"),oe=pe===xe?pe:"N";break;case"ES":oe=(xe=re>0?T[re-1]:"B")==="EN"&&re+1<j.length&&j[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&T[re-1]==="EN"){oe="EN";break}if(y){oe="N";break}for(ve=re+1,M=j.length;ve<M&&j[ve]==="ET";)ve++;oe=ve<M&&j[ve]==="EN"?"EN":"N";break;case"NSM":if(A&&!o){for(M=j.length,ve=re+1;ve<M&&j[ve]==="NSM";)ve++;if(ve<M){var X=S[re],de=X>=1425&&X<=2303||X===64286;if(xe=j[ve],de&&(xe==="R"||xe==="AL")){oe="R";break}}}oe=re<1||(xe=j[re-1])==="B"?"N":T[re-1];break;case"B":y=!1,s=!0,oe=_;break;case"S":i=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":oe="N"}return oe},F=function(S,j,T){var re=S.split("");return T&&B(re,T,{hiLevel:_}),re.reverse(),j&&j.reverse(),re.join("")},B=function(S,j,T){var re,xe,pe,ve,M,oe=-1,X=S.length,de=0,Q=[],O=_?g:p,Y=[];for(y=!1,s=!1,i=!1,xe=0;xe<X;xe++)Y[xe]=L(S[xe]);for(pe=0;pe<X;pe++){if(M=de,Q[pe]=$(S,Y,Q,pe),re=240&(de=O[M][b[Q[pe]]]),de&=15,j[pe]=ve=O[de][5],re>0)if(re===16){for(xe=oe;xe<pe;xe++)j[xe]=1;oe=-1}else oe=-1;if(O[de][6])oe===-1&&(oe=pe);else if(oe>-1){for(xe=oe;xe<pe;xe++)j[xe]=ve;oe=-1}Y[pe]==="B"&&(j[pe]=0),T.hiLevel|=ve}i&&function(Z,J,ee){for(var Ae=0;Ae<ee;Ae++)if(Z[Ae]==="S"){J[Ae]=_;for(var le=Ae-1;le>=0&&Z[le]==="WS";le--)J[le]=_}}(Y,j,X)},k=function(S,j,T,re,xe){if(!(xe.hiLevel<S)){if(S===1&&_===1&&!s)return j.reverse(),void(T&&T.reverse());for(var pe,ve,M,oe,X=j.length,de=0;de<X;){if(re[de]>=S){for(M=de+1;M<X&&re[M]>=S;)M++;for(oe=de,ve=M-1;oe<ve;oe++,ve--)pe=j[oe],j[oe]=j[ve],j[ve]=pe,T&&(pe=T[oe],T[oe]=T[ve],T[ve]=pe);de=M}de++}}},P=function(S,j,T){var re=S.split(""),xe={hiLevel:_};return T||(T=[]),B(re,T,xe),function(pe,ve,M){if(M.hiLevel!==0&&h)for(var oe,X=0;X<pe.length;X++)ve[X]===1&&(oe=N.indexOf(pe[X]))>=0&&(pe[X]=N[oe+1])}(re,T,xe),k(2,re,j,T,xe),k(1,re,j,T,xe),re.join("")};return this.__bidiEngine__.doBidiReorder=function(S,j,T){if(function(xe,pe){if(pe)for(var ve=0;ve<xe.length;ve++)pe[ve]=ve;o===void 0&&(o=V(xe)),c===void 0&&(c=V(xe))}(S,j),A||!l||c)if(A&&l&&o^c)_=o?1:0,S=F(S,j,T);else if(!A&&l&&c)_=o?1:0,S=P(S,j,T),S=F(S,j);else if(!A||o||l||c){if(A&&!l&&o^c)S=F(S,j),o?(_=0,S=P(S,j,T)):(_=1,S=P(S,j,T),S=F(S,j));else if(A&&o&&!l&&c)_=1,S=P(S,j,T),S=F(S,j);else if(!A&&!l&&o^c){var re=h;o?(_=1,S=P(S,j,T),_=0,h=!1,S=P(S,j,T),h=re):(_=0,S=P(S,j,T),S=F(S,j),_=1,h=!1,S=P(S,j,T),h=re,S=F(S,j))}}else _=0,S=P(S,j,T);else _=o?1:0,S=P(S,j,T);return S},this.__bidiEngine__.setOptions=function(S){S&&(A=S.isInputVisual,l=S.isOutputVisual,o=S.isInputRtl,c=S.isOutputRtl,h=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),A=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(A=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?A.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):A.push([r.doBidiReorder(s[o])]);n.text=A}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(bt),bt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Mo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wV(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new AV(this.contents),this.head=new oV(this),this.name=new hV(this),this.cmap=new XI(this),this.toUnicode={},this.hhea=new lV(this),this.maxp=new fV(this),this.hmtx=new mV(this),this.post=new uV(this),this.os2=new cV(this),this.loca=new yV(this),this.glyf=new pV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,o,l,c;for(c=[],A=0,o=(l=this.bbox).length;A<o;A++)e=l[A],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,A,o;for(A=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),A+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var zi,Mo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,A,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),A=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^A)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*A+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),AV=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,A,o,l,c,h,f,p,g,b,E;for(E in g=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),A=Math.floor(f/l),h=16*g-f,(s=new Mo).writeInt(this.scalarType),s.writeShort(g),s.writeShort(f),s.writeShort(A),s.writeShort(h),i=16*g,c=s.pos+i,o=null,b=[],r)for(p=r[E],s.writeString(E),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),b=b.concat(p),E==="head"&&(o=c),c+=p.length;c%4;)b.push(0),c++;return s.write(b),n=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,A;for(r=JI.call(r);r.length%4;)r.push(0);for(i=new Mo(r),s=0,n=0,A=r.length;n<A;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),aV={}.hasOwnProperty,CA=function(t,e){for(var r in e)aV.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};zi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var oV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Mo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),SC=function(){function t(e,r){var n,s,i,A,o,l,c,h,f,p,g,b,E,N,w,y,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,i=function(){var L,V;for(V=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)V.push(e.readUInt16());return V}(),e.pos+=2,E=function(){var L,V;for(V=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)V.push(e.readUInt16());return V}(),c=function(){var L,V;for(V=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)V.push(e.readUInt16());return V}(),h=function(){var L,V;for(V=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)V.push(e.readUInt16());return V}(),s=(this.length-e.pos+this.offset)/2,o=function(){var L,V;for(V=[],l=L=0;0<=s?L<s:L>s;l=0<=s?++L:--L)V.push(e.readUInt16());return V}(),l=w=0,_=i.length;w<_;l=++w)for(N=i[l],n=y=b=E[l];b<=N?y<=N:y>=N;n=b<=N?++y:--y)h[l]===0?A=n+c[l]:(A=o[h[l]/2+(n-b)-(p-l)]||0)!==0&&(A+=c[l]),this.codeMap[n]=65535&A}e.pos=f}return t.encode=function(e,r){var n,s,i,A,o,l,c,h,f,p,g,b,E,N,w,y,_,L,V,$,F,B,k,P,S,j,T,re,xe,pe,ve,M,oe,X,de,Q,O,Y,Z,J,ee,Ae,le,q,ae,ge;switch(re=new Mo,A=Object.keys(e).sort(function(Ee,Le){return Ee-Le}),r){case"macroman":for(E=0,N=function(){var Ee=[];for(b=0;b<256;++b)Ee.push(0);return Ee}(),y={0:0},i={},xe=0,oe=A.length;xe<oe;xe++)y[le=e[s=A[xe]]]==null&&(y[le]=++E),i[s]={old:e[s],new:y[e[s]]},N[s]=y[e[s]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(N),{charMap:i,subtable:re.data,maxGlyphID:E+1};case"unicode":for(j=[],f=[],_=0,y={},n={},w=c=null,pe=0,X=A.length;pe<X;pe++)y[V=e[s=A[pe]]]==null&&(y[V]=++_),n[s]={old:V,new:y[V]},o=y[V]-s,w!=null&&o===c||(w&&f.push(w),j.push(s),c=o),w=s;for(w&&f.push(w),f.push(65535),j.push(65535),P=2*(k=j.length),B=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(B/2)/Math.LN2,F=2*k-B,l=[],$=[],g=[],b=ve=0,de=j.length;ve<de;b=++ve){if(S=j[b],h=f[b],S===65535){l.push(0),$.push(0);break}if(S-(T=n[S].new)>=32768)for(l.push(0),$.push(2*(g.length+k-b)),s=M=S;S<=h?M<=h:M>=h;s=S<=h?++M:--M)g.push(n[s].new);else l.push(T-S),$.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*k+2*g.length),re.writeUInt16(0),re.writeUInt16(P),re.writeUInt16(B),re.writeUInt16(p),re.writeUInt16(F),ee=0,Q=f.length;ee<Q;ee++)s=f[ee],re.writeUInt16(s);for(re.writeUInt16(0),Ae=0,O=j.length;Ae<O;Ae++)s=j[Ae],re.writeUInt16(s);for(q=0,Y=l.length;q<Y;q++)o=l[q],re.writeUInt16(o);for(ae=0,Z=$.length;ae<Z;ae++)L=$[ae],re.writeUInt16(L);for(ge=0,J=g.length;ge<J;ge++)E=g[ge],re.writeUInt16(E);return{charMap:n,subtable:re.data,maxGlyphID:_+1}}},t}(),XI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new SC(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=SC.encode(r,n),(i=new Mo).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),lV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),cV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),uV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var A;for(s=r.readUInt16(),this.glyphNameIndex=[],A=0;0<=s?A<s:A>s;A=0<=s?++A:--A)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],A=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;A=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e}(),dV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,A,o,l,c,h,f,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},A=f=0,p=s.length;f<p;A=++f)i=s[A],r.pos=i.offset,h=r.readString(i.length),o=new dV(h,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),fV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),mV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,A,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)f.push(r.readInt16());return f}(),this.widths=(function(){var h,f,p,g;for(g=[],h=0,f=(p=this.metrics).length;h<f;h++)A=p[h],g.push(A.advance);return g}).call(this),s=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),JI=[].slice,pV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,A,o,l,c,h,f,p;return r in this.cache?this.cache[r]:(A=this.file.loca,n=this.file.contents,s=A.indexOf(r),(i=A.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(l=new Mo(n.read(i))).readShort(),h=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new vV(l,h,p,c,f):new gV(l,o,h,p,c,f),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,A,o,l,c;for(o=[],A=[],l=0,c=n.length;l<c;l++)i=r[n[l]],A.push(o.length),i&&(o=o.concat(i.encode(s)));return A.push(o.length),{table:o,offsets:A}},e}(),gV=function(){function t(e,r,n,s,i,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),vV=function(){function t(e,r,n,s,i){var A,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;o=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&o;)A.pos+=1&o?4:2,128&o?A.pos+=8:64&o?A.pos+=4:8&o&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Mo(JI.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),yV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,zi),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=2)A.push(2*r.readUInt16());return A}).call(this):(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=4)A.push(r.readUInt32());return A}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,A=0,o=0;o<s.length;++o)if(s[o]=i,A<n.length&&n[A]==o){++A,s[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var h=new Array(4*s.length),f=0;f<s.length;++f)h[4*f+3]=255&s[f],h[4*f+2]=(65280&s[f])>>8,h[4*f+1]=(16711680&s[f])>>16,h[4*f]=(4278190080&s[f])>>24;return h},e}(),wV=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,A,o,l;for(s={},A=0,o=e.length;A<o;A++)s[i=e[A]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,A,o,l,c,h,f,p,g,b,E,N,w;for(s in n=XI.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),g={0:0},w=n.charMap)g[(l=w[s]).old]=l.new;for(b in p=n.maxGlyphID,A)b in g||(g[b]=p++);return h=function(y){var _,L;for(_ in L={},y)L[y[_]]=_;return L}(g),f=Object.keys(h).sort(function(y,_){return y-_}),E=function(){var y,_,L;for(L=[],y=0,_=f.length;y<_;y++)o=f[y],L.push(h[o]);return L}(),i=this.font.glyf.encode(A,E,g),c=this.font.loca.encode(i.offsets,E),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();bt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,A;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)A=r[s],i.push("/"+s+" "+e.convert(A));return i.push(">>"),i.join(`
`)}return""+r},e}();const ZI=({teacher:t,schedule:e,subjects:r,classes:n})=>{const s=(o,l)=>{var f;const c=(f=e.schedule[o])==null?void 0:f[l];return c!=null&&c.classId?{classItem:n.find(p=>p.id===c.classId)}:null},i=(o,l,c)=>{var f;const h=(f=e.schedule[o])==null?void 0:f[l];return!h||h.classId!=="fixed-period"?null:h.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:c==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:h.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:c==="Ortaokul"?"09:15-09:35":"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:h.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:c==="İlkokul"||c==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:h.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},A=o=>{const l=t0(o,t.level);return l?r0(l.startTime,l.endTime):`${o}. Ders`};return a.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[a.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[a.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 4px 0",color:"#000000"},children:t.name}),a.jsxs("p",{style:{fontSize:"14px",margin:0,color:"#000000"},children:[t.branch," - ",t.level]})]}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Pt.map(o=>a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:o.toUpperCase()},o))]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{style:{backgroundColor:"#f0f8ff"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı"}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50"})]}),Pt.map(o=>{const l=i(o,"prep",t.level);return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0f8ff"},children:(l==null?void 0:l.title)||(t.level==="Ortaokul"?"Hazırlık":"Kahvaltı")},`${o}-prep`)})]}),Bn.map((o,l)=>{const c=A(o),h=(t.level==="İlkokul"||t.level==="Anaokulu")&&o==="5"||t.level==="Ortaokul"&&o==="6",f=t.level==="Ortaokul"&&o==="1",p=o==="8";return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{style:{backgroundColor:h?"#f0fff0":l%2===0?"#ffffff":"#f8f9fa"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:h?"#e6ffe6":"#e6f3ff"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:h?"Yemek":`${o}.`}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:h?t.level==="İlkokul"||t.level==="Anaokulu"?"11:50-12:25":"12:30-13:05":c})]}),Pt.map(g=>{var E;if(h)return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0fff0"},children:"Yemek"},`${g}-${o}`);const b=s(g,o);return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:l%2===0?"#ffffff":"#f8f9fa"},children:b?a.jsx("div",{style:{fontWeight:"bold",fontSize:"10px"},children:(E=b.classItem)==null?void 0:E.name}):a.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${g}-${o}`)})]}),f&&a.jsxs("tr",{style:{backgroundColor:"#fff8f0"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#ffe6cc"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"Kahvaltı"}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"09:15-09:35"})]}),Pt.map(g=>{const b=i(g,"breakfast",t.level);return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fff8f0"},children:(b==null?void 0:b.title)||"Kahvaltı"},`${g}-breakfast`)})]}),p&&a.jsxs("tr",{style:{backgroundColor:"#fffbf0"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#fff3e0"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"İkindi Kahvaltısı"}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"14:35-14:45"})]}),Pt.map(g=>a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fffbf0"},children:"İkindi Kahvaltısı"},`${g}-afternoon-breakfast`))]})]},o)})]})]})]})},xV=()=>{const{data:t}=St("teachers"),{data:e}=St("classes"),{data:r}=St("subjects"),{data:n,remove:s}=St("schedules"),{data:i}=St("schedule-templates"),{success:A,error:o,warning:l}=mi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=fa(),[g,b]=ce.useState(""),[E,N]=ce.useState(""),[w,y]=ce.useState(""),[_,L]=ce.useState(""),[V,$]=ce.useState(!1),[F,B]=ce.useState(!1),k=ce.useRef({}),P=[...t].sort((q,ae)=>q.name.localeCompare(ae.name,"tr"));[...e].sort((q,ae)=>q.name.localeCompare(ae.name,"tr"));const S=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],j=[{value:"",label:"Tüm Günler"},...Pt.map(q=>({value:q,label:q}))],T=[{value:"",label:"Tüm Saatler"},...Bn.map(q=>({value:q,label:`${q}. Ders`}))],re=()=>P.filter(q=>{const ae=!g||q.level===g,ge=!_||q.name.toLowerCase().includes(_.toLowerCase())||q.branch.toLowerCase().includes(_.toLowerCase());return ae&&ge}),xe=q=>n.find(ae=>ae.teacherId===q),pe=(q,ae,ge)=>{var ne;const Ee=xe(q),Le=(ne=Ee==null?void 0:Ee.schedule[ae])==null?void 0:ne[ge];return Le!=null&&Le.classId?{classItem:e.find(te=>te.id===Le.classId)}:null},ve=(q,ae,ge,Ee)=>{var ne;const Le=xe(ge),_e=(ne=Le==null?void 0:Le.schedule[q])==null?void 0:ne[ae];return!_e||_e.classId!=="fixed-period"?null:_e.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:Ee==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:_e.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:_e.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:Ee==="İlkokul"||Ee==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:_e.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},M=(q,ae)=>{const ge={};return n.forEach(Ee=>{var _e;const Le=(_e=Ee.schedule[q])==null?void 0:_e[ae];if(Le!=null&&Le.classId&&Le.classId!=="fixed-period"){const ne=t.find(te=>te.id===Ee.teacherId);ne&&(ge[Le.classId]={teacher:ne})}}),ge},oe=()=>{const q=[];return Pt.forEach(ae=>{Bn.forEach(ge=>{const Ee=M(ae,ge),Le=Object.keys(Ee);Le.filter((ne,te)=>Le.indexOf(ne)!==te).forEach(ne=>{var ue;const te=((ue=e.find(be=>be.id===ne))==null?void 0:ue.name)||"Bilinmeyen Sınıf";q.push(`${ae} ${ge}. ders: ${te} sınıfı çakışıyor`)})})}),[...new Set(q)]},X=q=>{const ae=i.find(ge=>{var Ee,Le,_e;return(_e=(Le=(Ee=ge.wizardData)==null?void 0:Ee.teachers)==null?void 0:Le.selectedTeachers)==null?void 0:_e.includes(q)});return ae?ae.name:null},de=()=>{const q=ee.filter(ae=>n.some(ge=>ge.teacherId===ae.id));if(q.length===0){l("⚠️ Silinecek Program Yok","Filtrelenen öğretmenler arasında silinecek program bulunamadı");return}p(`${q.length} Öğretmen Programı`,async()=>{B(!0);try{let ae=0;const ge=n.filter(Ee=>q.some(Le=>Le.id===Ee.teacherId));console.log("🗑️ Silinecek öğretmen programları:",{totalSchedules:n.length,schedulesToDelete:ge.length,teachersWithSchedules:q.length});for(const Ee of ge)try{await s(Ee.id),ae++,console.log(`✅ Öğretmen programı silindi: ${Ee.id}`)}catch(Le){console.error(`❌ Program silinemedi: ${Ee.id}`,Le)}ae>0?A("🗑️ Programlar Silindi",`${ae} öğretmen programı başarıyla silindi`):o("❌ Silme Hatası","Hiçbir program silinemedi")}catch(ae){console.error("❌ Toplu silme hatası:",ae),o("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{B(!1)}})},Q=async(q,ae)=>{const ge=k.current[q.id];if(!ge)return null;try{await new Promise(be=>setTimeout(be,100));const Ee=await Lu(ge,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:ge.scrollWidth,height:ge.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0,onclone:be=>{const Qe=be.querySelector('[data-teacher-id="'+q.id+'"]');Qe&&(Qe.style.transform="none",Qe.style.position="static")}}),Le=new bt({orientation:"landscape",unit:"mm",format:"a4"}),_e=Ee.toDataURL("image/png",1),ne=297,te=Ee.height*ne/Ee.width,ue=te<210?(210-te)/2:0;return Le.addImage(_e,"PNG",0,ue,ne,te),Le}catch(Ee){return console.error(`${q.name} için PDF oluşturma hatası:`,Ee),null}},O=async q=>{if(!xe(q.id))return;const ge=await Q(q);if(ge){const Le=`${q.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;ge.save(Le)}},Y=async()=>{const q=ee.filter(ae=>n.some(ge=>ge.teacherId===ae.id));if(q.length===0){alert("İndirilecek program bulunamadı");return}$(!0);try{let ae=null;for(let ge=0;ge<q.length;ge++){const Ee=q[ge],Le=n.find(_e=>_e.teacherId===Ee.id);if(Le){const _e=await Q(Ee,Le);if(_e){if(ge===0)ae=_e;else if(ae){ae.addPage();const ne=k.current[Ee.id];if(ne){await new Promise(We=>setTimeout(We,100));const te=await Lu(ne,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),ue=te.toDataURL("image/png",1),be=297,Qe=te.height*be/te.width,Ge=Qe<210?(210-Qe)/2:0;ae.addImage(ue,"PNG",0,Ge,be,Qe)}}}}}if(ae){const ge=`Tum_Ders_Programlari_${new Date().getFullYear()}.pdf`;ae.save(ge)}}catch(ae){console.error("Toplu PDF oluşturma hatası:",ae),alert("PDF oluşturulurken bir hata oluştu")}finally{$(!1)}},Z=()=>{L("")},J=q=>{q.key==="Enter"&&(q.preventDefault(),console.log("🔍 Enter ile öğretmen araması:",_),q.target.blur()),q.key==="Escape"&&(Z(),q.target.blur())},ee=re(),Ae=oe(),le=ee.filter(q=>n.some(ae=>ae.teacherId===q.id));return a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmen Ders Programları"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Okuldaki tüm öğretmen programlarını görüntüleyin"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[le.length>0&&a.jsx(De,{onClick:de,icon:vr,variant:"danger",disabled:F,className:"w-full sm:w-auto",children:F?"Siliniyor...":`Tüm Programları Sil (${le.length})`}),a.jsx(De,{onClick:Y,icon:To,variant:"primary",disabled:le.length===0||V,className:"w-full sm:w-auto",children:V?"PDF Oluşturuluyor...":`Tüm Programları İndir (${le.length})`})]})]}),a.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"🔍 Öğretmen Ara"}),a.jsxs("div",{className:"relative",children:[a.jsx(CS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:_,onChange:q=>L(q.target.value),onKeyDown:J,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),_&&a.jsx("button",{onClick:Z,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors btn-touch",title:"Aramayı temizle",children:a.jsx(ca,{className:"w-5 h-5"})})]}),_&&a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',_,'" için ',ee.length," sonuç bulundu"]}),a.jsx("button",{onClick:Z,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),a.jsxs("div",{className:"responsive-grid gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:g,onChange:b,options:S}),a.jsx(Xt,{label:"Gün Filtresi",value:E,onChange:N,options:j}),a.jsx(Xt,{label:"Ders Saati",value:w,onChange:y,options:T})]})]}),Ae.length>0&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(uo,{className:"w-5 h-5 text-red-600 mt-0.5"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Program Çakışmaları Tespit Edildi"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("ul",{className:"list-disc list-inside space-y-1",children:Ae.map((q,ae)=>a.jsx("li",{children:q},ae))})})]})]})}),a.jsxs("div",{className:"responsive-grid mb-6",children:[a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Or,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Öğretmen"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Is,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Hazır Program"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),a.jsx("div",{className:"space-y-6",children:ee.map(q=>{const ae=xe(q.id),ge=X(q.id);return a.jsxs("div",{className:"mobile-card overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:q.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[q.branch," - ",q.level]}),ge&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:ge})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[ae&&a.jsx(De,{onClick:()=>O(q),icon:To,variant:"secondary",size:"sm",className:"flex-1 sm:flex-none",children:"PDF İndir"}),!ae&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})]})]})}),ae?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"table-responsive schedule-mobile",children:a.jsxs("table",{className:"min-w-full schedule-table",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Saat"}),Pt.map(Ee=>a.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:Ee},Ee))]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{className:"bg-blue-50",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-blue-100 text-sm",children:"Hazırlık"}),Pt.map(Ee=>{const Le=ve(Ee,"prep",q.id,q.level);return a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:a.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(Le==null?void 0:Le.title)||"Hazırlık"})})},`${Ee}-prep`)})]}),Bn.map(Ee=>{if(E&&!Pt.includes(E)||w&&Ee!==w)return null;const Le=(q.level==="İlkokul"||q.level==="Anaokulu")&&Ee==="5"||q.level==="Ortaokul"&&Ee==="6",_e=Ee==="8";return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{className:Le?"bg-green-50":"",children:[a.jsx("td",{className:`px-3 py-2 font-medium text-gray-900 text-sm ${Le?"bg-green-100":"bg-gray-50"}`,children:Le?"Yemek":`${Ee}.`}),Pt.map(ne=>{var ue;if(E&&ne!==E)return null;if(Le)return ve(ne,Ee,q.id,q.level),a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:a.jsx("div",{className:"font-medium text-green-900 text-sm",children:"Yemek"})})},`${ne}-${Ee}`);const te=pe(q.id,ne,Ee);return a.jsx("td",{className:"px-2 py-2",children:te?a.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:a.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(ue=te.classItem)==null?void 0:ue.name})}):a.jsx("div",{className:"text-center p-2 bg-gray-50 rounded border border-gray-200",children:a.jsx("div",{className:"text-gray-400 text-xs",children:"Boş"})})},`${ne}-${Ee}`)})]}),_e&&a.jsxs("tr",{className:"bg-yellow-50",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:"İkindi Kahvaltısı"}),Pt.map(ne=>(ve(ne,"afternoon-breakfast",q.id,q.level),a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:a.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${ne}-afternoon-breakfast`)))]})]},Ee)})]})]})}),a.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:a.jsx("div",{ref:Ee=>k.current[q.id]=Ee,"data-teacher-id":q.id,style:{transform:"none",position:"static"},children:a.jsx(ZI,{teacher:q,schedule:ae,subjects:r,classes:e})})})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Zn,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Bu öğretmen için henüz program oluşturulmamış"})]})]},q.id)})}),ee.length===0&&a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Or,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:_?"Arama Sonucu Bulunamadı":"Öğretmen Bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:_?`"${_}" araması için sonuç bulunamadı`:"Seçilen filtrelere uygun öğretmen bulunmuyor"}),(_||g)&&a.jsxs("div",{className:"button-group-mobile",children:[_&&a.jsx(De,{onClick:Z,variant:"secondary",children:"Aramayı Temizle"}),g&&a.jsx(De,{onClick:()=>b(""),variant:"secondary",children:"Filtreleri Temizle"})]})]}),a.jsx(ma,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},IC=({classItem:t,schedule:e,teachers:r,subjects:n})=>{const s=()=>{let l=0;return e?(Pt.forEach(c=>{e[c]&&Bn.forEach(h=>{const f=e[c][h];f&&!f.isFixed&&l++})}),l):0},i=l=>{const c=t0(l,t.level);return c?r0(c.startTime,c.endTime):`${l}. Ders`},A=l=>{const c=t.level==="Ortaokul"?"6":"5";return l==="prep"?{title:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı",time:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50",isFixed:!0,bg:"#e6f3ff"}:l==="breakfast"?{title:"Kahvaltı",time:"09:15-09:35",isFixed:!0,bg:"#fff8f0"}:l===c?{title:"Yemek",time:i(l),isFixed:!0,bg:"#e6ffe6"}:l==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",time:"14:35-14:45",isFixed:!0,bg:"#fffbf0"}:{title:`${l}.`,time:i(l),isFixed:!1,bg:"#e6f3ff"}},o=["prep","1","2","3","4","5","6","7","8","9","10","breakfast","afternoon-breakfast"].filter(l=>{var c;return((c=e==null?void 0:e[Pt[0]])==null?void 0:c[l])!==void 0}).sort((l,c)=>{const h=f=>f==="prep"?0:isNaN(parseInt(f))?f==="breakfast"?1.5:f==="afternoon-breakfast"?8.5:99:parseInt(f);return h(l)-h(c)});return a.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[a.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[a.jsxs("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:[t.name," Sınıfı Ders Programı"]}),a.jsxs("p",{style:{fontSize:"14px",margin:"4px 0 0 0"},children:[t.level," • Haftalık Toplam: ",s()," ders saati"]})]}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Pt.map(l=>a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:l.toUpperCase()},l))]})}),a.jsx("tbody",{children:o.map((l,c)=>{const h=A(l),f=h.isFixed?h.bg:c%2===0?"#ffffff":"#f8f9fa";return a.jsxs("tr",{style:{backgroundColor:f},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:h.bg},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:h.title}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:h.time})]}),Pt.map(p=>{var N;const g=(N=e==null?void 0:e[p])==null?void 0:N[l];if(!g)return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:a.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"-"})},`${p}-${l}`);if(g.isFixed)return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:h.bg},children:g.subjectId},`${p}-${l}`);const b=r.find(w=>{var y;return w.id===((y=g.teacher)==null?void 0:y.id)}),E=g.subject;return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:b?a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:b.name}),a.jsx("div",{style:{fontSize:"9px",color:"#666666"},children:(E==null?void 0:E.branch)||""})]}):a.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${p}-${l}`)})]},l)})})]}),a.jsxs("div",{style:{marginTop:"10mm",display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666666"},children:[a.jsxs("div",{children:["Haftalık Toplam: ",s()," ders saati"]}),a.jsx("div",{children:"İDE Okulları Ders Programı"})]})]})},BV=()=>{const t=$o(),{data:e}=St("teachers"),{data:r}=St("classes"),{data:n}=St("subjects"),{data:s,remove:i}=St("schedules"),{success:A,error:o,info:l,warning:c}=mi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmDelete:g}=fa(),[b,E]=ce.useState(""),[N,w]=ce.useState(""),[y,_]=ce.useState(!1),[L,V]=ce.useState(!1),[$,F]=ce.useState(!1),B=ce.useRef({}),k=ce.useRef(null);ce.useEffect(()=>{const Ae=new URLSearchParams(t.search).get("classId");Ae&&r.length>0&&r.find(q=>q.id===Ae)&&(E(Ae),setTimeout(()=>{var q;(q=k.current)==null||q.scrollIntoView({behavior:"smooth",block:"start"})},500))},[t.search,r]);const P=[...r].sort((ee,Ae)=>ee.name.localeCompare(Ae.name,"tr")),S=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],j=()=>P.filter(ee=>!N||ee.level===N),T=ee=>{const Ae={};return Pt.forEach(le=>{Ae[le]={},Bn.forEach(q=>{Ae[le][q]=null,s.forEach(ae=>{var Ee;const ge=(Ee=ae.schedule[le])==null?void 0:Ee[q];if((ge==null?void 0:ge.classId)===ee){const Le=e.find(ne=>ne.id===ae.teacherId),_e=n.find(ne=>ne.id===ge.subjectId);Le&&(Ae[le][q]={teacher:Le,subject:_e})}})})}),Ae},re=(ee,Ae,le)=>Ae==="prep"||Ae==="afternoon-breakfast",xe=(ee,Ae)=>ee==="prep"?{title:"Hazırlık",subtitle:Ae==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:(Ae==="İlkokul"||Ae==="Anaokulu")&&ee==="5"?{title:"Yemek",subtitle:"11:50-12:25",color:"bg-green-100 border-green-300 text-green-800"}:Ae==="Ortaokul"&&ee==="6"?{title:"Yemek",subtitle:"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:ee==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null,pe=ee=>{let Ae=0;const le=T(ee);return Pt.forEach(q=>{Bn.forEach(ae=>{le[q][ae]&&!re(q,ae)&&Ae++})}),Ae},ve=(ee,Ae)=>{let le=0;const q=T(ee);return Bn.forEach(ae=>{q[Ae][ae]&&!re(Ae,ae)&&le++}),le},M=ee=>{const Ae=r.find(le=>le.id===ee);Ae&&(console.log("👁️ Sınıf görüntüleme:",{classId:ee,className:Ae.name}),E(ee),setTimeout(()=>{var le;(le=k.current)==null||le.scrollIntoView({behavior:"smooth",block:"start"})},100),l("Program Görüntülendi",`${Ae.name} sınıfının programı yukarıda görüntüleniyor`))},oe=()=>{const ee=O.filter(Ae=>pe(Ae.id)>0);if(ee.length===0){c("⚠️ Silinecek Program Yok","Filtrelenen sınıflar arasında silinecek program bulunamadı");return}g(`${ee.length} Sınıf Programı`,async()=>{F(!0);try{let Ae=0;const le=s.filter(q=>Object.values(q.schedule).some(ae=>Object.values(ae).some(ge=>(ge==null?void 0:ge.classId)&&ee.some(Ee=>Ee.id===ge.classId))));console.log("🗑️ Silinecek programlar:",{totalSchedules:s.length,schedulesToDelete:le.length,classesWithSchedules:ee.length});for(const q of le)try{await i(q.id),Ae++,console.log(`✅ Program silindi: ${q.id}`)}catch(ae){console.error(`❌ Program silinemedi: ${q.id}`,ae)}Ae>0?(A("🗑️ Programlar Silindi",`${Ae} sınıf programı başarıyla silindi`),b&&ee.some(q=>q.id===b)&&E("")):o("❌ Silme Hatası","Hiçbir program silinemedi")}catch(Ae){console.error("❌ Toplu silme hatası:",Ae),o("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{F(!1)}})},X=async ee=>{const Ae=B.current[ee.id];if(!Ae)return null;try{await new Promise(_e=>setTimeout(_e,200));const le=await Lu(Ae,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:Ae.scrollWidth,height:Ae.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),q=new bt({orientation:"landscape",unit:"mm",format:"a4"}),ae=le.toDataURL("image/png",1),ge=297,Ee=le.height*ge/le.width,Le=Ee<210?(210-Ee)/2:0;return q.addImage(ae,"PNG",0,Le,ge,Ee),q}catch(le){return console.error(`${ee.name} için PDF oluşturma hatası:`,le),null}},de=async ee=>{_(!0);try{const Ae=await X(ee);if(Ae){const q=`${ee.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"_")}_Sinif_Programi_${new Date().getFullYear()}.pdf`;Ae.save(q),A("PDF İndirildi",`${ee.name} sınıfı programı başarıyla indirildi`)}else o("PDF Hatası","PDF oluşturulurken bir hata oluştu")}catch{o("PDF Hatası","PDF oluşturulurken bir hata oluştu")}finally{_(!1)}},Q=async()=>{const Ae=j().filter(le=>pe(le.id)>0);if(Ae.length===0){o("Program Bulunamadı","İndirilecek sınıf programı bulunamadı");return}V(!0);try{let le=null;for(let q=0;q<Ae.length;q++){const ae=Ae[q],ge=await X(ae);if(ge){if(q===0)le=ge;else if(le){le.addPage();const Ee=B.current[ae.id];if(Ee){await new Promise(be=>setTimeout(be,100));const Le=await Lu(Ee,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),_e=Le.toDataURL("image/png",1),ne=297,te=Le.height*ne/Le.width,ue=te<210?(210-te)/2:0;le.addImage(_e,"PNG",0,ue,ne,te)}}}}if(le){const q=`Tum_Sinif_Programlari_${new Date().getFullYear()}.pdf`;le.save(q),A("Toplu PDF İndirildi",`${Ae.length} sınıf programı başarıyla indirildi`)}}catch{o("PDF Hatası","Toplu PDF oluşturulurken bir hata oluştu")}finally{V(!1)}},O=j(),Y=O.filter(ee=>pe(ee.id)>0),Z=r.find(ee=>ee.id===b),J=Z?pe(Z.id)>0:!1;return a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Is,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıf Ders Programları"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Sınıf bazında ders programlarını görüntüleyin"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[Y.length>0&&a.jsx(De,{onClick:oe,icon:vr,variant:"danger",disabled:$,className:"w-full sm:w-auto",children:$?"Siliniyor...":`Tüm Programları Sil (${Y.length})`}),a.jsx(De,{onClick:Q,icon:To,variant:"primary",disabled:Y.length===0||L,className:"w-full sm:w-auto",children:L?"PDF Oluşturuluyor...":`Tüm Programları İndir (${Y.length})`})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:N,onChange:w,options:S}),a.jsx(Xt,{label:"Sınıf Seçin",value:b,onChange:ee=>{console.log("🔄 Sınıf değiştirildi:",{oldClass:b,newClass:ee}),E(ee),ee&&r.find(le=>le.id===ee)&&pe(ee)>0&&setTimeout(()=>{var le;(le=k.current)==null||le.scrollIntoView({behavior:"smooth",block:"start"})},100)},options:O.map(ee=>({value:ee.id,label:`${ee.name} (${ee.level})`}))})]})}),a.jsxs("div",{className:"responsive-grid gap-responsive mb-6",children:[a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Is,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Programlı Sınıf"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Or,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Öğretmen"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),Z&&a.jsxs("div",{ref:k,className:"mobile-card overflow-hidden mb-6 scroll-mt-6",children:[a.jsx("div",{className:"p-4 bg-emerald-50 border-b border-emerald-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-emerald-900 text-lg",children:["📚 ",Z.name," Sınıfı Ders Programı"]}),a.jsxs("p",{className:"text-emerald-700 mt-1",children:[a.jsx("span",{className:"font-medium",children:Z.level})," •",a.jsxs("span",{className:"ml-2",children:["Haftalık toplam: ",a.jsxs("strong",{children:[pe(Z.id)," ders saati"]})]})]})]}),J&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(De,{onClick:()=>de(Z),icon:To,variant:"primary",size:"sm",disabled:y,children:y?"PDF Oluşturuluyor...":"PDF İndir"})})]})}),J?a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-emerald-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-emerald-800 uppercase tracking-wider",children:"Ders Saati"}),Pt.map(ee=>a.jsxs("th",{className:"px-4 py-3 text-center text-xs font-bold text-emerald-800 uppercase tracking-wider",children:[a.jsx("div",{className:"font-bold",children:ee}),a.jsx("div",{className:"text-xs mt-1 font-normal",children:a.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:[ve(Z.id,ee)," ders"]})})]},ee))]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{className:"bg-blue-50",children:[a.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-blue-100 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full font-bold",children:"H"}),a.jsx("div",{className:"text-xs mt-1",children:"Hazırlık"})]}),Pt.map(ee=>{const Ae=xe("prep",Z.level);return a.jsx("td",{className:"px-3 py-3",children:a.jsx("div",{className:"text-center p-3 bg-blue-50 rounded-lg border-2 border-blue-200 hover:bg-blue-100 transition-colors",children:a.jsx("div",{className:"font-bold text-blue-900 text-sm",children:(Ae==null?void 0:Ae.title)||"Hazırlık"})})},`${ee}-prep`)})]}),Bn.map((ee,Ae)=>{const le=T(Z.id),q=(Z.level==="İlkokul"||Z.level==="Anaokulu")&&ee==="5"||Z.level==="Ortaokul"&&ee==="6",ae=ee==="8";return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{className:q?"bg-green-50":Ae%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:`px-4 py-4 font-bold text-gray-900 text-center ${q?"bg-green-100":"bg-emerald-50"}`,children:q?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-green-600 text-white rounded-full font-bold",children:"Y"}),a.jsx("div",{className:"text-xs mt-1",children:"Yemek"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-emerald-600 text-white rounded-full font-bold",children:ee}),a.jsxs("div",{className:"text-xs mt-1",children:[ee,". Ders"]})]})}),Pt.map(ge=>{var Le;if(q)return xe(ee,Z.level),a.jsx("td",{className:"px-3 py-3",children:a.jsx("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200 hover:bg-green-100 transition-colors",children:a.jsx("div",{className:"font-bold text-green-900 text-sm",children:"Yemek"})})},`${ge}-${ee}`);const Ee=le[ge][ee];return a.jsx("td",{className:"px-3 py-3",children:Ee?a.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg border-2 border-emerald-200 hover:bg-emerald-100 transition-colors",children:[a.jsx("div",{className:"font-bold text-emerald-900 text-sm",children:Ee.teacher.name.length>20?Ee.teacher.name.substring(0,20)+"...":Ee.teacher.name}),a.jsx("div",{className:"text-emerald-700 text-xs mt-1 font-medium",children:((Le=Ee.subject)==null?void 0:Le.branch)||""})]}):a.jsx("div",{className:"text-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("div",{className:"text-gray-400 text-xs font-medium",children:"Boş Ders"})})},`${ge}-${ee}`)})]}),ae&&a.jsxs("tr",{className:"bg-yellow-50",children:[a.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-yellow-100 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-yellow-600 text-white rounded-full font-bold",children:"İ"}),a.jsx("div",{className:"text-xs mt-1",children:"İkindi Kahvaltısı"})]}),Pt.map(ge=>(xe("afternoon-breakfast",Z.level),a.jsx("td",{className:"px-3 py-3",children:a.jsx("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border-2 border-yellow-200 hover:bg-yellow-100 transition-colors",children:a.jsx("div",{className:"font-bold text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${ge}-afternoon-breakfast`)))]})]},ee)})]})]})}):a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Zn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Program Bulunamadı"}),a.jsx("p",{className:"text-gray-500",children:"Bu sınıf için henüz program oluşturulmamış"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'Program oluşturmak için "Program Oluştur" sayfasını kullanın'})]}),J&&a.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:a.jsx("div",{ref:ee=>B.current[Z.id]=ee,"data-class-id":Z.id,style:{transform:"none",position:"static"},children:a.jsx(IC,{classItem:Z,schedule:T(Z.id),teachers:e,subjects:n})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx(wS,{className:"w-6 h-6 mr-2 text-emerald-600"}),"Tüm Sınıf Programları"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[O.length," sınıf • ",Y.length," programlı"]})]}),O.map(ee=>{const Ae=pe(ee.id),le=b===ee.id;return a.jsxs("div",{className:`mobile-card mobile-spacing hover:shadow-md transition-shadow ${le?"ring-2 ring-emerald-500 shadow-lg":""}`,children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${Ae>0?"bg-emerald-500":"bg-gray-300"}`}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:ee.name}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee.level==="Anaokulu"?"bg-green-100 text-green-800":ee.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:ee.level}),a.jsx("span",{className:"text-sm text-gray-600",children:Ae>0?`${Ae} ders saati`:"Program yok"})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:Ae>0?a.jsxs(a.Fragment,{children:[a.jsx(De,{onClick:()=>M(ee.id),variant:le?"primary":"secondary",size:"sm",children:le?"Görüntüleniyor":"Görüntüle"}),a.jsx(De,{onClick:()=>de(ee),icon:To,variant:"primary",size:"sm",disabled:y,children:"PDF İndir"})]}):a.jsx("span",{className:"inline-flex px-3 py-2 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})})]})}),Ae>0&&a.jsx(a.Fragment,{children:a.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:a.jsx("div",{ref:q=>B.current[ee.id]=q,"data-class-id":ee.id,style:{transform:"none",position:"static"},children:a.jsx(IC,{classItem:ee,schedule:T(ee.id),teachers:e,subjects:n})})})})]},ee.id)})]}),O.length===0&&a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Is,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Seçilen filtrelere uygun sınıf bulunmuyor"}),a.jsx(De,{onClick:()=>w(""),variant:"secondary",children:"Filtreleri Temizle"})]}),a.jsx(ma,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},bV=()=>{const{data:t}=St("teachers"),{data:e}=St("classes"),{data:r}=St("subjects"),{data:n}=St("schedules"),[s,i]=ce.useState(""),[A,o]=ce.useState(!1),[l,c]=ce.useState(!1),h=ce.useRef(null),f=[...t].sort((N,w)=>N.name.localeCompare(w.name,"tr")),p=async()=>{if(!s||!h.current)return;const N=t.find(y=>y.id===s),w=n.find(y=>y.teacherId===s);if(!N||!w){alert("Seçilen öğretmen için program bulunamadı");return}c(!0);try{const y=A;y||(o(!0),await new Promise(S=>setTimeout(S,200)));const _=await Lu(h.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:h.current.scrollWidth,height:h.current.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),L=new bt({orientation:"landscape",unit:"mm",format:"a4"}),V=_.toDataURL("image/png",1),$=297,F=_.height*$/_.width,B=F<210?(210-F)/2:0;L.addImage(V,"PNG",0,B,$,F);const P=`${N.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;L.save(P),y||o(!1)}catch(y){console.error("PDF oluşturma hatası:",y),alert("PDF oluşturulurken bir hata oluştu")}finally{c(!1)}},g=f.map(N=>({value:N.id,label:`${N.name} (${N.branch} - ${N.level})`})),b=t.find(N=>N.id===s),E=n.find(N=>N.teacherId===s);return a.jsxs("div",{className:"container-mobile",children:[a.jsx("div",{className:"header-mobile",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"w-8 h-8 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"PDF Çıktı"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Öğretmen ders programlarını PDF olarak indirin"})]})]})}),a.jsxs("div",{className:"mobile-card mobile-spacing",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-center",children:[a.jsx("div",{className:"lg:col-span-4",children:a.jsx(Xt,{label:"Öğretmen Seçin",value:s,onChange:i,options:g,required:!0})}),a.jsx("div",{className:"lg:col-span-4 flex items-end justify-center",children:b&&E&&a.jsx(De,{onClick:()=>o(!A),icon:Zg,variant:"secondary",className:"w-full",children:A?"Önizlemeyi Gizle":"Önizleme Göster"})}),a.jsx("div",{className:"lg:col-span-4 flex items-end justify-end",children:b&&E&&a.jsx(De,{onClick:p,icon:To,variant:"primary",disabled:l,className:"w-full",children:l?"PDF Oluşturuluyor...":"PDF İndir"})})]}),a.jsxs("div",{className:"mt-6",children:[b&&!E&&a.jsx("div",{className:"ide-notification ide-notification-warning",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(uo,{className:"w-5 h-5 text-ide-accent-600 mt-0.5"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-ide-accent-800",children:"Program Bulunamadı"}),a.jsxs("p",{className:"text-sm text-ide-accent-700 mt-1",children:[a.jsx("strong",{children:b.name}),' için henüz program oluşturulmamış. Önce "Program Oluştur\\" bölümünden program oluşturun, sonra PDF olarak indirebilirsiniz.']})]})]})}),b&&E&&a.jsx("div",{className:"ide-notification ide-notification-success",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(uo,{className:"w-5 h-5 text-ide-secondary-600 mt-0.5"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-ide-secondary-800",children:"Program Hazır"}),a.jsxs("p",{className:"text-sm text-ide-secondary-700 mt-1",children:[a.jsx("strong",{children:b.name})," için program hazır. Önizleme gösterip PDF olarak indirebilirsiniz."]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4 text-xs text-ide-secondary-600",children:[a.jsxs("div",{children:[a.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),a.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),a.jsx("p",{children:"✓ Yüksek çözünürlük"}),a.jsx("p",{children:"✓ Renkli görünüm"})]}),a.jsxs("div",{children:[a.jsx("p",{children:"✓ Profesyonel tasarım"}),a.jsx("p",{children:"✓ Yazdırma dostu"}),a.jsx("p",{children:"✓ Okul logosu"}),a.jsx("p",{children:"✓ İmza alanları"})]})]})]})]})})]})]}),!b&&a.jsxs("div",{className:"text-center py-12 mobile-card mt-6",children:[a.jsx(uo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"PDF İndirmek İçin Öğretmen Seçin"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Bir öğretmen seçerek ders programını PDF olarak indirebilirsiniz"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-400 max-w-md mx-auto",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),a.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),a.jsx("p",{children:"✓ Yüksek çözünürlük"}),a.jsx("p",{children:"✓ Renkli görünüm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{children:"✓ Profesyonel tasarım"}),a.jsx("p",{children:"✓ Yazdırma dostu"}),a.jsx("p",{children:"✓ Okul logosu"}),a.jsx("p",{children:"✓ İmza alanları"})]})]})]}),b&&E&&a.jsx("div",{className:`mt-8 ${A?"block":"hidden"}`,children:a.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Program Önizlemesi"}),a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsx("div",{ref:h,children:a.jsx(ZI,{teacher:b,schedule:E,subjects:r,classes:e})})})]})})]})},CV=()=>{const t=Wl(),{data:e,remove:r,add:n}=St("teachers"),{data:s,remove:i}=St("classes"),{data:A,remove:o,add:l}=St("subjects"),{data:c,remove:h}=St("schedules"),{data:f,remove:p}=St("schedule-templates"),{data:g,remove:b}=St("classrooms"),{success:E,error:N,warning:w,info:y}=mi(),{confirmation:_,showConfirmation:L,hideConfirmation:V,confirmDelete:$}=fa(),[F,B]=ce.useState(!1),[k,P]=ce.useState(!1),[S,j]=ce.useState(!1),[T,re]=ce.useState(!1);ce.useState(!1);const[xe,pe]=ce.useState(!1),[ve,M]=ce.useState(!1),[oe,X]=ce.useState(!1),[de,Q]=ce.useState(!1),[O,Y]=ce.useState([]),[Z,J]=ce.useState([]),[ee,Ae]=ce.useState("İlkokul"),[le,q]=ce.useState("İlkokul"),[ae,ge]=ce.useState("4"),[Ee,Le]=ce.useState(!1),[_e,ne]=ce.useState(!1),te=ce.useRef(null),ue=ce.useRef(null),be=()=>{if(e.length===0){w("⚠️ Silinecek Öğretmen Yok","Sistemde silinecek öğretmen bulunamadı");return}$(`${e.length} Öğretmen`,async()=>{B(!0);try{let Fe=0;for(const je of e)try{await r(je.id),Fe++}catch(Je){console.error(`❌ Öğretmen silinemedi: ${je.name}`,Je)}Fe>0?E("🗑️ Öğretmenler Silindi",`${Fe} öğretmen başarıyla silindi`):N("❌ Silme Hatası","Hiçbir öğretmen silinemedi")}catch(Fe){console.error("❌ Toplu silme hatası:",Fe),N("❌ Silme Hatası","Öğretmenler silinirken bir hata oluştu")}finally{B(!1)}})},Qe=()=>{if(s.length===0){w("⚠️ Silinecek Sınıf Yok","Sistemde silinecek sınıf bulunamadı");return}$(`${s.length} Sınıf`,async()=>{P(!0);try{let Fe=0;for(const je of s)try{await i(je.id),Fe++}catch(Je){console.error(`❌ Sınıf silinemedi: ${je.name}`,Je)}Fe>0?E("🗑️ Sınıflar Silindi",`${Fe} sınıf başarıyla silindi`):N("❌ Silme Hatası","Hiçbir sınıf silinemedi")}catch(Fe){console.error("❌ Toplu silme hatası:",Fe),N("❌ Silme Hatası","Sınıflar silinirken bir hata oluştu")}finally{P(!1)}})},Ge=()=>{if(A.length===0){w("⚠️ Silinecek Ders Yok","Sistemde silinecek ders bulunamadı");return}$(`${A.length} Ders`,async()=>{j(!0);try{let Fe=0;for(const je of A)try{await o(je.id),Fe++}catch(Je){console.error(`❌ Ders silinemedi: ${je.name}`,Je)}Fe>0?E("🗑️ Dersler Silindi",`${Fe} ders başarıyla silindi`):N("❌ Silme Hatası","Hiçbir ders silinemedi")}catch(Fe){console.error("❌ Toplu silme hatası:",Fe),N("❌ Silme Hatası","Dersler silinirken bir hata oluştu")}finally{j(!1)}})},We=()=>{if(c.length===0){w("⚠️ Silinecek Program Yok","Sistemde silinecek program bulunamadı");return}$(`${c.length} Program`,async()=>{re(!0);try{let Fe=0;for(const je of c)try{await h(je.id),Fe++}catch(Je){console.error(`❌ Program silinemedi: ${je.id}`,Je)}Fe>0?E("🗑️ Programlar Silindi",`${Fe} program başarıyla silindi`):N("❌ Silme Hatası","Hiçbir program silinemedi")}catch(Fe){console.error("❌ Toplu silme hatası:",Fe),N("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{re(!1)}})},At=()=>{if(g.length===0){w("⚠️ Silinecek Derslik Yok","Sistemde silinecek derslik bulunamadı");return}$(`${g.length} Derslik`,async()=>{pe(!0);try{let Fe=0;for(const je of g)try{await b(je.id),Fe++}catch(Je){console.error(`❌ Derslik silinemedi: ${je.name}`,Je)}Fe>0?E("🗑️ Derslikler Silindi",`${Fe} derslik başarıyla silindi`):N("❌ Silme Hatası","Hiçbir derslik silinemedi")}catch(Fe){console.error("❌ Toplu silme hatası:",Fe),N("❌ Silme Hatası","Derslikler silinirken bir hata oluştu")}finally{pe(!1)}})},vt=()=>{const Fe=e.length+s.length+A.length+c.length+f.length+g.length;if(Fe===0){w("⚠️ Silinecek Veri Yok","Sistemde silinecek veri bulunamadı");return}$(`Tüm Veriler (${Fe} öğe)`,async()=>{M(!0);try{let je=0;for(const Je of c)try{await h(Je.id),je++}catch(ht){console.error(`❌ Program silinemedi: ${Je.id}`,ht)}for(const Je of f)try{await p(Je.id),je++}catch(ht){console.error(`❌ Şablon silinemedi: ${Je.name}`,ht)}for(const Je of e)try{await r(Je.id),je++}catch(ht){console.error(`❌ Öğretmen silinemedi: ${Je.name}`,ht)}for(const Je of s)try{await i(Je.id),je++}catch(ht){console.error(`❌ Sınıf silinemedi: ${Je.name}`,ht)}for(const Je of A)try{await o(Je.id),je++}catch(ht){console.error(`❌ Ders silinemedi: ${Je.name}`,ht)}for(const Je of g)try{await b(Je.id),je++}catch(ht){console.error(`❌ Derslik silinemedi: ${Je.name}`,ht)}je>0?E("🗑️ Tüm Veriler Silindi",`${je} öğe başarıyla silindi`):N("❌ Silme Hatası","Hiçbir veri silinemedi")}catch(je){console.error("❌ Toplu silme hatası:",je),N("❌ Silme Hatası","Veriler silinirken bir hata oluştu")}finally{M(!1)}})},Ct=Fe=>{var ht;const je=(ht=Fe.target.files)==null?void 0:ht[0];if(!je)return;const Je=new FileReader;Je.onload=Mr=>{var zt;const Dt=(zt=Mr.target)==null?void 0:zt.result;if(!Dt){N("❌ Dosya Hatası","Dosya içeriği okunamadı");return}try{const st=Dt.split(`
`).filter(et=>et.trim()).slice(1).map(et=>{const rt=et.split(/[,;]/).map(Ir=>Ir.trim().replace(/^"|"$/g,"")),mt=rt[0]||"",pt=rt[1]||"",at=rt[2]||"";let Bt=!0,mr="";mt?pt?at&&!es.includes(at)&&(Bt=!1,mr="Geçersiz eğitim seviyesi"):(Bt=!1,mr="Branş boş olamaz"):(Bt=!1,mr="Ad Soyad boş olamaz");const lr=e.some(Ir=>Ir.name.toLowerCase()===mt.toLowerCase()&&Ir.branch.toLowerCase()===pt.toLowerCase());return{name:mt,branch:pt,level:at||ee,isValid:Bt,error:mr,exists:lr}}).filter(et=>et.name);Y(st),X(!0),te.current&&(te.current.value="")}catch(Ue){console.error("CSV parsing error:",Ue),N("❌ CSV Hatası","Dosya işlenirken bir hata oluştu")}},Je.readAsText(je)},ft=Fe=>{var ht;const je=(ht=Fe.target.files)==null?void 0:ht[0];if(!je)return;const Je=new FileReader;Je.onload=Mr=>{var zt;const Dt=(zt=Mr.target)==null?void 0:zt.result;if(!Dt){N("❌ Dosya Hatası","Dosya içeriği okunamadı");return}try{const st=Dt.split(`
`).filter(et=>et.trim()).slice(1).map(et=>{const rt=et.split(/[,;]/).map(mn=>mn.trim().replace(/^"|"$/g,"")),mt=rt[0]||"",pt=rt[1]||mt,at=rt[2]||"",Bt=parseInt(rt[3]||ae);let mr=!0,lr="";mt?pt?at&&!es.includes(at)?(mr=!1,lr="Geçersiz eğitim seviyesi"):(isNaN(Bt)||Bt<1||Bt>30)&&(mr=!1,lr="Ders saati 1-30 arasında olmalıdır"):(mr=!1,lr="Branş boş olamaz"):(mr=!1,lr="Ders adı boş olamaz");const Ir=A.some(mn=>mn.name.toLowerCase()===mt.toLowerCase()&&mn.level===(at||le));return{name:mt,branch:pt,level:at||le,weeklyHours:isNaN(Bt)?parseInt(ae):Bt,isValid:mr,error:lr,exists:Ir}}).filter(et=>et.name);J(st),Q(!0),ue.current&&(ue.current.value="")}catch(Ue){console.error("CSV parsing error:",Ue),N("❌ CSV Hatası","Dosya işlenirken bir hata oluştu")}},Je.readAsText(je)},yt=async()=>{Le(!0);try{const Fe=O.filter(Je=>Je.isValid&&!Je.exists);if(Fe.length===0){w("⚠️ İçe Aktarılacak Veri Yok","Geçerli ve yeni öğretmen bulunamadı"),Le(!1);return}let je=0;for(const Je of Fe)try{await n({name:Je.name,branch:Je.branch,level:Je.level}),je++}catch(ht){console.error(`❌ Öğretmen eklenemedi: ${Je.name}`,ht)}je>0?(E("✅ İçe Aktarma Başarılı",`${je} öğretmen başarıyla içe aktarıldı`),X(!1)):N("❌ İçe Aktarma Hatası","Hiçbir öğretmen içe aktarılamadı")}catch(Fe){console.error("❌ İçe aktarma hatası:",Fe),N("❌ İçe Aktarma Hatası","Öğretmenler içe aktarılırken bir hata oluştu")}finally{Le(!1)}},Rt=async()=>{ne(!0);try{const Fe=Z.filter(Je=>Je.isValid&&!Je.exists);if(Fe.length===0){w("⚠️ İçe Aktarılacak Veri Yok","Geçerli ve yeni ders bulunamadı"),ne(!1);return}let je=0;for(const Je of Fe)try{await l({name:Je.name,branch:Je.branch,level:Je.level,weeklyHours:Je.weeklyHours}),je++}catch(ht){console.error(`❌ Ders eklenemedi: ${Je.name}`,ht)}je>0?(E("✅ İçe Aktarma Başarılı",`${je} ders başarıyla içe aktarıldı`),Q(!1)):N("❌ İçe Aktarma Hatası","Hiçbir ders içe aktarılamadı")}catch(Fe){console.error("❌ İçe aktarma hatası:",Fe),N("❌ İçe Aktarma Hatası","Dersler içe aktarılırken bir hata oluştu")}finally{ne(!1)}},gt=e.length+s.length+A.length+c.length+f.length+g.length;return[...f].sort((Fe,je)=>new Date(je.updatedAt).getTime()-new Date(Fe.updatedAt).getTime()),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ng,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Veri Yönetimi"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Sistem verilerini yönetin ve temizleyin"})]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx(De,{onClick:()=>t("/"),variant:"secondary",children:"Ana Sayfaya Dön"})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vS,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Veri İstatistikleri"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam ",gt," veri öğesi"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Or,{className:"w-8 h-8 text-blue-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-blue-900 mb-1",children:"Öğretmenler"}),a.jsx("span",{className:"text-3xl font-extrabold text-blue-700 mb-1",children:e.length}),a.jsx("p",{className:"text-xs text-blue-700",children:"Öğretmen kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(De,{onClick:()=>t("/teachers"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),e.length>0&&a.jsx(De,{onClick:be,icon:vr,variant:"danger",size:"md",disabled:F,className:"w-full",children:F?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Is,{className:"w-8 h-8 text-emerald-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-emerald-900 mb-1",children:"Sınıflar"}),a.jsx("span",{className:"text-3xl font-extrabold text-emerald-700 mb-1",children:s.length}),a.jsx("p",{className:"text-xs text-emerald-700",children:"Sınıf kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(De,{onClick:()=>t("/classes"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),s.length>0&&a.jsx(De,{onClick:Qe,icon:vr,variant:"danger",size:"md",disabled:k,className:"w-full",children:k?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 border border-indigo-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Mi,{className:"w-8 h-8 text-indigo-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-indigo-900 mb-1",children:"Dersler"}),a.jsx("span",{className:"text-3xl font-extrabold text-indigo-700 mb-1",children:A.length}),a.jsx("p",{className:"text-xs text-indigo-700",children:"Ders kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(De,{onClick:()=>t("/subjects"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),A.length>0&&a.jsx(De,{onClick:Ge,icon:vr,variant:"danger",size:"md",disabled:S,className:"w-full",children:S?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-teal-50 rounded-xl p-6 border border-teal-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Mh,{className:"w-8 h-8 text-teal-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-teal-900 mb-1",children:"Derslikler"}),a.jsx("span",{className:"text-3xl font-extrabold text-teal-700 mb-1",children:g.length}),a.jsx("p",{className:"text-xs text-teal-700",children:"Derslik kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-3 mt-auto pt-2",children:[a.jsx(De,{onClick:()=>t("/classrooms"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),g.length>0&&a.jsx(De,{onClick:At,icon:vr,variant:"danger",size:"md",disabled:xe,className:"w-full",children:xe?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Zn,{className:"w-8 h-8 text-purple-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-purple-900 mb-1",children:"Programlar"}),a.jsx("span",{className:"text-3xl font-extrabold text-purple-700 mb-1",children:c.length}),a.jsx("p",{className:"text-xs text-purple-700",children:"Program kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(De,{onClick:()=>t("/all-schedules"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),c.length>0&&a.jsx(De,{onClick:We,icon:vr,variant:"danger",size:"md",disabled:T,className:"w-full",children:T?"Siliniyor...":"Tümünü Sil"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uo,{className:"w-6 h-6 text-green-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"CSV İçe Aktarma"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-5 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Or,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-medium text-blue-900",children:"Öğretmen CSV İçe Aktarma"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:`Excel'den dışa aktardığınız öğretmen verilerini CSV formatında içe aktarın. Format: "Adı Soyadı", "Branşı", "Eğitim Seviyesi"`}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"file",accept:".csv",onChange:Ct,ref:te,className:"hidden",id:"teacher-csv-upload"}),a.jsxs("label",{htmlFor:"teacher-csv-upload",className:"cursor-pointer bg-white hover:bg-blue-50 text-blue-600 font-medium py-2 px-4 border border-blue-300 rounded-lg inline-flex items-center transition-colors",children:[a.jsx(Am,{className:"w-4 h-4 mr-2"}),"CSV Dosyası Seç"]})]})]}),a.jsxs("div",{className:"bg-indigo-50 rounded-lg p-5 border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Mi,{className:"w-5 h-5 text-indigo-600 mr-2"}),a.jsx("h3",{className:"font-medium text-indigo-900",children:"Ders CSV İçe Aktarma"})]}),a.jsx("p",{className:"text-sm text-indigo-700 mb-4",children:`Excel'den dışa aktardığınız ders verilerini CSV formatında içe aktarın. Format: "Ders Adı", "Branş", "Eğitim Seviyesi", "Haftalık Saat"`}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"file",accept:".csv",onChange:ft,ref:ue,className:"hidden",id:"subject-csv-upload"}),a.jsxs("label",{htmlFor:"subject-csv-upload",className:"cursor-pointer bg-white hover:bg-indigo-50 text-indigo-600 font-medium py-2 px-4 border border-indigo-300 rounded-lg inline-flex items-center transition-colors",children:[a.jsx(Am,{className:"w-4 h-4 mr-2"}),"CSV Dosyası Seç"]})]})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(du,{className:"w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsx("h4",{className:"font-medium mb-2",children:"CSV İçe Aktarma Rehberi"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Öğretmen CSV Formatı:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsxs("li",{children:["Sütun başlıkları: ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Adı Soyadı"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Branşı"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Eğitim Seviyesi"})]}),a.jsx("li",{children:"Eğitim seviyesi: Anaokulu, İlkokul, Ortaokul"}),a.jsx("li",{children:`Excel'den "CSV UTF-8" formatında kaydedin`}),a.jsx("li",{children:"Türkçe karakter desteği mevcuttur"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Ders CSV Formatı:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsxs("li",{children:["Sütun başlıkları: ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Ders"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Branş"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Eğitim Seviyesi"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Ders Saati"})]}),a.jsx("li",{children:"Eğitim seviyesi: Anaokulu, İlkokul, Ortaokul"}),a.jsx("li",{children:"Ders saati: 1-30 arası sayı"}),a.jsx("li",{children:`Excel'den "CSV UTF-8" formatında kaydedin`})]})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ng,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Toplu Veri Yönetimi"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(To,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-medium text-blue-900",children:"Veri Yedekleme"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Tüm sistem verilerinizi yedekleyin ve dışa aktarın. Bu işlem tüm öğretmen, sınıf, ders ve program verilerinizi içerir."}),a.jsx(De,{variant:"primary",icon:To,className:"w-full",disabled:!0,children:"Tüm Verileri Yedekle (Yakında)"})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Am,{className:"w-5 h-5 text-green-600 mr-2"}),a.jsx("h3",{className:"font-medium text-green-900",children:"Veri Geri Yükleme"})]}),a.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Önceden yedeklediğiniz verileri sisteme geri yükleyin. Bu işlem mevcut verilerinizin üzerine yazacaktır."}),a.jsx(De,{variant:"primary",icon:Am,className:"w-full",disabled:!0,children:"Verileri Geri Yükle (Yakında)"})]})]})]}),a.jsxs("div",{className:"bg-red-50 rounded-lg shadow-sm border border-red-200 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Ks,{className:"w-6 h-6 text-red-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Tehlikeli Bölge"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-white rounded-lg border border-red-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-900",children:"Tüm Verileri Sil"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Bu işlem tüm öğretmen, sınıf, ders, program ve şablon verilerinizi kalıcı olarak silecektir. Bu işlem geri alınamaz!"})]}),a.jsx(De,{onClick:vt,icon:vr,variant:"danger",disabled:ve||gt===0,children:ve?"Siliniyor...":`Tüm Verileri Sil (${gt})`})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[a.jsx(De,{onClick:be,icon:vr,variant:"danger",disabled:F||e.length===0,className:"w-full",children:F?"Siliniyor...":`Öğretmenler (${e.length})`}),a.jsx(De,{onClick:Qe,icon:vr,variant:"danger",disabled:k||s.length===0,className:"w-full",children:k?"Siliniyor...":`Sınıflar (${s.length})`}),a.jsx(De,{onClick:Ge,icon:vr,variant:"danger",disabled:S||A.length===0,className:"w-full",children:S?"Siliniyor...":`Dersler (${A.length})`}),a.jsx(De,{onClick:We,icon:vr,variant:"danger",disabled:T||c.length===0,className:"w-full",children:T?"Siliniyor...":`Programlar (${c.length})`})]})]})]})]}),a.jsx(fi,{isOpen:oe,onClose:()=>X(!1),title:"Öğretmen CSV İçe Aktarma",size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(du,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"CSV İçe Aktarma Bilgisi"}),a.jsxs("p",{className:"text-sm text-blue-700",children:[O.length," öğretmen verisi bulundu.",O.filter(Fe=>Fe.isValid&&!Fe.exists).length," yeni öğretmen içe aktarılacak.",O.filter(Fe=>Fe.exists).length>0&&` ${O.filter(Fe=>Fe.exists).length} öğretmen zaten mevcut.`,O.filter(Fe=>!Fe.isValid).length>0&&` ${O.filter(Fe=>!Fe.isValid).length} geçersiz veri.`]})]})]})}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adı Soyadı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branşı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eğitim Seviyesi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Not"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((Fe,je)=>a.jsxs("tr",{className:Fe.exists?"bg-yellow-50":Fe.isValid?"hover:bg-gray-50":"bg-red-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:Fe.exists?a.jsx("div",{className:"text-yellow-500",children:a.jsx(Ks,{size:16})}):Fe.isValid?a.jsx("div",{className:"text-green-500",children:a.jsx(Gl,{size:16})}):a.jsx("div",{className:"text-red-500",children:a.jsx(Vh,{size:16})})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Fe.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Fe.level==="Anaokulu"?"bg-green-100 text-green-800":Fe.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:Fe.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Fe.exists?"Zaten mevcut":Fe.isValid?"İçe aktarılacak":Fe.error})})]},je))})]})})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(De,{type:"button",onClick:()=>X(!1),variant:"secondary",children:"İptal"}),a.jsx(De,{type:"button",onClick:yt,variant:"primary",disabled:Ee||O.filter(Fe=>Fe.isValid&&!Fe.exists).length===0,children:Ee?"İçe Aktarılıyor...":`${O.filter(Fe=>Fe.isValid&&!Fe.exists).length} Öğretmeni İçe Aktar`})]})]})}),a.jsx(fi,{isOpen:de,onClose:()=>Q(!1),title:"Ders CSV İçe Aktarma",size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(du,{className:"w-5 h-5 text-indigo-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-indigo-800 mb-1",children:"CSV İçe Aktarma Bilgisi"}),a.jsxs("p",{className:"text-sm text-indigo-700",children:[Z.length," ders verisi bulundu.",Z.filter(Fe=>Fe.isValid&&!Fe.exists).length," yeni ders içe aktarılacak.",Z.filter(Fe=>Fe.exists).length>0&&` ${Z.filter(Fe=>Fe.exists).length} ders zaten mevcut.`,Z.filter(Fe=>!Fe.isValid).length>0&&` ${Z.filter(Fe=>!Fe.isValid).length} geçersiz veri.`]})]})]})}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ders Adı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eğitim Seviyesi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Haftalık Saat"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Not"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map((Fe,je)=>a.jsxs("tr",{className:Fe.exists?"bg-yellow-50":Fe.isValid?"hover:bg-gray-50":"bg-red-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:Fe.exists?a.jsx("div",{className:"text-yellow-500",children:a.jsx(Ks,{size:16})}):Fe.isValid?a.jsx("div",{className:"text-green-500",children:a.jsx(Gl,{size:16})}):a.jsx("div",{className:"text-red-500",children:a.jsx(Vh,{size:16})})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Fe.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Fe.level==="Anaokulu"?"bg-green-100 text-green-800":Fe.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:Fe.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[Fe.weeklyHours," saat"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Fe.exists?"Zaten mevcut":Fe.isValid?"İçe aktarılacak":Fe.error})})]},je))})]})})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(De,{type:"button",onClick:()=>Q(!1),variant:"secondary",children:"İptal"}),a.jsx(De,{type:"button",onClick:Rt,variant:"primary",disabled:_e||Z.filter(Fe=>Fe.isValid&&!Fe.exists).length===0,children:_e?"İçe Aktarılıyor...":`${Z.filter(Fe=>Fe.isValid&&!Fe.exists).length} Dersi İçe Aktar`})]})]})}),a.jsx(ma,{isOpen:_.isOpen,onClose:V,onConfirm:_.onConfirm,title:_.title,message:_.message,type:_.type,confirmText:_.confirmText,cancelText:_.cancelText,confirmVariant:_.confirmVariant})]})},EV=()=>{const t=Wl(),{data:e,loading:r,add:n,update:s,remove:i}=St("classrooms"),{success:A,error:o,warning:l}=mi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=fa(),[g,b]=ce.useState(!1),[E,N]=ce.useState(null),[w,y]=ce.useState(""),[_,L]=ce.useState(""),[V,$]=ce.useState(!1),[F,B]=ce.useState({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),k=J=>J?J.substring(0,2).toUpperCase():"",P=()=>{const J=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return J[Math.floor(Math.random()*J.length)]},S=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],j=[{id:"projector",label:"Projeksiyon",icon:sg},{id:"computer",label:"Bilgisayar",icon:sg},{id:"wifi",label:"WiFi",icon:NS},{id:"sound",label:"Ses Sistemi",icon:_S}],T=[{value:"Ana Bina",label:"Ana Bina"},{value:"Ek Bina",label:"Ek Bina"},{value:"Spor Kompleksi",label:"Spor Kompleksi"},{value:"Laboratuvar Binası",label:"Laboratuvar Binası"}],xe=e.filter(J=>{const ee=!w||J.type===w,Ae=!_||J.building===_;return ee&&Ae}).sort((J,ee)=>J.name.localeCompare(ee.name,"tr")),pe=()=>{if(e.length===0){l("⚠️ Silinecek Derslik Yok","Sistemde silinecek derslik bulunamadı");return}p(`${e.length} Derslik`,async()=>{$(!0);try{let J=0;for(const ee of e)try{await i(ee.id),J++}catch(Ae){console.error(`❌ Derslik silinemedi: ${ee.name}`,Ae)}J>0?(A("🗑️ Derslikler Silindi",`${J} derslik başarıyla silindi`),y(""),L("")):o("❌ Silme Hatası","Hiçbir derslik silinemedi")}catch(J){console.error("❌ Toplu silme hatası:",J),o("❌ Silme Hatası","Derslikler silinirken bir hata oluştu")}finally{$(!1)}})},ve=async J=>{J.preventDefault();const ee={name:F.name,type:F.type||"normal",capacity:parseInt(F.capacity)||30,floor:F.floor||"1",building:F.building||"Ana Bina",equipment:F.equipment,shortName:F.shortName||k(F.name),color:F.color||P()};try{E?(await s(E.id,ee),A("✅ Güncellendi",`${F.name} başarıyla güncellendi`)):(await n(ee),A("✅ Eklendi",`${F.name} başarıyla eklendi`)),M()}catch{o("❌ Hata","Derslik kaydedilirken bir hata oluştu")}},M=()=>{B({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),N(null),b(!1)},oe=J=>{B({name:J.name,shortName:J.shortName||k(J.name),type:J.type,capacity:J.capacity.toString(),floor:J.floor,building:J.building,equipment:J.equipment||[],color:J.color||P()}),N(J),b(!0)},X=async J=>{const ee=e.find(Ae=>Ae.id===J);ee&&p(ee.name,async()=>{await i(J),A("🗑️ Derslik Silindi",`${ee.name} başarıyla silindi`)})},de=(J,ee)=>{B(ee?Ae=>({...Ae,equipment:[...Ae.equipment,J]}):Ae=>({...Ae,equipment:Ae.equipment.filter(le=>le!==J)}))};ui.useEffect(()=>{F.name&&!E&&B(J=>({...J,shortName:k(J.name)}))},[F.name,E]),ui.useEffect(()=>{F.name&&!E&&!F.color&&B(J=>({...J,color:P()}))},[F.name,E]);const Q=J=>{var ee;return((ee=S.find(Ae=>Ae.value===J))==null?void 0:ee.label)||J},O=J=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[J]||"bg-gray-100 text-gray-800",Y=[{value:"",label:"Tüm Türler"},...S],Z=[{value:"",label:"Tüm Binalar"},...T];return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mh,{className:"w-8 h-8 text-teal-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Derslik Yönetimi"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," derslik kayıtlı (",xe.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(De,{onClick:()=>t("/data-management"),variant:"secondary",className:"w-full sm:w-auto",children:"Veri Yönetimine Dön"}),e.length>0&&a.jsx(De,{onClick:pe,icon:vr,variant:"danger",disabled:V,className:"w-full sm:w-auto",children:V?"Siliniyor...":`Tümünü Sil (${e.length})`}),a.jsx(De,{onClick:()=>b(!0),icon:kr,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Derslik"})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Tür Filtresi",value:w,onChange:y,options:Y}),a.jsx(Xt,{label:"Bina Filtresi",value:_,onChange:L,options:Z})]})}),xe.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Mh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz derslik eklenmemiş":"Filtrelere uygun derslik bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk dersliğinizi ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),a.jsx("div",{className:"button-group-mobile",children:e.length===0&&a.jsx(De,{onClick:()=>b(!0),icon:kr,variant:"primary",children:"Derslik Ekle"})})]}):a.jsx("div",{className:"responsive-grid gap-responsive",children:xe.map(J=>a.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:J.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${O(J.type)}`,children:Q(J.type)})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>oe(J),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:a.jsx(xA,{size:16})}),a.jsx("button",{onClick:()=>X(J.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:a.jsx(vr,{size:16})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Kapasite:"}),a.jsxs("span",{className:"font-medium",children:[J.capacity," kişi"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Konum:"}),a.jsxs("span",{className:"font-medium",children:[J.building," - ",J.floor,". Kat"]})]}),J.equipment&&J.equipment.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:J.equipment.map(ee=>{const Ae=j.find(le=>le.id===ee);return Ae?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[a.jsx(Ae.icon,{size:12,className:"mr-1"}),Ae.label]},ee):null})})]})]})]},J.id))}),a.jsx(fi,{isOpen:g,onClose:M,title:E?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:a.jsxs("form",{onSubmit:ve,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Wt,{label:"İsim",value:F.name,onChange:J=>B({...F,name:J}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),a.jsx(Wt,{label:"Kısaltma",value:F.shortName,onChange:J=>B({...F,shortName:J}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Derslik Türü",value:F.type,onChange:J=>B({...F,type:J}),options:S}),a.jsx(Wt,{label:"Kapasite",type:"number",value:F.capacity,onChange:J=>B({...F,capacity:J}),placeholder:"30",min:"1",max:"100"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Bina",value:F.building,onChange:J=>B({...F,building:J}),options:T}),a.jsx(Wt,{label:"Kat",value:F.floor,onChange:J=>B({...F,floor:J}),placeholder:"1"})]}),a.jsx(Wt,{label:"Renk",value:F.color,onChange:J=>B({...F,color:J}),placeholder:"Otomatik atanır",disabled:!0}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Ekipmanlar"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(J=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.equipment.includes(J.id),onChange:ee=>de(J.id,ee.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx(J.icon,{size:16,className:"text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:J.label})]},J.id))})]}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(De,{type:"button",onClick:M,variant:"secondary",children:"İptal"}),a.jsx(De,{type:"submit",variant:"primary",children:E?"Güncelle":"Kaydet"})]})]})}),a.jsx(ma,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},_V=({id:t,type:e,title:r,message:n,duration:s=5e3,onClose:i})=>{const[A,o]=ce.useState(!1),[l,c]=ce.useState(!1),[h,f]=ce.useState(100);ce.useEffect(()=>{const _=setTimeout(()=>{o(!0)},e==="error"?50:100);return()=>clearTimeout(_)},[e]),ce.useEffect(()=>{if(s>0){const y=setInterval(()=>{f(L=>{const V=L-100/(s/100);return V<=0?0:V})},100),_=setTimeout(()=>{p()},s);return()=>{clearInterval(y),clearTimeout(_)}}},[s]);const p=()=>{c(!0),setTimeout(()=>{i(t)},300)},g={success:Gl,error:Vh,warning:Hh,info:du},b={success:"bg-ide-secondary-50 border-ide-secondary-500 text-ide-secondary-800",error:"bg-ide-accent-50 border-ide-accent-500 text-ide-accent-800",warning:"bg-ide-orange-50 border-ide-orange-500 text-ide-orange-800",info:"bg-ide-primary-50 border-ide-primary-500 text-ide-primary-800"},E={success:"text-ide-secondary-600",error:"text-ide-accent-600",warning:"text-ide-orange-600",info:"text-ide-primary-600"},N={success:"bg-ide-secondary-500",error:"bg-ide-accent-600",warning:"bg-ide-orange-500",info:"bg-ide-primary-500"},w=g[e];return a.jsxs("div",{className:`
        w-full bg-white pointer-events-auto transform transition-all duration-500 ease-out relative overflow-hidden
        ${b[e]}
        ${A&&!l?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
        ${e==="error"?"ring-8 ring-ide-accent-400 ring-opacity-75 shadow-ide-2xl":"shadow-ide-xl"}
        hover:shadow-ide-2xl hover:scale-105 rounded-xl border-l-8
      `,style:{minHeight:e==="error"?"120px":"90px",maxWidth:"400px",zIndex:2147483647,position:"relative",...e==="error"&&{animation:"shake 0.6s ease-in-out, glow 2s ease-in-out infinite",boxShadow:"0 25px 50px -12px rgba(220, 38, 38, 0.5), 0 0 0 4px rgba(220, 38, 38, 0.2), 0 0 30px rgba(220, 38, 38, 0.4)"}},children:[e==="error"&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-ide-accent-100 via-ide-accent-50 to-ide-accent-100 animate-pulse opacity-60"}),a.jsx("div",{className:"p-6 relative z-10",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(w,{className:`h-8 w-8 ${E[e]} ${e==="error"?"animate-bounce":""}`})}),a.jsxs("div",{className:"ml-4 w-0 flex-1",children:[a.jsx("p",{className:`text-lg font-bold leading-tight ${e==="error"?"text-ide-accent-900":"text-ide-gray-900"}`,children:r}),n&&a.jsx("p",{className:`mt-3 text-sm leading-relaxed whitespace-pre-line ${e==="error"?"text-ide-accent-800 font-semibold":"text-ide-gray-700"}`,children:n})]}),a.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:a.jsx("button",{onClick:p,className:`rounded-full p-2 inline-flex transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="error"?"text-ide-accent-600 hover:text-ide-accent-800 hover:bg-ide-accent-200 focus:ring-ide-accent-500":"text-ide-gray-400 hover:text-ide-gray-600 hover:bg-ide-gray-100 focus:ring-ide-primary-500"}`,children:a.jsx(ca,{className:"h-6 w-6"})})})]})}),s>0&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-ide-gray-200 overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ease-linear ${N[e]}`,style:{width:`${h}%`,transition:"width 100ms linear"}})}),e==="error"&&a.jsx("div",{className:"absolute -inset-2 bg-ide-accent-500 rounded-xl blur-sm opacity-20 animate-pulse -z-10"})]})},NV=({toasts:t,onClose:e})=>t.length===0?null:a.jsx("div",{className:"space-y-4 w-full",style:{pointerEvents:"auto",position:"relative",zIndex:2147483647},children:t.map((r,n)=>a.jsx("div",{style:{transform:`translateY(${n*10}px) scale(${1-n*.02})`,zIndex:2147483647-n,position:"relative",opacity:1-n*.1},children:a.jsx(_V,{...r,onClose:e})},r.id))});function SV(){const{user:t,loading:e}=M2(),{toasts:r,removeToast:n}=mi();return e?a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("div",{className:"text-gray-600 font-medium",children:"Yükleniyor..."})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{id:"toast-portal-root",style:{position:"fixed",top:"20px",right:"20px",zIndex:2147483647,pointerEvents:"none",width:"420px",maxWidth:"90vw"},children:a.jsx(NV,{toasts:r,onClose:n})}),t?a.jsx(cU,{children:a.jsx(rU,{children:a.jsxs(Ds,{path:"/",element:a.jsx(ER,{}),children:[a.jsx(Ds,{index:!0,element:a.jsx(NR,{})}),a.jsx(Ds,{path:"teachers",element:a.jsx(kR,{})}),a.jsx(Ds,{path:"classes",element:a.jsx(TR,{})}),a.jsx(Ds,{path:"subjects",element:a.jsx(UR,{})}),a.jsx(Ds,{path:"schedules",element:a.jsx(DR,{})}),a.jsx(Ds,{path:"schedule-wizard",element:a.jsx(YR,{})}),a.jsx(Ds,{path:"class-schedules",element:a.jsx(BV,{})}),a.jsx(Ds,{path:"all-schedules",element:a.jsx(xV,{})}),a.jsx(Ds,{path:"pdf",element:a.jsx(bV,{})}),a.jsx(Ds,{path:"data-management",element:a.jsx(CV,{})}),a.jsx(Ds,{path:"classrooms",element:a.jsx(EV,{})})]})})}):a.jsx(_R,{})]})}ME(document.getElementById("root")).render(a.jsx(ce.StrictMode,{children:a.jsx(SV,{})}));export{Ar as _,IV as c,DF as g};
