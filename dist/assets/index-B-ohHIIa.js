function DF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var TV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TC={exports:{}},vg={},UC={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=Symbol.for("react.element"),OF=Symbol.for("react.portal"),HF=Symbol.for("react.fragment"),MF=Symbol.for("react.strict_mode"),VF=Symbol.for("react.profiler"),KF=Symbol.for("react.provider"),zF=Symbol.for("react.context"),GF=Symbol.for("react.forward_ref"),qF=Symbol.for("react.suspense"),$F=Symbol.for("react.memo"),WF=Symbol.for("react.lazy"),Nx=Symbol.iterator;function YF(t){return t===null||typeof t!="object"?null:(t=Nx&&t[Nx]||t["@@iterator"],typeof t=="function"?t:null)}var QC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jC=Object.assign,LC={};function Du(t,e,r){this.props=t,this.context=e,this.refs=LC,this.updater=r||QC}Du.prototype.isReactComponent={};Du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PC(){}PC.prototype=Du.prototype;function Zy(t,e,r){this.props=t,this.context=e,this.refs=LC,this.updater=r||QC}var ew=Zy.prototype=new PC;ew.constructor=Zy;jC(ew,Du.prototype);ew.isPureReactComponent=!0;var Sx=Array.isArray,DC=Object.prototype.hasOwnProperty,tw={current:null},RC={key:!0,ref:!0,__self:!0,__source:!0};function OC(t,e,r){var n,s={},i=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)DC.call(e,n)&&!RC.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Yh,type:t,key:i,ref:A,props:s,_owner:tw.current}}function XF(t,e){return{$$typeof:Yh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yh}function JF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Fx=/\/+/g;function Q0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JF(""+t.key):e.toString(36)}function Pm(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Yh:case OF:A=!0}}if(A)return A=t,s=s(A),t=n===""?"."+Q0(A,0):n,Sx(s)?(r="",t!=null&&(r=t.replace(Fx,"$&/")+"/"),Pm(s,e,r,"",function(c){return c})):s!=null&&(rw(s)&&(s=XF(s,r+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(Fx,"$&/")+"/")+t)),e.push(s)),1;if(A=0,n=n===""?".":n+":",Sx(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+Q0(i,o);A+=Pm(i,e,r,l,s)}else if(l=YF(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+Q0(i,o++),A+=Pm(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Of(t,e,r){if(t==null)return t;var n=[],s=0;return Pm(t,n,"","",function(i){return e.call(r,i,s++)}),n}function ZF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ds={current:null},Dm={transition:null},ek={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:Dm,ReactCurrentOwner:tw};function HC(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:Of,forEach:function(t,e,r){Of(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Of(t,function(){e++}),e},toArray:function(t){return Of(t,function(e){return e})||[]},only:function(t){if(!rw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=Du;Ht.Fragment=HF;Ht.Profiler=VF;Ht.PureComponent=Zy;Ht.StrictMode=MF;Ht.Suspense=qF;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Ht.act=HC;Ht.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jC({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=tw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)DC.call(e,l)&&!RC.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Yh,type:t.type,key:s,ref:i,props:n,_owner:A}};Ht.createContext=function(t){return t={$$typeof:zF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KF,_context:t},t.Consumer=t};Ht.createElement=OC;Ht.createFactory=function(t){var e=OC.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:GF,render:t}};Ht.isValidElement=rw;Ht.lazy=function(t){return{$$typeof:WF,_payload:{_status:-1,_result:t},_init:ZF}};Ht.memo=function(t,e){return{$$typeof:$F,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=Dm.transition;Dm.transition={};try{t()}finally{Dm.transition=e}};Ht.unstable_act=HC;Ht.useCallback=function(t,e){return ds.current.useCallback(t,e)};Ht.useContext=function(t){return ds.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return ds.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return ds.current.useEffect(t,e)};Ht.useId=function(){return ds.current.useId()};Ht.useImperativeHandle=function(t,e,r){return ds.current.useImperativeHandle(t,e,r)};Ht.useInsertionEffect=function(t,e){return ds.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return ds.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return ds.current.useMemo(t,e)};Ht.useReducer=function(t,e,r){return ds.current.useReducer(t,e,r)};Ht.useRef=function(t){return ds.current.useRef(t)};Ht.useState=function(t){return ds.current.useState(t)};Ht.useSyncExternalStore=function(t,e,r){return ds.current.useSyncExternalStore(t,e,r)};Ht.useTransition=function(){return ds.current.useTransition()};Ht.version="18.3.1";UC.exports=Ht;var le=UC.exports;const ui=RF(le),tk=DF({__proto__:null,default:ui},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=le,nk=Symbol.for("react.element"),sk=Symbol.for("react.fragment"),ik=Object.prototype.hasOwnProperty,Ak=rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ak={key:!0,ref:!0,__self:!0,__source:!0};function MC(t,e,r){var n,s={},i=null,A=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)ik.call(e,n)&&!ak.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:nk,type:t,key:i,ref:A,props:s,_owner:Ak.current}}vg.Fragment=sk;vg.jsx=MC;vg.jsxs=MC;TC.exports=vg;var a=TC.exports,VC={exports:{}},Gs={},KC={exports:{}},zC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ae){var Y=H.length;H.push(ae);e:for(;0<Y;){var ce=Y-1>>>1,Q=H[ce];if(0<s(Q,ae))H[ce]=ae,H[Y]=Q,Y=ce;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ae=H[0],Y=H.pop();if(Y!==ae){H[0]=Y;e:for(var ce=0,Q=H.length,K=Q>>>1;ce<K;){var X=2*(ce+1)-1,re=H[X],ee=X+1,te=H[ee];if(0>s(re,Y))ee<Q&&0>s(te,re)?(H[ce]=te,H[ee]=Y,ce=ee):(H[ce]=re,H[X]=Y,ce=X);else if(ee<Q&&0>s(te,Y))H[ce]=te,H[ee]=Y,ce=ee;else break e}}return ae}function s(H,ae){var Y=H.sortIndex-ae.sortIndex;return Y!==0?Y:H.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,o=A.now();t.unstable_now=function(){return A.now()-o}}var l=[],c=[],h=1,f=null,p=3,g=!1,b=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var ae=r(c);ae!==null;){if(ae.callback===null)n(c);else if(ae.startTime<=H)n(c),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=r(c)}}function L(H){if(E=!1,I(H),!b)if(r(l)!==null)b=!0,de(z);else{var ae=r(c);ae!==null&&ve(L,ae.startTime-H)}}function z(H,ae){b=!1,E&&(E=!1,w(B),B=-1),g=!0;var Y=p;try{for(I(ae),f=r(l);f!==null&&(!(f.expirationTime>ae)||H&&!N());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,p=f.priorityLevel;var Q=ce(f.expirationTime<=ae);ae=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&n(l),I(ae)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var X=r(c);X!==null&&ve(L,X.startTime-ae),K=!1}return K}finally{f=null,p=Y,g=!1}}var q=!1,U=null,B=-1,k=5,P=-1;function N(){return!(t.unstable_now()-P<k)}function F(){if(U!==null){var H=t.unstable_now();P=H;var ae=!0;try{ae=U(!0,H)}finally{ae?j():(q=!1,U=null)}}else q=!1}var j;if(typeof v=="function")j=function(){v(F)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,we=se.port2;se.port1.onmessage=F,j=function(){we.postMessage(null)}}else j=function(){_(F,0)};function de(H){U=H,q||(q=!0,j())}function ve(H,ae){B=_(function(){H(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,de(z))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var Y=p;p=ae;try{return H()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=p;p=H;try{return ae()}finally{p=Y}},t.unstable_scheduleCallback=function(H,ae,Y){var ce=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ce+Y:ce):Y=ce,H){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,H={id:h++,callback:ae,priorityLevel:H,startTime:Y,expirationTime:Q,sortIndex:-1},Y>ce?(H.sortIndex=Y,e(c,H),r(l)===null&&H===r(c)&&(E?(w(B),B=-1):E=!0,ve(L,Y-ce))):(H.sortIndex=Q,e(l,H),b||g||(b=!0,de(z))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var ae=p;return function(){var Y=p;p=ae;try{return H.apply(this,arguments)}finally{p=Y}}}})(zC);KC.exports=zC;var ok=KC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=le,zs=ok;function Ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GC=new Set,fh={};function Yl(t,e){yu(t,e),yu(t+"Capture",e)}function yu(t,e){for(fh[t]=e,t=0;t<e.length;t++)GC.add(e[t])}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X1=Object.prototype.hasOwnProperty,ck=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kx={},Tx={};function uk(t){return X1.call(Tx,t)?!0:X1.call(kx,t)?!1:ck.test(t)?Tx[t]=!0:(kx[t]=!0,!1)}function dk(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hk(t,e,r,n){if(e===null||typeof e>"u"||dk(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hs(t,e,r,n,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new hs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new hs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new hs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new hs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new hs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new hs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new hs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new hs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new hs(t,5,!1,t.toLowerCase(),null,!1,!1)});var nw=/[\-:]([a-z])/g;function sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nw,sw);jn[e]=new hs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nw,sw);jn[e]=new hs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nw,sw);jn[e]=new hs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new hs(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new hs(t,1,!1,t.toLowerCase(),null,!0,!0)});function iw(t,e,r,n){var s=jn.hasOwnProperty(e)?jn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hk(e,r,s,n)&&(r=null),n||s===null?uk(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fa=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hf=Symbol.for("react.element"),Vc=Symbol.for("react.portal"),Kc=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),J1=Symbol.for("react.profiler"),qC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),aw=Symbol.for("react.forward_ref"),Z1=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),ow=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),WC=Symbol.for("react.offscreen"),Ux=Symbol.iterator;function pd(t){return t===null||typeof t!="object"?null:(t=Ux&&t[Ux]||t["@@iterator"],typeof t=="function"?t:null)}var jr=Object.assign,j0;function kd(t){if(j0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);j0=e&&e[1]||""}return`
`+j0+t}var L0=!1;function P0(t,e){if(!t||L0)return"";L0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),A=s.length-1,o=i.length-1;1<=A&&0<=o&&s[A]!==i[o];)o--;for(;1<=A&&0<=o;A--,o--)if(s[A]!==i[o]){if(A!==1||o!==1)do if(A--,o--,0>o||s[A]!==i[o]){var l=`
`+s[A].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=A&&0<=o);break}}}finally{L0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?kd(t):""}function fk(t){switch(t.tag){case 5:return kd(t.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return t=P0(t.type,!1),t;case 11:return t=P0(t.type.render,!1),t;case 1:return t=P0(t.type,!0),t;default:return""}}function tv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kc:return"Fragment";case Vc:return"Portal";case J1:return"Profiler";case Aw:return"StrictMode";case Z1:return"Suspense";case ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $C:return(t.displayName||"Context")+".Consumer";case qC:return(t._context.displayName||"Context")+".Provider";case aw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ow:return e=t.displayName||null,e!==null?e:tv(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return tv(t(e))}catch{}}return null}function mk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(e);case 8:return e===Aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pk(t){var e=YC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){n=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mf(t){t._valueTracker||(t._valueTracker=pk(t))}function XC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=YC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rv(t,e){var r=e.checked;return jr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Qx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Do(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JC(t,e){e=e.checked,e!=null&&iw(t,"checked",e,!1)}function nv(t,e){JC(t,e);var r=Do(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sv(t,e.type,r):e.hasOwnProperty("defaultValue")&&sv(t,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function sv(t,e,r){(e!=="number"||hp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Td=Array.isArray;function su(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Do(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function iv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return jr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ye(92));if(Td(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Do(r)}}function ZC(t,e){var r=Do(e.value),n=Do(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Px(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vf,t4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gk=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(t){gk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$d[e]=$d[t]})});function r4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$d.hasOwnProperty(t)&&$d[t]?(""+e).trim():e+"px"}function n4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=r4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var vk=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(t,e){if(e){if(vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lv=null;function lw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cv=null,iu=null,Au=null;function Dx(t){if(t=Zh(t)){if(typeof cv!="function")throw Error(Ye(280));var e=t.stateNode;e&&(e=bg(e),cv(t.stateNode,t.type,e))}}function s4(t){iu?Au?Au.push(t):Au=[t]:iu=t}function i4(){if(iu){var t=iu,e=Au;if(Au=iu=null,Dx(t),e)for(t=0;t<e.length;t++)Dx(e[t])}}function A4(t,e){return t(e)}function a4(){}var D0=!1;function o4(t,e,r){if(D0)return t(e,r);D0=!0;try{return A4(t,e,r)}finally{D0=!1,(iu!==null||Au!==null)&&(a4(),i4())}}function ph(t,e){var r=t.stateNode;if(r===null)return null;var n=bg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ye(231,e,typeof r));return r}var uv=!1;if(sa)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){uv=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{uv=!1}function yk(t,e,r,n,s,i,A,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var Wd=!1,fp=null,mp=!1,dv=null,wk={onError:function(t){Wd=!0,fp=t}};function xk(t,e,r,n,s,i,A,o,l){Wd=!1,fp=null,yk.apply(wk,arguments)}function Bk(t,e,r,n,s,i,A,o,l){if(xk.apply(this,arguments),Wd){if(Wd){var c=fp;Wd=!1,fp=null}else throw Error(Ye(198));mp||(mp=!0,dv=c)}}function Xl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function l4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rx(t){if(Xl(t)!==t)throw Error(Ye(188))}function bk(t){var e=t.alternate;if(!e){if(e=Xl(t),e===null)throw Error(Ye(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Rx(s),t;if(i===n)return Rx(s),e;i=i.sibling}throw Error(Ye(188))}if(r.return!==n.return)r=s,n=i;else{for(var A=!1,o=s.child;o;){if(o===r){A=!0,r=s,n=i;break}if(o===n){A=!0,n=s,r=i;break}o=o.sibling}if(!A){for(o=i.child;o;){if(o===r){A=!0,r=i,n=s;break}if(o===n){A=!0,n=i,r=s;break}o=o.sibling}if(!A)throw Error(Ye(189))}}if(r.alternate!==n)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?t:e}function c4(t){return t=bk(t),t!==null?u4(t):null}function u4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u4(t);if(e!==null)return e;t=t.sibling}return null}var d4=zs.unstable_scheduleCallback,Ox=zs.unstable_cancelCallback,Ck=zs.unstable_shouldYield,Ek=zs.unstable_requestPaint,Xr=zs.unstable_now,_k=zs.unstable_getCurrentPriorityLevel,cw=zs.unstable_ImmediatePriority,h4=zs.unstable_UserBlockingPriority,pp=zs.unstable_NormalPriority,Ik=zs.unstable_LowPriority,f4=zs.unstable_IdlePriority,yg=null,fA=null;function Nk(t){if(fA&&typeof fA.onCommitFiberRoot=="function")try{fA.onCommitFiberRoot(yg,t,void 0,(t.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:kk,Sk=Math.log,Fk=Math.LN2;function kk(t){return t>>>=0,t===0?32:31-(Sk(t)/Fk|0)|0}var Kf=64,zf=4194304;function Ud(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,A=r&268435455;if(A!==0){var o=A&~s;o!==0?n=Ud(o):(i&=A,i!==0&&(n=Ud(i)))}else A=r&~s,A!==0?n=Ud(A):i!==0&&(n=Ud(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Pi(e),s=1<<r,n|=t[r],e&=~s;return n}function Tk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-Pi(i),o=1<<A,l=s[A];l===-1?(!(o&r)||o&n)&&(s[A]=Tk(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function hv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function m4(){var t=Kf;return Kf<<=1,!(Kf&4194240)&&(Kf=64),t}function R0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pi(e),t[e]=r}function Qk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Pi(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function uw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pi(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var dr=0;function p4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g4,dw,v4,y4,w4,fv=!1,Gf=[],yo=null,wo=null,xo=null,gh=new Map,vh=new Map,no=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(e.pointerId)}}function vd(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zh(e),e!==null&&dw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lk(t,e,r,n,s){switch(e){case"focusin":return yo=vd(yo,t,e,r,n,s),!0;case"dragenter":return wo=vd(wo,t,e,r,n,s),!0;case"mouseover":return xo=vd(xo,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return gh.set(i,vd(gh.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,vh.set(i,vd(vh.get(i)||null,t,e,r,n,s)),!0}return!1}function x4(t){var e=Il(t.target);if(e!==null){var r=Xl(e);if(r!==null){if(e=r.tag,e===13){if(e=l4(r),e!==null){t.blockedOn=e,w4(t.priority,function(){v4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lv=n,r.target.dispatchEvent(n),lv=null}else return e=Zh(r),e!==null&&dw(e),t.blockedOn=r,!1;e.shift()}return!0}function Mx(t,e,r){Rm(t)&&r.delete(e)}function Pk(){fv=!1,yo!==null&&Rm(yo)&&(yo=null),wo!==null&&Rm(wo)&&(wo=null),xo!==null&&Rm(xo)&&(xo=null),gh.forEach(Mx),vh.forEach(Mx)}function yd(t,e){t.blockedOn===e&&(t.blockedOn=null,fv||(fv=!0,zs.unstable_scheduleCallback(zs.unstable_NormalPriority,Pk)))}function yh(t){function e(s){return yd(s,t)}if(0<Gf.length){yd(Gf[0],t);for(var r=1;r<Gf.length;r++){var n=Gf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(yo!==null&&yd(yo,t),wo!==null&&yd(wo,t),xo!==null&&yd(xo,t),gh.forEach(e),vh.forEach(e),r=0;r<no.length;r++)n=no[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<no.length&&(r=no[0],r.blockedOn===null);)x4(r),r.blockedOn===null&&no.shift()}var au=fa.ReactCurrentBatchConfig,vp=!0;function Dk(t,e,r,n){var s=dr,i=au.transition;au.transition=null;try{dr=1,hw(t,e,r,n)}finally{dr=s,au.transition=i}}function Rk(t,e,r,n){var s=dr,i=au.transition;au.transition=null;try{dr=4,hw(t,e,r,n)}finally{dr=s,au.transition=i}}function hw(t,e,r,n){if(vp){var s=mv(t,e,r,n);if(s===null)W0(t,e,n,yp,r),Hx(t,n);else if(Lk(s,t,e,r,n))n.stopPropagation();else if(Hx(t,n),e&4&&-1<jk.indexOf(t)){for(;s!==null;){var i=Zh(s);if(i!==null&&g4(i),i=mv(t,e,r,n),i===null&&W0(t,e,n,yp,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else W0(t,e,n,null,r)}}var yp=null;function mv(t,e,r,n){if(yp=null,t=lw(n),t=Il(t),t!==null)if(e=Xl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=l4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yp=t,null}function B4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_k()){case cw:return 1;case h4:return 4;case pp:case Ik:return 16;case f4:return 536870912;default:return 16}default:return 16}}var lo=null,fw=null,Om=null;function b4(){if(Om)return Om;var t,e=fw,r=e.length,n,s="value"in lo?lo.value:lo.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===s[i-n];n++);return Om=s.slice(t,1<n?1-n:void 0)}function Hm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qf(){return!0}function Vx(){return!1}function qs(t){function e(r,n,s,i,A){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qf:Vx,this.isPropagationStopped=Vx,this}return jr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){},isPersistent:qf}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mw=qs(Ru),Jh=jr({},Ru,{view:0,detail:0}),Ok=qs(Jh),O0,H0,wd,wg=jr({},Jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wd&&(wd&&t.type==="mousemove"?(O0=t.screenX-wd.screenX,H0=t.screenY-wd.screenY):H0=O0=0,wd=t),O0)},movementY:function(t){return"movementY"in t?t.movementY:H0}}),Kx=qs(wg),Hk=jr({},wg,{dataTransfer:0}),Mk=qs(Hk),Vk=jr({},Jh,{relatedTarget:0}),M0=qs(Vk),Kk=jr({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),zk=qs(Kk),Gk=jr({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qk=qs(Gk),$k=jr({},Ru,{data:0}),zx=qs($k),Wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xk[t])?!!e[t]:!1}function pw(){return Jk}var Zk=jr({},Jh,{key:function(t){if(t.key){var e=Wk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pw,charCode:function(t){return t.type==="keypress"?Hm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e3=qs(Zk),t3=jr({},wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gx=qs(t3),r3=jr({},Jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pw}),n3=qs(r3),s3=jr({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),i3=qs(s3),A3=jr({},wg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a3=qs(A3),o3=[9,13,27,32],gw=sa&&"CompositionEvent"in window,Yd=null;sa&&"documentMode"in document&&(Yd=document.documentMode);var l3=sa&&"TextEvent"in window&&!Yd,C4=sa&&(!gw||Yd&&8<Yd&&11>=Yd),qx=" ",$x=!1;function E4(t,e){switch(t){case"keyup":return o3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zc=!1;function c3(t,e){switch(t){case"compositionend":return _4(e);case"keypress":return e.which!==32?null:($x=!0,qx);case"textInput":return t=e.data,t===qx&&$x?null:t;default:return null}}function u3(t,e){if(zc)return t==="compositionend"||!gw&&E4(t,e)?(t=b4(),Om=fw=lo=null,zc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C4&&e.locale!=="ko"?null:e.data;default:return null}}var d3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!d3[t.type]:e==="textarea"}function I4(t,e,r,n){s4(n),e=wp(e,"onChange"),0<e.length&&(r=new mw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Xd=null,wh=null;function h3(t){D4(t,0)}function xg(t){var e=$c(t);if(XC(e))return t}function f3(t,e){if(t==="change")return e}var N4=!1;if(sa){var V0;if(sa){var K0="oninput"in document;if(!K0){var Yx=document.createElement("div");Yx.setAttribute("oninput","return;"),K0=typeof Yx.oninput=="function"}V0=K0}else V0=!1;N4=V0&&(!document.documentMode||9<document.documentMode)}function Xx(){Xd&&(Xd.detachEvent("onpropertychange",S4),wh=Xd=null)}function S4(t){if(t.propertyName==="value"&&xg(wh)){var e=[];I4(e,wh,t,lw(t)),o4(h3,e)}}function m3(t,e,r){t==="focusin"?(Xx(),Xd=e,wh=r,Xd.attachEvent("onpropertychange",S4)):t==="focusout"&&Xx()}function p3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xg(wh)}function g3(t,e){if(t==="click")return xg(e)}function v3(t,e){if(t==="input"||t==="change")return xg(e)}function y3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oi=typeof Object.is=="function"?Object.is:y3;function xh(t,e){if(Oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!X1.call(e,s)||!Oi(t[s],e[s]))return!1}return!0}function Jx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zx(t,e){var r=Jx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jx(r)}}function F4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k4(){for(var t=window,e=hp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hp(t.document)}return e}function vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w3(t){var e=k4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&F4(r.ownerDocument.documentElement,r)){if(n!==null&&vw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Zx(r,i);var A=Zx(r,n);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x3=sa&&"documentMode"in document&&11>=document.documentMode,Gc=null,pv=null,Jd=null,gv=!1;function eB(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gv||Gc==null||Gc!==hp(n)||(n=Gc,"selectionStart"in n&&vw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jd&&xh(Jd,n)||(Jd=n,n=wp(pv,"onSelect"),0<n.length&&(e=new mw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Gc)))}function $f(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var qc={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},z0={},T4={};sa&&(T4=document.createElement("div").style,"AnimationEvent"in window||(delete qc.animationend.animation,delete qc.animationiteration.animation,delete qc.animationstart.animation),"TransitionEvent"in window||delete qc.transitionend.transition);function Bg(t){if(z0[t])return z0[t];if(!qc[t])return t;var e=qc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in T4)return z0[t]=e[r];return t}var U4=Bg("animationend"),Q4=Bg("animationiteration"),j4=Bg("animationstart"),L4=Bg("transitionend"),P4=new Map,tB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(t,e){P4.set(t,e),Yl(e,[t])}for(var G0=0;G0<tB.length;G0++){var q0=tB[G0],B3=q0.toLowerCase(),b3=q0[0].toUpperCase()+q0.slice(1);Go(B3,"on"+b3)}Go(U4,"onAnimationEnd");Go(Q4,"onAnimationIteration");Go(j4,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(L4,"onTransitionEnd");yu("onMouseEnter",["mouseout","mouseover"]);yu("onMouseLeave",["mouseout","mouseover"]);yu("onPointerEnter",["pointerout","pointerover"]);yu("onPointerLeave",["pointerout","pointerover"]);Yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qd));function rB(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Bk(n,e,void 0,t),t.currentTarget=null}function D4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var A=n.length-1;0<=A;A--){var o=n[A],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;rB(s,o,c),i=l}else for(A=0;A<n.length;A++){if(o=n[A],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;rB(s,o,c),i=l}}}if(mp)throw t=dv,mp=!1,dv=null,t}function _r(t,e){var r=e[Bv];r===void 0&&(r=e[Bv]=new Set);var n=t+"__bubble";r.has(n)||(R4(e,t,2,!1),r.add(n))}function $0(t,e,r){var n=0;e&&(n|=4),R4(r,t,n,e)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function Bh(t){if(!t[Wf]){t[Wf]=!0,GC.forEach(function(r){r!=="selectionchange"&&(C3.has(r)||$0(r,!1,t),$0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wf]||(e[Wf]=!0,$0("selectionchange",!1,e))}}function R4(t,e,r,n){switch(B4(e)){case 1:var s=Dk;break;case 4:s=Rk;break;default:s=hw}r=s.bind(null,e,r,t),s=void 0,!uv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function W0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(A===4)for(A=n.return;A!==null;){var l=A.tag;if((l===3||l===4)&&(l=A.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;A=A.return}for(;o!==null;){if(A=Il(o),A===null)return;if(l=A.tag,l===5||l===6){n=i=A;continue e}o=o.parentNode}}n=n.return}o4(function(){var c=i,h=lw(r),f=[];e:{var p=P4.get(t);if(p!==void 0){var g=mw,b=t;switch(t){case"keypress":if(Hm(r)===0)break e;case"keydown":case"keyup":g=e3;break;case"focusin":b="focus",g=M0;break;case"focusout":b="blur",g=M0;break;case"beforeblur":case"afterblur":g=M0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=n3;break;case U4:case Q4:case j4:g=zk;break;case L4:g=i3;break;case"scroll":g=Ok;break;case"wheel":g=a3;break;case"copy":case"cut":case"paste":g=qk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Gx}var E=(e&4)!==0,_=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var v=c,I;v!==null;){I=v;var L=I.stateNode;if(I.tag===5&&L!==null&&(I=L,w!==null&&(L=ph(v,w),L!=null&&E.push(bh(v,L,I)))),_)break;v=v.return}0<E.length&&(p=new g(p,b,null,r,h),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==lv&&(b=r.relatedTarget||r.fromElement)&&(Il(b)||b[ia]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=c,b=b?Il(b):null,b!==null&&(_=Xl(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(E=Kx,L="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=Gx,L="onPointerLeave",w="onPointerEnter",v="pointer"),_=g==null?p:$c(g),I=b==null?p:$c(b),p=new E(L,v+"leave",g,r,h),p.target=_,p.relatedTarget=I,L=null,Il(h)===c&&(E=new E(w,v+"enter",b,r,h),E.target=I,E.relatedTarget=_,L=E),_=L,g&&b)t:{for(E=g,w=b,v=0,I=E;I;I=_c(I))v++;for(I=0,L=w;L;L=_c(L))I++;for(;0<v-I;)E=_c(E),v--;for(;0<I-v;)w=_c(w),I--;for(;v--;){if(E===w||w!==null&&E===w.alternate)break t;E=_c(E),w=_c(w)}E=null}else E=null;g!==null&&nB(f,p,g,E,!1),b!==null&&_!==null&&nB(f,_,b,E,!0)}}e:{if(p=c?$c(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var z=f3;else if(Wx(p))if(N4)z=v3;else{z=p3;var q=m3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(z=g3);if(z&&(z=z(t,c))){I4(f,z,r,h);break e}q&&q(t,p,c),t==="focusout"&&(q=p._wrapperState)&&q.controlled&&p.type==="number"&&sv(p,"number",p.value)}switch(q=c?$c(c):window,t){case"focusin":(Wx(q)||q.contentEditable==="true")&&(Gc=q,pv=c,Jd=null);break;case"focusout":Jd=pv=Gc=null;break;case"mousedown":gv=!0;break;case"contextmenu":case"mouseup":case"dragend":gv=!1,eB(f,r,h);break;case"selectionchange":if(x3)break;case"keydown":case"keyup":eB(f,r,h)}var U;if(gw)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else zc?E4(t,r)&&(B="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(B="onCompositionStart");B&&(C4&&r.locale!=="ko"&&(zc||B!=="onCompositionStart"?B==="onCompositionEnd"&&zc&&(U=b4()):(lo=h,fw="value"in lo?lo.value:lo.textContent,zc=!0)),q=wp(c,B),0<q.length&&(B=new zx(B,t,null,r,h),f.push({event:B,listeners:q}),U?B.data=U:(U=_4(r),U!==null&&(B.data=U)))),(U=l3?c3(t,r):u3(t,r))&&(c=wp(c,"onBeforeInput"),0<c.length&&(h=new zx("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=U))}D4(f,e)})}function bh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wp(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ph(t,r),i!=null&&n.unshift(bh(t,i,s)),i=ph(t,e),i!=null&&n.push(bh(t,i,s))),t=t.return}return n}function _c(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nB(t,e,r,n,s){for(var i=e._reactName,A=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=ph(r,i),l!=null&&A.unshift(bh(r,l,o))):s||(l=ph(r,i),l!=null&&A.push(bh(r,l,o)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var E3=/\r\n?/g,_3=/\u0000|\uFFFD/g;function sB(t){return(typeof t=="string"?t:""+t).replace(E3,`
`).replace(_3,"")}function Yf(t,e,r){if(e=sB(e),sB(t)!==e&&r)throw Error(Ye(425))}function xp(){}var vv=null,yv=null;function wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xv=typeof setTimeout=="function"?setTimeout:void 0,I3=typeof clearTimeout=="function"?clearTimeout:void 0,iB=typeof Promise=="function"?Promise:void 0,N3=typeof queueMicrotask=="function"?queueMicrotask:typeof iB<"u"?function(t){return iB.resolve(null).then(t).catch(S3)}:xv;function S3(t){setTimeout(function(){throw t})}function Y0(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),yh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);yh(e)}function Bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function AB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ou=Math.random().toString(36).slice(2),dA="__reactFiber$"+Ou,Ch="__reactProps$"+Ou,ia="__reactContainer$"+Ou,Bv="__reactEvents$"+Ou,F3="__reactListeners$"+Ou,k3="__reactHandles$"+Ou;function Il(t){var e=t[dA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ia]||r[dA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=AB(t);t!==null;){if(r=t[dA])return r;t=AB(t)}return e}t=r,r=t.parentNode}return null}function Zh(t){return t=t[dA]||t[ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $c(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ye(33))}function bg(t){return t[Ch]||null}var bv=[],Wc=-1;function qo(t){return{current:t}}function Sr(t){0>Wc||(t.current=bv[Wc],bv[Wc]=null,Wc--)}function br(t,e){Wc++,bv[Wc]=t.current,t.current=e}var Ro={},Zn=qo(Ro),Cs=qo(!1),Dl=Ro;function wu(t,e){var r=t.type.contextTypes;if(!r)return Ro;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Es(t){return t=t.childContextTypes,t!=null}function Bp(){Sr(Cs),Sr(Zn)}function aB(t,e,r){if(Zn.current!==Ro)throw Error(Ye(168));br(Zn,e),br(Cs,r)}function O4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ye(108,mk(t)||"Unknown",s));return jr({},r,n)}function bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,Dl=Zn.current,br(Zn,t),br(Cs,Cs.current),!0}function oB(t,e,r){var n=t.stateNode;if(!n)throw Error(Ye(169));r?(t=O4(t,e,Dl),n.__reactInternalMemoizedMergedChildContext=t,Sr(Cs),Sr(Zn),br(Zn,t)):Sr(Cs),br(Cs,r)}var WA=null,Cg=!1,X0=!1;function H4(t){WA===null?WA=[t]:WA.push(t)}function T3(t){Cg=!0,H4(t)}function $o(){if(!X0&&WA!==null){X0=!0;var t=0,e=dr;try{var r=WA;for(dr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}WA=null,Cg=!1}catch(s){throw WA!==null&&(WA=WA.slice(t+1)),d4(cw,$o),s}finally{dr=e,X0=!1}}return null}var Yc=[],Xc=0,Cp=null,Ep=0,ni=[],si=0,Rl=null,YA=1,XA="";function xl(t,e){Yc[Xc++]=Ep,Yc[Xc++]=Cp,Cp=t,Ep=e}function M4(t,e,r){ni[si++]=YA,ni[si++]=XA,ni[si++]=Rl,Rl=t;var n=YA;t=XA;var s=32-Pi(n)-1;n&=~(1<<s),r+=1;var i=32-Pi(e)+s;if(30<i){var A=s-s%5;i=(n&(1<<A)-1).toString(32),n>>=A,s-=A,YA=1<<32-Pi(e)+s|r<<s|n,XA=i+t}else YA=1<<i|r<<s|n,XA=t}function yw(t){t.return!==null&&(xl(t,1),M4(t,1,0))}function ww(t){for(;t===Cp;)Cp=Yc[--Xc],Yc[Xc]=null,Ep=Yc[--Xc],Yc[Xc]=null;for(;t===Rl;)Rl=ni[--si],ni[si]=null,XA=ni[--si],ni[si]=null,YA=ni[--si],ni[si]=null}var Hs=null,Rs=null,kr=!1,Qi=null;function V4(t,e){var r=ai(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lB(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hs=t,Rs=Bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hs=t,Rs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rl!==null?{id:YA,overflow:XA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ai(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hs=t,Rs=null,!0):!1;default:return!1}}function Cv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ev(t){if(kr){var e=Rs;if(e){var r=e;if(!lB(t,e)){if(Cv(t))throw Error(Ye(418));e=Bo(r.nextSibling);var n=Hs;e&&lB(t,e)?V4(n,r):(t.flags=t.flags&-4097|2,kr=!1,Hs=t)}}else{if(Cv(t))throw Error(Ye(418));t.flags=t.flags&-4097|2,kr=!1,Hs=t}}}function cB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hs=t}function Xf(t){if(t!==Hs)return!1;if(!kr)return cB(t),kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wv(t.type,t.memoizedProps)),e&&(e=Rs)){if(Cv(t))throw K4(),Error(Ye(418));for(;e;)V4(t,e),e=Bo(e.nextSibling)}if(cB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Rs=Bo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Rs=null}}else Rs=Hs?Bo(t.stateNode.nextSibling):null;return!0}function K4(){for(var t=Rs;t;)t=Bo(t.nextSibling)}function xu(){Rs=Hs=null,kr=!1}function xw(t){Qi===null?Qi=[t]:Qi.push(t)}var U3=fa.ReactCurrentBatchConfig;function xd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var n=r.stateNode}if(!n)throw Error(Ye(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var o=s.refs;A===null?delete o[i]:o[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,t))}return t}function Jf(t,e){throw t=Object.prototype.toString.call(e),Error(Ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uB(t){var e=t._init;return e(t._payload)}function z4(t){function e(w,v){if(t){var I=w.deletions;I===null?(w.deletions=[v],w.flags|=16):I.push(v)}}function r(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=_o(w,v),w.index=0,w.sibling=null,w}function i(w,v,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<v?(w.flags|=2,v):I):(w.flags|=2,v)):(w.flags|=1048576,v)}function A(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,v,I,L){return v===null||v.tag!==6?(v=s1(I,w.mode,L),v.return=w,v):(v=s(v,I),v.return=w,v)}function l(w,v,I,L){var z=I.type;return z===Kc?h(w,v,I.props.children,L,I.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===eo&&uB(z)===v.type)?(L=s(v,I.props),L.ref=xd(w,v,I),L.return=w,L):(L=$m(I.type,I.key,I.props,null,w.mode,L),L.ref=xd(w,v,I),L.return=w,L)}function c(w,v,I,L){return v===null||v.tag!==4||v.stateNode.containerInfo!==I.containerInfo||v.stateNode.implementation!==I.implementation?(v=i1(I,w.mode,L),v.return=w,v):(v=s(v,I.children||[]),v.return=w,v)}function h(w,v,I,L,z){return v===null||v.tag!==7?(v=Ul(I,w.mode,L,z),v.return=w,v):(v=s(v,I),v.return=w,v)}function f(w,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return v=s1(""+v,w.mode,I),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hf:return I=$m(v.type,v.key,v.props,null,w.mode,I),I.ref=xd(w,null,v),I.return=w,I;case Vc:return v=i1(v,w.mode,I),v.return=w,v;case eo:var L=v._init;return f(w,L(v._payload),I)}if(Td(v)||pd(v))return v=Ul(v,w.mode,I,null),v.return=w,v;Jf(w,v)}return null}function p(w,v,I,L){var z=v!==null?v.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return z!==null?null:o(w,v,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Hf:return I.key===z?l(w,v,I,L):null;case Vc:return I.key===z?c(w,v,I,L):null;case eo:return z=I._init,p(w,v,z(I._payload),L)}if(Td(I)||pd(I))return z!==null?null:h(w,v,I,L,null);Jf(w,I)}return null}function g(w,v,I,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(I)||null,o(v,w,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Hf:return w=w.get(L.key===null?I:L.key)||null,l(v,w,L,z);case Vc:return w=w.get(L.key===null?I:L.key)||null,c(v,w,L,z);case eo:var q=L._init;return g(w,v,I,q(L._payload),z)}if(Td(L)||pd(L))return w=w.get(I)||null,h(v,w,L,z,null);Jf(v,L)}return null}function b(w,v,I,L){for(var z=null,q=null,U=v,B=v=0,k=null;U!==null&&B<I.length;B++){U.index>B?(k=U,U=null):k=U.sibling;var P=p(w,U,I[B],L);if(P===null){U===null&&(U=k);break}t&&U&&P.alternate===null&&e(w,U),v=i(P,v,B),q===null?z=P:q.sibling=P,q=P,U=k}if(B===I.length)return r(w,U),kr&&xl(w,B),z;if(U===null){for(;B<I.length;B++)U=f(w,I[B],L),U!==null&&(v=i(U,v,B),q===null?z=U:q.sibling=U,q=U);return kr&&xl(w,B),z}for(U=n(w,U);B<I.length;B++)k=g(U,w,B,I[B],L),k!==null&&(t&&k.alternate!==null&&U.delete(k.key===null?B:k.key),v=i(k,v,B),q===null?z=k:q.sibling=k,q=k);return t&&U.forEach(function(N){return e(w,N)}),kr&&xl(w,B),z}function E(w,v,I,L){var z=pd(I);if(typeof z!="function")throw Error(Ye(150));if(I=z.call(I),I==null)throw Error(Ye(151));for(var q=z=null,U=v,B=v=0,k=null,P=I.next();U!==null&&!P.done;B++,P=I.next()){U.index>B?(k=U,U=null):k=U.sibling;var N=p(w,U,P.value,L);if(N===null){U===null&&(U=k);break}t&&U&&N.alternate===null&&e(w,U),v=i(N,v,B),q===null?z=N:q.sibling=N,q=N,U=k}if(P.done)return r(w,U),kr&&xl(w,B),z;if(U===null){for(;!P.done;B++,P=I.next())P=f(w,P.value,L),P!==null&&(v=i(P,v,B),q===null?z=P:q.sibling=P,q=P);return kr&&xl(w,B),z}for(U=n(w,U);!P.done;B++,P=I.next())P=g(U,w,B,P.value,L),P!==null&&(t&&P.alternate!==null&&U.delete(P.key===null?B:P.key),v=i(P,v,B),q===null?z=P:q.sibling=P,q=P);return t&&U.forEach(function(F){return e(w,F)}),kr&&xl(w,B),z}function _(w,v,I,L){if(typeof I=="object"&&I!==null&&I.type===Kc&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Hf:e:{for(var z=I.key,q=v;q!==null;){if(q.key===z){if(z=I.type,z===Kc){if(q.tag===7){r(w,q.sibling),v=s(q,I.props.children),v.return=w,w=v;break e}}else if(q.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===eo&&uB(z)===q.type){r(w,q.sibling),v=s(q,I.props),v.ref=xd(w,q,I),v.return=w,w=v;break e}r(w,q);break}else e(w,q);q=q.sibling}I.type===Kc?(v=Ul(I.props.children,w.mode,L,I.key),v.return=w,w=v):(L=$m(I.type,I.key,I.props,null,w.mode,L),L.ref=xd(w,v,I),L.return=w,w=L)}return A(w);case Vc:e:{for(q=I.key;v!==null;){if(v.key===q)if(v.tag===4&&v.stateNode.containerInfo===I.containerInfo&&v.stateNode.implementation===I.implementation){r(w,v.sibling),v=s(v,I.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else e(w,v);v=v.sibling}v=i1(I,w.mode,L),v.return=w,w=v}return A(w);case eo:return q=I._init,_(w,v,q(I._payload),L)}if(Td(I))return b(w,v,I,L);if(pd(I))return E(w,v,I,L);Jf(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,v!==null&&v.tag===6?(r(w,v.sibling),v=s(v,I),v.return=w,w=v):(r(w,v),v=s1(I,w.mode,L),v.return=w,w=v),A(w)):r(w,v)}return _}var Bu=z4(!0),G4=z4(!1),_p=qo(null),Ip=null,Jc=null,Bw=null;function bw(){Bw=Jc=Ip=null}function Cw(t){var e=_p.current;Sr(_p),t._currentValue=e}function _v(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ou(t,e){Ip=t,Bw=Jc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bs=!0),t.firstContext=null)}function di(t){var e=t._currentValue;if(Bw!==t)if(t={context:t,memoizedValue:e,next:null},Jc===null){if(Ip===null)throw Error(Ye(308));Jc=t,Ip.dependencies={lanes:0,firstContext:t}}else Jc=Jc.next=t;return e}var Nl=null;function Ew(t){Nl===null?Nl=[t]:Nl.push(t)}function q4(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ew(e)):(r.next=s.next,s.next=r),e.interleaved=r,Aa(t,n)}function Aa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var to=!1;function _w(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ra(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,er&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Aa(t,r)}return s=n.interleaved,s===null?(e.next=e,Ew(n)):(e.next=s.next,s.next=e),n.interleaved=e,Aa(t,r)}function Mm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uw(t,r)}}function dB(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=A:i=i.next=A,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Np(t,e,r,n){var s=t.updateQueue;to=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,A===null?i=c:A.next=c,A=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==A&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;A=0,h=c=l=null,o=i;do{var p=o.lane,g=o.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,E=o;switch(p=e,g=r,E.tag){case 1:if(b=E.payload,typeof b=="function"){f=b.call(g,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,p=typeof b=="function"?b.call(g,f,p):b,p==null)break e;f=jr({},f,p);break e;case 2:to=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,A|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hl|=A,t.lanes=A,t.memoizedState=f}}function hB(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ye(191,s));s.call(n)}}}var ef={},mA=qo(ef),Eh=qo(ef),_h=qo(ef);function Sl(t){if(t===ef)throw Error(Ye(174));return t}function Iw(t,e){switch(br(_h,e),br(Eh,t),br(mA,ef),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Av(e,t)}Sr(mA),br(mA,e)}function bu(){Sr(mA),Sr(Eh),Sr(_h)}function W4(t){Sl(_h.current);var e=Sl(mA.current),r=Av(e,t.type);e!==r&&(br(Eh,t),br(mA,r))}function Nw(t){Eh.current===t&&(Sr(mA),Sr(Eh))}var Tr=qo(0);function Sp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J0=[];function Sw(){for(var t=0;t<J0.length;t++)J0[t]._workInProgressVersionPrimary=null;J0.length=0}var Vm=fa.ReactCurrentDispatcher,Z0=fa.ReactCurrentBatchConfig,Ol=0,Qr=null,hn=null,wn=null,Fp=!1,Zd=!1,Ih=0,Q3=0;function On(){throw Error(Ye(321))}function Fw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Oi(t[r],e[r]))return!1;return!0}function kw(t,e,r,n,s,i){if(Ol=i,Qr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vm.current=t===null||t.memoizedState===null?D3:R3,t=r(n,s),Zd){i=0;do{if(Zd=!1,Ih=0,25<=i)throw Error(Ye(301));i+=1,wn=hn=null,e.updateQueue=null,Vm.current=O3,t=r(n,s)}while(Zd)}if(Vm.current=kp,e=hn!==null&&hn.next!==null,Ol=0,wn=hn=Qr=null,Fp=!1,e)throw Error(Ye(300));return t}function Tw(){var t=Ih!==0;return Ih=0,t}function lA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Qr.memoizedState=wn=t:wn=wn.next=t,wn}function hi(){if(hn===null){var t=Qr.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=wn===null?Qr.memoizedState:wn.next;if(e!==null)wn=e,hn=t;else{if(t===null)throw Error(Ye(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},wn===null?Qr.memoizedState=wn=t:wn=wn.next=t}return wn}function Nh(t,e){return typeof e=="function"?e(t):e}function e1(t){var e=hi(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=hn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=A=null,l=null,c=i;do{var h=c.lane;if((Ol&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,A=n):l=l.next=f,Qr.lanes|=h,Hl|=h}c=c.next}while(c!==null&&c!==i);l===null?A=n:l.next=o,Oi(n,e.memoizedState)||(bs=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Qr.lanes|=i,Hl|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function t1(t){var e=hi(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Oi(i,e.memoizedState)||(bs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Y4(){}function X4(t,e){var r=Qr,n=hi(),s=e(),i=!Oi(n.memoizedState,s);if(i&&(n.memoizedState=s,bs=!0),n=n.queue,Uw(eE.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||wn!==null&&wn.memoizedState.tag&1){if(r.flags|=2048,Sh(9,Z4.bind(null,r,n,s,e),void 0,null),bn===null)throw Error(Ye(349));Ol&30||J4(r,e,s)}return s}function J4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Z4(t,e,r,n){e.value=r,e.getSnapshot=n,tE(e)&&rE(t)}function eE(t,e,r){return r(function(){tE(e)&&rE(t)})}function tE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oi(t,r)}catch{return!0}}function rE(t){var e=Aa(t,1);e!==null&&Di(e,t,1,-1)}function fB(t){var e=lA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:t},e.queue=t,t=t.dispatch=P3.bind(null,Qr,t),[e.memoizedState,t]}function Sh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function nE(){return hi().memoizedState}function Km(t,e,r,n){var s=lA();Qr.flags|=t,s.memoizedState=Sh(1|e,r,void 0,n===void 0?null:n)}function Eg(t,e,r,n){var s=hi();n=n===void 0?null:n;var i=void 0;if(hn!==null){var A=hn.memoizedState;if(i=A.destroy,n!==null&&Fw(n,A.deps)){s.memoizedState=Sh(e,r,i,n);return}}Qr.flags|=t,s.memoizedState=Sh(1|e,r,i,n)}function mB(t,e){return Km(8390656,8,t,e)}function Uw(t,e){return Eg(2048,8,t,e)}function sE(t,e){return Eg(4,2,t,e)}function iE(t,e){return Eg(4,4,t,e)}function AE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aE(t,e,r){return r=r!=null?r.concat([t]):null,Eg(4,4,AE.bind(null,e,t),r)}function Qw(){}function oE(t,e){var r=hi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lE(t,e){var r=hi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function cE(t,e,r){return Ol&21?(Oi(r,e)||(r=m4(),Qr.lanes|=r,Hl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=r)}function j3(t,e){var r=dr;dr=r!==0&&4>r?r:4,t(!0);var n=Z0.transition;Z0.transition={};try{t(!1),e()}finally{dr=r,Z0.transition=n}}function uE(){return hi().memoizedState}function L3(t,e,r){var n=Eo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dE(t))hE(e,r);else if(r=q4(t,e,r,n),r!==null){var s=cs();Di(r,t,n,s),fE(r,e,n)}}function P3(t,e,r){var n=Eo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dE(t))hE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,o=i(A,r);if(s.hasEagerState=!0,s.eagerState=o,Oi(o,A)){var l=e.interleaved;l===null?(s.next=s,Ew(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=q4(t,e,s,n),r!==null&&(s=cs(),Di(r,t,n,s),fE(r,e,n))}}function dE(t){var e=t.alternate;return t===Qr||e!==null&&e===Qr}function hE(t,e){Zd=Fp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function fE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uw(t,r)}}var kp={readContext:di,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},D3={readContext:di,useCallback:function(t,e){return lA().memoizedState=[t,e===void 0?null:e],t},useContext:di,useEffect:mB,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Km(4194308,4,AE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Km(4194308,4,t,e)},useInsertionEffect:function(t,e){return Km(4,2,t,e)},useMemo:function(t,e){var r=lA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=lA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=L3.bind(null,Qr,t),[n.memoizedState,t]},useRef:function(t){var e=lA();return t={current:t},e.memoizedState=t},useState:fB,useDebugValue:Qw,useDeferredValue:function(t){return lA().memoizedState=t},useTransition:function(){var t=fB(!1),e=t[0];return t=j3.bind(null,t[1]),lA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Qr,s=lA();if(kr){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=e(),bn===null)throw Error(Ye(349));Ol&30||J4(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,mB(eE.bind(null,n,i,t),[t]),n.flags|=2048,Sh(9,Z4.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=lA(),e=bn.identifierPrefix;if(kr){var r=XA,n=YA;r=(n&~(1<<32-Pi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ih++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Q3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R3={readContext:di,useCallback:oE,useContext:di,useEffect:Uw,useImperativeHandle:aE,useInsertionEffect:sE,useLayoutEffect:iE,useMemo:lE,useReducer:e1,useRef:nE,useState:function(){return e1(Nh)},useDebugValue:Qw,useDeferredValue:function(t){var e=hi();return cE(e,hn.memoizedState,t)},useTransition:function(){var t=e1(Nh)[0],e=hi().memoizedState;return[t,e]},useMutableSource:Y4,useSyncExternalStore:X4,useId:uE,unstable_isNewReconciler:!1},O3={readContext:di,useCallback:oE,useContext:di,useEffect:Uw,useImperativeHandle:aE,useInsertionEffect:sE,useLayoutEffect:iE,useMemo:lE,useReducer:t1,useRef:nE,useState:function(){return t1(Nh)},useDebugValue:Qw,useDeferredValue:function(t){var e=hi();return hn===null?e.memoizedState=t:cE(e,hn.memoizedState,t)},useTransition:function(){var t=t1(Nh)[0],e=hi().memoizedState;return[t,e]},useMutableSource:Y4,useSyncExternalStore:X4,useId:uE,unstable_isNewReconciler:!1};function ki(t,e){if(t&&t.defaultProps){e=jr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Iv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:jr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _g={isMounted:function(t){return(t=t._reactInternals)?Xl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cs(),s=Eo(t),i=ra(n,s);i.payload=e,r!=null&&(i.callback=r),e=bo(t,i,s),e!==null&&(Di(e,t,s,n),Mm(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cs(),s=Eo(t),i=ra(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=bo(t,i,s),e!==null&&(Di(e,t,s,n),Mm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cs(),n=Eo(t),s=ra(r,n);s.tag=2,e!=null&&(s.callback=e),e=bo(t,s,n),e!==null&&(Di(e,t,n,r),Mm(e,t,n))}};function pB(t,e,r,n,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,A):e.prototype&&e.prototype.isPureReactComponent?!xh(r,n)||!xh(s,i):!0}function mE(t,e,r){var n=!1,s=Ro,i=e.contextType;return typeof i=="object"&&i!==null?i=di(i):(s=Es(e)?Dl:Zn.current,n=e.contextTypes,i=(n=n!=null)?wu(t,s):Ro),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_g,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function gB(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_g.enqueueReplaceState(e,e.state,null)}function Nv(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},_w(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=di(i):(i=Es(e)?Dl:Zn.current,s.context=wu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Iv(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_g.enqueueReplaceState(s,s.state,null),Np(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Cu(t,e){try{var r="",n=e;do r+=fk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function r1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var H3=typeof WeakMap=="function"?WeakMap:Map;function pE(t,e,r){r=ra(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Up||(Up=!0,Rv=n),Sv(t,e)},r}function gE(t,e,r){r=ra(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Sv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sv(t,e),typeof n!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function vB(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new H3;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=tT.bind(null,t,e,r),e.then(t,t))}function yB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wB(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ra(-1,1),e.tag=2,bo(r,e,1))),r.lanes|=1),t)}var M3=fa.ReactCurrentOwner,bs=!1;function ls(t,e,r,n){e.child=t===null?G4(e,null,r,n):Bu(e,t.child,r,n)}function xB(t,e,r,n,s){r=r.render;var i=e.ref;return ou(e,s),n=kw(t,e,r,n,i,s),r=Tw(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,aa(t,e,s)):(kr&&r&&yw(e),e.flags|=1,ls(t,e,n,s),e.child)}function BB(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Mw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,vE(t,e,i,n,s)):(t=$m(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(r=r.compare,r=r!==null?r:xh,r(A,n)&&t.ref===e.ref)return aa(t,e,s)}return e.flags|=1,t=_o(i,n),t.ref=e.ref,t.return=e,e.child=t}function vE(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(xh(i,n)&&t.ref===e.ref)if(bs=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(bs=!0);else return e.lanes=t.lanes,aa(t,e,s)}return Fv(t,e,r,n,s)}function yE(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},br(eu,Ds),Ds|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,br(eu,Ds),Ds|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,br(eu,Ds),Ds|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,br(eu,Ds),Ds|=n;return ls(t,e,s,r),e.child}function wE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Fv(t,e,r,n,s){var i=Es(r)?Dl:Zn.current;return i=wu(e,i),ou(e,s),r=kw(t,e,r,n,i,s),n=Tw(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,aa(t,e,s)):(kr&&n&&yw(e),e.flags|=1,ls(t,e,r,s),e.child)}function bB(t,e,r,n,s){if(Es(r)){var i=!0;bp(e)}else i=!1;if(ou(e,s),e.stateNode===null)zm(t,e),mE(e,r,n),Nv(e,r,n,s),n=!0;else if(t===null){var A=e.stateNode,o=e.memoizedProps;A.props=o;var l=A.context,c=r.contextType;typeof c=="object"&&c!==null?c=di(c):(c=Es(r)?Dl:Zn.current,c=wu(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof A.getSnapshotBeforeUpdate=="function";f||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==n||l!==c)&&gB(e,A,n,c),to=!1;var p=e.memoizedState;A.state=p,Np(e,n,A,s),l=e.memoizedState,o!==n||p!==l||Cs.current||to?(typeof h=="function"&&(Iv(e,r,h,n),l=e.memoizedState),(o=to||pB(e,r,o,n,p,l,c))?(f||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),A.props=n,A.state=l,A.context=c,n=o):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,$4(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ki(e.type,o),A.props=c,f=e.pendingProps,p=A.context,l=r.contextType,typeof l=="object"&&l!==null?l=di(l):(l=Es(r)?Dl:Zn.current,l=wu(e,l));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==f||p!==l)&&gB(e,A,n,l),to=!1,p=e.memoizedState,A.state=p,Np(e,n,A,s);var b=e.memoizedState;o!==f||p!==b||Cs.current||to?(typeof g=="function"&&(Iv(e,r,g,n),b=e.memoizedState),(c=to||pB(e,r,c,n,p,b,l)||!1)?(h||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,b,l),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,b,l)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),A.props=n,A.state=b,A.context=l,n=c):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return kv(t,e,r,n,i,s)}function kv(t,e,r,n,s,i){wE(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return s&&oB(e,r,!1),aa(t,e,i);n=e.stateNode,M3.current=e;var o=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=Bu(e,t.child,null,i),e.child=Bu(e,null,o,i)):ls(t,e,o,i),e.memoizedState=n.state,s&&oB(e,r,!0),e.child}function xE(t){var e=t.stateNode;e.pendingContext?aB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aB(t,e.context,!1),Iw(t,e.containerInfo)}function CB(t,e,r,n,s){return xu(),xw(s),e.flags|=256,ls(t,e,r,n),e.child}var Tv={dehydrated:null,treeContext:null,retryLane:0};function Uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function BE(t,e,r){var n=e.pendingProps,s=Tr.current,i=!1,A=(e.flags&128)!==0,o;if((o=A)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),br(Tr,s&1),t===null)return Ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,i?(n=e.mode,i=e.child,A={mode:"hidden",children:A},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=Sg(A,n,0,null),t=Ul(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Uv(r),e.memoizedState=Tv,t):jw(e,A));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return V3(t,e,A,n,o,s,r);if(i){i=n.fallback,A=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(A&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=_o(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=_o(o,i):(i=Ul(i,A,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,A=t.child.memoizedState,A=A===null?Uv(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~r,e.memoizedState=Tv,n}return i=t.child,t=i.sibling,n=_o(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function jw(t,e){return e=Sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zf(t,e,r,n){return n!==null&&xw(n),Bu(e,t.child,null,r),t=jw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V3(t,e,r,n,s,i,A){if(r)return e.flags&256?(e.flags&=-257,n=r1(Error(Ye(422))),Zf(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Sg({mode:"visible",children:n.children},s,0,null),i=Ul(i,s,A,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Bu(e,t.child,null,A),e.child.memoizedState=Uv(A),e.memoizedState=Tv,i);if(!(e.mode&1))return Zf(t,e,A,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Ye(419)),n=r1(i,n,void 0),Zf(t,e,A,n)}if(o=(A&t.childLanes)!==0,bs||o){if(n=bn,n!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Aa(t,s),Di(n,t,s,-1))}return Hw(),n=r1(Error(Ye(421))),Zf(t,e,A,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rs=Bo(s.nextSibling),Hs=e,kr=!0,Qi=null,t!==null&&(ni[si++]=YA,ni[si++]=XA,ni[si++]=Rl,YA=t.id,XA=t.overflow,Rl=e),e=jw(e,n.children),e.flags|=4096,e)}function EB(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_v(t.return,e,r)}function n1(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bE(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ls(t,e,n.children,r),n=Tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&EB(t,r,e);else if(t.tag===19)EB(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(br(Tr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Sp(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),n1(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sp(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}n1(e,!0,r,null,i);break;case"together":n1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Hl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ye(153));if(e.child!==null){for(t=e.child,r=_o(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_o(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function K3(t,e,r){switch(e.tag){case 3:xE(e),xu();break;case 5:W4(e);break;case 1:Es(e.type)&&bp(e);break;case 4:Iw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;br(_p,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(br(Tr,Tr.current&1),e.flags|=128,null):r&e.child.childLanes?BE(t,e,r):(br(Tr,Tr.current&1),t=aa(t,e,r),t!==null?t.sibling:null);br(Tr,Tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return bE(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),br(Tr,Tr.current),n)break;return null;case 22:case 23:return e.lanes=0,yE(t,e,r)}return aa(t,e,r)}var CE,Qv,EE,_E;CE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qv=function(){};EE=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Sl(mA.current);var i=null;switch(r){case"input":s=rv(t,s),n=rv(t,n),i=[];break;case"select":s=jr({},s,{value:void 0}),n=jr({},n,{value:void 0}),i=[];break;case"textarea":s=iv(t,s),n=iv(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xp)}av(r,n);var A;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(A in o)o.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(A in o)!o.hasOwnProperty(A)||l&&l.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in l)l.hasOwnProperty(A)&&o[A]!==l[A]&&(r||(r={}),r[A]=l[A])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_r("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};_E=function(t,e,r,n){r!==n&&(e.flags|=4)};function Bd(t,e){if(!kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function z3(t,e,r){var n=e.pendingProps;switch(ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return Es(e.type)&&Bp(),Hn(e),null;case 3:return n=e.stateNode,bu(),Sr(Cs),Sr(Zn),Sw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(Mv(Qi),Qi=null))),Qv(t,e),Hn(e),null;case 5:Nw(e);var s=Sl(_h.current);if(r=e.type,t!==null&&e.stateNode!=null)EE(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ye(166));return Hn(e),null}if(t=Sl(mA.current),Xf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[dA]=e,n[Ch]=i,t=(e.mode&1)!==0,r){case"dialog":_r("cancel",n),_r("close",n);break;case"iframe":case"object":case"embed":_r("load",n);break;case"video":case"audio":for(s=0;s<Qd.length;s++)_r(Qd[s],n);break;case"source":_r("error",n);break;case"img":case"image":case"link":_r("error",n),_r("load",n);break;case"details":_r("toggle",n);break;case"input":Qx(n,i),_r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_r("invalid",n);break;case"textarea":Lx(n,i),_r("invalid",n)}av(r,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var o=i[A];A==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Yf(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Yf(n.textContent,o,t),s=["children",""+o]):fh.hasOwnProperty(A)&&o!=null&&A==="onScroll"&&_r("scroll",n)}switch(r){case"input":Mf(n),jx(n,i,!0);break;case"textarea":Mf(n),Px(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xp)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[dA]=e,t[Ch]=n,CE(t,e,!1,!1),e.stateNode=t;e:{switch(A=ov(r,n),r){case"dialog":_r("cancel",t),_r("close",t),s=n;break;case"iframe":case"object":case"embed":_r("load",t),s=n;break;case"video":case"audio":for(s=0;s<Qd.length;s++)_r(Qd[s],t);s=n;break;case"source":_r("error",t),s=n;break;case"img":case"image":case"link":_r("error",t),_r("load",t),s=n;break;case"details":_r("toggle",t),s=n;break;case"input":Qx(t,n),s=rv(t,n),_r("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=jr({},n,{value:void 0}),_r("invalid",t);break;case"textarea":Lx(t,n),s=iv(t,n),_r("invalid",t);break;default:s=n}av(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?n4(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&t4(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&mh(t,l):typeof l=="number"&&mh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_r("scroll",t):l!=null&&iw(t,i,l,A))}switch(r){case"input":Mf(t),jx(t,n,!1);break;case"textarea":Mf(t),Px(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Do(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?su(t,!!n.multiple,i,!1):n.defaultValue!=null&&su(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)_E(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ye(166));if(r=Sl(_h.current),Sl(mA.current),Xf(e)){if(n=e.stateNode,r=e.memoizedProps,n[dA]=e,(i=n.nodeValue!==r)&&(t=Hs,t!==null))switch(t.tag){case 3:Yf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yf(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dA]=e,e.stateNode=n}return Hn(e),null;case 13:if(Sr(Tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kr&&Rs!==null&&e.mode&1&&!(e.flags&128))K4(),xu(),e.flags|=98560,i=!1;else if(i=Xf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Ye(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ye(317));i[dA]=e}else xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),i=!1}else Qi!==null&&(Mv(Qi),Qi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Tr.current&1?mn===0&&(mn=3):Hw())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return bu(),Qv(t,e),t===null&&Bh(e.stateNode.containerInfo),Hn(e),null;case 10:return Cw(e.type._context),Hn(e),null;case 17:return Es(e.type)&&Bp(),Hn(e),null;case 19:if(Sr(Tr),i=e.memoizedState,i===null)return Hn(e),null;if(n=(e.flags&128)!==0,A=i.rendering,A===null)if(n)Bd(i,!1);else{if(mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Sp(t),A!==null){for(e.flags|=128,Bd(i,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return br(Tr,Tr.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xr()>Eu&&(e.flags|=128,n=!0,Bd(i,!1),e.lanes=4194304)}else{if(!n)if(t=Sp(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Bd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!kr)return Hn(e),null}else 2*Xr()-i.renderingStartTime>Eu&&r!==1073741824&&(e.flags|=128,n=!0,Bd(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(r=i.last,r!==null?r.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xr(),e.sibling=null,r=Tr.current,br(Tr,n?r&1|2:r&1),e):(Hn(e),null);case 22:case 23:return Ow(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ds&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function G3(t,e){switch(ww(e),e.tag){case 1:return Es(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bu(),Sr(Cs),Sr(Zn),Sw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nw(e),null;case 13:if(Sr(Tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));xu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sr(Tr),null;case 4:return bu(),null;case 10:return Cw(e.type._context),null;case 22:case 23:return Ow(),null;case 24:return null;default:return null}}var em=!1,Yn=!1,q3=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Zc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Hr(t,e,n)}else r.current=null}function jv(t,e,r){try{r()}catch(n){Hr(t,e,n)}}var _B=!1;function $3(t,e){if(vv=vp,t=k4(),vw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var A=0,o=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(o=A+s),f!==i||n!==0&&f.nodeType!==3||(l=A+n),f.nodeType===3&&(A+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===r&&++c===s&&(o=A),p===i&&++h===n&&(l=A),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(yv={focusedElem:t,selectionRange:r},vp=!1,ct=e;ct!==null;)if(e=ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ct=t;else for(;ct!==null;){e=ct;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,_=b.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:ki(e.type,E),_);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(L){Hr(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}return b=_B,_B=!1,b}function eh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jv(e,r,i)}s=s.next}while(s!==n)}}function Ig(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Lv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function IE(t){var e=t.alternate;e!==null&&(t.alternate=null,IE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dA],delete e[Ch],delete e[Bv],delete e[F3],delete e[k3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NE(t){return t.tag===5||t.tag===3||t.tag===4}function IB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xp));else if(n!==4&&(t=t.child,t!==null))for(Pv(t,e,r),t=t.sibling;t!==null;)Pv(t,e,r),t=t.sibling}function Dv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dv(t,e,r),t=t.sibling;t!==null;)Dv(t,e,r),t=t.sibling}var Nn=null,Ui=!1;function qa(t,e,r){for(r=r.child;r!==null;)SE(t,e,r),r=r.sibling}function SE(t,e,r){if(fA&&typeof fA.onCommitFiberUnmount=="function")try{fA.onCommitFiberUnmount(yg,r)}catch{}switch(r.tag){case 5:Yn||Zc(r,e);case 6:var n=Nn,s=Ui;Nn=null,qa(t,e,r),Nn=n,Ui=s,Nn!==null&&(Ui?(t=Nn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nn.removeChild(r.stateNode));break;case 18:Nn!==null&&(Ui?(t=Nn,r=r.stateNode,t.nodeType===8?Y0(t.parentNode,r):t.nodeType===1&&Y0(t,r),yh(t)):Y0(Nn,r.stateNode));break;case 4:n=Nn,s=Ui,Nn=r.stateNode.containerInfo,Ui=!0,qa(t,e,r),Nn=n,Ui=s;break;case 0:case 11:case 14:case 15:if(!Yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&jv(r,e,A),s=s.next}while(s!==n)}qa(t,e,r);break;case 1:if(!Yn&&(Zc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Hr(r,e,o)}qa(t,e,r);break;case 21:qa(t,e,r);break;case 22:r.mode&1?(Yn=(n=Yn)||r.memoizedState!==null,qa(t,e,r),Yn=n):qa(t,e,r);break;default:qa(t,e,r)}}function NB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new q3),e.forEach(function(n){var s=nT.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ii(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,A=e,o=A;e:for(;o!==null;){switch(o.tag){case 5:Nn=o.stateNode,Ui=!1;break e;case 3:Nn=o.stateNode.containerInfo,Ui=!0;break e;case 4:Nn=o.stateNode.containerInfo,Ui=!0;break e}o=o.return}if(Nn===null)throw Error(Ye(160));SE(i,A,s),Nn=null,Ui=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Hr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FE(e,t),e=e.sibling}function FE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),AA(t),n&4){try{eh(3,t,t.return),Ig(3,t)}catch(E){Hr(t,t.return,E)}try{eh(5,t,t.return)}catch(E){Hr(t,t.return,E)}}break;case 1:Ii(e,t),AA(t),n&512&&r!==null&&Zc(r,r.return);break;case 5:if(Ii(e,t),AA(t),n&512&&r!==null&&Zc(r,r.return),t.flags&32){var s=t.stateNode;try{mh(s,"")}catch(E){Hr(t,t.return,E)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&JC(s,i),ov(o,A);var c=ov(o,i);for(A=0;A<l.length;A+=2){var h=l[A],f=l[A+1];h==="style"?n4(s,f):h==="dangerouslySetInnerHTML"?t4(s,f):h==="children"?mh(s,f):iw(s,h,f,c)}switch(o){case"input":nv(s,i);break;case"textarea":ZC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?su(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?su(s,!!i.multiple,i.defaultValue,!0):su(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ch]=i}catch(E){Hr(t,t.return,E)}}break;case 6:if(Ii(e,t),AA(t),n&4){if(t.stateNode===null)throw Error(Ye(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Hr(t,t.return,E)}}break;case 3:if(Ii(e,t),AA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yh(e.containerInfo)}catch(E){Hr(t,t.return,E)}break;case 4:Ii(e,t),AA(t);break;case 13:Ii(e,t),AA(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dw=Xr())),n&4&&NB(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Yn=(c=Yn)||h,Ii(e,t),Yn=c):Ii(e,t),AA(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ct=t,h=t.child;h!==null;){for(f=ct=h;ct!==null;){switch(p=ct,g=p.child,p.tag){case 0:case 11:case 14:case 15:eh(4,p,p.return);break;case 1:Zc(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(E){Hr(n,r,E)}}break;case 5:Zc(p,p.return);break;case 22:if(p.memoizedState!==null){FB(f);continue}}g!==null?(g.return=p,ct=g):FB(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,A=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=r4("display",A))}catch(E){Hr(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){Hr(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ii(e,t),AA(t),n&4&&NB(t);break;case 21:break;default:Ii(e,t),AA(t)}}function AA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(NE(r)){var n=r;break e}r=r.return}throw Error(Ye(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(mh(s,""),n.flags&=-33);var i=IB(t);Dv(t,i,s);break;case 3:case 4:var A=n.stateNode.containerInfo,o=IB(t);Pv(t,o,A);break;default:throw Error(Ye(161))}}catch(l){Hr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W3(t,e,r){ct=t,kE(t)}function kE(t,e,r){for(var n=(t.mode&1)!==0;ct!==null;){var s=ct,i=s.child;if(s.tag===22&&n){var A=s.memoizedState!==null||em;if(!A){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Yn;o=em;var c=Yn;if(em=A,(Yn=l)&&!c)for(ct=s;ct!==null;)A=ct,l=A.child,A.tag===22&&A.memoizedState!==null?kB(s):l!==null?(l.return=A,ct=l):kB(s);for(;i!==null;)ct=i,kE(i),i=i.sibling;ct=s,em=o,Yn=c}SB(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ct=i):SB(t)}}function SB(t){for(;ct!==null;){var e=ct;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||Ig(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Yn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ki(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&hB(e,i,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}hB(e,A,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&yh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}Yn||e.flags&512&&Lv(e)}catch(p){Hr(e,e.return,p)}}if(e===t){ct=null;break}if(r=e.sibling,r!==null){r.return=e.return,ct=r;break}ct=e.return}}function FB(t){for(;ct!==null;){var e=ct;if(e===t){ct=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ct=r;break}ct=e.return}}function kB(t){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ig(4,e)}catch(l){Hr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Hr(e,s,l)}}var i=e.return;try{Lv(e)}catch(l){Hr(e,i,l)}break;case 5:var A=e.return;try{Lv(e)}catch(l){Hr(e,A,l)}}}catch(l){Hr(e,e.return,l)}if(e===t){ct=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ct=o;break}ct=e.return}}var Y3=Math.ceil,Tp=fa.ReactCurrentDispatcher,Lw=fa.ReactCurrentOwner,ci=fa.ReactCurrentBatchConfig,er=0,bn=null,ln=null,Un=0,Ds=0,eu=qo(0),mn=0,Fh=null,Hl=0,Ng=0,Pw=0,th=null,Bs=null,Dw=0,Eu=1/0,$A=null,Up=!1,Rv=null,Co=null,tm=!1,co=null,Qp=0,rh=0,Ov=null,Gm=-1,qm=0;function cs(){return er&6?Xr():Gm!==-1?Gm:Gm=Xr()}function Eo(t){return t.mode&1?er&2&&Un!==0?Un&-Un:U3.transition!==null?(qm===0&&(qm=m4()),qm):(t=dr,t!==0||(t=window.event,t=t===void 0?16:B4(t.type)),t):1}function Di(t,e,r,n){if(50<rh)throw rh=0,Ov=null,Error(Ye(185));Xh(t,r,n),(!(er&2)||t!==bn)&&(t===bn&&(!(er&2)&&(Ng|=r),mn===4&&so(t,Un)),_s(t,n),r===1&&er===0&&!(e.mode&1)&&(Eu=Xr()+500,Cg&&$o()))}function _s(t,e){var r=t.callbackNode;Uk(t,e);var n=gp(t,t===bn?Un:0);if(n===0)r!==null&&Ox(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ox(r),e===1)t.tag===0?T3(TB.bind(null,t)):H4(TB.bind(null,t)),N3(function(){!(er&6)&&$o()}),r=null;else{switch(p4(n)){case 1:r=cw;break;case 4:r=h4;break;case 16:r=pp;break;case 536870912:r=f4;break;default:r=pp}r=RE(r,TE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function TE(t,e){if(Gm=-1,qm=0,er&6)throw Error(Ye(327));var r=t.callbackNode;if(lu()&&t.callbackNode!==r)return null;var n=gp(t,t===bn?Un:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jp(t,n);else{e=n;var s=er;er|=2;var i=QE();(bn!==t||Un!==e)&&($A=null,Eu=Xr()+500,Tl(t,e));do try{Z3();break}catch(o){UE(t,o)}while(!0);bw(),Tp.current=i,er=s,ln!==null?e=0:(bn=null,Un=0,e=mn)}if(e!==0){if(e===2&&(s=hv(t),s!==0&&(n=s,e=Hv(t,s))),e===1)throw r=Fh,Tl(t,0),so(t,n),_s(t,Xr()),r;if(e===6)so(t,n);else{if(s=t.current.alternate,!(n&30)&&!X3(s)&&(e=jp(t,n),e===2&&(i=hv(t),i!==0&&(n=i,e=Hv(t,i))),e===1))throw r=Fh,Tl(t,0),so(t,n),_s(t,Xr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ye(345));case 2:Bl(t,Bs,$A);break;case 3:if(so(t,n),(n&130023424)===n&&(e=Dw+500-Xr(),10<e)){if(gp(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){cs(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xv(Bl.bind(null,t,Bs,$A),e);break}Bl(t,Bs,$A);break;case 4:if(so(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var A=31-Pi(n);i=1<<A,A=e[A],A>s&&(s=A),n&=~i}if(n=s,n=Xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Y3(n/1960))-n,10<n){t.timeoutHandle=xv(Bl.bind(null,t,Bs,$A),n);break}Bl(t,Bs,$A);break;case 5:Bl(t,Bs,$A);break;default:throw Error(Ye(329))}}}return _s(t,Xr()),t.callbackNode===r?TE.bind(null,t):null}function Hv(t,e){var r=th;return t.current.memoizedState.isDehydrated&&(Tl(t,e).flags|=256),t=jp(t,e),t!==2&&(e=Bs,Bs=r,e!==null&&Mv(e)),t}function Mv(t){Bs===null?Bs=t:Bs.push.apply(Bs,t)}function X3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Oi(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~Pw,e&=~Ng,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Pi(e),n=1<<r;t[r]=-1,e&=~n}}function TB(t){if(er&6)throw Error(Ye(327));lu();var e=gp(t,0);if(!(e&1))return _s(t,Xr()),null;var r=jp(t,e);if(t.tag!==0&&r===2){var n=hv(t);n!==0&&(e=n,r=Hv(t,n))}if(r===1)throw r=Fh,Tl(t,0),so(t,e),_s(t,Xr()),r;if(r===6)throw Error(Ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bl(t,Bs,$A),_s(t,Xr()),null}function Rw(t,e){var r=er;er|=1;try{return t(e)}finally{er=r,er===0&&(Eu=Xr()+500,Cg&&$o())}}function Ml(t){co!==null&&co.tag===0&&!(er&6)&&lu();var e=er;er|=1;var r=ci.transition,n=dr;try{if(ci.transition=null,dr=1,t)return t()}finally{dr=n,ci.transition=r,er=e,!(er&6)&&$o()}}function Ow(){Ds=eu.current,Sr(eu)}function Tl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,I3(r)),ln!==null)for(r=ln.return;r!==null;){var n=r;switch(ww(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bp();break;case 3:bu(),Sr(Cs),Sr(Zn),Sw();break;case 5:Nw(n);break;case 4:bu();break;case 13:Sr(Tr);break;case 19:Sr(Tr);break;case 10:Cw(n.type._context);break;case 22:case 23:Ow()}r=r.return}if(bn=t,ln=t=_o(t.current,null),Un=Ds=e,mn=0,Fh=null,Pw=Ng=Hl=0,Bs=th=null,Nl!==null){for(e=0;e<Nl.length;e++)if(r=Nl[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var A=i.next;i.next=s,n.next=A}r.pending=n}Nl=null}return t}function UE(t,e){do{var r=ln;try{if(bw(),Vm.current=kp,Fp){for(var n=Qr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fp=!1}if(Ol=0,wn=hn=Qr=null,Zd=!1,Ih=0,Lw.current=null,r===null||r.return===null){mn=1,Fh=e,ln=null;break}e:{var i=t,A=r.return,o=r,l=e;if(e=Un,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=yB(A);if(g!==null){g.flags&=-257,wB(g,A,o,i,e),g.mode&1&&vB(i,c,e),e=g,l=c;var b=e.updateQueue;if(b===null){var E=new Set;E.add(l),e.updateQueue=E}else b.add(l);break e}else{if(!(e&1)){vB(i,c,e),Hw();break e}l=Error(Ye(426))}}else if(kr&&o.mode&1){var _=yB(A);if(_!==null){!(_.flags&65536)&&(_.flags|=256),wB(_,A,o,i,e),xw(Cu(l,o));break e}}i=l=Cu(l,o),mn!==4&&(mn=2),th===null?th=[i]:th.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=pE(i,l,e);dB(i,w);break e;case 1:o=l;var v=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Co===null||!Co.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var L=gE(i,o,e);dB(i,L);break e}}i=i.return}while(i!==null)}LE(r)}catch(z){e=z,ln===r&&r!==null&&(ln=r=r.return);continue}break}while(!0)}function QE(){var t=Tp.current;return Tp.current=kp,t===null?kp:t}function Hw(){(mn===0||mn===3||mn===2)&&(mn=4),bn===null||!(Hl&268435455)&&!(Ng&268435455)||so(bn,Un)}function jp(t,e){var r=er;er|=2;var n=QE();(bn!==t||Un!==e)&&($A=null,Tl(t,e));do try{J3();break}catch(s){UE(t,s)}while(!0);if(bw(),er=r,Tp.current=n,ln!==null)throw Error(Ye(261));return bn=null,Un=0,mn}function J3(){for(;ln!==null;)jE(ln)}function Z3(){for(;ln!==null&&!Ck();)jE(ln)}function jE(t){var e=DE(t.alternate,t,Ds);t.memoizedProps=t.pendingProps,e===null?LE(t):ln=e,Lw.current=null}function LE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=G3(r,e),r!==null){r.flags&=32767,ln=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mn=6,ln=null;return}}else if(r=z3(r,e,Ds),r!==null){ln=r;return}if(e=e.sibling,e!==null){ln=e;return}ln=e=t}while(e!==null);mn===0&&(mn=5)}function Bl(t,e,r){var n=dr,s=ci.transition;try{ci.transition=null,dr=1,eT(t,e,r,n)}finally{ci.transition=s,dr=n}return null}function eT(t,e,r,n){do lu();while(co!==null);if(er&6)throw Error(Ye(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ye(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Qk(t,i),t===bn&&(ln=bn=null,Un=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tm||(tm=!0,RE(pp,function(){return lu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ci.transition,ci.transition=null;var A=dr;dr=1;var o=er;er|=4,Lw.current=null,$3(t,r),FE(r,t),w3(yv),vp=!!vv,yv=vv=null,t.current=r,W3(r),Ek(),er=o,dr=A,ci.transition=i}else t.current=r;if(tm&&(tm=!1,co=t,Qp=s),i=t.pendingLanes,i===0&&(Co=null),Nk(r.stateNode),_s(t,Xr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Up)throw Up=!1,t=Rv,Rv=null,t;return Qp&1&&t.tag!==0&&lu(),i=t.pendingLanes,i&1?t===Ov?rh++:(rh=0,Ov=t):rh=0,$o(),null}function lu(){if(co!==null){var t=p4(Qp),e=ci.transition,r=dr;try{if(ci.transition=null,dr=16>t?16:t,co===null)var n=!1;else{if(t=co,co=null,Qp=0,er&6)throw Error(Ye(331));var s=er;for(er|=4,ct=t.current;ct!==null;){var i=ct,A=i.child;if(ct.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ct=c;ct!==null;){var h=ct;switch(h.tag){case 0:case 11:case 15:eh(8,h,i)}var f=h.child;if(f!==null)f.return=h,ct=f;else for(;ct!==null;){h=ct;var p=h.sibling,g=h.return;if(IE(h),h===c){ct=null;break}if(p!==null){p.return=g,ct=p;break}ct=g}}}var b=i.alternate;if(b!==null){var E=b.child;if(E!==null){b.child=null;do{var _=E.sibling;E.sibling=null,E=_}while(E!==null)}}ct=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,ct=A;else e:for(;ct!==null;){if(i=ct,i.flags&2048)switch(i.tag){case 0:case 11:case 15:eh(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ct=w;break e}ct=i.return}}var v=t.current;for(ct=v;ct!==null;){A=ct;var I=A.child;if(A.subtreeFlags&2064&&I!==null)I.return=A,ct=I;else e:for(A=v;ct!==null;){if(o=ct,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ig(9,o)}}catch(z){Hr(o,o.return,z)}if(o===A){ct=null;break e}var L=o.sibling;if(L!==null){L.return=o.return,ct=L;break e}ct=o.return}}if(er=s,$o(),fA&&typeof fA.onPostCommitFiberRoot=="function")try{fA.onPostCommitFiberRoot(yg,t)}catch{}n=!0}return n}finally{dr=r,ci.transition=e}}return!1}function UB(t,e,r){e=Cu(r,e),e=pE(t,e,1),t=bo(t,e,1),e=cs(),t!==null&&(Xh(t,1,e),_s(t,e))}function Hr(t,e,r){if(t.tag===3)UB(t,t,r);else for(;e!==null;){if(e.tag===3){UB(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Co===null||!Co.has(n))){t=Cu(r,t),t=gE(e,t,1),e=bo(e,t,1),t=cs(),e!==null&&(Xh(e,1,t),_s(e,t));break}}e=e.return}}function tT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cs(),t.pingedLanes|=t.suspendedLanes&r,bn===t&&(Un&r)===r&&(mn===4||mn===3&&(Un&130023424)===Un&&500>Xr()-Dw?Tl(t,0):Pw|=r),_s(t,e)}function PE(t,e){e===0&&(t.mode&1?(e=zf,zf<<=1,!(zf&130023424)&&(zf=4194304)):e=1);var r=cs();t=Aa(t,e),t!==null&&(Xh(t,e,r),_s(t,r))}function rT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),PE(t,r)}function nT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ye(314))}n!==null&&n.delete(e),PE(t,r)}var DE;DE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cs.current)bs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return bs=!1,K3(t,e,r);bs=!!(t.flags&131072)}else bs=!1,kr&&e.flags&1048576&&M4(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;zm(t,e),t=e.pendingProps;var s=wu(e,Zn.current);ou(e,r),s=kw(null,e,n,t,s,r);var i=Tw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Es(n)?(i=!0,bp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_w(e),s.updater=_g,e.stateNode=s,s._reactInternals=e,Nv(e,n,t,r),e=kv(null,e,n,!0,i,r)):(e.tag=0,kr&&i&&yw(e),ls(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(zm(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=iT(n),t=ki(n,t),s){case 0:e=Fv(null,e,n,t,r);break e;case 1:e=bB(null,e,n,t,r);break e;case 11:e=xB(null,e,n,t,r);break e;case 14:e=BB(null,e,n,ki(n.type,t),r);break e}throw Error(Ye(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),Fv(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),bB(t,e,n,s,r);case 3:e:{if(xE(e),t===null)throw Error(Ye(387));n=e.pendingProps,i=e.memoizedState,s=i.element,$4(t,e),Np(e,n,null,r);var A=e.memoizedState;if(n=A.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Cu(Error(Ye(423)),e),e=CB(t,e,n,r,s);break e}else if(n!==s){s=Cu(Error(Ye(424)),e),e=CB(t,e,n,r,s);break e}else for(Rs=Bo(e.stateNode.containerInfo.firstChild),Hs=e,kr=!0,Qi=null,r=G4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xu(),n===s){e=aa(t,e,r);break e}ls(t,e,n,r)}e=e.child}return e;case 5:return W4(e),t===null&&Ev(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,wv(n,s)?A=null:i!==null&&wv(n,i)&&(e.flags|=32),wE(t,e),ls(t,e,A,r),e.child;case 6:return t===null&&Ev(e),null;case 13:return BE(t,e,r);case 4:return Iw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Bu(e,null,n,r):ls(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),xB(t,e,n,s,r);case 7:return ls(t,e,e.pendingProps,r),e.child;case 8:return ls(t,e,e.pendingProps.children,r),e.child;case 12:return ls(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,br(_p,n._currentValue),n._currentValue=A,i!==null)if(Oi(i.value,A)){if(i.children===s.children&&!Cs.current){e=aa(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){A=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ra(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),_v(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(Ye(341));A.lanes|=r,o=A.alternate,o!==null&&(o.lanes|=r),_v(A,r,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}ls(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ou(e,r),s=di(s),n=n(s),e.flags|=1,ls(t,e,n,r),e.child;case 14:return n=e.type,s=ki(n,e.pendingProps),s=ki(n.type,s),BB(t,e,n,s,r);case 15:return vE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ki(n,s),zm(t,e),e.tag=1,Es(n)?(t=!0,bp(e)):t=!1,ou(e,r),mE(e,n,s),Nv(e,n,s,r),kv(null,e,n,!0,t,r);case 19:return bE(t,e,r);case 22:return yE(t,e,r)}throw Error(Ye(156,e.tag))};function RE(t,e){return d4(t,e)}function sT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,r,n){return new sT(t,e,r,n)}function Mw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iT(t){if(typeof t=="function")return Mw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aw)return 11;if(t===ow)return 14}return 2}function _o(t,e){var r=t.alternate;return r===null?(r=ai(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $m(t,e,r,n,s,i){var A=2;if(n=t,typeof t=="function")Mw(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Kc:return Ul(r.children,s,i,e);case Aw:A=8,s|=8;break;case J1:return t=ai(12,r,e,s|2),t.elementType=J1,t.lanes=i,t;case Z1:return t=ai(13,r,e,s),t.elementType=Z1,t.lanes=i,t;case ev:return t=ai(19,r,e,s),t.elementType=ev,t.lanes=i,t;case WC:return Sg(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qC:A=10;break e;case $C:A=9;break e;case aw:A=11;break e;case ow:A=14;break e;case eo:A=16,n=null;break e}throw Error(Ye(130,t==null?t:typeof t,""))}return e=ai(A,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ul(t,e,r,n){return t=ai(7,t,n,e),t.lanes=r,t}function Sg(t,e,r,n){return t=ai(22,t,n,e),t.elementType=WC,t.lanes=r,t.stateNode={isHidden:!1},t}function s1(t,e,r){return t=ai(6,t,null,e),t.lanes=r,t}function i1(t,e,r){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AT(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vw(t,e,r,n,s,i,A,o,l){return t=new AT(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ai(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_w(i),t}function aT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function OE(t){if(!t)return Ro;t=t._reactInternals;e:{if(Xl(t)!==t||t.tag!==1)throw Error(Ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Es(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(t.tag===1){var r=t.type;if(Es(r))return O4(t,r,e)}return e}function HE(t,e,r,n,s,i,A,o,l){return t=Vw(r,n,!0,t,s,i,A,o,l),t.context=OE(null),r=t.current,n=cs(),s=Eo(r),i=ra(n,s),i.callback=e??null,bo(r,i,s),t.current.lanes=s,Xh(t,s,n),_s(t,n),t}function Fg(t,e,r,n){var s=e.current,i=cs(),A=Eo(s);return r=OE(r),e.context===null?e.context=r:e.pendingContext=r,e=ra(i,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=bo(s,e,A),t!==null&&(Di(t,s,A,i),Mm(t,s,A)),A}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function QB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kw(t,e){QB(t,e),(t=t.alternate)&&QB(t,e)}function oT(){return null}var ME=typeof reportError=="function"?reportError:function(t){console.error(t)};function zw(t){this._internalRoot=t}kg.prototype.render=zw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ye(409));Fg(t,e,null,null)};kg.prototype.unmount=zw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ml(function(){Fg(null,t,null,null)}),e[ia]=null}};function kg(t){this._internalRoot=t}kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=y4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<no.length&&e!==0&&e<no[r].priority;r++);no.splice(r,0,t),r===0&&x4(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jB(){}function lT(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Lp(A);i.call(c)}}var A=HE(e,n,t,0,null,!1,!1,"",jB);return t._reactRootContainer=A,t[ia]=A.current,Bh(t.nodeType===8?t.parentNode:t),Ml(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Lp(l);o.call(c)}}var l=Vw(t,0,!1,null,null,!1,!1,"",jB);return t._reactRootContainer=l,t[ia]=l.current,Bh(t.nodeType===8?t.parentNode:t),Ml(function(){Fg(e,l,r,n)}),l}function Ug(t,e,r,n,s){var i=r._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var o=s;s=function(){var l=Lp(A);o.call(l)}}Fg(e,A,t,s)}else A=lT(r,e,t,s,n);return Lp(A)}g4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ud(e.pendingLanes);r!==0&&(uw(e,r|1),_s(e,Xr()),!(er&6)&&(Eu=Xr()+500,$o()))}break;case 13:Ml(function(){var n=Aa(t,1);if(n!==null){var s=cs();Di(n,t,1,s)}}),Kw(t,1)}};dw=function(t){if(t.tag===13){var e=Aa(t,134217728);if(e!==null){var r=cs();Di(e,t,134217728,r)}Kw(t,134217728)}};v4=function(t){if(t.tag===13){var e=Eo(t),r=Aa(t,e);if(r!==null){var n=cs();Di(r,t,e,n)}Kw(t,e)}};y4=function(){return dr};w4=function(t,e){var r=dr;try{return dr=t,e()}finally{dr=r}};cv=function(t,e,r){switch(e){case"input":if(nv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=bg(n);if(!s)throw Error(Ye(90));XC(n),nv(n,s)}}}break;case"textarea":ZC(t,r);break;case"select":e=r.value,e!=null&&su(t,!!r.multiple,e,!1)}};A4=Rw;a4=Ml;var cT={usingClientEntryPoint:!1,Events:[Zh,$c,bg,s4,i4,Rw]},bd={findFiberByHostInstance:Il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uT={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c4(t),t===null?null:t.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||oT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{yg=rm.inject(uT),fA=rm}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cT;Gs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(Ye(200));return aT(t,e,null,r)};Gs.createRoot=function(t,e){if(!Gw(t))throw Error(Ye(299));var r=!1,n="",s=ME;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Vw(t,1,!1,null,null,r,!1,n,s),t[ia]=e.current,Bh(t.nodeType===8?t.parentNode:t),new zw(e)};Gs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ye(188)):(t=Object.keys(t).join(","),Error(Ye(268,t)));return t=c4(e),t=t===null?null:t.stateNode,t};Gs.flushSync=function(t){return Ml(t)};Gs.hydrate=function(t,e,r){if(!Tg(e))throw Error(Ye(200));return Ug(null,t,e,!0,r)};Gs.hydrateRoot=function(t,e,r){if(!Gw(t))throw Error(Ye(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",A=ME;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=HE(e,null,t,1,r??null,s,!1,i,A),t[ia]=e.current,Bh(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new kg(e)};Gs.render=function(t,e,r){if(!Tg(e))throw Error(Ye(200));return Ug(null,t,e,!1,r)};Gs.unmountComponentAtNode=function(t){if(!Tg(t))throw Error(Ye(40));return t._reactRootContainer?(Ml(function(){Ug(null,null,t,!1,function(){t._reactRootContainer=null,t[ia]=null})}),!0):!1};Gs.unstable_batchedUpdates=Rw;Gs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Tg(r))throw Error(Ye(200));if(t==null||t._reactInternals===void 0)throw Error(Ye(38));return Ug(t,e,r,!1,n)};Gs.version="18.3.1-next-f1338f8080-20240426";function VE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VE)}catch(t){console.error(t)}}VE(),VC.exports=Gs;var dT=VC.exports,KE,LB=dT;KE=LB.createRoot,LB.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kh.apply(this,arguments)}var uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uo||(uo={}));const PB="popstate";function hT(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:A,hash:o}=n.location;return Vv("",{pathname:i,search:A,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pp(s)}return mT(e,r,null,t)}function Vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fT(){return Math.random().toString(36).substr(2,8)}function DB(t,e){return{usr:t.state,key:t.key,idx:e}}function Vv(t,e,r,n){return r===void 0&&(r=null),kh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hu(e):e,{state:r,key:e&&e.key||n||fT()})}function Pp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function mT(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,A=s.history,o=uo.Pop,l=null,c=h();c==null&&(c=0,A.replaceState(kh({},A.state,{idx:c}),""));function h(){return(A.state||{idx:null}).idx}function f(){o=uo.Pop;let _=h(),w=_==null?null:_-c;c=_,l&&l({action:o,location:E.location,delta:w})}function p(_,w){o=uo.Push;let v=Vv(E.location,_,w);c=h()+1;let I=DB(v,c),L=E.createHref(v);try{A.pushState(I,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(L)}i&&l&&l({action:o,location:E.location,delta:1})}function g(_,w){o=uo.Replace;let v=Vv(E.location,_,w);c=h();let I=DB(v,c),L=E.createHref(v);A.replaceState(I,"",L),i&&l&&l({action:o,location:E.location,delta:0})}function b(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:Pp(_);return v=v.replace(/ $/,"%20"),Vr(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let E={get action(){return o},get location(){return t(s,A)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(PB,f),l=_,()=>{s.removeEventListener(PB,f),l=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return A.go(_)}};return E}var RB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(RB||(RB={}));function pT(t,e,r){return r===void 0&&(r="/"),gT(t,e,r,!1)}function gT(t,e,r,n){let s=typeof e=="string"?Hu(e):e,i=_u(s.pathname||"/",r);if(i==null)return null;let A=GE(t);vT(A);let o=null;for(let l=0;o==null&&l<A.length;++l){let c=ST(i);o=IT(A[l],c,n)}return o}function GE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,A,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};l.relativePath.startsWith("/")&&(Vr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Io([n,l.relativePath]),h=r.concat(l);i.children&&i.children.length>0&&(Vr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GE(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ET(c,i.index),routesMeta:h})};return t.forEach((i,A)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,A);else for(let l of qE(i.path))s(i,A,l)}),e}function qE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let A=qE(n.join("/")),o=[];return o.push(...A.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...A),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function vT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_T(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yT=/^:[\w-]+$/,wT=3,xT=2,BT=1,bT=10,CT=-2,OB=t=>t==="*";function ET(t,e){let r=t.split("/"),n=r.length;return r.some(OB)&&(n+=CT),e&&(n+=xT),r.filter(s=>!OB(s)).reduce((s,i)=>s+(yT.test(i)?wT:i===""?BT:bT),n)}function _T(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function IT(t,e,r){let{routesMeta:n}=t,s={},i="/",A=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),A.push({params:s,pathname:Io([i,f.pathname]),pathnameBase:UT(Io([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Io([i,f.pathnameBase]))}return A}function Dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=NT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let E=o[f]||"";A=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const b=o[f];return g&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:t}}function NT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function ST(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _u(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function FT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Hu(t):t;return{pathname:r?r.startsWith("/")?r:kT(r,e):e,search:QT(n),hash:jT(s)}}function kT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function A1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $E(t,e){let r=TT(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function WE(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Hu(t):(s=kh({},t),Vr(!s.pathname||!s.pathname.includes("?"),A1("?","pathname","search",s)),Vr(!s.pathname||!s.pathname.includes("#"),A1("#","pathname","hash",s)),Vr(!s.search||!s.search.includes("#"),A1("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,o;if(A==null)o=r;else{let f=e.length-1;if(!n&&A.startsWith("..")){let p=A.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=FT(s,o),c=A&&A!=="/"&&A.endsWith("/"),h=(i||A===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),UT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YE=["post","put","patch","delete"];new Set(YE);const PT=["get",...YE];new Set(PT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Th.apply(this,arguments)}const Qg=le.createContext(null),XE=le.createContext(null),Wo=le.createContext(null),jg=le.createContext(null),Yo=le.createContext({outlet:null,matches:[],isDataRoute:!1}),JE=le.createContext(null);function DT(t,e){let{relative:r}=e===void 0?{}:e;tf()||Vr(!1);let{basename:n,navigator:s}=le.useContext(Wo),{hash:i,pathname:A,search:o}=Lg(t,{relative:r}),l=A;return n!=="/"&&(l=A==="/"?n:Io([n,A])),s.createHref({pathname:l,search:o,hash:i})}function tf(){return le.useContext(jg)!=null}function Xo(){return tf()||Vr(!1),le.useContext(jg).location}function ZE(t){le.useContext(Wo).static||le.useLayoutEffect(t)}function Mu(){let{isDataRoute:t}=le.useContext(Yo);return t?ZT():RT()}function RT(){tf()||Vr(!1);let t=le.useContext(Qg),{basename:e,future:r,navigator:n}=le.useContext(Wo),{matches:s}=le.useContext(Yo),{pathname:i}=Xo(),A=JSON.stringify($E(s,r.v7_relativeSplatPath)),o=le.useRef(!1);return ZE(()=>{o.current=!0}),le.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=WE(c,JSON.parse(A),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Io([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,A,i,t])}const OT=le.createContext(null);function HT(t){let e=le.useContext(Yo).outlet;return e&&le.createElement(OT.Provider,{value:t},e)}function Lg(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=le.useContext(Wo),{matches:s}=le.useContext(Yo),{pathname:i}=Xo(),A=JSON.stringify($E(s,n.v7_relativeSplatPath));return le.useMemo(()=>WE(t,JSON.parse(A),i,r==="path"),[t,A,i,r])}function MT(t,e){return VT(t,e)}function VT(t,e,r,n){tf()||Vr(!1);let{navigator:s}=le.useContext(Wo),{matches:i}=le.useContext(Yo),A=i[i.length-1],o=A?A.params:{};A&&A.pathname;let l=A?A.pathnameBase:"/";A&&A.route;let c=Xo(),h;if(e){var f;let _=typeof e=="string"?Hu(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Vr(!1),h=_}else h=c;let p=h.pathname||"/",g=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=pT(t,{pathname:g}),E=$T(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Io([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Io([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return e&&E?le.createElement(jg.Provider,{value:{location:Th({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:uo.Pop}},E):E}function KT(){let t=JT(),e=LT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),r?le.createElement("pre",{style:s},r):null,null)}const zT=le.createElement(KT,null);class GT extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?le.createElement(Yo.Provider,{value:this.props.routeContext},le.createElement(JE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qT(t){let{routeContext:e,match:r,children:n}=t,s=le.useContext(Qg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),le.createElement(Yo.Provider,{value:e},n)}function $T(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let A=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let h=A.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||Vr(!1),A=A.slice(0,Math.min(A.length,h+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<A.length;h++){let f=A[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((h,f,p)=>{let g,b=!1,E=null,_=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||zT,l&&(c<0&&p===0?(b=!0,_=null):c===p&&(b=!0,_=f.route.hydrateFallbackElement||null)));let w=e.concat(A.slice(0,p+1)),v=()=>{let I;return g?I=E:b?I=_:f.route.Component?I=le.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=h,le.createElement(qT,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:I})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?le.createElement(GT,{location:r.location,revalidation:r.revalidation,component:E,error:g,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var e_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(e_||{}),Rp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rp||{});function WT(t){let e=le.useContext(Qg);return e||Vr(!1),e}function YT(t){let e=le.useContext(XE);return e||Vr(!1),e}function XT(t){let e=le.useContext(Yo);return e||Vr(!1),e}function t_(t){let e=XT(),r=e.matches[e.matches.length-1];return r.route.id||Vr(!1),r.route.id}function JT(){var t;let e=le.useContext(JE),r=YT(Rp.UseRouteError),n=t_(Rp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ZT(){let{router:t}=WT(e_.UseNavigateStable),e=t_(Rp.UseNavigateStable),r=le.useRef(!1);return ZE(()=>{r.current=!0}),le.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Th({fromRouteId:e},i)))},[t,e])}function eU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tU(t){return HT(t.context)}function Ls(t){Vr(!1)}function rU(t){let{basename:e="/",children:r=null,location:n,navigationType:s=uo.Pop,navigator:i,static:A=!1,future:o}=t;tf()&&Vr(!1);let l=e.replace(/^\/*/,"/"),c=le.useMemo(()=>({basename:l,navigator:i,static:A,future:Th({v7_relativeSplatPath:!1},o)}),[l,o,i,A]);typeof n=="string"&&(n=Hu(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:b="default"}=n,E=le.useMemo(()=>{let _=_u(h,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:b},navigationType:s}},[l,h,f,p,g,b,s]);return E==null?null:le.createElement(Wo.Provider,{value:c},le.createElement(jg.Provider,{children:r,value:E}))}function nU(t){let{children:e,location:r}=t;return MT(Kv(e),r)}new Promise(()=>{});function Kv(t,e){e===void 0&&(e=[]);let r=[];return le.Children.forEach(t,(n,s)=>{if(!le.isValidElement(n))return;let i=[...e,s];if(n.type===le.Fragment){r.push.apply(r,Kv(n.props.children,i));return}n.type!==Ls&&Vr(!1),!n.props.index||!n.props.children||Vr(!1);let A={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=Kv(n.props.children,i)),r.push(A)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(this,arguments)}function r_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function sU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iU(t,e){return t.button===0&&(!e||e==="_self")&&!sU(t)}const AU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],oU="6";try{window.__reactRouterVersion=oU}catch{}const lU=le.createContext({isTransitioning:!1}),cU="startTransition",HB=tk[cU];function uU(t){let{basename:e,children:r,future:n,window:s}=t,i=le.useRef();i.current==null&&(i.current=hT({window:s,v5Compat:!0}));let A=i.current,[o,l]=le.useState({action:A.action,location:A.location}),{v7_startTransition:c}=n||{},h=le.useCallback(f=>{c&&HB?HB(()=>l(f)):l(f)},[l,c]);return le.useLayoutEffect(()=>A.listen(h),[A,h]),le.useEffect(()=>eU(n),[n]),le.createElement(rU,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:A,future:n})}const dU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fU=le.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:A,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=r_(e,AU),{basename:g}=le.useContext(Wo),b,E=!1;if(typeof c=="string"&&hU.test(c)&&(b=c,dU))try{let I=new URL(window.location.href),L=c.startsWith("//")?new URL(I.protocol+c):new URL(c),z=_u(L.pathname,g);L.origin===I.origin&&z!=null?c=z+L.search+L.hash:E=!0}catch{}let _=DT(c,{relative:s}),w=gU(c,{replace:A,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:f});function v(I){n&&n(I),I.defaultPrevented||w(I)}return le.createElement("a",Op({},p,{href:b||_,onClick:E||i?n:v,ref:r,target:l}))}),mU=le.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:A=!1,style:o,to:l,viewTransition:c,children:h}=e,f=r_(e,aU),p=Lg(l,{relative:f.relative}),g=Xo(),b=le.useContext(XE),{navigator:E,basename:_}=le.useContext(Wo),w=b!=null&&vU(p)&&c===!0,v=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,I=g.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(I=I.toLowerCase(),L=L?L.toLowerCase():null,v=v.toLowerCase()),L&&_&&(L=_u(L,_)||L);const z=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let q=I===v||!A&&I.startsWith(v)&&I.charAt(z)==="/",U=L!=null&&(L===v||!A&&L.startsWith(v)&&L.charAt(v.length)==="/"),B={isActive:q,isPending:U,isTransitioning:w},k=q?n:void 0,P;typeof i=="function"?P=i(B):P=[i,q?"active":null,U?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(B):o;return le.createElement(fU,Op({},f,{"aria-current":k,className:P,ref:r,style:N,to:l,viewTransition:c}),typeof h=="function"?h(B):h)});var zv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zv||(zv={}));var MB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MB||(MB={}));function pU(t){let e=le.useContext(Qg);return e||Vr(!1),e}function gU(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:A,viewTransition:o}=e===void 0?{}:e,l=Mu(),c=Xo(),h=Lg(t,{relative:A});return le.useCallback(f=>{if(iU(f,r)){f.preventDefault();let p=n!==void 0?n:Pp(c)===Pp(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:A,viewTransition:o})}},[c,l,h,n,s,r,t,i,A,o])}function vU(t,e){e===void 0&&(e={});let r=le.useContext(lU);r==null&&Vr(!1);let{basename:n}=pU(zv.useViewTransitionState),s=Lg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=_u(r.currentLocation.pathname,n)||r.currentLocation.pathname,A=_u(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dp(s.pathname,A)!=null||Dp(s.pathname,i)!=null}var VB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},yU=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],A=t[r++],o=t[r++],l=((s&7)<<18|(i&63)<<12|(A&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],A=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,o=A?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|o>>4;let p=(o&15)<<2|c>>6,g=c&63;l||(g=64,A||(p=64)),n.push(r[h],r[f],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],o=s<t.length?r[t.charAt(s)]:0;++s;const c=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||o==null||c==null||f==null)throw new wU;const p=i<<2|o>>4;if(n.push(p),c!==64){const g=o<<4&240|c>>2;if(n.push(g),f!==64){const b=c<<6&192|f;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xU=function(t){const e=n_(t);return s_.encodeByteArray(e,!0)},Hp=function(t){return xU(t).replace(/\./g,"")},i_=function(t){try{return s_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=()=>BU().__FIREBASE_DEFAULTS__,CU=()=>{if(typeof process>"u"||typeof VB>"u")return;const t=VB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i_(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return bU()||CU()||EU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A_=t=>{var e,r;return(r=(e=Pg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},_U=t=>{const e=A_(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},a_=()=>{var t;return(t=Pg())===null||t===void 0?void 0:t.config},o_=t=>{var e;return(e=Pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hp(JSON.stringify(r)),Hp(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(es())}function FU(){var t;const e=(t=Pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QU(){const t=es();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jU(){return!FU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LU(){try{return typeof indexedDB=="object"}catch{return!1}}function PU(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="FirebaseError";class ma extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=DU,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rf.prototype.create)}}class rf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?RU(i,n):"Error",o=`${this.serviceName}: ${A} (${s}).`;return new ma(s,o,n)}}function RU(t,e){return t.replace(OU,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const OU=/\{\$([^}]+)}/g;function HU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],A=e[s];if(KB(i)&&KB(A)){if(!Mp(i,A))return!1}else if(i!==A)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function KB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function jd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ld(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function MU(t,e){const r=new VU(t,e);return r.subscribe.bind(r)}class VU{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");KU(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=a1),s.error===void 0&&(s.error=a1),s.complete===void 0&&(s.complete=a1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KU(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function a1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){return t&&t._delegate?t._delegate:t}class Vl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new IU;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qU(e))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bl){return this.instances.has(e)}getOptions(e=bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,A]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&A.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:GU(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=bl){return this.component?this.component.multipleInstances?e:bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GU(t){return t===bl?void 0:t}function qU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new zU(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($t||($t={}));const WU={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},YU=$t.INFO,XU={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},JU=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=XU[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let qw=class{constructor(e){this.name=e,this._logLevel=YU,this._logHandler=JU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}};const ZU=(t,e)=>e.some(r=>t instanceof r);let zB,GB;function eQ(){return zB||(zB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tQ(){return GB||(GB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l_=new WeakMap,Gv=new WeakMap,c_=new WeakMap,o1=new WeakMap,$w=new WeakMap;function rQ(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{r(No(t.result)),s()},A=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&l_.set(r,t)}).catch(()=>{}),$w.set(e,t),e}function nQ(t){if(Gv.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{r(),s()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});Gv.set(t,e)}let qv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Gv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c_.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return No(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sQ(t){qv=t(qv)}function iQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(l1(this),e,...r);return c_.set(n,e.sort?e.sort():[e]),No(n)}:tQ().includes(t)?function(...e){return t.apply(l1(this),e),No(l_.get(this))}:function(...e){return No(t.apply(l1(this),e))}}function AQ(t){return typeof t=="function"?iQ(t):(t instanceof IDBTransaction&&nQ(t),ZU(t,eQ())?new Proxy(t,qv):t)}function No(t){if(t instanceof IDBRequest)return rQ(t);if(o1.has(t))return o1.get(t);const e=AQ(t);return e!==t&&(o1.set(t,e),$w.set(e,t)),e}const l1=t=>$w.get(t);function aQ(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),o=No(A);return n&&A.addEventListener("upgradeneeded",l=>{n(No(A.result),l.oldVersion,l.newVersion,No(A.transaction),l)}),r&&A.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const oQ=["get","getKey","getAll","getAllKeys","count"],lQ=["put","add","delete","clear"],c1=new Map;function qB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c1.get(e))return c1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=lQ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||oQ.includes(r)))return;const i=async function(A,...o){const l=this.transaction(A,s?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),s&&l.done]))[0]};return c1.set(e,i),i}sQ(t=>({...t,get:(e,r,n)=>qB(e,r)||t.get(e,r,n),has:(e,r)=>!!qB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(uQ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function uQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $v="@firebase/app",$B="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new qw("@firebase/app"),dQ="@firebase/app-compat",hQ="@firebase/analytics-compat",fQ="@firebase/analytics",mQ="@firebase/app-check-compat",pQ="@firebase/app-check",gQ="@firebase/auth",vQ="@firebase/auth-compat",yQ="@firebase/database",wQ="@firebase/data-connect",xQ="@firebase/database-compat",BQ="@firebase/functions",bQ="@firebase/functions-compat",CQ="@firebase/installations",EQ="@firebase/installations-compat",_Q="@firebase/messaging",IQ="@firebase/messaging-compat",NQ="@firebase/performance",SQ="@firebase/performance-compat",FQ="@firebase/remote-config",kQ="@firebase/remote-config-compat",TQ="@firebase/storage",UQ="@firebase/storage-compat",QQ="@firebase/firestore",jQ="@firebase/vertexai-preview",LQ="@firebase/firestore-compat",PQ="firebase",DQ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="[DEFAULT]",RQ={[$v]:"fire-core",[dQ]:"fire-core-compat",[fQ]:"fire-analytics",[hQ]:"fire-analytics-compat",[pQ]:"fire-app-check",[mQ]:"fire-app-check-compat",[gQ]:"fire-auth",[vQ]:"fire-auth-compat",[yQ]:"fire-rtdb",[wQ]:"fire-data-connect",[xQ]:"fire-rtdb-compat",[BQ]:"fire-fn",[bQ]:"fire-fn-compat",[CQ]:"fire-iid",[EQ]:"fire-iid-compat",[_Q]:"fire-fcm",[IQ]:"fire-fcm-compat",[NQ]:"fire-perf",[SQ]:"fire-perf-compat",[FQ]:"fire-rc",[kQ]:"fire-rc-compat",[TQ]:"fire-gcs",[UQ]:"fire-gcs-compat",[QQ]:"fire-fst",[LQ]:"fire-fst-compat",[jQ]:"fire-vertex","fire-js":"fire-js",[PQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,OQ=new Map,Yv=new Map;function WB(t,e){try{t.container.addComponent(e)}catch(r){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Iu(t){const e=t.name;if(Yv.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;Yv.set(e,t);for(const r of Vp.values())WB(r,t);for(const r of OQ.values())WB(r,t);return!0}function Ww(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function JA(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new rf("app","Firebase",HQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=DQ;function u_(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Wv,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw So.create("bad-app-name",{appName:String(s)});if(r||(r=a_()),!r)throw So.create("no-options");const i=Vp.get(s);if(i){if(Mp(r,i.options)&&Mp(n,i.config))return i;throw So.create("duplicate-app",{appName:s})}const A=new $U(s);for(const l of Yv.values())A.addComponent(l);const o=new MQ(r,n,A);return Vp.set(s,o),o}function d_(t=Wv){const e=Vp.get(t);if(!e&&t===Wv&&a_())return u_();if(!e)throw So.create("no-app",{appName:t});return e}function Fo(t,e,r){var n;let s=(n=RQ[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&o.push("and"),A&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(o.join(" "));return}Iu(new Vl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ="firebase-heartbeat-database",KQ=1,Uh="firebase-heartbeat-store";let u1=null;function h_(){return u1||(u1=aQ(VQ,KQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uh)}catch(r){console.warn(r)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),u1}async function zQ(t){try{const r=(await h_()).transaction(Uh),n=await r.objectStore(Uh).get(f_(t));return await r.done,n}catch(e){if(e instanceof ma)oa.warn(e.message);else{const r=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(r.message)}}}async function YB(t,e){try{const n=(await h_()).transaction(Uh,"readwrite");await n.objectStore(Uh).put(e,f_(t)),await n.done}catch(r){if(r instanceof ma)oa.warn(r.message);else{const n=So.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});oa.warn(n.message)}}}function f_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=1024,qQ=30*24*60*60*1e3;class $Q{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new YQ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XB();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const o=new Date(A.date).valueOf();return Date.now()-o<=qQ}),this._storage.overwrite(this._heartbeatsCache))}catch(n){oa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=XB(),{heartbeatsToSend:n,unsentEntries:s}=WQ(this._heartbeatsCache.heartbeats),i=Hp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return oa.warn(r),""}}}function XB(){return new Date().toISOString().substring(0,10)}function WQ(t,e=GQ){const r=[];let n=t.slice();for(const s of t){const i=r.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),JB(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),JB(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class YQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LU()?PU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await zQ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return YB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return YB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function JB(t){return Hp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t){Iu(new Vl("platform-logger",e=>new cQ(e),"PRIVATE")),Iu(new Vl("heartbeat",e=>new $Q(e),"PRIVATE")),Fo($v,$B,t),Fo($v,$B,"esm2017"),Fo("fire-js","")}XQ("");function Yw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function m_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JQ=m_,p_=new rf("auth","Firebase",m_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new qw("@firebase/auth");function ZQ(t,...e){Kp.logLevel<=$t.WARN&&Kp.warn(`Auth (${Vu}): ${t}`,...e)}function Wm(t,...e){Kp.logLevel<=$t.ERROR&&Kp.error(`Auth (${Vu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,...e){throw Xw(t,...e)}function pA(t,...e){return Xw(t,...e)}function g_(t,e,r){const n=Object.assign(Object.assign({},JQ()),{[e]:r});return new rf("auth","Firebase",n).create(e,{appName:t.name})}function ko(t){return g_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return p_.create(t,...e)}function Nt(t,e,...r){if(!t)throw Xw(e,...r)}function ZA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wm(e),new Error(e)}function la(t,e){t||ZA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ej(){return ZB()==="http:"||ZB()==="https:"}function ZB(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ej()||TU()||"connection"in navigator)?navigator.onLine:!0}function rj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,r){this.shortDelay=e,this.longDelay=r,la(r>e,"Short delay should be less than long delay!"),this.isMobile=SU()||UU()}get(){return tj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){la(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ZA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ZA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ZA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new sf(3e4,6e4);function Jl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jo(t,e,r,n,s={}){return y_(t,s,async()=>{let i={},A={};n&&(e==="GET"?A=n:i={body:JSON.stringify(n)});const o=nf(Object.assign({key:t.config.apiKey},A)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return kU()||(c.referrerPolicy="no-referrer"),v_.fetch()(w_(t,t.config.apiHost,r,o),c)})}async function y_(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},nj),e);try{const s=new Aj(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw nm(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const o=i.ok?A.errorMessage:A.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nm(t,"credential-already-in-use",A);if(l==="EMAIL_EXISTS")throw nm(t,"email-already-in-use",A);if(l==="USER_DISABLED")throw nm(t,"user-disabled",A);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw g_(t,h,c);Hi(t,h)}}catch(s){if(s instanceof ma)throw s;Hi(t,"network-request-failed",{message:String(s)})}}async function Dg(t,e,r,n,s={}){const i=await Jo(t,e,r,n,s);return"mfaPendingCredential"in i&&Hi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function w_(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?Jw(t.config,s):`${t.config.apiScheme}://${s}`}function ij(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Aj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(pA(this.auth,"network-request-failed")),sj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nm(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=pA(t,e,n);return s.customData._tokenResponse=r,s}function eb(t){return t!==void 0&&t.enterprise!==void 0}class aj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return ij(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oj(t,e){return Jo(t,"GET","/v2/recaptchaConfig",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function x_(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cj(t,e=!1){const r=ts(t),n=await r.getIdToken(e),s=Zw(n);Nt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:nh(d1(s.auth_time)),issuedAtTime:nh(d1(s.iat)),expirationTime:nh(d1(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function d1(t){return Number(t)*1e3}function Zw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Wm("JWT malformed, contained fewer than 3 sections"),null;try{const s=i_(r);return s?JSON.parse(s):(Wm("Failed to decode base64 JWT payload"),null)}catch(s){return Wm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function tb(t){const e=Zw(t);return Nt(e,"internal-error"),Nt(typeof e.exp<"u","internal-error"),Nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ma&&uj(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Qh(t,x_(r,{idToken:n}));Nt(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?B_(i.providerUserInfo):[],o=fj(t.providerData,A),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function hj(t){const e=ts(t);await zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fj(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function B_(t){return t.map(e=>{var{providerId:r}=e,n=Yw(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){const r=await y_(t,{},async()=>{const n=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=w_(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",v_.fetch()(A,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function pj(t,e){return Jo(t,"POST","/v2/accounts:revokeToken",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt(typeof e.idToken<"u","internal-error"),Nt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Nt(e.length!==0,"internal-error");const r=tb(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await mj(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,A=new cu;return n&&(Nt(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),s&&(Nt(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(Nt(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return ZA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e){Nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ea{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Yw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Qh(this,this.stsTokenManager.getToken(this.auth,e));return Nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return cj(this,e)}reload(){return hj(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ea(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await zp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(JA(this.auth.app))return Promise.reject(ko(this.auth));const e=await this.getIdToken();return await Qh(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,A,o,l,c,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,g=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,b=(A=r.photoURL)!==null&&A!==void 0?A:void 0,E=(o=r.tenantId)!==null&&o!==void 0?o:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=r.createdAt)!==null&&c!==void 0?c:void 0,v=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:L,isAnonymous:z,providerData:q,stsTokenManager:U}=r;Nt(I&&U,e,"internal-error");const B=cu.fromJSON(this.name,U);Nt(typeof I=="string",e,"internal-error"),$a(f,e.name),$a(p,e.name),Nt(typeof L=="boolean",e,"internal-error"),Nt(typeof z=="boolean",e,"internal-error"),$a(g,e.name),$a(b,e.name),$a(E,e.name),$a(_,e.name),$a(w,e.name),$a(v,e.name);const k=new ea({uid:I,auth:e,email:p,emailVerified:L,displayName:f,isAnonymous:z,photoURL:b,phoneNumber:g,tenantId:E,stsTokenManager:B,createdAt:w,lastLoginAt:v});return q&&Array.isArray(q)&&(k.providerData=q.map(P=>Object.assign({},P))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,r,n=!1){const s=new cu;s.updateFromServerResponse(r);const i=new ea({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await zp(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Nt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?B_(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new cu;o.updateFromIdToken(n);const l=new ea({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:A}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Jv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map;function ta(t){la(t instanceof Function,"Expected a class definition");let e=rb.get(t);return e?(la(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}b_.type="NONE";const nb=b_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e,r){return`firebase:${t}:${e}:${r}`}class uu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Ym(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ym("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ea._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new uu(ta(nb),e,n);const s=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ta(nb);const A=Ym(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const h=await c._get(A);if(h){const f=ea._fromJSON(e,h);c!==i&&(o=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new uu(i,e,n):(i=l[0],o&&await i._set(A,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(A)}catch{}})),new uu(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S_(e))return"Blackberry";if(F_(e))return"Webos";if(E_(e))return"Safari";if((e.includes("chrome/")||__(e))&&!e.includes("edge/"))return"Chrome";if(N_(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function C_(t=es()){return/firefox\//i.test(t)}function E_(t=es()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function __(t=es()){return/crios\//i.test(t)}function I_(t=es()){return/iemobile/i.test(t)}function N_(t=es()){return/android/i.test(t)}function S_(t=es()){return/blackberry/i.test(t)}function F_(t=es()){return/webos/i.test(t)}function e2(t=es()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gj(t=es()){var e;return e2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vj(){return QU()&&document.documentMode===10}function k_(t=es()){return e2(t)||N_(t)||F_(t)||S_(t)||/windows phone/i.test(t)||I_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e=[]){let r;switch(t){case"Browser":r=sb(es());break;case"Worker":r=`${sb(es())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((A,o)=>{try{const l=e(i);A(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e={}){return Jo(t,"GET","/v2/passwordPolicy",Jl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=6;class Bj{constructor(e){var r,n,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:xj,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,A,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(A=l.containsNumericCharacter)!==null&&A!==void 0?A:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ib(this),this.idTokenSubscription=new ib(this),this.beforeStateQueue=new yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ta(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await x_(this,{idToken:e}),n=await ea._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(JA(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!A||A===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(JA(this.app))return Promise.reject(ko(this));const r=e?ts(e):null;return r&&Nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return JA(this.app)?Promise.reject(ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return JA(this.app)?Promise.reject(ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wj(this),r=new Bj(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await pj(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ta(e)||this._popupRedirectResolver;Nt(r,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[ta(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let A=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(o,this,"internal-error"),o.then(()=>{A||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{A=!0,l()}}else{const l=e.addObserver(r);return()=>{A=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&ZQ(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ku(t){return ts(t)}class ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=MU(r=>this.observer=r)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cj(t){Rg=t}function U_(t){return Rg.loadJS(t)}function Ej(){return Rg.recaptchaEnterpriseScript}function _j(){return Rg.gapiScript}function Ij(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Nj="recaptcha-enterprise",Sj="NO_RECAPTCHA";class Fj{constructor(e){this.type=Nj,this.auth=Ku(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,o)=>{oj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new aj(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,A(c.siteKey)}}).catch(l=>{o(l)})})}function s(i,A,o){const l=window.grecaptcha;eb(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{A(c)}).catch(()=>{A(Sj)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{n(this.auth).then(o=>{if(!r&&eb(window.grecaptcha))s(o,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ej();l.length!==0&&(l+=o),U_(l).then(()=>{s(o,i,A)}).catch(c=>{A(c)})}}).catch(o=>{A(o)})})}}async function Ab(t,e,r,n=!1){const s=new Fj(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const A=Object.assign({},e);return n?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function ab(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ab(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await Ab(t,e,r,r==="getOobCode");return n(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t,e){const r=Ww(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Mp(i,e??{}))return s;Hi(s,"already-initialized")}return r.initialize({options:e})}function Tj(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ta);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Uj(t,e,r){const n=Ku(t);Nt(n._canInitEmulator,n,"emulator-config-failed"),Nt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Q_(e),{host:A,port:o}=Qj(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${i}//${A}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),jj()}function Q_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qj(t){const e=Q_(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:ob(n.substr(i.length+1))}}else{const[i,A]=n.split(":");return{host:i,port:ob(A)}}}function ob(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jj(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ZA("not implemented")}_getIdTokenResponse(e){return ZA("not implemented")}_linkToIdToken(e,r){return ZA("not implemented")}_getReauthenticationResolver(e){return ZA("not implemented")}}async function Lj(t,e){return Jo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e){return Dg(t,"POST","/v1/accounts:signInWithPassword",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e){return Dg(t,"POST","/v1/accounts:signInWithEmailLink",Jl(t,e))}async function Rj(t,e){return Dg(t,"POST","/v1/accounts:signInWithEmailLink",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends t2{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new jh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new jh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,r,"signInWithPassword",Pj);case"emailLink":return Dj(e,{email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,n,"signUpPassword",Lj);case"emailLink":return Rj(e,{idToken:r,email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t,e){return Dg(t,"POST","/v1/accounts:signInWithIdp",Jl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="http://localhost";class Kl extends t2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Hi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Yw(r,["providerId","signInMethod"]);if(!n||!s)return null;const A=new Kl(n,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return du(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,du(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,du(e,r)}buildRequest(){const e={requestUri:Oj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=nf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mj(t){const e=jd(Ld(t)).link,r=e?jd(Ld(e)).deep_link_id:null,n=jd(Ld(t)).deep_link_id;return(n?jd(Ld(n)).link:null)||n||r||e||t}class r2{constructor(e){var r,n,s,i,A,o;const l=jd(Ld(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=Hj((s=l.mode)!==null&&s!==void 0?s:null);Nt(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=l.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=Mj(e);try{return new r2(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.providerId=zu.PROVIDER_ID}static credential(e,r){return jh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=r2.parseLink(r);return Nt(n,"argument-error"),jh._fromEmailAndCode(e,n.code,n.tenantId)}}zu.PROVIDER_ID="password";zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends j_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Af{constructor(){super("facebook.com")}static credential(e){return Kl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Kl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ao.credential(r,n)}catch{return null}}}Ao.GOOGLE_SIGN_IN_METHOD="google.com";Ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Af{constructor(){super("github.com")}static credential(e){return Kl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Af{constructor(){super("twitter.com")}static credential(e,r){return Kl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return oo.credential(r,n)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ea._fromIdTokenResponse(e,n,s),A=lb(n);return new Nu({user:i,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=lb(n);return new Nu({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function lb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends ma{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Gp(e,r,n,s)}}function L_(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,i,e,n):i})}async function Vj(t,e,r=!1){const n=await Qh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Nu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e,r=!1){const{auth:n}=t;if(JA(n.app))return Promise.reject(ko(n));const s="reauthenticate";try{const i=await Qh(t,L_(n,s,e,t),r);Nt(i.idToken,n,"internal-error");const A=Zw(i.idToken);Nt(A,n,"internal-error");const{sub:o}=A;return Nt(t.uid===o,n,"user-mismatch"),Nu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Hi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P_(t,e,r=!1){if(JA(t.app))return Promise.reject(ko(t));const n="signIn",s=await L_(t,n,e),i=await Nu._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function zj(t,e){return P_(Ku(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t){const e=Ku(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function qj(t,e,r){return JA(t.app)?Promise.reject(ko(t)):zj(ts(t),zu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Gj(t),n})}function $j(t,e,r,n){return ts(t).onIdTokenChanged(e,r,n)}function Wj(t,e,r){return ts(t).beforeAuthStateChanged(e,r)}function Yj(t,e,r,n){return ts(t).onAuthStateChanged(e,r,n)}function Xj(t){return ts(t).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=1e3,Zj=10;class R_ extends D_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,o,l)=>{this.notifyListeners(A,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},i=this.storage.getItem(n);vj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Zj):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}R_.type="LOCAL";const eL=R_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends D_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}O_.type="SESSION";const H_=O_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Og(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const o=Array.from(A).map(async c=>c(r.origin,i)),l=await tL(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((o,l)=>{const c=n2("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);A={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return window}function nL(t){gA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return typeof gA().WorkerGlobalScope<"u"&&typeof gA().importScripts=="function"}async function sL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AL(){return M_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="firebaseLocalStorageDb",aL=1,$p="firebaseLocalStorage",K_="fbase_key";class af{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Hg(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function oL(){const t=indexedDB.deleteDatabase(V_);return new af(t).toPromise()}function Zv(){const t=indexedDB.open(V_,aL);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore($p,{keyPath:K_})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains($p)?e(n):(n.close(),await oL(),e(await Zv()))})})}async function cb(t,e,r){const n=Hg(t,!0).put({[K_]:e,value:r});return new af(n).toPromise()}async function lL(t,e){const r=Hg(t,!1).get(e),n=await new af(r).toPromise();return n===void 0?null:n.value}function ub(t,e){const r=Hg(t,!0).delete(e);return new af(r).toPromise()}const cL=800,uL=3;class z_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zv(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>uL)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(AL()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await sL(),!this.activeServiceWorker)return;this.sender=new rL(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zv();return await cb(e,qp,"1"),await ub(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>cb(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>lL(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ub(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hg(s,!1).getAll();return new af(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z_.type="LOCAL";const dL=z_;new sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e){return e?ta(e):(Nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2 extends t2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return du(e,this._buildIdpRequest())}_linkToIdToken(e,r){return du(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return du(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function fL(t){return P_(t.auth,new s2(t),t.bypassAuthState)}function mL(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),Kj(r,new s2(t),t.bypassAuthState)}async function pL(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),Vj(r,new s2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:A,type:o}=e;if(A){this.reject(A);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fL;case"linkViaPopup":case"linkViaRedirect":return pL;case"reauthViaPopup":case"reauthViaRedirect":return mL;default:Hi(this.auth,"internal-error")}}resolve(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new sf(2e3,1e4);class tu extends G_{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,tu.currentPopupAction&&tu.currentPopupAction.cancel(),tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const e=n2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(pA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gL.get())};e()}}tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="pendingRedirect",Xm=new Map;class yL extends G_{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Xm.get(this.auth._key());if(!e){try{const n=await wL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Xm.set(this.auth._key(),e)}return this.bypassAuthState||Xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wL(t,e){const r=bL(e),n=BL(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function xL(t,e){Xm.set(t._key(),e)}function BL(t){return ta(t._redirectPersistence)}function bL(t){return Ym(vL,t.config.apiKey,t.name)}async function CL(t,e,r=!1){if(JA(t.app))return Promise.reject(ko(t));const n=Ku(t),s=hL(n,e),A=await new yL(n,s,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=10*60*1e3;class _L{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IL(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!q_(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(pA(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EL&&this.cachedEventUids.clear(),this.cachedEventUids.has(db(e))}saveEventToCache(e){this.cachedEventUids.add(db(e)),this.lastProcessedEventTime=Date.now()}}function db(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e={}){return Jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FL=/^https?/;async function kL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NL(t);for(const r of e)try{if(TL(r))return}catch{}Hi(t,"unauthorized-domain")}function TL(t){const e=Xv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!FL.test(r))return!1;if(SL.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new sf(3e4,6e4);function hb(){const t=gA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function QL(t){return new Promise((e,r)=>{var n,s,i;function A(){hb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hb(),r(pA(t,"network-request-failed"))},timeout:UL.get()})}if(!((s=(n=gA().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=gA().gapi)===null||i===void 0)&&i.load)A();else{const o=Ij("iframefcb");return gA()[o]=()=>{gapi.load?A():r(pA(t,"network-request-failed"))},U_(`${_j()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Jm=null,e})}let Jm=null;function jL(t){return Jm=Jm||QL(t),Jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new sf(5e3,15e3),PL="__/auth/iframe",DL="emulator/auth/iframe",RL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HL(t){const e=t.config;Nt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Jw(e,DL):`https://${t.config.authDomain}/${PL}`,n={apiKey:e.apiKey,appName:t.name,v:Vu},s=OL.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${nf(n).slice(1)}`}async function ML(t){const e=await jL(t),r=gA().gapi;return Nt(r,t,"internal-error"),e.open({where:document.body,url:HL(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RL,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const A=pA(t,"network-request-failed"),o=gA().setTimeout(()=>{i(A)},LL.get());function l(){gA().clearTimeout(o),s(n)}n.ping(l).then(l,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KL=500,zL=600,GL="_blank",qL="http://localhost";class fb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $L(t,e,r,n=KL,s=zL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},VL),{width:n.toString(),height:s.toString(),top:i,left:A}),c=es().toLowerCase();r&&(o=__(c)?GL:r),C_(c)&&(e=e||qL,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(gj(c)&&o!=="_self")return WL(e||"",o),new fb(null);const f=window.open(e||"",o,h);Nt(f,t,"popup-blocked");try{f.focus()}catch{}return new fb(f)}function WL(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="__/auth/handler",XL="emulator/auth/handler",JL=encodeURIComponent("fac");async function mb(t,e,r,n,s,i){Nt(t.config.authDomain,t,"auth-domain-config-required"),Nt(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vu,eventId:s};if(e instanceof j_){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",HU(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))A[h]=f}if(e instanceof Af){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(A.scopes=h.join(","))}t.tenantId&&(A.tid=t.tenantId);const o=A;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${JL}=${encodeURIComponent(l)}`:"";return`${ZL(t)}?${nf(o).slice(1)}${c}`}function ZL({config:t}){return t.emulator?Jw(t,XL):`https://${t.authDomain}/${YL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="webStorageSupport";class e6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H_,this._completeRedirectFn=CL,this._overrideRedirectResult=xL}async _openPopup(e,r,n,s){var i;la((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await mb(e,r,n,Xv(),s);return $L(e,A,n2())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await mb(e,r,n,Xv(),s);return nL(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(la(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await ML(e),n=new _L(e);return r.register("authEvent",s=>(Nt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(h1,{type:h1},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[h1];A!==void 0&&r(!!A),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=kL(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return k_()||E_()||e2()}}const t6=e6;var pb="@firebase/auth",gb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s6(t){Iu(new Vl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:o}=n.options;Nt(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:A,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T_(t)},c=new bj(n,s,i,l);return Tj(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Iu(new Vl("auth-internal",e=>{const r=Ku(e.getProvider("auth").getImmediate());return(n=>new r6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fo(pb,gb,n6(t)),Fo(pb,gb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=5*60,A6=o_("authIdTokenMaxAge")||i6;let vb=null;const a6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>A6)return;const s=r==null?void 0:r.token;vb!==s&&(vb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function o6(t=d_()){const e=Ww(t,"auth");if(e.isInitialized())return e.getImmediate();const r=kj(t,{popupRedirectResolver:t6,persistence:[dL,eL,H_]}),n=o_("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const A=a6(i.toString());Wj(r,A,()=>A(r.currentUser)),$j(r,o=>A(o))}}const s=A_("auth");return s&&Uj(r,`http://${s}`),r}function l6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cj({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=pA("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",l6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s6("Browser");var c6="firebase",u6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(c6,u6,"app");var yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ql,$_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,B){function k(){}k.prototype=B.prototype,U.D=B.prototype,U.prototype=new k,U.prototype.constructor=U,U.C=function(P,N,F){for(var j=Array(arguments.length-2),se=2;se<arguments.length;se++)j[se-2]=arguments[se];return B.prototype[N].apply(P,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,B,k){k||(k=0);var P=Array(16);if(typeof B=="string")for(var N=0;16>N;++N)P[N]=B.charCodeAt(k++)|B.charCodeAt(k++)<<8|B.charCodeAt(k++)<<16|B.charCodeAt(k++)<<24;else for(N=0;16>N;++N)P[N]=B[k++]|B[k++]<<8|B[k++]<<16|B[k++]<<24;B=U.g[0],k=U.g[1],N=U.g[2];var F=U.g[3],j=B+(F^k&(N^F))+P[0]+3614090360&4294967295;B=k+(j<<7&4294967295|j>>>25),j=F+(N^B&(k^N))+P[1]+3905402710&4294967295,F=B+(j<<12&4294967295|j>>>20),j=N+(k^F&(B^k))+P[2]+606105819&4294967295,N=F+(j<<17&4294967295|j>>>15),j=k+(B^N&(F^B))+P[3]+3250441966&4294967295,k=N+(j<<22&4294967295|j>>>10),j=B+(F^k&(N^F))+P[4]+4118548399&4294967295,B=k+(j<<7&4294967295|j>>>25),j=F+(N^B&(k^N))+P[5]+1200080426&4294967295,F=B+(j<<12&4294967295|j>>>20),j=N+(k^F&(B^k))+P[6]+2821735955&4294967295,N=F+(j<<17&4294967295|j>>>15),j=k+(B^N&(F^B))+P[7]+4249261313&4294967295,k=N+(j<<22&4294967295|j>>>10),j=B+(F^k&(N^F))+P[8]+1770035416&4294967295,B=k+(j<<7&4294967295|j>>>25),j=F+(N^B&(k^N))+P[9]+2336552879&4294967295,F=B+(j<<12&4294967295|j>>>20),j=N+(k^F&(B^k))+P[10]+4294925233&4294967295,N=F+(j<<17&4294967295|j>>>15),j=k+(B^N&(F^B))+P[11]+2304563134&4294967295,k=N+(j<<22&4294967295|j>>>10),j=B+(F^k&(N^F))+P[12]+1804603682&4294967295,B=k+(j<<7&4294967295|j>>>25),j=F+(N^B&(k^N))+P[13]+4254626195&4294967295,F=B+(j<<12&4294967295|j>>>20),j=N+(k^F&(B^k))+P[14]+2792965006&4294967295,N=F+(j<<17&4294967295|j>>>15),j=k+(B^N&(F^B))+P[15]+1236535329&4294967295,k=N+(j<<22&4294967295|j>>>10),j=B+(N^F&(k^N))+P[1]+4129170786&4294967295,B=k+(j<<5&4294967295|j>>>27),j=F+(k^N&(B^k))+P[6]+3225465664&4294967295,F=B+(j<<9&4294967295|j>>>23),j=N+(B^k&(F^B))+P[11]+643717713&4294967295,N=F+(j<<14&4294967295|j>>>18),j=k+(F^B&(N^F))+P[0]+3921069994&4294967295,k=N+(j<<20&4294967295|j>>>12),j=B+(N^F&(k^N))+P[5]+3593408605&4294967295,B=k+(j<<5&4294967295|j>>>27),j=F+(k^N&(B^k))+P[10]+38016083&4294967295,F=B+(j<<9&4294967295|j>>>23),j=N+(B^k&(F^B))+P[15]+3634488961&4294967295,N=F+(j<<14&4294967295|j>>>18),j=k+(F^B&(N^F))+P[4]+3889429448&4294967295,k=N+(j<<20&4294967295|j>>>12),j=B+(N^F&(k^N))+P[9]+568446438&4294967295,B=k+(j<<5&4294967295|j>>>27),j=F+(k^N&(B^k))+P[14]+3275163606&4294967295,F=B+(j<<9&4294967295|j>>>23),j=N+(B^k&(F^B))+P[3]+4107603335&4294967295,N=F+(j<<14&4294967295|j>>>18),j=k+(F^B&(N^F))+P[8]+1163531501&4294967295,k=N+(j<<20&4294967295|j>>>12),j=B+(N^F&(k^N))+P[13]+2850285829&4294967295,B=k+(j<<5&4294967295|j>>>27),j=F+(k^N&(B^k))+P[2]+4243563512&4294967295,F=B+(j<<9&4294967295|j>>>23),j=N+(B^k&(F^B))+P[7]+1735328473&4294967295,N=F+(j<<14&4294967295|j>>>18),j=k+(F^B&(N^F))+P[12]+2368359562&4294967295,k=N+(j<<20&4294967295|j>>>12),j=B+(k^N^F)+P[5]+4294588738&4294967295,B=k+(j<<4&4294967295|j>>>28),j=F+(B^k^N)+P[8]+2272392833&4294967295,F=B+(j<<11&4294967295|j>>>21),j=N+(F^B^k)+P[11]+1839030562&4294967295,N=F+(j<<16&4294967295|j>>>16),j=k+(N^F^B)+P[14]+4259657740&4294967295,k=N+(j<<23&4294967295|j>>>9),j=B+(k^N^F)+P[1]+2763975236&4294967295,B=k+(j<<4&4294967295|j>>>28),j=F+(B^k^N)+P[4]+1272893353&4294967295,F=B+(j<<11&4294967295|j>>>21),j=N+(F^B^k)+P[7]+4139469664&4294967295,N=F+(j<<16&4294967295|j>>>16),j=k+(N^F^B)+P[10]+3200236656&4294967295,k=N+(j<<23&4294967295|j>>>9),j=B+(k^N^F)+P[13]+681279174&4294967295,B=k+(j<<4&4294967295|j>>>28),j=F+(B^k^N)+P[0]+3936430074&4294967295,F=B+(j<<11&4294967295|j>>>21),j=N+(F^B^k)+P[3]+3572445317&4294967295,N=F+(j<<16&4294967295|j>>>16),j=k+(N^F^B)+P[6]+76029189&4294967295,k=N+(j<<23&4294967295|j>>>9),j=B+(k^N^F)+P[9]+3654602809&4294967295,B=k+(j<<4&4294967295|j>>>28),j=F+(B^k^N)+P[12]+3873151461&4294967295,F=B+(j<<11&4294967295|j>>>21),j=N+(F^B^k)+P[15]+530742520&4294967295,N=F+(j<<16&4294967295|j>>>16),j=k+(N^F^B)+P[2]+3299628645&4294967295,k=N+(j<<23&4294967295|j>>>9),j=B+(N^(k|~F))+P[0]+4096336452&4294967295,B=k+(j<<6&4294967295|j>>>26),j=F+(k^(B|~N))+P[7]+1126891415&4294967295,F=B+(j<<10&4294967295|j>>>22),j=N+(B^(F|~k))+P[14]+2878612391&4294967295,N=F+(j<<15&4294967295|j>>>17),j=k+(F^(N|~B))+P[5]+4237533241&4294967295,k=N+(j<<21&4294967295|j>>>11),j=B+(N^(k|~F))+P[12]+1700485571&4294967295,B=k+(j<<6&4294967295|j>>>26),j=F+(k^(B|~N))+P[3]+2399980690&4294967295,F=B+(j<<10&4294967295|j>>>22),j=N+(B^(F|~k))+P[10]+4293915773&4294967295,N=F+(j<<15&4294967295|j>>>17),j=k+(F^(N|~B))+P[1]+2240044497&4294967295,k=N+(j<<21&4294967295|j>>>11),j=B+(N^(k|~F))+P[8]+1873313359&4294967295,B=k+(j<<6&4294967295|j>>>26),j=F+(k^(B|~N))+P[15]+4264355552&4294967295,F=B+(j<<10&4294967295|j>>>22),j=N+(B^(F|~k))+P[6]+2734768916&4294967295,N=F+(j<<15&4294967295|j>>>17),j=k+(F^(N|~B))+P[13]+1309151649&4294967295,k=N+(j<<21&4294967295|j>>>11),j=B+(N^(k|~F))+P[4]+4149444226&4294967295,B=k+(j<<6&4294967295|j>>>26),j=F+(k^(B|~N))+P[11]+3174756917&4294967295,F=B+(j<<10&4294967295|j>>>22),j=N+(B^(F|~k))+P[2]+718787259&4294967295,N=F+(j<<15&4294967295|j>>>17),j=k+(F^(N|~B))+P[9]+3951481745&4294967295,U.g[0]=U.g[0]+B&4294967295,U.g[1]=U.g[1]+(N+(j<<21&4294967295|j>>>11))&4294967295,U.g[2]=U.g[2]+N&4294967295,U.g[3]=U.g[3]+F&4294967295}n.prototype.u=function(U,B){B===void 0&&(B=U.length);for(var k=B-this.blockSize,P=this.B,N=this.h,F=0;F<B;){if(N==0)for(;F<=k;)s(this,U,F),F+=this.blockSize;if(typeof U=="string"){for(;F<B;)if(P[N++]=U.charCodeAt(F++),N==this.blockSize){s(this,P),N=0;break}}else for(;F<B;)if(P[N++]=U[F++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=B},n.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var B=1;B<U.length-8;++B)U[B]=0;var k=8*this.o;for(B=U.length-8;B<U.length;++B)U[B]=k&255,k/=256;for(this.u(U),U=Array(16),B=k=0;4>B;++B)for(var P=0;32>P;P+=8)U[k++]=this.g[B]>>>P&255;return U};function i(U,B){var k=o;return Object.prototype.hasOwnProperty.call(k,U)?k[U]:k[U]=B(U)}function A(U,B){this.h=B;for(var k=[],P=!0,N=U.length-1;0<=N;N--){var F=U[N]|0;P&&F==B||(k[N]=F,P=!1)}this.g=k}var o={};function l(U){return-128<=U&&128>U?i(U,function(B){return new A([B|0],0>B?-1:0)}):new A([U|0],0>U?-1:0)}function c(U){if(isNaN(U)||!isFinite(U))return f;if(0>U)return _(c(-U));for(var B=[],k=1,P=0;U>=k;P++)B[P]=U/k|0,k*=4294967296;return new A(B,0)}function h(U,B){if(U.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(U.charAt(0)=="-")return _(h(U.substring(1),B));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(B,8)),P=f,N=0;N<U.length;N+=8){var F=Math.min(8,U.length-N),j=parseInt(U.substring(N,N+F),B);8>F?(F=c(Math.pow(B,F)),P=P.j(F).add(c(j))):(P=P.j(k),P=P.add(c(j)))}return P}var f=l(0),p=l(1),g=l(16777216);t=A.prototype,t.m=function(){if(E(this))return-_(this).m();for(var U=0,B=1,k=0;k<this.g.length;k++){var P=this.i(k);U+=(0<=P?P:4294967296+P)*B,B*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(b(this))return"0";if(E(this))return"-"+_(this).toString(U);for(var B=c(Math.pow(U,6)),k=this,P="";;){var N=L(k,B).g;k=w(k,N.j(B));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(U);if(k=N,b(k))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function b(U){if(U.h!=0)return!1;for(var B=0;B<U.g.length;B++)if(U.g[B]!=0)return!1;return!0}function E(U){return U.h==-1}t.l=function(U){return U=w(this,U),E(U)?-1:b(U)?0:1};function _(U){for(var B=U.g.length,k=[],P=0;P<B;P++)k[P]=~U.g[P];return new A(k,~U.h).add(p)}t.abs=function(){return E(this)?_(this):this},t.add=function(U){for(var B=Math.max(this.g.length,U.g.length),k=[],P=0,N=0;N<=B;N++){var F=P+(this.i(N)&65535)+(U.i(N)&65535),j=(F>>>16)+(this.i(N)>>>16)+(U.i(N)>>>16);P=j>>>16,F&=65535,j&=65535,k[N]=j<<16|F}return new A(k,k[k.length-1]&-2147483648?-1:0)};function w(U,B){return U.add(_(B))}t.j=function(U){if(b(this)||b(U))return f;if(E(this))return E(U)?_(this).j(_(U)):_(_(this).j(U));if(E(U))return _(this.j(_(U)));if(0>this.l(g)&&0>U.l(g))return c(this.m()*U.m());for(var B=this.g.length+U.g.length,k=[],P=0;P<2*B;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<U.g.length;N++){var F=this.i(P)>>>16,j=this.i(P)&65535,se=U.i(N)>>>16,we=U.i(N)&65535;k[2*P+2*N]+=j*we,v(k,2*P+2*N),k[2*P+2*N+1]+=F*we,v(k,2*P+2*N+1),k[2*P+2*N+1]+=j*se,v(k,2*P+2*N+1),k[2*P+2*N+2]+=F*se,v(k,2*P+2*N+2)}for(P=0;P<B;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=B;P<2*B;P++)k[P]=0;return new A(k,0)};function v(U,B){for(;(U[B]&65535)!=U[B];)U[B+1]+=U[B]>>>16,U[B]&=65535,B++}function I(U,B){this.g=U,this.h=B}function L(U,B){if(b(B))throw Error("division by zero");if(b(U))return new I(f,f);if(E(U))return B=L(_(U),B),new I(_(B.g),_(B.h));if(E(B))return B=L(U,_(B)),new I(_(B.g),B.h);if(30<U.g.length){if(E(U)||E(B))throw Error("slowDivide_ only works with positive integers.");for(var k=p,P=B;0>=P.l(U);)k=z(k),P=z(P);var N=q(k,1),F=q(P,1);for(P=q(P,2),k=q(k,2);!b(P);){var j=F.add(P);0>=j.l(U)&&(N=N.add(k),F=j),P=q(P,1),k=q(k,1)}return B=w(U,N.j(B)),new I(N,B)}for(N=f;0<=U.l(B);){for(k=Math.max(1,Math.floor(U.m()/B.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=c(k),j=F.j(B);E(j)||0<j.l(U);)k-=P,F=c(k),j=F.j(B);b(F)&&(F=p),N=N.add(F),U=w(U,j)}return new I(N,U)}t.A=function(U){return L(this,U).h},t.and=function(U){for(var B=Math.max(this.g.length,U.g.length),k=[],P=0;P<B;P++)k[P]=this.i(P)&U.i(P);return new A(k,this.h&U.h)},t.or=function(U){for(var B=Math.max(this.g.length,U.g.length),k=[],P=0;P<B;P++)k[P]=this.i(P)|U.i(P);return new A(k,this.h|U.h)},t.xor=function(U){for(var B=Math.max(this.g.length,U.g.length),k=[],P=0;P<B;P++)k[P]=this.i(P)^U.i(P);return new A(k,this.h^U.h)};function z(U){for(var B=U.g.length+1,k=[],P=0;P<B;P++)k[P]=U.i(P)<<1|U.i(P-1)>>>31;return new A(k,U.h)}function q(U,B){var k=B>>5;B%=32;for(var P=U.g.length-k,N=[],F=0;F<P;F++)N[F]=0<B?U.i(F+k)>>>B|U.i(F+k+1)<<32-B:U.i(F+k);return new A(N,U.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,$_=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=c,A.fromString=h,Ql=A}).apply(typeof yb<"u"?yb:typeof self<"u"?self:typeof window<"u"?window:{});var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W_,Pd,Y_,Zm,ey,X_,J_,Z_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,C,T){return d==Array.prototype||d==Object.prototype||(d[C]=T.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sm=="object"&&sm];for(var C=0;C<d.length;++C){var T=d[C];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=r(this);function s(d,C){if(C)e:{var T=n;d=d.split(".");for(var G=0;G<d.length-1;G++){var ye=d[G];if(!(ye in T))break e;T=T[ye]}d=d[d.length-1],G=T[d],C=C(G),C!=G&&C!=null&&e(T,d,{configurable:!0,writable:!0,value:C})}}function i(d,C){d instanceof String&&(d+="");var T=0,G=!1,ye={next:function(){if(!G&&T<d.length){var Ne=T++;return{value:C(Ne,d[Ne]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}s("Array.prototype.values",function(d){return d||function(){return i(this,function(C,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},o=this||self;function l(d){var C=typeof d;return C=C!="object"?C:d?Array.isArray(d)?"array":C:"null",C=="array"||C=="object"&&typeof d.length=="number"}function c(d){var C=typeof d;return C=="object"&&d!=null||C=="function"}function h(d,C,T){return d.call.apply(d.bind,arguments)}function f(d,C,T){if(!d)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,G),d.apply(C,ye)}}return function(){return d.apply(C,arguments)}}function p(d,C,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(d,C){var T=Array.prototype.slice.call(arguments,1);return function(){var G=T.slice();return G.push.apply(G,arguments),d.apply(this,G)}}function b(d,C){function T(){}T.prototype=C.prototype,d.aa=C.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(G,ye,Ne){for(var ze=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ze[kt-2]=arguments[kt];return C.prototype[ye].apply(G,ze)}}function E(d){const C=d.length;if(0<C){const T=Array(C);for(let G=0;G<C;G++)T[G]=d[G];return T}return[]}function _(d,C){for(let T=1;T<arguments.length;T++){const G=arguments[T];if(l(G)){const ye=d.length||0,Ne=G.length||0;d.length=ye+Ne;for(let ze=0;ze<Ne;ze++)d[ye+ze]=G[ze]}else d.push(G)}}class w{constructor(C,T){this.i=C,this.j=T,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function v(d){return/^[\s\xa0]*$/.test(d)}function I(){var d=o.navigator;return d&&(d=d.userAgent)?d:""}function L(d){return L[" "](d),d}L[" "]=function(){};var z=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function q(d,C,T){for(const G in d)C.call(T,d[G],G,d)}function U(d,C){for(const T in d)C.call(void 0,d[T],T,d)}function B(d){const C={};for(const T in d)C[T]=d[T];return C}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,C){let T,G;for(let ye=1;ye<arguments.length;ye++){G=arguments[ye];for(T in G)d[T]=G[T];for(let Ne=0;Ne<k.length;Ne++)T=k[Ne],Object.prototype.hasOwnProperty.call(G,T)&&(d[T]=G[T])}}function N(d){var C=1;d=d.split(":");const T=[];for(;0<C&&d.length;)T.push(d.shift()),C--;return d.length&&T.push(d.join(":")),T}function F(d){o.setTimeout(()=>{throw d},0)}function j(){var d=ae;let C=null;return d.g&&(C=d.g,d.g=d.g.next,d.g||(d.h=null),C.next=null),C}class se{constructor(){this.h=this.g=null}add(C,T){const G=we.get();G.set(C,T),this.h?this.h.next=G:this.g=G,this.h=G}}var we=new w(()=>new de,d=>d.reset());class de{constructor(){this.next=this.g=this.h=null}set(C,T){this.h=C,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,H=!1,ae=new se,Y=()=>{const d=o.Promise.resolve(void 0);ve=()=>{d.then(ce)}};var ce=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(T){F(T)}var C=we;C.j(d),100>C.h&&(C.h++,d.next=C.g,C.g=d)}H=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(d,C){this.type=d,this.g=this.target=C,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,C=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};o.addEventListener("test",T,C),o.removeEventListener("test",T,C)}catch{}return d}();function re(d,C){if(K.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,G=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=C,C=d.relatedTarget){if(z){e:{try{L(C.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(C=null)}}else T=="mouseover"?C=d.fromElement:T=="mouseout"&&(C=d.toElement);this.relatedTarget=C,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&re.aa.h.call(this)}}b(re,K);var ee={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),J=0;function ie(d,C,T,G,ye){this.listener=d,this.proxy=null,this.src=C,this.type=T,this.capture=!!G,this.ha=ye,this.key=++J,this.da=this.fa=!1}function oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,C,T,G,ye){var Ne=d.toString();d=this.g[Ne],d||(d=this.g[Ne]=[],this.h++);var ze=Ce(d,C,G,ye);return-1<ze?(C=d[ze],T||(C.fa=!1)):(C=new ie(C,this.src,Ne,!!G,ye),C.fa=T,d.push(C)),C};function Ee(d,C){var T=C.type;if(T in d.g){var G=d.g[T],ye=Array.prototype.indexOf.call(G,C,void 0),Ne;(Ne=0<=ye)&&Array.prototype.splice.call(G,ye,1),Ne&&(oe(C),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ce(d,C,T,G){for(var ye=0;ye<d.length;++ye){var Ne=d[ye];if(!Ne.da&&Ne.listener==C&&Ne.capture==!!T&&Ne.ha==G)return ye}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Z={};function M(d,C,T,G,ye){if(Array.isArray(C)){for(var Ne=0;Ne<C.length;Ne++)M(d,C[Ne],T,G,ye);return null}return T=Et(T),d&&d[te]?d.K(C,T,c(G)?!!G.capture:!!G,ye):Le(d,C,T,!1,G,ye)}function Le(d,C,T,G,ye,Ne){if(!C)throw Error("Invalid event type");var ze=c(ye)?!!ye.capture:!!ye,kt=dt(d);if(kt||(d[pe]=kt=new me(d)),T=kt.add(C,T,G,ze,Ne),T.proxy)return T;if(G=$e(),T.proxy=G,G.src=d,G.listener=T,d.addEventListener)X||(ye=ze),ye===void 0&&(ye=!1),d.addEventListener(C.toString(),G,ye);else if(d.attachEvent)d.attachEvent(Ze(C.toString()),G);else if(d.addListener&&d.removeListener)d.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return T}function $e(){function d(T){return C.call(d.src,d.listener,T)}const C=Je;return d}function je(d,C,T,G,ye){if(Array.isArray(C))for(var Ne=0;Ne<C.length;Ne++)je(d,C[Ne],T,G,ye);else G=c(G)?!!G.capture:!!G,T=Et(T),d&&d[te]?(d=d.i,C=String(C).toString(),C in d.g&&(Ne=d.g[C],T=Ce(Ne,T,G,ye),-1<T&&(oe(Ne[T]),Array.prototype.splice.call(Ne,T,1),Ne.length==0&&(delete d.g[C],d.h--)))):d&&(d=dt(d))&&(C=d.g[C.toString()],d=-1,C&&(d=Ce(C,T,G,ye)),(T=-1<d?C[d]:null)&&qe(T))}function qe(d){if(typeof d!="number"&&d&&!d.da){var C=d.src;if(C&&C[te])Ee(C.i,d);else{var T=d.type,G=d.proxy;C.removeEventListener?C.removeEventListener(T,G,d.capture):C.detachEvent?C.detachEvent(Ze(T),G):C.addListener&&C.removeListener&&C.removeListener(G),(T=dt(C))?(Ee(T,d),T.h==0&&(T.src=null,C[pe]=null)):oe(d)}}}function Ze(d){return d in Z?Z[d]:Z[d]="on"+d}function Je(d,C){if(d.da)d=!0;else{C=new re(C,this);var T=d.listener,G=d.ha||d.src;d.fa&&qe(d),d=T.call(G,C)}return d}function dt(d){return d=d[pe],d instanceof me?d:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(d){return typeof d=="function"?d:(d[wt]||(d[wt]=function(C){return d.handleEvent(C)}),d[wt])}function mt(){Q.call(this),this.i=new me(this),this.M=this,this.F=null}b(mt,Q),mt.prototype[te]=!0,mt.prototype.removeEventListener=function(d,C,T,G){je(this,d,C,T,G)};function vt(d,C){var T,G=d.F;if(G)for(T=[];G;G=G.F)T.push(G);if(d=d.M,G=C.type||C,typeof C=="string")C=new K(C,d);else if(C instanceof K)C.target=C.target||d;else{var ye=C;C=new K(G,d),P(C,ye)}if(ye=!0,T)for(var Ne=T.length-1;0<=Ne;Ne--){var ze=C.g=T[Ne];ye=Rt(ze,G,!0,C)&&ye}if(ze=C.g=d,ye=Rt(ze,G,!0,C)&&ye,ye=Rt(ze,G,!1,C)&&ye,T)for(Ne=0;Ne<T.length;Ne++)ze=C.g=T[Ne],ye=Rt(ze,G,!1,C)&&ye}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,C;for(C in d.g){for(var T=d.g[C],G=0;G<T.length;G++)oe(T[G]);delete d.g[C],d.h--}}this.F=null},mt.prototype.K=function(d,C,T,G){return this.i.add(String(d),C,!1,T,G)},mt.prototype.L=function(d,C,T,G){return this.i.add(String(d),C,!0,T,G)};function Rt(d,C,T,G){if(C=d.i.g[String(C)],!C)return!0;C=C.concat();for(var ye=!0,Ne=0;Ne<C.length;++Ne){var ze=C[Ne];if(ze&&!ze.da&&ze.capture==T){var kt=ze.listener,Vt=ze.ha||ze.src;ze.fa&&Ee(d.i,ze),ye=kt.call(Vt,G)!==!1&&ye}}return ye&&!G.defaultPrevented}function gt(d,C,T){if(typeof d=="function")T&&(d=p(d,T));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:o.setTimeout(d,C||0)}function Se(d){d.g=gt(()=>{d.g=null,d.i&&(d.i=!1,Se(d))},d.l);const C=d.h;d.h=null,d.m.apply(null,C)}class Qe extends Q{constructor(C,T){super(),this.m=C,this.l=T,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(d){Q.call(this),this.h=d,this.g={}}b(nt,Q);var be=[];function Pe(d){q(d.g,function(C,T){this.g.hasOwnProperty(T)&&qe(C)},d),d.g={}}nt.prototype.N=function(){nt.aa.N.call(this),Pe(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=o.JSON.stringify,Fe=o.JSON.parse,Xe=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function it(){}it.prototype.h=null;function Wt(d){return d.h||(d.h=d.i())}function pt(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){K.call(this,"d")}b(tr,K);function xt(){K.call(this,"c")}b(xt,K);var We={},tt=null;function bt(){return tt=tt||new mt}We.La="serverreachability";function qt(d){K.call(this,We.La,d)}b(qt,K);function Ot(d){const C=bt();vt(C,new qt(C))}We.STAT_EVENT="statevent";function ar(d,C){K.call(this,We.STAT_EVENT,d),this.stat=C}b(ar,K);function lt(d){const C=bt();vt(C,new ar(C,d))}We.Ma="timingevent";function fs(d,C){K.call(this,We.Ma,d),this.size=C}b(fs,K);function Pn(d,C){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},C)}function rn(){this.g=!0}rn.prototype.xa=function(){this.g=!1};function Kr(d,C,T,G,ye,Ne){d.info(function(){if(d.g)if(Ne)for(var ze="",kt=Ne.split("&"),Vt=0;Vt<kt.length;Vt++){var Tt=kt[Vt].split("=");if(1<Tt.length){var ir=Tt[0];Tt=Tt[1];var pr=ir.split("_");ze=2<=pr.length&&pr[1]=="type"?ze+(ir+"="+Tt+"&"):ze+(ir+"=redacted&")}}else ze=null;else ze=Ne;return"XMLHTTP REQ ("+G+") [attempt "+ye+"]: "+C+`
`+T+`
`+ze})}function Pr(d,C,T,G,ye,Ne,ze){d.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ye+"]: "+C+`
`+T+`
`+Ne+" "+ze})}function nn(d,C,T,G){d.info(function(){return"XMLHTTP TEXT ("+C+"): "+pi(d,T)+(G?" "+G:"")})}function va(d,C){d.info(function(){return"TIMEOUT: "+C})}rn.prototype.info=function(){};function pi(d,C){if(!d.g)return C;if(!C)return null;try{var T=JSON.parse(C);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var G=T[d];if(!(2>G.length)){var ye=G[1];if(Array.isArray(ye)&&!(1>ye.length)){var Ne=ye[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var ze=1;ze<ye.length;ze++)ye[ze]=""}}}}return ke(T)}catch{return C}}var Dn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ms={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function ns(){}b(ns,it),ns.prototype.g=function(){return new XMLHttpRequest},ns.prototype.i=function(){return{}},rs=new ns;function zr(d,C,T,G){this.j=d,this.i=C,this.l=T,this.R=G||1,this.U=new nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ss}function Ss(){this.i=null,this.g="",this.h=!1}var qi={},$i={};function Wi(d,C,T){d.L=1,d.v=TA(ss(C)),d.m=T,d.P=!0,IA(d,null)}function IA(d,C){d.F=Date.now(),ya(d),d.A=ss(d.v);var T=d.A,G=d.R;Array.isArray(G)||(G=[String(G)]),It(T.i,"t",G),d.C=0,T=d.j.J,d.h=new Ss,d.g=D(d.j,T?C:null,!d.m),0<d.O&&(d.M=new Qe(p(d.Y,d,d.g),d.O)),C=d.U,T=d.g,G=d.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(be[0]=ye.toString()),ye=be);for(var Ne=0;Ne<ye.length;Ne++){var ze=M(T,ye[Ne],G||C.handleEvent,!1,C.h||C);if(!ze)break;C.g[ze.key]=ze}C=d.H?B(d.H):{},d.m?(d.u||(d.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,C)):(d.u="GET",d.g.ea(d.A,d.u,null,C)),Ot(),Kr(d.i,d.u,d.A,d.l,d.R,d.m)}zr.prototype.ca=function(d){d=d.target;const C=this.M;C&&un(d)==3?C.j():this.Y(d)},zr.prototype.Y=function(d){try{if(d==this.g)e:{const pr=un(this.g);var C=this.g.Ba();const Ci=this.g.Z();if(!(3>pr)&&(pr!=3||this.g&&(this.h.h||this.g.oa()||uc(this.g)))){this.J||pr!=4||C==7||(C==8||0>=Ci?Ot(3):Ot(2)),Yi(this);var T=this.g.Z();this.X=T;t:if(NA(this)){var G=uc(this.g);d="";var ye=G.length,Ne=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Xi(this);var ze="";break t}this.h.i=new o.TextDecoder}for(C=0;C<ye;C++)this.h.h=!0,d+=this.h.i.decode(G[C],{stream:!(Ne&&C==ye-1)});G.length=0,this.h.g+=d,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=T==200,Pr(this.i,this.u,this.A,this.l,this.R,pr,T),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Vt=this.g;if((kt=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(kt)){var Tt=kt;break t}}Tt=null}if(T=Tt)nn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,SA(this,T);else{this.o=!1,this.s=3,lt(12),gi(this),Xi(this);break e}}if(this.P){T=!0;let En;for(;!this.J&&this.C<ze.length;)if(En=rc(this,ze),En==$i){pr==4&&(this.s=4,lt(14),T=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==qi){this.s=4,lt(15),nn(this.i,this.l,ze,"[Invalid Chunk]"),T=!1;break}else nn(this.i,this.l,En,null),SA(this,En);if(NA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pr!=4||ze.length!=0||this.h.h||(this.s=1,lt(16),T=!1),this.o=this.o&&T,!T)nn(this.i,this.l,ze,"[Invalid Chunked Response]"),gi(this),Xi(this);else if(0<ze.length&&!this.W){this.W=!0;var ir=this.j;ir.g==this&&ir.ba&&!ir.M&&(ir.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Ua(ir),ir.M=!0,lt(11))}}else nn(this.i,this.l,ze,null),SA(this,ze);pr==4&&gi(this),this.o&&!this.J&&(pr==4?rA(this.j,this):(this.o=!1,ya(this)))}else eA(this.g),T==400&&0<ze.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),gi(this),Xi(this)}}}catch{}finally{}};function NA(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function rc(d,C){var T=d.C,G=C.indexOf(`
`,T);return G==-1?$i:(T=Number(C.substring(T,G)),isNaN(T)?qi:(G+=1,G+T>C.length?$i:(C=C.slice(G,G+T),d.C=G+T,C)))}zr.prototype.cancel=function(){this.J=!0,gi(this)};function ya(d){d.S=Date.now()+d.I,nc(d,d.I)}function nc(d,C){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Pn(p(d.ba,d),C)}function Yi(d){d.B&&(o.clearTimeout(d.B),d.B=null)}zr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(va(this.i,this.A),this.L!=2&&(Ot(),lt(17)),gi(this),this.s=2,Xi(this)):nc(this,this.S-d)};function Xi(d){d.j.G==0||d.J||rA(d.j,d)}function gi(d){Yi(d);var C=d.M;C&&typeof C.ma=="function"&&C.ma(),d.M=null,Pe(d.U),d.g&&(C=d.g,d.g=null,C.abort(),C.ma())}function SA(d,C){try{var T=d.j;if(T.G!=0&&(T.g==d||tl(T.h,d))){if(!d.K&&tl(T.h,d)&&T.G==3){try{var G=T.Da.g.parse(C)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ye=G;if(ye[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)bi(T),Sa(T);else break e;PA(T),lt(18)}}else T.za=ye[1],0<T.za-T.T&&37500>ye[2]&&T.F&&T.v==0&&!T.C&&(T.C=Pn(p(T.Za,T),6e3));if(1>=FA(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Rn(T,11)}else if((d.K||T.g==d)&&bi(T),!v(C))for(ye=T.Da.g.parse(C),C=0;C<ye.length;C++){let Tt=ye[C];if(T.T=Tt[0],Tt=Tt[1],T.G==2)if(Tt[0]=="c"){T.K=Tt[1],T.ia=Tt[2];const ir=Tt[3];ir!=null&&(T.la=ir,T.j.info("VER="+T.la));const pr=Tt[4];pr!=null&&(T.Aa=pr,T.j.info("SVER="+T.Aa));const Ci=Tt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(G=1.5*Ci,T.L=G,T.j.info("backChannelRequestTimeoutMs_="+G)),G=T;const En=d.g;if(En){const nA=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nA){var Ne=G.h;Ne.g||nA.indexOf("spdy")==-1&&nA.indexOf("quic")==-1&&nA.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(Cr(Ne,Ne.h),Ne.h=null))}if(G.D){const sA=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;sA&&(G.ya=sA,or(G.I,G.D,sA))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),G=T;var ze=d;if(G.qa=y(G,G.J?G.ia:null,G.W),ze.K){rl(G.h,ze);var kt=ze,Vt=G.L;Vt&&(kt.I=Vt),kt.B&&(Yi(kt),ya(kt)),G.g=ze}else Ta(G);0<T.i.length&&Fa(T)}else Tt[0]!="stop"&&Tt[0]!="close"||Rn(T,7);else T.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?Rn(T,7):Bi(T):Tt[0]!="noop"&&T.l&&T.l.ta(Tt),T.v=0)}}Ot(4)}catch{}}var Ju=class{constructor(d,C){this.g=d,this.map=C}};function el(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function FA(d){return d.h?1:d.g?d.g.size:0}function tl(d,C){return d.h?d.h==C:d.g?d.g.has(C):!1}function Cr(d,C){d.g?d.g.add(C):d.h=C}function rl(d,C){d.h&&d.h==C?d.h=null:d.g&&d.g.has(C)&&d.g.delete(C)}el.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function nl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let C=d.i;for(const T of d.g.values())C=C.concat(T.D);return C}return E(d.i)}function ic(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var C=[],T=d.length,G=0;G<T;G++)C.push(d[G]);return C}C=[],T=0;for(G in d)C[T++]=d[G];return C}function sl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var C=[];d=d.length;for(var T=0;T<d;T++)C.push(T);return C}C=[],T=0;for(const G in d)C[T++]=G;return C}}}function Ac(d,C){if(d.forEach&&typeof d.forEach=="function")d.forEach(C,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,C,void 0);else for(var T=sl(d),G=ic(d),ye=G.length,Ne=0;Ne<ye;Ne++)C.call(void 0,G[Ne],T&&T[Ne],d)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(d,C){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var G=d[T].indexOf("="),ye=null;if(0<=G){var Ne=d[T].substring(0,G);ye=d[T].substring(G+1)}else Ne=d[T];C(Ne,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function Dr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Dr){this.h=d.h,kA(this,d.j),this.o=d.o,this.g=d.g,xa(this,d.s),this.l=d.l;var C=d.i,T=new Ji;T.i=C.i,C.g&&(T.g=new Map(C.g),T.h=C.h),il(this,T),this.m=d.m}else d&&(C=String(d).match(ps))?(this.h=!1,kA(this,C[1]||"",!0),this.o=UA(C[2]||""),this.g=UA(C[3]||"",!0),xa(this,C[4]),this.l=UA(C[5]||"",!0),il(this,C[6]||"",!0),this.m=UA(C[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}Dr.prototype.toString=function(){var d=[],C=this.j;C&&d.push(vi(C,ac,!0),":");var T=this.g;return(T||C=="file")&&(d.push("//"),(C=this.o)&&d.push(vi(C,ac,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(vi(T,T.charAt(0)=="/"?yi:ed,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",vi(T,ba)),d.join("")};function ss(d){return new Dr(d)}function kA(d,C,T){d.j=T?UA(C,!0):C,d.j&&(d.j=d.j.replace(/:$/,""))}function xa(d,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);d.s=C}else d.s=null}function il(d,C,T){C instanceof Ji?(d.i=C,td(d.i,d.h)):(T||(C=vi(C,Ba)),d.i=new Ji(C,d.h))}function or(d,C,T){d.i.set(C,T)}function TA(d){return or(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function UA(d,C){return d?C?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vi(d,C,T){return typeof d=="string"?(d=encodeURI(d).replace(C,Zu),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Zu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ac=/[#\/\?@]/g,ed=/[#\?:]/g,yi=/[#\?]/g,Ba=/[#\?@]/g,ba=/#/g;function Ji(d,C){this.h=this.g=null,this.i=d||null,this.j=!!C}function Er(d){d.g||(d.g=new Map,d.h=0,d.i&&wa(d.i,function(C,T){d.add(decodeURIComponent(C.replace(/\+/g," ")),T)}))}t=Ji.prototype,t.add=function(d,C){Er(this),this.i=null,d=Zi(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(C),this.h+=1,this};function oc(d,C){Er(d),C=Zi(d,C),d.g.has(C)&&(d.i=null,d.h-=d.g.get(C).length,d.g.delete(C))}function Al(d,C){return Er(d),C=Zi(d,C),d.g.has(C)}t.forEach=function(d,C){Er(this),this.g.forEach(function(T,G){T.forEach(function(ye){d.call(C,ye,G,this)},this)},this)},t.na=function(){Er(this);const d=Array.from(this.g.values()),C=Array.from(this.g.keys()),T=[];for(let G=0;G<C.length;G++){const ye=d[G];for(let Ne=0;Ne<ye.length;Ne++)T.push(C[G])}return T},t.V=function(d){Er(this);let C=[];if(typeof d=="string")Al(this,d)&&(C=C.concat(this.g.get(Zi(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)C=C.concat(d[T])}return C},t.set=function(d,C){return Er(this),this.i=null,d=Zi(this,d),Al(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[C]),this.h+=1,this},t.get=function(d,C){return d?(d=this.V(d),0<d.length?String(d[0]):C):C};function It(d,C,T){oc(d,C),0<T.length&&(d.i=null,d.g.set(Zi(d,C),E(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],C=Array.from(this.g.keys());for(var T=0;T<C.length;T++){var G=C[T];const Ne=encodeURIComponent(String(G)),ze=this.V(G);for(G=0;G<ze.length;G++){var ye=Ne;ze[G]!==""&&(ye+="="+encodeURIComponent(String(ze[G]))),d.push(ye)}}return this.i=d.join("&")};function Zi(d,C){return C=String(C),d.j&&(C=C.toLowerCase()),C}function td(d,C){C&&!d.j&&(Er(d),d.i=null,d.g.forEach(function(T,G){var ye=G.toLowerCase();G!=ye&&(oc(this,G),It(this,ye,T))},d)),d.j=C}function $s(d,C){const T=new rn;if(o.Image){const G=new Image;G.onload=g(Fs,T,"TestLoadImage: loaded",!0,C,G),G.onerror=g(Fs,T,"TestLoadImage: error",!1,C,G),G.onabort=g(Fs,T,"TestLoadImage: abort",!1,C,G),G.ontimeout=g(Fs,T,"TestLoadImage: timeout",!1,C,G),o.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=d}else C(!1)}function lc(d,C){const T=new rn,G=new AbortController,ye=setTimeout(()=>{G.abort(),Fs(T,"TestPingServer: timeout",!1,C)},1e4);fetch(d,{signal:G.signal}).then(Ne=>{clearTimeout(ye),Ne.ok?Fs(T,"TestPingServer: ok",!0,C):Fs(T,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ye),Fs(T,"TestPingServer: error",!1,C)})}function Fs(d,C,T,G,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),G(T)}catch{}}function Ca(){this.g=new Xe}function al(d,C,T){const G=T||"";try{Ac(d,function(ye,Ne){let ze=ye;c(ye)&&(ze=ke(ye)),C.push(G+Ne+"="+encodeURIComponent(ze))})}catch(ye){throw C.push(G+"type="+encodeURIComponent("_badmap")),ye}}function Ea(d){this.l=d.Ub||null,this.j=d.eb||!1}b(Ea,it),Ea.prototype.g=function(){return new _a(this.l,this.j)},Ea.prototype.i=function(d){return function(){return d}}({});function _a(d,C){mt.call(this),this.D=d,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(_a,mt),t=_a.prototype,t.open=function(d,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=C,this.readyState=1,ks(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(C.body=d),(this.D||o).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var C=d.value?d.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!d.done}))&&(this.response=this.responseText+=C)}d.done?wi(this):ks(this),this.readyState==3&&cc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wi(this))},t.Qa=function(d){this.g&&(this.response=d,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ks(d)}t.setRequestHeader=function(d,C){this.u.append(d,C)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],C=this.h.entries();for(var T=C.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=C.next();return d.join(`\r
`)};function ks(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xi(d){let C="";return q(d,function(T,G){C+=G,C+=":",C+=T,C+=`\r
`}),C}function ol(d,C,T){e:{for(G in T){var G=!1;break e}G=!0}G||(T=xi(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):or(d,C,T))}function sr(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(sr,mt);var ll=/^https?$/i,Ia=["POST","PUT"];t=sr.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,C,T,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);C=C?C.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?Wt(this.o):Wt(rs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(d),!0),this.B=!1}catch(Ne){cl(this,Ne);return}if(d=T||"",T=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ye in G)T.set(ye,G[ye]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Ne of G.keys())T.set(Ne,G.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(T.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),ye=o.FormData&&d instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ia,C,void 0))||G||ye||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,ze]of T)this.g.setRequestHeader(Ne,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(d),this.u=!1}catch(Ne){cl(this,Ne)}};function cl(d,C){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=C,d.m=5,ul(d),QA(d)}function ul(d){d.A||(d.A=!0,vt(d,"complete"),vt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,vt(this,"complete"),vt(this,"abort"),QA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),QA(this,!0)),sr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dl(this):this.bb())},t.bb=function(){dl(this)};function dl(d){if(d.h&&typeof A<"u"&&(!d.v[1]||un(d)!=4||d.Z()!=2)){if(d.u&&un(d)==4)gt(d.Ea,0,d);else if(vt(d,"readystatechange"),un(d)==4){d.h=!1;try{const ze=d.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var T;if(!(T=C)){var G;if(G=ze===0){var ye=String(d.D).match(ps)[1]||null;!ye&&o.self&&o.self.location&&(ye=o.self.location.protocol.slice(0,-1)),G=!ll.test(ye?ye.toLowerCase():"")}T=G}if(T)vt(d,"complete"),vt(d,"success");else{d.m=6;try{var Ne=2<un(d)?d.g.statusText:""}catch{Ne=""}d.l=Ne+" ["+d.Z()+"]",ul(d)}}finally{QA(d)}}}}function QA(d,C){if(d.g){Ts(d);const T=d.g,G=d.v[0]?()=>{}:null;d.g=null,d.v=null,C||vt(d,"ready");try{T.onreadystatechange=G}catch{}}}function Ts(d){d.I&&(o.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function un(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var C=this.g.responseText;return d&&C.indexOf(d)==0&&(C=C.substring(d.length)),Fe(C)}};function uc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function eA(d){const C={};d=(d.g&&2<=un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<d.length;G++){if(v(d[G]))continue;var T=N(d[G]);const ye=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Ne=C[ye]||[];C[ye]=Ne,Ne.push(T)}U(C,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cn(d,C,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||C}function Na(d){this.Aa=0,this.i=[],this.j=new rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cn("baseRetryDelayMs",5e3,d),this.cb=Cn("retryDelaySeedMs",1e4,d),this.Wa=Cn("forwardChannelMaxRetries",2,d),this.wa=Cn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new el(d&&d.concurrentRequestLimit),this.Da=new Ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Na.prototype,t.la=8,t.G=1,t.connect=function(d,C,T,G){lt(0),this.W=d,this.H=C||{},T&&G!==void 0&&(this.H.OSID=T,this.H.OAID=G),this.F=this.X,this.I=y(this,null,this.W),Fa(this)};function Bi(d){if(jA(d),d.G==3){var C=d.U++,T=ss(d.I);if(or(T,"SID",d.K),or(T,"RID",C),or(T,"TYPE","terminate"),tA(d,T),C=new zr(d,d.j,C),C.L=2,C.v=TA(ss(T)),T=!1,o.navigator&&o.navigator.sendBeacon)try{T=o.navigator.sendBeacon(C.v.toString(),"")}catch{}!T&&o.Image&&(new Image().src=C.v,T=!0),T||(C.g=D(C.j,null),C.g.ea(C.v)),C.F=Date.now(),ya(C)}ja(d)}function Sa(d){d.g&&(Ua(d),d.g.cancel(),d.g=null)}function jA(d){Sa(d),d.u&&(o.clearTimeout(d.u),d.u=null),bi(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&o.clearTimeout(d.s),d.s=null)}function Fa(d){if(!sc(d.h)&&!d.s){d.s=!0;var C=d.Ga;ve||Y(),H||(ve(),H=!0),ae.add(C,d),d.B=0}}function hl(d,C){return FA(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=C.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Pn(p(d.Ga,d,C),Qa(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ye=new zr(this,this.j,d);let Ne=this.o;if(this.S&&(Ne?(Ne=B(Ne),P(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(ye.H=Ne,Ne=null),this.P)e:{for(var C=0,T=0;T<this.i.length;T++){t:{var G=this.i[T];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(C+=G,4096<C){C=T;break e}if(C===4096||T===this.i.length-1){C=T+1;break e}}C=1e3}else C=1e3;C=LA(this,ye,C),T=ss(this.I),or(T,"RID",d),or(T,"CVER",22),this.D&&or(T,"X-HTTP-Session-Id",this.D),tA(this,T),Ne&&(this.O?C="headers="+encodeURIComponent(String(xi(Ne)))+"&"+C:this.m&&ol(T,this.m,Ne)),Cr(this.h,ye),this.Ua&&or(T,"TYPE","init"),this.P?(or(T,"$req",C),or(T,"SID","null"),ye.T=!0,Wi(ye,T,null)):Wi(ye,T,C),this.G=2}}else this.G==3&&(d?ka(this,d):this.i.length==0||sc(this.h)||ka(this))};function ka(d,C){var T;C?T=C.l:T=d.U++;const G=ss(d.I);or(G,"SID",d.K),or(G,"RID",T),or(G,"AID",d.T),tA(d,G),d.m&&d.o&&ol(G,d.m,d.o),T=new zr(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),C&&(d.i=C.D.concat(d.i)),C=LA(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Cr(d.h,T),Wi(T,G,C)}function tA(d,C){d.H&&q(d.H,function(T,G){or(C,G,T)}),d.l&&Ac({},function(T,G){or(C,G,T)})}function LA(d,C,T){T=Math.min(d.i.length,T);var G=d.l?p(d.l.Na,d.l,d):null;e:{var ye=d.i;let Ne=-1;for(;;){const ze=["count="+T];Ne==-1?0<T?(Ne=ye[0].g,ze.push("ofs="+Ne)):Ne=0:ze.push("ofs="+Ne);let kt=!0;for(let Vt=0;Vt<T;Vt++){let Tt=ye[Vt].g;const ir=ye[Vt].map;if(Tt-=Ne,0>Tt)Ne=Math.max(0,ye[Vt].g-100),kt=!1;else try{al(ir,ze,"req"+Tt+"_")}catch{G&&G(ir)}}if(kt){G=ze.join("&");break e}}}return d=d.i.splice(0,T),C.D=d,G}function Ta(d){if(!d.g&&!d.u){d.Y=1;var C=d.Fa;ve||Y(),H||(ve(),H=!0),ae.add(C,d),d.v=0}}function PA(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Pn(p(d.Fa,d),Qa(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Pn(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Sa(this),dc(this))};function Ua(d){d.A!=null&&(o.clearTimeout(d.A),d.A=null)}function dc(d){d.g=new zr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var C=ss(d.qa);or(C,"RID","rpc"),or(C,"SID",d.K),or(C,"AID",d.T),or(C,"CI",d.F?"0":"1"),!d.F&&d.ja&&or(C,"TO",d.ja),or(C,"TYPE","xmlhttp"),tA(d,C),d.m&&d.o&&ol(C,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=TA(ss(C)),T.m=null,T.P=!0,IA(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Sa(this),PA(this),lt(19))};function bi(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function rA(d,C){var T=null;if(d.g==C){bi(d),Ua(d),d.g=null;var G=2}else if(tl(d.h,C))T=C.D,rl(d.h,C),G=1;else return;if(d.G!=0){if(C.o)if(G==1){T=C.m?C.m.length:0,C=Date.now()-C.F;var ye=d.B;G=bt(),vt(G,new fs(G,T)),Fa(d)}else Ta(d);else if(ye=C.s,ye==3||ye==0&&0<C.X||!(G==1&&hl(d,C)||G==2&&PA(d)))switch(T&&0<T.length&&(C=d.h,C.i=C.i.concat(T)),ye){case 1:Rn(d,5);break;case 4:Rn(d,10);break;case 3:Rn(d,6);break;default:Rn(d,2)}}}function Qa(d,C){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*C}function Rn(d,C){if(d.j.info("Error code "+C),C==2){var T=p(d.fb,d),G=d.Xa;const ye=!G;G=new Dr(G||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||kA(G,"https"),TA(G),ye?$s(G.toString(),T):lc(G.toString(),T)}else lt(2);d.G=0,d.l&&d.l.sa(C),ja(d),jA(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function ja(d){if(d.G=0,d.ka=[],d.l){const C=nl(d.h);(C.length!=0||d.i.length!=0)&&(_(d.ka,C),_(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function y(d,C,T){var G=T instanceof Dr?ss(T):new Dr(T);if(G.g!="")C&&(G.g=C+"."+G.g),xa(G,G.s);else{var ye=o.location;G=ye.protocol,C=C?C+"."+ye.hostname:ye.hostname,ye=+ye.port;var Ne=new Dr(null);G&&kA(Ne,G),C&&(Ne.g=C),ye&&xa(Ne,ye),T&&(Ne.l=T),G=Ne}return T=d.D,C=d.ya,T&&C&&or(G,T,C),or(G,"VER",d.la),tA(d,G),G}function D(d,C,T){if(C&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=d.Ca&&!d.pa?new sr(new Ea({eb:T})):new sr(d.pa),C.Ha(d.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}t=Ae.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ue(){}ue.prototype.g=function(d,C){return new xe(d,C)};function xe(d,C){mt.call(this),this.g=new Na(C),this.l=d,this.h=C&&C.messageUrlParams||null,d=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(d?d["X-WebChannel-Content-Type"]=C.messageContentType:d={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(d?d["X-WebChannel-Client-Profile"]=C.va:d={"X-WebChannel-Client-Profile":C.va}),this.g.S=d,(d=C&&C.Sb)&&!v(d)&&(this.g.m=d),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!v(C)&&(this.g.D=C,d=this.h,d!==null&&C in d&&(d=this.h,C in d&&delete d[C])),this.j=new rt(this)}b(xe,mt),xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xe.prototype.close=function(){Bi(this.g)},xe.prototype.o=function(d){var C=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=ke(d),d=T);C.i.push(new Ju(C.Ya++,d)),C.G==3&&Fa(C)},xe.prototype.N=function(){this.g.l=null,delete this.j,Bi(this.g),delete this.g,xe.aa.N.call(this)};function Ue(d){tr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var C=d.__sm__;if(C){e:{for(const T in C){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,C=C!==null&&d in C?C[d]:void 0),this.data=C}else this.data=d}b(Ue,tr);function Ke(){xt.call(this),this.status=1}b(Ke,xt);function rt(d){this.g=d}b(rt,Ae),rt.prototype.ua=function(){vt(this.g,"a")},rt.prototype.ta=function(d){vt(this.g,new Ue(d))},rt.prototype.sa=function(d){vt(this.g,new Ke)},rt.prototype.ra=function(){vt(this.g,"b")},ue.prototype.createWebChannel=ue.prototype.g,xe.prototype.send=xe.prototype.o,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,Z_=function(){return new ue},J_=function(){return bt()},X_=We,ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dn.NO_ERROR=0,Dn.TIMEOUT=8,Dn.HTTP_ERROR=6,Zm=Dn,ms.COMPLETE="complete",Y_=ms,pt.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Pd=pt,sr.prototype.listenOnce=sr.prototype.L,sr.prototype.getLastError=sr.prototype.Ka,sr.prototype.getLastErrorCode=sr.prototype.Ba,sr.prototype.getStatus=sr.prototype.Z,sr.prototype.getResponseJson=sr.prototype.Oa,sr.prototype.getResponseText=sr.prototype.oa,sr.prototype.send=sr.prototype.ea,sr.prototype.setWithCredentials=sr.prototype.Ha,W_=sr}).apply(typeof sm<"u"?sm:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new qw("@firebase/firestore");function Cd(){return zl.logLevel}function ft(t,...e){if(zl.logLevel<=$t.DEBUG){const r=e.map(i2);zl.debug(`Firestore (${Gu}): ${t}`,...r)}}function ca(t,...e){if(zl.logLevel<=$t.ERROR){const r=e.map(i2);zl.error(`Firestore (${Gu}): ${t}`,...r)}}function Su(t,...e){if(zl.logLevel<=$t.WARN){const r=e.map(i2);zl.warn(`Firestore (${Gu}): ${t}`,...r)}}function i2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t="Unexpected state"){const e=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: `+t;throw ca(e),new Error(e)}function hr(t,e){t||Ft()}function jt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ma{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r($n.UNAUTHENTICATED))}shutdown(){}}class h6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class f6{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){hr(this.o===void 0);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new To;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new To,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new To)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(hr(typeof n.accessToken=="string"),new eI(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hr(e===null||typeof e=="string"),new $n(e)}}class m6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new m6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){hr(this.o===void 0);const n=i=>{i.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,ft("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(hr(typeof r.token=="string"),this.R=r.token,new g6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=y6(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function rr(t,e){return t<e?-1:t>e?1:0}function Fu(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ut(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ut(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ut(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new tn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new tn(0,0))}static max(){return new Qt(new tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ft(),n===void 0?n=e.length-r:n>e.length-r&&Ft(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Lh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Lh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),A=r.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ir extends Lh{construct(e,r,n){return new Ir(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ut(Me.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new Ir(r)}static emptyPath(){return new Ir([])}}const w6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Lh{construct(e,r,n){return new kn(e,r,n)}static isValidIdentifier(e){return w6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new ut(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new ut(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ut(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else o==="`"?(A=!A,s++):o!=="."||A?(n+=o,s++):(i(),s++)}if(i(),A)throw new ut(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(r)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Ir.fromString(e))}static fromName(e){return new yt(Ir.fromString(e).popFirst(5))}static empty(){return new yt(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ir.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ir.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Ir(e.slice()))}}function x6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Qt.fromTimestamp(n===1e9?new tn(r+1,0):new tn(r,n));return new Oo(s,yt.empty(),e)}function B6(t){return new Oo(t.readTime,t.key,-1)}class Oo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Oo(Qt.min(),yt.empty(),-1)}static max(){return new Oo(Qt.max(),yt.empty(),-1)}}function b6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=yt.comparator(t.documentKey,e.documentKey),r!==0?r:rr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){if(t.code!==Me.FAILED_PRECONDITION||t.message!==C6)throw t;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ge((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ge?r:Ge.resolve(r)}catch(r){return Ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.reject(r)}static resolve(e){return new Ge((r,n)=>{r(e)})}static reject(e){return new Ge((r,n)=>{n(e)})}static waitFor(e){return new Ge((r,n)=>{let s=0,i=0,A=!1;e.forEach(o=>{++s,o.next(()=>{++i,A&&i===s&&r()},l=>n(l))}),A=!0,i===s&&r()})}static or(e){let r=Ge.resolve(!1);for(const n of e)r=r.next(s=>s?Ge.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new Ge((n,s)=>{const i=e.length,A=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(e[c]).next(h=>{A[c]=h,++o,o===i&&n(A)},h=>s(h))}})}static doWhile(e,r){return new Ge((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function _6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}A2.oe=-1;function Mg(t){return t==null}function Wp(t){return t===0&&1/t==-1/0}function I6(t){return typeof t=="number"&&Number.isInteger(t)&&!Wp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function qu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function rI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,r){this.comparator=e,this.root=r||Fn.EMPTY}insert(e,r){return new Lr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??Fn.RED,this.left=s??Fn.EMPTY,this.right=i??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new Fn(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Fn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(e,r,n,s,i){return this}insert(e,r,n){return new Fn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(e){return new Bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Qn(this.comparator);return r.data=e,r}}class Bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Li([])}unionWith(e){let r=new Qn(kn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Li(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nI("Invalid base64 string: "+i):i}}(e);return new Ln(r)}static fromUint8Array(e){const r=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new Ln(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const N6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(t){if(hr(!!t),typeof t=="string"){let e=0;const r=N6.exec(t);if(hr(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Yr(t.seconds),nanos:Yr(t.nanos)}}function Yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gl(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function o2(t){const e=t.mapValue.fields.__previous_value__;return a2(e)?o2(e):e}function Ph(t){const e=Ho(t.mapValue.fields.__local_write_time__.timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,r,n,s,i,A,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class Dh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a2(t)?4:k6(t)?9007199254740991:F6(t)?10:11:Ft()}function BA(t,e){if(t===e)return!0;const r=ql(t);if(r!==ql(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ph(t).isEqual(Ph(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Ho(s.timestampValue),o=Ho(i.timestampValue);return A.seconds===o.seconds&&A.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Gl(s.bytesValue).isEqual(Gl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Yr(s.geoPointValue.latitude)===Yr(i.geoPointValue.latitude)&&Yr(s.geoPointValue.longitude)===Yr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Yr(s.integerValue)===Yr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=Yr(s.doubleValue),o=Yr(i.doubleValue);return A===o?Wp(A)===Wp(o):isNaN(A)&&isNaN(o)}return!1}(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],BA);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},o=i.mapValue.fields||{};if(xb(A)!==xb(o))return!1;for(const l in A)if(A.hasOwnProperty(l)&&(o[l]===void 0||!BA(A[l],o[l])))return!1;return!0}(t,e);default:return Ft()}}function Rh(t,e){return(t.values||[]).find(r=>BA(r,e))!==void 0}function ku(t,e){if(t===e)return 0;const r=ql(t),n=ql(e);if(r!==n)return rr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return rr(t.booleanValue,e.booleanValue);case 2:return function(i,A){const o=Yr(i.integerValue||i.doubleValue),l=Yr(A.integerValue||A.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return bb(t.timestampValue,e.timestampValue);case 4:return bb(Ph(t),Ph(e));case 5:return rr(t.stringValue,e.stringValue);case 6:return function(i,A){const o=Gl(i),l=Gl(A);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const o=i.split("/"),l=A.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=rr(o[c],l[c]);if(h!==0)return h}return rr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const o=rr(Yr(i.latitude),Yr(A.latitude));return o!==0?o:rr(Yr(i.longitude),Yr(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Cb(t.arrayValue,e.arrayValue);case 10:return function(i,A){var o,l,c,h;const f=i.fields||{},p=A.fields||{},g=(o=f.value)===null||o===void 0?void 0:o.arrayValue,b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,E=rr(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:Cb(g,b)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===Am.mapValue&&A===Am.mapValue)return 0;if(i===Am.mapValue)return 1;if(A===Am.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=A.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=rr(l[f],h[f]);if(p!==0)return p;const g=ku(o[l[f]],c[h[f]]);if(g!==0)return g}return rr(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ft()}}function bb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rr(t,e);const r=Ho(t),n=Ho(e),s=rr(r.seconds,n.seconds);return s!==0?s:rr(r.nanos,n.nanos)}function Cb(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=ku(r[s],n[s]);if(i)return i}return rr(r.length,n.length)}function Tu(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ho(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Gl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return yt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=ty(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const A of n)i?i=!1:s+=",",s+=`${A}:${ty(r.fields[A])}`;return s+"}"}(t.mapValue):Ft()}function Eb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ry(t){return!!t&&"integerValue"in t}function l2(t){return!!t&&"arrayValue"in t}function _b(t){return!!t&&"nullValue"in t}function Ib(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ep(t){return!!t&&"mapValue"in t}function F6(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=sh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=sh(t.arrayValue.values[r]);return e}return Object.assign({},t)}function k6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ep(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(r)}setAll(e){let r=kn.emptyPath(),n={},s=[];e.forEach((A,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=o.popLast()}A?n[o.lastSegment()]=sh(A):s.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());ep(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return BA(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];ep(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){qu(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new Ai(sh(this.value))}}function sI(t){const e=[];return qu(t.fields,(r,n)=>{const s=new kn([r]);if(ep(n)){const i=sI(n.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new Li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,r,n,s,i,A,o){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=A,this.documentState=o}static newInvalidDocument(e){return new Xn(e,0,Qt.min(),Qt.min(),Qt.min(),Ai.empty(),0)}static newFoundDocument(e,r,n,s){return new Xn(e,1,r,Qt.min(),n,s,0)}static newNoDocument(e,r){return new Xn(e,2,r,Qt.min(),Qt.min(),Ai.empty(),0)}static newUnknownDocument(e,r){return new Xn(e,3,r,Qt.min(),Qt.min(),Ai.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,r){this.position=e,this.inclusive=r}}function Nb(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?n=yt.comparator(yt.fromName(A.referenceValue),r.key):n=ku(A,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Sb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!BA(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,r="asc"){this.field=e,this.dir=r}}function T6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iI=class{};class cn extends iI{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Q6(e,r,n):r==="array-contains"?new P6(e,n):r==="in"?new D6(e,n):r==="not-in"?new R6(e,n):r==="array-contains-any"?new O6(e,n):new cn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new j6(e,n):new L6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ku(r,this.value)):r!==null&&ql(this.value)===ql(r)&&this.matchesComparison(ku(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends iI{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Mi(e,r)}matches(e){return AI(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AI(t){return t.op==="and"}function aI(t){return U6(t)&&AI(t)}function U6(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function ny(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(aI(t))return t.filters.map(e=>ny(e)).join(",");{const e=t.filters.map(r=>ny(r)).join(",");return`${t.op}(${e})`}}function oI(t,e){return t instanceof cn?function(n,s){return s instanceof cn&&n.op===s.op&&n.field.isEqual(s.field)&&BA(n.value,s.value)}(t,e):t instanceof Mi?function(n,s){return s instanceof Mi&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,A,o)=>i&&oI(A,s.filters[o]),!0):!1}(t,e):void Ft()}function lI(t){return t instanceof cn?function(r){return`${r.field.canonicalString()} ${r.op} ${Tu(r.value)}`}(t):t instanceof Mi?function(r){return r.op.toString()+" {"+r.getFilters().map(lI).join(" ,")+"}"}(t):"Filter"}class Q6 extends cn{constructor(e,r,n){super(e,r,n),this.key=yt.fromName(n.referenceValue)}matches(e){const r=yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class j6 extends cn{constructor(e,r){super(e,"in",r),this.keys=cI("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class L6 extends cn{constructor(e,r){super(e,"not-in",r),this.keys=cI("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function cI(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>yt.fromName(n.referenceValue))}class P6 extends cn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return l2(r)&&Rh(r.arrayValue,this.value)}}class D6 extends cn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Rh(this.value.arrayValue,r)}}class R6 extends cn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Rh(this.value.arrayValue,r)}}class O6 extends cn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!l2(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Rh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,r=null,n=[],s=[],i=null,A=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=A,this.endAt=o,this.ue=null}}function Fb(t,e=null,r=[],n=[],s=null,i=null,A=null){return new H6(t,e,r,n,s,i,A)}function c2(t){const e=jt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ny(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Mg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tu(n)).join(",")),e.ue=r}return e.ue}function u2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!T6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!oI(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sb(t.startAt,e.startAt)&&Sb(t.endAt,e.endAt)}function sy(t){return yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,r=null,n=[],s=[],i=null,A="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=A,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function M6(t,e,r,n,s,i,A,o){return new $u(t,e,r,n,s,i,A,o)}function d2(t){return new $u(t)}function kb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uI(t){return t.collectionGroup!==null}function ih(t){const e=jt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let o=new Qn(kn.comparator);return A.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Oh(i,n))}),r.has(kn.keyField().canonicalString())||e.ce.push(new Oh(kn.keyField(),n))}return e.ce}function vA(t){const e=jt(t);return e.le||(e.le=V6(e,ih(t))),e.le}function V6(t,e){if(t.limitType==="F")return Fb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Oh(s.field,i)});const r=t.endAt?new Yp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Yp(t.startAt.position,t.startAt.inclusive):null;return Fb(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function iy(t,e){const r=t.filters.concat([e]);return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ay(t,e,r){return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Vg(t,e){return u2(vA(t),vA(e))&&t.limitType===e.limitType}function dI(t){return`${c2(vA(t))}|lt:${t.limitType}`}function Lc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>lI(s)).join(", ")}]`),Mg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Tu(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Tu(s)).join(",")),`Target(${n})`}(vA(t))}; limitType=${t.limitType})`}function Kg(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):yt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of ih(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(A,o,l){const c=Nb(A,o,l);return A.inclusive?c<=0:c<0}(n.startAt,ih(n),s)||n.endAt&&!function(A,o,l){const c=Nb(A,o,l);return A.inclusive?c>=0:c>0}(n.endAt,ih(n),s))}(t,e)}function K6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hI(t){return(e,r)=>{let n=!1;for(const s of ih(t)){const i=z6(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function z6(t,e,r){const n=t.field.isKeyField()?yt.comparator(e.key,r.key):function(i,A,o){const l=A.data.field(i),c=o.data.field(i);return l!==null&&c!==null?ku(l,c):Ft()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qu(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return rI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new Lr(yt.comparator);function ua(){return G6}const fI=new Lr(yt.comparator);function Dd(...t){let e=fI;for(const r of t)e=e.insert(r.key,r);return e}function mI(t){let e=fI;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Fl(){return Ah()}function pI(){return Ah()}function Ah(){return new Wu(t=>t.toString(),(t,e)=>t.isEqual(e))}const q6=new Lr(yt.comparator),$6=new Qn(yt.comparator);function Gt(...t){let e=$6;for(const r of t)e=e.add(r);return e}const W6=new Qn(rr);function Y6(){return W6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(e)?"-0":e}}function gI(t){return{integerValue:""+t}}function X6(t,e){return I6(e)?gI(e):h2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this._=void 0}}function J6(t,e,r){return t instanceof Xp?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&a2(i)&&(i=o2(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(r,e):t instanceof Hh?yI(t,e):t instanceof Mh?wI(t,e):function(s,i){const A=vI(s,i),o=Tb(A)+Tb(s.Pe);return ry(A)&&ry(s.Pe)?gI(o):h2(s.serializer,o)}(t,e)}function Z6(t,e,r){return t instanceof Hh?yI(t,e):t instanceof Mh?wI(t,e):r}function vI(t,e){return t instanceof Jp?function(n){return ry(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Xp extends zg{}class Hh extends zg{constructor(e){super(),this.elements=e}}function yI(t,e){const r=xI(e);for(const n of t.elements)r.some(s=>BA(s,n))||r.push(n);return{arrayValue:{values:r}}}class Mh extends zg{constructor(e){super(),this.elements=e}}function wI(t,e){let r=xI(e);for(const n of t.elements)r=r.filter(s=>!BA(s,n));return{arrayValue:{values:r}}}class Jp extends zg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Tb(t){return Yr(t.integerValue||t.doubleValue)}function xI(t){return l2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eP(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Hh&&s instanceof Hh||n instanceof Mh&&s instanceof Mh?Fu(n.elements,s.elements,BA):n instanceof Jp&&s instanceof Jp?BA(n.Pe,s.Pe):n instanceof Xp&&s instanceof Xp}(t.transform,e.transform)}class tP{constructor(e,r){this.version=e,this.transformResults=r}}class Ri{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function BI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f2(t.key,Ri.none()):new cf(t.key,t.data,Ri.none());{const r=t.data,n=Ai.empty();let s=new Qn(kn.comparator);for(let i of e.fields)if(!s.has(i)){let A=r.field(i);A===null&&i.length>1&&(i=i.popLast(),A=r.field(i)),A===null?n.delete(i):n.set(i,A),s=s.add(i)}return new Zl(t.key,n,new Li(s.toArray()),Ri.none())}}function rP(t,e,r){t instanceof cf?function(s,i,A){const o=s.value.clone(),l=Qb(s.fieldTransforms,i,A.transformResults);o.setAll(l),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Zl?function(s,i,A){if(!tp(s.precondition,i))return void i.convertToUnknownDocument(A.version);const o=Qb(s.fieldTransforms,i,A.transformResults),l=i.data;l.setAll(bI(s)),l.setAll(o),i.convertToFoundDocument(A.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,r)}function ah(t,e,r,n){return t instanceof cf?function(i,A,o,l){if(!tp(i.precondition,A))return o;const c=i.value.clone(),h=jb(i.fieldTransforms,l,A);return c.setAll(h),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Zl?function(i,A,o,l){if(!tp(i.precondition,A))return o;const c=jb(i.fieldTransforms,l,A),h=A.data;return h.setAll(bI(i)),h.setAll(c),A.convertToFoundDocument(A.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,A,o){return tp(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):o}(t,e,r)}function nP(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=vI(n.transform,s||null);i!=null&&(r===null&&(r=Ai.empty()),r.set(n.field,i))}return r||null}function Ub(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Fu(n,s,(i,A)=>eP(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cf extends Gg{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zl extends Gg{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bI(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Qb(t,e,r){const n=new Map;hr(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],A=i.transform,o=e.data.field(i.field);n.set(i.field,Z6(A,o,r[s]))}return n}function jb(t,e,r){const n=new Map;for(const s of t){const i=s.transform,A=r.data.field(s.field);n.set(s.field,J6(i,A,e))}return n}class f2 extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sP extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rP(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ah(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ah(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=pI();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let o=this.applyToLocalView(A,i.mutatedFields);o=r.has(s.key)?null:o;const l=BI(A,o);l!==null&&n.set(s.key,l),A.isValidDocument()||A.convertToNoDocument(Qt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,(r,n)=>Ub(r,n))&&Fu(this.baseMutations,e.baseMutations,(r,n)=>Ub(r,n))}}class m2{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){hr(e.mutations.length===n.length);let s=function(){return q6}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,n[A].version);return new m2(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Yt;function oP(t){switch(t){default:return Ft();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function CI(t){if(t===void 0)return ca("GRPC error has no .code"),Me.UNKNOWN;switch(t){case an.OK:return Me.OK;case an.CANCELLED:return Me.CANCELLED;case an.UNKNOWN:return Me.UNKNOWN;case an.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case an.INTERNAL:return Me.INTERNAL;case an.UNAVAILABLE:return Me.UNAVAILABLE;case an.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case an.NOT_FOUND:return Me.NOT_FOUND;case an.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case an.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case an.ABORTED:return Me.ABORTED;case an.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case an.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case an.DATA_LOSS:return Me.DATA_LOSS;default:return Ft()}}(Yt=an||(an={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new Ql([4294967295,4294967295],0);function Lb(t){const e=lP().encode(t),r=new $_;return r.update(e),new Uint8Array(r.digest())}function Pb(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ql([r,n],0),new Ql([s,i],0)]}class p2{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Rd(`Invalid padding: ${r}`);if(n<0)throw new Rd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Rd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Rd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ql.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(Ql.fromNumber(n)));return s.compare(cP)===1&&(s=new Ql([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Lb(e),[n,s]=Pb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);if(!this.de(A))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new p2(i,s,r);return n.forEach(o=>A.insert(o)),A}insert(e){if(this.Ie===0)return;const r=Lb(e),[n,s]=Pb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,uf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new qg(Qt.min(),s,new Lr(rr),ua(),Gt())}}class uf{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new uf(n,r,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class EI{constructor(e,r){this.targetId=e,this.me=r}}class _I{constructor(e,r,n=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class Db{constructor(){this.fe=0,this.ge=Ob(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Gt(),r=Gt(),n=Gt();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Ft()}}),new uf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Ob()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,hr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uP{constructor(e){this.Le=e,this.Be=new Map,this.ke=ua(),this.qe=Rb(),this.Qe=new Lr(rr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ft()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(sy(i))if(n===0){const A=new yt(i.path);this.Ue(r,A,Xn.newNoDocument(A,Qt.min()))}else hr(n===1);else{const A=this.Ye(r);if(A!==n){const o=this.Ze(e),l=o?this.Xe(o,e,A):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let A,o;try{A=Gl(n).toUint8Array()}catch(l){if(l instanceof nI)return Su("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new p2(A,s,i)}catch(l){return Su(l instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const A=this.Le.tt(),o=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,A)=>{const o=this.Je(A);if(o){if(i.current&&sy(o.target)){const l=new yt(o.target.path);this.ke.get(l)!==null||this.it(A,l)||this.Ue(A,l,Xn.newNoDocument(l,e))}i.be&&(r.set(A,i.ve()),i.Ce())}});let n=Gt();this.qe.forEach((i,A)=>{let o=!0;A.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new qg(e,r,this.Qe,this.ke,n);return this.ke=ua(),this.qe=Rb(),this.Qe=new Lr(rr),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Db,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Qn(rr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ft("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Db),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Rb(){return new Lr(yt.comparator)}function Ob(){return new Lr(yt.comparator)}const dP={asc:"ASCENDING",desc:"DESCENDING"},hP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fP={and:"AND",or:"OR"};class mP{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ay(t,e){return t.useProto3Json||Mg(e)?e:{value:e}}function Zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pP(t,e){return Zp(t,e.toTimestamp())}function yA(t){return hr(!!t),Qt.fromTimestamp(function(r){const n=Ho(r);return new tn(n.seconds,n.nanos)}(t))}function g2(t,e){return oy(t,e).canonicalString()}function oy(t,e){const r=function(s){return new Ir(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function NI(t){const e=Ir.fromString(t);return hr(UI(e)),e}function ly(t,e){return g2(t.databaseId,e.path)}function f1(t,e){const r=NI(e);if(r.get(1)!==t.databaseId.projectId)throw new ut(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ut(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new yt(FI(r))}function SI(t,e){return g2(t.databaseId,e)}function gP(t){const e=NI(t);return e.length===4?Ir.emptyPath():FI(e)}function cy(t){return new Ir(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FI(t){return hr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Hb(t,e,r){return{name:ly(t,e),fields:r.value.mapValue.fields}}function vP(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(hr(h===void 0||typeof h=="string"),Ln.fromBase64String(h||"")):(hr(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ln.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,o=A&&function(c){const h=c.code===void 0?Me.UNKNOWN:CI(c.code);return new ut(h,c.message||"")}(A);r=new _I(n,s,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=f1(t,n.document.name),i=yA(n.document.updateTime),A=n.document.createTime?yA(n.document.createTime):Qt.min(),o=new Ai({mapValue:{fields:n.document.fields}}),l=Xn.newFoundDocument(s,i,A,o),c=n.targetIds||[],h=n.removedTargetIds||[];r=new rp(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=f1(t,n.document),i=n.readTime?yA(n.readTime):Qt.min(),A=Xn.newNoDocument(s,i),o=n.removedTargetIds||[];r=new rp([],o,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=f1(t,n.document),i=n.removedTargetIds||[];r=new rp([],i,s,null)}else{if(!("filter"in e))return Ft();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,A=new aP(s,i),o=n.targetId;r=new EI(o,A)}}return r}function yP(t,e){let r;if(e instanceof cf)r={update:Hb(t,e.key,e.value)};else if(e instanceof f2)r={delete:ly(t,e.key)};else if(e instanceof Zl)r={update:Hb(t,e.key,e.data),updateMask:NP(e.fieldMask)};else{if(!(e instanceof sP))return Ft();r={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,A){const o=A.transform;if(o instanceof Xp)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Hh)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mh)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Jp)return{fieldPath:A.field.canonicalString(),increment:o.Pe};throw Ft()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pP(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ft()}(t,e.precondition)),r}function wP(t,e){return t&&t.length>0?(hr(e!==void 0),t.map(r=>function(s,i){let A=s.updateTime?yA(s.updateTime):yA(i);return A.isEqual(Qt.min())&&(A=yA(i)),new tP(A,s.transformResults||[])}(r,e))):[]}function xP(t,e){return{documents:[SI(t,e.path)]}}function BP(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=SI(t,s);const i=function(c){if(c.length!==0)return TI(Mi.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const A=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Pc(p.field),direction:EP(p.dir)}}(h))}(e.orderBy);A&&(r.structuredQuery.orderBy=A);const o=ay(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:s}}function bP(t){let e=gP(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){hr(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const p=kI(f);return p instanceof Mi&&aI(p)?p.getFilters():[p]}(r.where));let A=[];r.orderBy&&(A=function(f){return f.map(p=>function(b){return new Oh(Dc(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,Mg(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Yp(g,p)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Yp(g,p)}(r.endAt)),M6(e,s,A,i,o,"F",l,c)}function CP(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function kI(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Dc(r.unaryFilter.field);return cn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Dc(r.unaryFilter.field);return cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dc(r.unaryFilter.field);return cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Dc(r.unaryFilter.field);return cn.create(A,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(t):t.fieldFilter!==void 0?function(r){return cn.create(Dc(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Mi.create(r.compositeFilter.filters.map(n=>kI(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ft()}}(r.compositeFilter.op))}(t):Ft()}function EP(t){return dP[t]}function _P(t){return hP[t]}function IP(t){return fP[t]}function Pc(t){return{fieldPath:t.canonicalString()}}function Dc(t){return kn.fromServerFormat(t.fieldPath)}function TI(t){return t instanceof cn?function(r){if(r.op==="=="){if(Ib(r.value))return{unaryFilter:{field:Pc(r.field),op:"IS_NAN"}};if(_b(r.value))return{unaryFilter:{field:Pc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ib(r.value))return{unaryFilter:{field:Pc(r.field),op:"IS_NOT_NAN"}};if(_b(r.value))return{unaryFilter:{field:Pc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(r.field),op:_P(r.op),value:r.value}}}(t):t instanceof Mi?function(r){const n=r.getFilters().map(s=>TI(s));return n.length===1?n[0]:{compositeFilter:{op:IP(r.op),filters:n}}}(t):Ft()}function NP(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function UI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,r,n,s,i=Qt.min(),A=Qt.min(),o=Ln.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.ct=e}}function FP(t){const e=bP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.un=new TP}addToCollectionParentIndex(e,r){return this.un.add(r),Ge.resolve()}getCollectionParents(e,r){return Ge.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ge.resolve()}deleteFieldIndex(e,r){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,r){return Ge.resolve()}getDocumentsMatchingTarget(e,r){return Ge.resolve(null)}getIndexType(e,r){return Ge.resolve(0)}getFieldIndexes(e,r){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,r){return Ge.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,r){return Ge.resolve(Oo.min())}updateCollectionGroup(e,r,n){return Ge.resolve()}updateIndexEntries(e,r){return Ge.resolve()}}class TP{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Qn(Ir.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Qn(Ir.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uu(0)}static kn(){return new Uu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.changes=new Wu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&ah(n.mutation,s,Li.empty(),tn.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Gt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Gt()){const s=Fl();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let A=Dd();return i.forEach((o,l)=>{A=A.insert(o,l.overlayedDocument)}),A}))}getOverlayedDocuments(e,r){const n=Fl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Gt()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,o)=>{r.set(A,o)})})}computeViews(e,r,n,s){let i=ua();const A=Ah(),o=function(){return Ah()}();return r.forEach((l,c)=>{const h=n.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Zl)?i=i.insert(c.key,c):h!==void 0?(A.set(c.key,h.mutation.getFieldMask()),ah(h.mutation,c,h.mutation.getFieldMask(),tn.now())):A.set(c.key,Li.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>A.set(c,h)),r.forEach((c,h)=>{var f;return o.set(c,new QP(h,(f=A.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Ah();let s=new Lr((A,o)=>A-o),i=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(A=>{for(const o of A)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let h=n.get(l)||Li.empty();h=o.applyToLocalView(c,h),n.set(l,h);const f=(s.get(o.batchId)||Gt()).add(l);s=s.insert(o.batchId,f)})}).next(()=>{const A=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=pI();h.forEach(p=>{if(!i.has(p)){const g=BI(r.get(p),n.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),A.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ge.waitFor(A)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(A){return yt.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):uI(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):Ge.resolve(Fl());let o=-1,l=i;return A.next(c=>Ge.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(h)?Ge.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Gt())).next(h=>({batchId:o,changes:mI(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new yt(r)).next(n=>{let s=Dd();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let A=Dd();return this.indexManager.getCollectionParents(e,i).next(o=>Ge.forEach(o,l=>{const c=function(f,p){return new $u(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,s).next(h=>{h.forEach((f,p)=>{A=A.insert(f,p)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(A=>{i.forEach((l,c)=>{const h=c.getKey();A.get(h)===null&&(A=A.insert(h,Xn.newInvalidDocument(h)))});let o=Dd();return A.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ah(h.mutation,c,Li.empty(),tn.now()),Kg(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ge.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:yA(s.createTime)}}(r)),Ge.resolve()}getNamedQuery(e,r){return Ge.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:FP(s.bundledQuery),readTime:yA(s.readTime)}}(r)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.overlays=new Lr(yt.comparator),this.Ir=new Map}getOverlay(e,r){return Ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Fl();return Ge.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),Ge.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),Ge.resolve()}getOverlaysForCollection(e,r,n){const s=Fl(),i=r.length+1,A=new yt(r.child("")),o=this.overlays.getIteratorFrom(A);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return Ge.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Lr((c,h)=>c-h);const A=this.overlays.getIterator();for(;A.hasNext();){const c=A.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let h=i.get(c.largestBatchId);h===null&&(h=Fl(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Fl(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=s)););return Ge.resolve(o)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new AP(r,n));let i=this.Ir.get(r);i===void 0&&(i=Gt(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.Tr=new Qn(yn.Er),this.dr=new Qn(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new yn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new yn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new yt(new Ir([])),n=new yn(r,e),s=new yn(r,e+1),i=[];return this.dr.forEachInRange([n,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new yt(new Ir([])),n=new yn(r,e),s=new yn(r,e+1);let i=Gt();return this.dr.forEachInRange([n,s],A=>{i=i.add(A.key)}),i}containsKey(e){const r=new yn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class yn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return yt.comparator(e.key,r.key)||rr(e.wr,r.wr)}static Ar(e,r){return rr(e.wr,r.wr)||yt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Qn(yn.Er)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new iP(i,r,n,s);this.mutationQueue.push(A);for(const o of s)this.br=this.br.add(new yn(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ge.resolve(A)}lookupMutationBatch(e,r){return Ge.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return Ge.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new yn(r,0),s=new yn(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],A=>{const o=this.Dr(A.wr);i.push(o)}),Ge.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Qn(rr);return r.forEach(s=>{const i=new yn(s,0),A=new yn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],o=>{n=n.add(o.wr)})}),Ge.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;yt.isDocumentKey(i)||(i=i.child(""));const A=new yn(new yt(i),0);let o=new Qn(rr);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.wr)),!0)},A),Ge.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){hr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ge.forEach(r.mutations,s=>{const i=new yn(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new yn(r,0),s=this.br.firstAfterOrEqual(n);return Ge.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.Mr=e,this.docs=function(){return new Lr(yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ge.resolve(n?n.document.mutableCopy():Xn.newInvalidDocument(r))}getEntries(e,r){let n=ua();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Xn.newInvalidDocument(s))}),Ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=ua();const A=r.path,o=new yt(A.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!A.isPrefixOf(c.path))break;c.path.length>A.length+1||b6(B6(h),n)<=0||(s.has(h.key)||Kg(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Ge.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Ft()}Or(e,r){return Ge.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new HP(this)}getSize(e){return Ge.resolve(this.size)}}class HP extends UP{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),Ge.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.persistence=e,this.Nr=new Wu(r=>c2(r),u2),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new v2,this.targetCount=0,this.kr=Uu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ge.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Uu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ge.resolve()}updateTargetData(e,r){return this.Kn(r),Ge.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((A,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),Ge.waitFor(i).next(()=>s)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ge.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ge.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),Ge.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ge.resolve(n)}containsKey(e,r){return Ge.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,r){this.qr={},this.overlays={},this.Qr=new A2(0),this.Kr=!1,this.Kr=!0,this.$r=new DP,this.referenceDelegate=e(this),this.Ur=new MP(this),this.indexManager=new kP,this.remoteDocumentCache=function(s){return new OP(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new SP(r),this.Gr=new LP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new PP,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new RP(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ft("MemoryPersistence","Starting transaction:",e);const s=new KP(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return Ge.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class KP extends E6{constructor(e){super(),this.currentSequenceNumber=e}}class y2{constructor(e){this.persistence=e,this.Jr=new v2,this.Yr=null}static Zr(e){return new y2(e)}get Xr(){if(this.Yr)return this.Yr;throw Ft()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ge.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ge.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ge.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.Xr,n=>{const s=yt.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Qt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ge.or([()=>Ge.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Gt(),s=Gt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new w2(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jU()?8:_6(es())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new zP;return this.Xi(e,r,A).next(o=>{if(i.result=o,this.zi)return this.es(e,r,A,o.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Cd()<=$t.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Lc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ge.resolve()):(Cd()<=$t.DEBUG&&ft("QueryEngine","Query:",Lc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Cd()<=$t.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Lc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vA(r))):Ge.resolve())}Yi(e,r){if(kb(r))return Ge.resolve(null);let n=vA(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Ay(r,null,"F"),n=vA(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const A=Gt(...i);return this.Ji.getDocuments(e,A).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,o);return this.ns(r,c,A,l.readTime)?this.Yi(e,Ay(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,s){return kb(r)||s.isEqual(Qt.min())?Ge.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const A=this.ts(r,i);return this.ns(r,A,n,s)?Ge.resolve(null):(Cd()<=$t.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lc(r)),this.rs(e,A,r,x6(s,-1)).next(o=>o))})}ts(e,r){let n=new Qn(hI(e));return r.forEach((s,i)=>{Kg(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Cd()<=$t.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Lc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Oo.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Lr(rr),this._s=new Wu(i=>c2(i),u2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function $P(t,e,r,n){return new qP(t,e,r,n)}async function QI(t,e){const r=jt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const A=[],o=[];let l=Gt();for(const c of s){A.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:A,addedBatchIds:o}))})})}function WP(t,e){const r=jt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,p=f.keys();let g=Ge.resolve();return p.forEach(b=>{g=g.next(()=>h.getEntry(l,b)).next(E=>{const _=c.docVersions.get(b);hr(_!==null),E.version.compareTo(_)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Gt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function jI(t){const e=jt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function YP(t,e){const r=jt(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const o=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;o.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ln.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,n)),s=s.insert(f,g),function(E,_,w){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&o.push(r.Ur.updateTargetData(i,g))});let l=ua(),c=Gt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push(XP(i,A,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!n.isEqual(Qt.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(h)}return Ge.waitFor(o).next(()=>A.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.os=s,i))}function XP(t,e,r){let n=Gt(),s=Gt();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let A=ua();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Qt.min())?(e.removeEntry(o,l.readTime),A=A.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),A=A.insert(o,l)):ft("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:A,Is:s}})}function JP(t,e){const r=jt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function ZP(t,e){const r=jt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,Ge.resolve(s)):r.Ur.allocateTargetId(n).next(A=>(s=new ho(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function uy(t,e,r){const n=jt(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,A=>n.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!lf(A))throw A;ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Mb(t,e,r){const n=jt(t);let s=Qt.min(),i=Gt();return n.persistence.runTransaction("Execute query","readwrite",A=>function(l,c,h){const f=jt(l),p=f._s.get(h);return p!==void 0?Ge.resolve(f.os.get(p)):f.Ur.getTargetData(c,h)}(n,A,vA(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,o.targetId).next(l=>{i=l})}).next(()=>n.ss.getDocumentsMatchingQuery(A,e,r?s:Qt.min(),r?i:Gt())).next(o=>(eD(n,K6(e),o),{documents:o,Ts:i})))}function eD(t,e,r){let n=t.us.get(e)||Qt.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class Vb{constructor(){this.activeTargetIds=Y6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.so=new Vb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vb,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am=null;function m1(){return am===null?am=function(){return 268435456+Math.round(2147483648*Math.random())}():am++,"0x"+am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class iD extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,A){const o=m1(),l=this.xo(r,n.toUriEncodedString());ft("RestConnection",`Sending RPC '${r}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,A),this.No(r,l,c,s).then(h=>(ft("RestConnection",`Received RPC '${r}' ${o}: `,h),h),h=>{throw Su("RestConnection",`RPC '${r}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(r,n,s,i,A,o){return this.Mo(r,n,s,i,A)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,A)=>r[A]=i),s&&s.headers.forEach((i,A)=>r[A]=i)}xo(r,n){const s=nD[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=m1();return new Promise((A,o)=>{const l=new W_;l.setWithCredentials(!0),l.listenOnce(Y_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zm.NO_ERROR:const h=l.getResponseJson();ft(Mn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),A(h);break;case Zm.TIMEOUT:ft(Mn,`RPC '${e}' ${i} timed out`),o(new ut(Me.DEADLINE_EXCEEDED,"Request time out"));break;case Zm.HTTP_ERROR:const f=l.getStatus();if(ft(Mn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const b=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(w)>=0?w:Me.UNKNOWN}(g.status);o(new ut(b,g.message))}else o(new ut(Me.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new ut(Me.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{ft(Mn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ft(Mn,`RPC '${e}' ${i} sending request:`,s),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const s=m1(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=Z_(),o=J_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=i.join("");ft(Mn,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=A.createWebChannel(h,l);let p=!1,g=!1;const b=new sD({Io:_=>{g?ft(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(ft(Mn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ft(Mn,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},To:()=>f.close()}),E=(_,w,v)=>{_.listen(w,I=>{try{v(I)}catch(L){setTimeout(()=>{throw L},0)}})};return E(f,Pd.EventType.OPEN,()=>{g||(ft(Mn,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),E(f,Pd.EventType.CLOSE,()=>{g||(g=!0,ft(Mn,`RPC '${e}' stream ${s} transport closed`),b.So())}),E(f,Pd.EventType.ERROR,_=>{g||(g=!0,Su(Mn,`RPC '${e}' stream ${s} transport errored:`,_),b.So(new ut(Me.UNAVAILABLE,"The operation could not be completed")))}),E(f,Pd.EventType.MESSAGE,_=>{var w;if(!g){const v=_.data[0];hr(!!v);const I=v,L=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(L){ft(Mn,`RPC '${e}' stream ${s} received error:`,L);const z=L.status;let q=function(k){const P=an[k];if(P!==void 0)return CI(P)}(z),U=L.message;q===void 0&&(q=Me.INTERNAL,U="Unknown error status: "+z+" with message "+L.message),g=!0,b.So(new ut(q,U)),f.close()}else ft(Mn,`RPC '${e}' stream ${s} received:`,v),b.bo(v)}}),E(o,X_.STAT_EVENT,_=>{_.stat===ey.PROXY?ft(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===ey.NOPROXY&&ft(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function p1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return new mP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&ft("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,r,n,s,i,A,o,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new LI(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Me.RESOURCE_EXHAUSTED?(ca(r.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new ut(Me.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AD extends PI{constructor(e,r,n,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=vP(this.serializer,e),n=function(i){if(!("targetChange"in i))return Qt.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?Qt.min():A.readTime?yA(A.readTime):Qt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=cy(this.serializer),r.addTarget=function(i,A){let o;const l=A.target;if(o=sy(l)?{documents:xP(i,l)}:{query:BP(i,l)._t},o.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){o.resumeToken=II(i,A.resumeToken);const c=ay(i,A.expectedCount);c!==null&&(o.expectedCount=c)}else if(A.snapshotVersion.compareTo(Qt.min())>0){o.readTime=Zp(i,A.snapshotVersion.toTimestamp());const c=ay(i,A.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=CP(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=cy(this.serializer),r.removeTarget=e,this.a_(r)}}class aD extends PI{constructor(e,r,n,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return hr(!!e.streamToken),this.lastStreamToken=e.streamToken,hr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){hr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=wP(e.writeResults,e.commitTime),n=yA(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=cy(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>yP(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ut(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,oy(r,n),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ut(Me.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,o])=>this.connection.Lo(e,oy(r,n),s,A,o,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new ut(Me.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class lD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ca(r),this.D_=!1):ft("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{n.enqueueAndForget(async()=>{ec(this)&&(ft("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=jt(l);c.L_.add(4),await df(c),c.q_.set("Unknown"),c.L_.delete(4),await Wg(c)}(this))})}),this.q_=new lD(n,s)}}async function Wg(t){if(ec(t))for(const e of t.B_)await e(!0)}async function df(t){for(const e of t.B_)await e(!1)}function DI(t,e){const r=jt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),C2(r)?b2(r):Yu(r).r_()&&B2(r,e))}function x2(t,e){const r=jt(t),n=Yu(r);r.N_.delete(e),n.r_()&&RI(r,e),r.N_.size===0&&(n.r_()?n.o_():ec(r)&&r.q_.set("Unknown"))}function B2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Yu(t).A_(e)}function RI(t,e){t.Q_.xe(e),Yu(t).R_(e)}function b2(t){t.Q_=new uP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yu(t).start(),t.q_.v_()}function C2(t){return ec(t)&&!Yu(t).n_()&&t.N_.size>0}function ec(t){return jt(t).L_.size===0}function OI(t){t.Q_=void 0}async function uD(t){t.q_.set("Online")}async function dD(t){t.N_.forEach((e,r)=>{B2(t,e)})}async function hD(t,e){OI(t),C2(t)?(t.q_.M_(e),b2(t)):t.q_.set("Unknown")}async function fD(t,e,r){if(t.q_.set("Online"),e instanceof _I&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const o of i.targetIds)s.N_.has(o)&&(await s.remoteSyncer.rejectListen(o,A),s.N_.delete(o),s.Q_.removeTarget(o))}(t,e)}catch(n){ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await eg(t,n)}else if(e instanceof rp?t.Q_.Ke(e):e instanceof EI?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Qt.min()))try{const n=await jI(t.localStore);r.compareTo(n)>=0&&await function(i,A){const o=i.Q_.rt(A);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,A))}}),o.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Ln.EMPTY_BYTE_STRING,h.snapshotVersion)),RI(i,l);const f=new ho(h.target,l,c,h.sequenceNumber);B2(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ft("RemoteStore","Failed to raise snapshot:",n),await eg(t,n)}}async function eg(t,e,r){if(!lf(e))throw e;t.L_.add(1),await df(t),t.q_.set("Offline"),r||(r=()=>jI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ft("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Wg(t)})}function HI(t,e){return e().catch(r=>eg(t,r,e))}async function Yg(t){const e=jt(t),r=Mo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mD(e);)try{const s=await JP(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,pD(e,s)}catch(s){await eg(e,s)}MI(e)&&VI(e)}function mD(t){return ec(t)&&t.O_.length<10}function pD(t,e){t.O_.push(e);const r=Mo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function MI(t){return ec(t)&&!Mo(t).n_()&&t.O_.length>0}function VI(t){Mo(t).start()}async function gD(t){Mo(t).p_()}async function vD(t){const e=Mo(t);for(const r of t.O_)e.m_(r.mutations)}async function yD(t,e,r){const n=t.O_.shift(),s=m2.from(n,e,r);await HI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yg(t)}async function wD(t,e){e&&Mo(t).V_&&await async function(n,s){if(function(A){return oP(A)&&A!==Me.ABORTED}(s.code)){const i=n.O_.shift();Mo(n).s_(),await HI(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yg(n)}}(t,e),MI(t)&&VI(t)}async function zb(t,e){const r=jt(t);r.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const n=ec(r);r.L_.add(3),await df(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Wg(r)}async function xD(t,e){const r=jt(t);e?(r.L_.delete(2),await Wg(r)):e||(r.L_.add(2),await df(r),r.q_.set("Unknown"))}function Yu(t){return t.K_||(t.K_=function(r,n,s){const i=jt(r);return i.w_(),new AD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:uD.bind(null,t),Ro:dD.bind(null,t),mo:hD.bind(null,t),d_:fD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),C2(t)?b2(t):t.q_.set("Unknown")):(await t.K_.stop(),OI(t))})),t.K_}function Mo(t){return t.U_||(t.U_=function(r,n,s){const i=jt(r);return i.w_(),new aD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gD.bind(null,t),mo:wD.bind(null,t),f_:vD.bind(null,t),g_:yD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yg(t)):(await t.U_.stop(),t.O_.length>0&&(ft("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const A=Date.now()+n,o=new E2(e,r,A,s,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _2(t,e){if(ca("AsyncQueue",`${e}: ${t}`),lf(t))return new ut(Me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||yt.comparator(r.key,n.key):(r,n)=>yt.comparator(r.key,n.key),this.keyedMap=Dd(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new hu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.W_=new Lr(yt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ft():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Qu{constructor(e,r,n,s,i,A,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,s,i){const A=[];return r.forEach(o=>{A.push({type:0,doc:o})}),new Qu(e,r,hu.emptySet(r),A,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bD{constructor(){this.queries=qb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=jt(r),i=s.queries;s.queries=qb(),i.forEach((A,o)=>{for(const l of o.j_)l.onError(n)})})(this,new ut(Me.ABORTED,"Firestore shutting down"))}}function qb(){return new Wu(t=>dI(t),Vg)}async function KI(t,e){const r=jt(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new BD,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(A){const o=_2(A,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(o)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&I2(r)}async function zI(t,e){const r=jt(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function CD(t,e){const r=jt(t);let n=!1;for(const s of e){const i=s.query,A=r.queries.get(i);if(A){for(const o of A.j_)o.X_(s)&&(n=!0);A.z_=s}}n&&I2(r)}function ED(t,e,r){const n=jt(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function I2(t){t.Y_.forEach(e=>{e.next()})}var dy,$b;($b=dy||(dy={})).ea="default",$b.Cache="cache";class GI{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Qu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.key=e}}class $I{constructor(e){this.key=e}}class _D{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Gt(),this.mutatedKeys=Gt(),this.Aa=hI(e),this.Ra=new hu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Gb,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,A=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Kg(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?b!==E&&(n.track({type:3,doc:g}),_=!0):this.ga(p,g)||(n.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(o=!0)):!p&&g?(n.track({type:0,doc:g}),_=!0):p&&!g&&(n.track({type:1,doc:p}),_=!0,(l||c)&&(o=!0)),_&&(g?(A=A.add(g),i=E?i.add(h):i.delete(h)):(A=A.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const h=this.query.limitType==="F"?A.last():A.first();A=A.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:A,fa:n,ns:o,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((h,f)=>function(g,b){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return E(g)-E(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const o=r&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,A.length!==0||c?{snapshot:new Qu(this.query,e.Ra,i,A,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Gt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new $I(n))}),this.da.forEach(n=>{e.has(n)||r.push(new qI(n))}),r}ba(e){this.Ta=e.Ts,this.da=Gt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Qu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ID{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class ND{constructor(e){this.key=e,this.va=!1}}class SD{constructor(e,r,n,s,i,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new Wu(o=>dI(o),Vg),this.Ma=new Map,this.xa=new Set,this.Oa=new Lr(yt.comparator),this.Na=new Map,this.La=new v2,this.Ba={},this.ka=new Map,this.qa=Uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function FD(t,e,r=!0){const n=eN(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await WI(n,e,r,!0),s}async function kD(t,e){const r=eN(t);await WI(r,e,!0,!1)}async function WI(t,e,r,n){const s=await ZP(t.localStore,vA(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await TD(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&r&&DI(t.remoteStore,s),o}async function TD(t,e,r,n,s){t.Ka=(f,p,g)=>async function(E,_,w,v){let I=_.view.ma(w);I.ns&&(I=await Mb(E.localStore,_.query,!1).then(({documents:U})=>_.view.ma(U,I)));const L=v&&v.targetChanges.get(_.targetId),z=v&&v.targetMismatches.get(_.targetId)!=null,q=_.view.applyChanges(I,E.isPrimaryClient,L,z);return Yb(E,_.targetId,q.wa),q.snapshot}(t,f,p,g);const i=await Mb(t.localStore,e,!0),A=new _D(e,i.Ts),o=A.ma(i.documents),l=uf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),c=A.applyChanges(o,t.isPrimaryClient,l);Yb(t,r,c.wa);const h=new ID(e,r,A);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function UD(t,e,r){const n=jt(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(A=>!Vg(A,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await uy(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&x2(n.remoteStore,s.targetId),hy(n,s.targetId)}).catch(of)):(hy(n,s.targetId),await uy(n.localStore,s.targetId,!0))}async function QD(t,e){const r=jt(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),x2(r.remoteStore,n.targetId))}async function jD(t,e,r){const n=MD(t);try{const s=await function(A,o){const l=jt(A),c=tn.now(),h=o.reduce((g,b)=>g.add(b.key),Gt());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=ua(),E=Gt();return l.cs.getEntries(g,h).next(_=>{b=_,b.forEach((w,v)=>{v.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(_=>{f=_;const w=[];for(const v of o){const I=nP(v,f.get(v.key).overlayedDocument);I!=null&&w.push(new Zl(v.key,I,sI(I.value.mapValue),Ri.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,o)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:mI(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(A,o,l){let c=A.Ba[A.currentUser.toKey()];c||(c=new Lr(rr)),c=c.insert(o,l),A.Ba[A.currentUser.toKey()]=c}(n,s.batchId,r),await hf(n,s.changes),await Yg(n.remoteStore)}catch(s){const i=_2(s,"Failed to persist write");r.reject(i)}}async function YI(t,e){const r=jt(t);try{const n=await YP(r.localStore,e);e.targetChanges.forEach((s,i)=>{const A=r.Na.get(i);A&&(hr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?hr(A.va):s.removedDocuments.size>0&&(hr(A.va),A.va=!1))}),await hf(r,n,e)}catch(n){await of(n)}}function Wb(t,e,r){const n=jt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,A)=>{const o=A.view.Z_(e);o.snapshot&&s.push(o.snapshot)}),function(A,o){const l=jt(A);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(o)&&(c=!0)}),c&&I2(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function LD(t,e,r){const n=jt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let A=new Lr(yt.comparator);A=A.insert(i,Xn.newNoDocument(i,Qt.min()));const o=Gt().add(i),l=new qg(Qt.min(),new Map,new Lr(rr),A,o);await YI(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),N2(n)}else await uy(n.localStore,e,!1).then(()=>hy(n,e,r)).catch(of)}async function PD(t,e){const r=jt(t),n=e.batch.batchId;try{const s=await WP(r.localStore,e);JI(r,n,null),XI(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await hf(r,s)}catch(s){await of(s)}}async function DD(t,e,r){const n=jt(t);try{const s=await function(A,o){const l=jt(A);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(hr(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(n.localStore,e);JI(n,e,r),XI(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await hf(n,s)}catch(s){await of(s)}}function XI(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function JI(t,e,r){const n=jt(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function hy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||ZI(t,n)})}function ZI(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(x2(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),N2(t))}function Yb(t,e,r){for(const n of r)n instanceof qI?(t.La.addReference(n.key,e),RD(t,n)):n instanceof $I?(ft("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||ZI(t,n.key)):Ft()}function RD(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ft("SyncEngine","New document in limbo: "+r),t.xa.add(n),N2(t))}function N2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new yt(Ir.fromString(e)),n=t.qa.next();t.Na.set(n,new ND(r)),t.Oa=t.Oa.insert(r,n),DI(t.remoteStore,new ho(vA(d2(r.path)),n,"TargetPurposeLimboResolution",A2.oe))}}async function hf(t,e,r){const n=jt(t),s=[],i=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{A.push(n.Ka(l,e,r).then(c=>{var h;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=w2.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(A),n.Ca.d_(s),await async function(l,c){const h=jt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ge.forEach(c,p=>Ge.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>Ge.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!lf(f))throw f;ft("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),b=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,E)}}}(n.localStore,i))}async function OD(t,e){const r=jt(t);if(!r.currentUser.isEqual(e)){ft("SyncEngine","User change. New user:",e.toKey());const n=await QI(r.localStore,e);r.currentUser=e,function(i,A){i.ka.forEach(o=>{o.forEach(l=>{l.reject(new ut(Me.CANCELLED,A))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await hf(r,n.hs)}}function HD(t,e){const r=jt(t),n=r.Na.get(e);if(n&&n.va)return Gt().add(n.key);{let s=Gt();const i=r.Ma.get(e);if(!i)return s;for(const A of i){const o=r.Fa.get(A);s=s.unionWith(o.view.Va)}return s}}function eN(t){const e=jt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LD.bind(null,e),e.Ca.d_=CD.bind(null,e.eventManager),e.Ca.$a=ED.bind(null,e.eventManager),e}function MD(t){const e=jt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,e),e}class tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$g(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return $P(this.persistence,new GP,e.initialUser,this.serializer)}Ga(e){return new VP(y2.Zr,this.serializer)}Wa(e){return new tD}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tg.provider={build:()=>new tg};class fy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Wb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=OD.bind(null,this.syncEngine),await xD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bD}()}createDatastore(e){const r=$g(e.databaseInfo.databaseId),n=function(i){return new iD(i)}(e.databaseInfo);return function(i,A,o,l){return new oD(i,A,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,A,o){return new cD(n,s,i,A,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Wb(this.syncEngine,r,0),function(){return Kb.D()?new Kb:new rD}())}createSyncEngine(e,r){return function(s,i,A,o,l,c,h){const f=new SD(s,i,A,o,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=jt(s);ft("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await df(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=$n.UNAUTHENTICATED,this.clientId=tI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async A=>{ft("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(n,A=>(ft("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=_2(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function g1(t,e){t.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await QI(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xb(t,e){t.asyncQueue.verifyOperationInProgress();const r=await KD(t);ft("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>zb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>zb(e.remoteStore,s)),t._onlineComponents=e}async function KD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ft("FirestoreClient","Using user provided OfflineComponentProvider");try{await g1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===Me.FAILED_PRECONDITION||s.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Su("Error using user provided cache. Falling back to memory cache: "+r),await g1(t,new tg)}}else ft("FirestoreClient","Using default OfflineComponentProvider"),await g1(t,new tg);return t._offlineComponents}async function rN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ft("FirestoreClient","Using user provided OnlineComponentProvider"),await Xb(t,t._uninitializedComponentsProvider._online)):(ft("FirestoreClient","Using default OnlineComponentProvider"),await Xb(t,new fy))),t._onlineComponents}function zD(t){return rN(t).then(e=>e.syncEngine)}async function my(t){const e=await rN(t),r=e.eventManager;return r.onListen=FD.bind(null,e.syncEngine),r.onUnlisten=UD.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=kD.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=QD.bind(null,e.syncEngine),r}function GD(t,e,r={}){const n=new To;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,o,l,c){const h=new tN({next:p=>{h.Za(),A.enqueueAndForget(()=>zI(i,f)),p.fromCache&&l.source==="server"?c.reject(new ut(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new GI(o,h,{includeMetadataChanges:!0,_a:!0});return KI(i,f)}(await my(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e,r){if(!r)throw new ut(Me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qD(t,e,r,n){if(e===!0&&n===!0)throw new ut(Me.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Zb(t){if(!yt.isDocumentKey(t))throw new ut(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e5(t){if(yt.isDocumentKey(t))throw new ut(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ft()}function wA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xg(t);throw new ut(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ut(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nN((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t5(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new d6;switch(n.type){case"firstParty":return new p6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ut(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Jb.get(r);n&&(ft("ComponentProvider","Removing Datastore"),Jb.delete(r),n.terminate())}(this),Promise.resolve()}}function $D(t,e,r,n={}){var s;const i=(t=wA(t,Jg))._getSettings(),A=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=$n.MOCK_USER;else{o=NU(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new ut(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $n(c)}t._authCredentials=new h6(new eI(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class Is{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Is(this.firestore,e,this._key)}}class Uo extends Zo{constructor(e,r,n){super(e,r,d2(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Is(this.firestore,null,new yt(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function v1(t,e,...r){if(t=ts(t),sN("collection","path",e),t instanceof Jg){const n=Ir.fromString(e,...r);return e5(n),new Uo(t,null,n)}{if(!(t instanceof Is||t instanceof Uo))throw new ut(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ir.fromString(e,...r));return e5(n),new Uo(t.firestore,null,n)}}function np(t,e,...r){if(t=ts(t),arguments.length===1&&(e=tI.newId()),sN("doc","path",e),t instanceof Jg){const n=Ir.fromString(e,...r);return Zb(n),new Is(t,null,new yt(n))}{if(!(t instanceof Is||t instanceof Uo))throw new ut(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ir.fromString(e,...r));return Zb(n),new Is(t.firestore,t instanceof Uo?t.converter:null,new yt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new LI(this,"async_queue_retry"),this.Vu=()=>{const n=p1();n&&ft("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=p1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=p1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new To;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lf(e))throw e;ft("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(A){let o=A.message||"";return A.stack&&(o=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),o}(n);throw ca("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=E2.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ft()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function n5(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class $l extends Jg{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new r5,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r5(e),this._firestoreClient=void 0,await e}}}function WD(t,e){const r=typeof t=="object"?t:d_(),n=typeof t=="string"?t:"(default)",s=Ww(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=_U("firestore");i&&$D(s,...i)}return s}function S2(t){if(t._terminated)throw new ut(Me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YD(t),t._firestoreClient}function YD(t){var e,r,n;const s=t._freezeSettings(),i=function(o,l,c,h){return new S6(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nN(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new VD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ju(Ln.fromBase64String(e))}catch(r){throw new ut(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ju(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ut(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ut(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ut(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^__.*__$/;class JD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Zl(e,this.data,this.fieldMask,r,this.fieldTransforms):new cf(e,this.data,r,this.fieldTransforms)}}function AN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class U2{constructor(e,r,n,s,i,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new U2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AN(this.Cu)&&XD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ZD{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||$g(e)}Qu(e,r,n,s=!1){return new U2({Cu:e,methodName:r,qu:n,path:kn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q2(t){const e=t._freezeSettings(),r=$g(t._databaseId);return new ZD(t._databaseId,!!e.ignoreUndefinedProperties,r)}function aN(t,e,r,n,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);cN("Data must be an object, but it was:",A,n);const o=oN(n,A);let l,c;if(i.merge)l=new Li(A.fieldMask),c=A.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=tR(e,f,r);if(!A.contains(p))throw new ut(Me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);nR(h,p)||h.push(p)}l=new Li(h),c=A.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=A.fieldTransforms;return new JD(new Ai(o),l,c)}function eR(t,e,r,n=!1){return j2(r,t.Qu(n?4:3,e))}function j2(t,e){if(lN(t=ts(t)))return cN("Unsupported field value:",e,t),oN(t,e);if(t instanceof iN)return function(n,s){if(!AN(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let A=0;for(const o of n){let l=j2(o,s.Lu(A));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),A++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=ts(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return X6(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=tn.fromDate(n);return{timestampValue:Zp(s.serializer,i)}}if(n instanceof tn){const i=new tn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zp(s.serializer,i)}}if(n instanceof k2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ju)return{bytesValue:II(s.serializer,n._byteString)};if(n instanceof Is){const i=s.databaseId,A=n.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:g2(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof T2)return function(A,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return h2(o.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Xg(n)}`)}(t,e)}function oN(t,e){const r={};return rI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qu(t,(n,s)=>{const i=j2(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function lN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tn||t instanceof k2||t instanceof ju||t instanceof Is||t instanceof iN||t instanceof T2)}function cN(t,e,r){if(!lN(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Xg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function tR(t,e,r){if((e=ts(e))instanceof F2)return e._internalPath;if(typeof e=="string")return uN(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,r)}const rR=new RegExp("[~\\*/\\[\\]]");function uN(t,e,r){if(e.search(rR)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new F2(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function rg(t,e,r,n,s){const i=n&&!n.isEmpty(),A=s!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||A)&&(l+=" (found",i&&(l+=` in field ${n}`),A&&(l+=` in document ${s}`),l+=")"),new ut(Me.INVALID_ARGUMENT,o+t+l)}function nR(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Is(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(L2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class sR extends dN{data(){return super.data()}}function L2(t,e){return typeof e=="string"?uN(t,e):e instanceof F2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ut(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P2{}class fN extends P2{}function s5(t,e,...r){let n=[];e instanceof P2&&n.push(e),n=n.concat(r),function(i){const A=i.filter(l=>l instanceof R2).length,o=i.filter(l=>l instanceof D2).length;if(A>1||A>0&&o>0)throw new ut(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class D2 extends fN{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new D2(e,r,n)}_apply(e){const r=this._parse(e);return mN(e._query,r),new Zo(e.firestore,e.converter,iy(e._query,r))}_parse(e){const r=Q2(e.firestore);return function(i,A,o,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ut(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){A5(f,h);const g=[];for(const b of f)g.push(i5(l,i,b));p={arrayValue:{values:g}}}else p=i5(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||A5(f,h),p=eR(o,A,f,h==="in"||h==="not-in");return cn.create(c,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class R2 extends P2{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new R2(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Mi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let A=s;const o=i.getFlattenedFilters();for(const l of o)mN(A,l),A=iy(A,l)}(e._query,r),new Zo(e.firestore,e.converter,iy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O2 extends fN{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new O2(e,r)}_apply(e){const r=function(s,i,A){if(s.startAt!==null)throw new ut(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ut(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oh(i,A)}(e._query,this._field,this._direction);return new Zo(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new $u(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function iR(t,e="asc"){const r=e,n=L2("orderBy",t);return O2._create(n,r)}function i5(t,e,r){if(typeof(r=ts(r))=="string"){if(r==="")throw new ut(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uI(e)&&r.indexOf("/")!==-1)throw new ut(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ir.fromString(r));if(!yt.isDocumentKey(n))throw new ut(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Eb(t,new yt(n))}if(r instanceof Is)return Eb(t,r._key);throw new ut(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xg(r)}.`)}function A5(t,e){if(!Array.isArray(t)||t.length===0)throw new ut(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mN(t,e){const r=function(s,i){for(const A of s)for(const o of A.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ut(Me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(Me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class AR{convertValue(e,r="none"){switch(ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return qu(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(A=>Yr(A.doubleValue));return new T2(i)}convertGeoPoint(e){return new k2(Yr(e.latitude),Yr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=o2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ph(e));default:return null}}convertTimestamp(e){const r=Ho(e);return new tn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ir.fromString(e);hr(UI(n));const s=new Dh(n.get(1),n.get(3)),i=new yt(n.popFirst(5));return s.isEqual(r)||ca(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gN extends dN{constructor(e,r,n,s,i,A){super(e,r,n,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class sp extends gN{data(e={}){return super.data(e)}}class vN{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Od(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new sp(this._firestore,this._userDataWriter,n.key,n,new Od(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ut(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(o=>{const l=new sp(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Od(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new sp(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Od(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return o.type!==0&&(c=A.indexOf(o.doc.key),A=A.delete(o.doc.key)),o.type!==1&&(A=A.add(o.doc),h=A.indexOf(o.doc.key)),{type:aR(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function aR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}class H2 extends AR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ju(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Is(this.firestore,null,r)}}function oR(t){t=wA(t,Zo);const e=wA(t.firestore,$l),r=S2(e),n=new H2(e);return hN(t._query),GD(r,t._query).then(s=>new vN(e,n,t,s))}function lR(t,e,r){t=wA(t,Is);const n=wA(t.firestore,$l),s=pN(t.converter,e,r);return M2(n,[aN(Q2(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Ri.none())])}function cR(t){return M2(wA(t.firestore,$l),[new f2(t._key,Ri.none())])}function uR(t,e){const r=wA(t.firestore,$l),n=np(t),s=pN(t.converter,e);return M2(r,[aN(Q2(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Ri.exists(!1))]).then(()=>n)}function dR(t,...e){var r,n,s;t=ts(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||n5(e[A])||(i=e[A],A++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(n5(e[A])){const f=e[A];e[A]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[A+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[A+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,h;if(t instanceof Is)c=wA(t.firestore,$l),h=d2(t._key.path),l={next:f=>{e[A]&&e[A](hR(c,t,f))},error:e[A+1],complete:e[A+2]};else{const f=wA(t,Zo);c=wA(f.firestore,$l),h=f._query;const p=new H2(c);l={next:g=>{e[A]&&e[A](new vN(c,p,f,g))},error:e[A+1],complete:e[A+2]},hN(t._query)}return function(p,g,b,E){const _=new tN(E),w=new GI(g,_,b);return p.asyncQueue.enqueueAndForget(async()=>KI(await my(p),w)),()=>{_.Za(),p.asyncQueue.enqueueAndForget(async()=>zI(await my(p),w))}}(S2(c),h,o,l)}function M2(t,e){return function(n,s){const i=new To;return n.asyncQueue.enqueueAndForget(async()=>jD(await zD(n),s,i)),i.promise}(S2(t),e)}function hR(t,e,r){const n=r.docs.get(e._key),s=new H2(t);return new gN(t,s,e._key,n,new Od(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(s){Gu=s})(Vu),Iu(new Vl("firestore",(n,{instanceIdentifier:s,options:i})=>{const A=n.getProvider("app").getImmediate(),o=new $l(new f6(n.getProvider("auth-internal")),new v6(n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ut(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(c.options.projectId,h)}(A,s),A);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Fo(wb,"4.7.3",e),Fo(wb,"4.7.3","esm2017")})();const fR={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",VITE_FIREBASE_APP_ID:"1:618593686607:web:d1e2b85108b464a250863a",VITE_FIREBASE_AUTH_DOMAIN:"idedersplan.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"618593686607",VITE_FIREBASE_PROJECT_ID:"idedersplan",VITE_FIREBASE_STORAGE_BUCKET:"idedersplan.firebasestorage.app"},mR={apiKey:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",authDomain:"idedersplan.firebaseapp.com",projectId:"idedersplan",storageBucket:"idedersplan.firebasestorage.app",messagingSenderId:"618593686607",appId:"1:618593686607:web:d1e2b85108b464a250863a"},pR=()=>{const e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(n=>!fR[n]);if(e.length>0)throw console.error("🔒 SECURITY ERROR: Missing Firebase environment variables:",e),new Error(`Missing required environment variables: ${e.join(", ")}`);const r="AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4";if(!r.startsWith("AIza")||r.length<30)throw console.error("🔒 SECURITY ERROR: Invalid Firebase API key format"),new Error("Invalid Firebase API key format");console.log("✅ Firebase configuration validated successfully")};pR();const yN=u_(mR),y1=o6(yN),Ic=WD(yN);console.log("🔥 Firebase initialized for project:","idedersplan");const V2=()=>{const[t,e]=le.useState(null),[r,n]=le.useState(!0);return le.useEffect(()=>Yj(y1,o=>{e(o),n(!1)}),[]),{user:t,loading:r,login:async(A,o)=>{try{return await qj(y1,A,o),{success:!0}}catch(l){return{success:!1,error:l.message}}},logout:async()=>{try{return await Xj(y1),{success:!0}}catch(A){return{success:!1,error:A.message}}}}},mi=()=>{const[t,e]=le.useState([]),r=le.useCallback(l=>{const c=Math.random().toString(36).substr(2,9),h={id:c,...l,onClose:n};return console.log("🍞 Toast ekleniyor:",h),l.type==="error"?(e(f=>f.filter(p=>p.type!=="error")),e(f=>{const p=[h,...f.slice(0,2)];return console.log("🍞 Error toast eklendi, güncel liste:",p),p})):e(f=>{const p=[h,...f.slice(0,3)];return console.log("🍞 Güncel toast listesi:",p),p}),c},[]),n=le.useCallback(l=>{console.log("🗑️ Toast siliniyor:",l),e(c=>{const h=c.filter(f=>f.id!==l);return console.log("🍞 Toast silindikten sonra liste:",h),h})},[]),s=le.useCallback((l,c)=>(console.log("✅ Success toast çağrıldı:",{title:l,message:c}),r({type:"success",title:l,message:c,duration:4e3})),[r]),i=le.useCallback((l,c)=>(console.log("❌ Error toast çağrıldı:",{title:l,message:c}),r({type:"error",title:l,message:c,duration:12e3})),[r]),A=le.useCallback((l,c)=>(console.log("⚠️ Warning toast çağrıldı:",{title:l,message:c}),r({type:"warning",title:l,message:c,duration:6e3})),[r]),o=le.useCallback((l,c)=>(console.log("ℹ️ Info toast çağrıldı:",{title:l,message:c}),r({type:"info",title:l,message:c,duration:5e3})),[r]);return console.log("🍞 useToast hook - mevcut toast sayısı:",t.length),{toasts:t,addToast:r,removeToast:n,success:s,error:i,warning:A,info:o}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lt=(t,e)=>{const r=le.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:o="",children:l,...c},h)=>le.createElement("svg",{ref:h,...gR,width:s,height:s,stroke:n,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${vR(t)}`,o].join(" "),...c},[...e.map(([f,p])=>le.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Lt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Lt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Lt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Lt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Lt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Lt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Lt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Lt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Lt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Lt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Lt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Lt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Lt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Lt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Lt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Lt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Lt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),IR=()=>{const{logout:t}=V2(),[e,r]=le.useState(!1),n=async()=>{await t()},s=[{to:"/",icon:CR,label:"Anasayfa",color:"ide-primary",description:"Ana kontrol paneli"},{to:"/schedule-wizard",icon:e0,label:"Program Sihirbazı",color:"ide-accent",description:"Otomatik program oluştur"},{to:"/schedules",icon:Vs,label:"Manuel Program",color:"ide-accent",description:"Manuel program oluştur"},{to:"/class-schedules",icon:BN,label:"Sınıf Programları",color:"ide-secondary",description:"Sınıf bazlı görünüm"},{to:"/all-schedules",icon:Zg,label:"Öğretmen Programları",color:"ide-primary",description:"Öğretmen bazlı görünüm"},{to:"/pdf",icon:Vs,label:"PDF Çıktı",color:"ide-orange",description:"Rapor ve çıktılar"},{to:"/data-management",icon:ng,label:"Veri Yönetimi",color:"ide-primary",description:"Sistem verilerini yönet"}],i=()=>{r(!1)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50 safe-top safe-left",children:a.jsx("button",{onClick:()=>r(!e),className:"p-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-ide-primary-500 focus:ring-offset-2 transition-all duration-300 btn-touch touch-enhanced group","aria-label":"Menüyü aç/kapat",children:e?a.jsx(da,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"}):a.jsx(_R,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"})})}),e&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-60 z-40 transition-opacity duration-300 backdrop-blur-sm",onClick:i}),a.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-40 bg-white shadow-2xl lg:shadow-xl h-screen flex flex-col
        transform transition-all duration-500 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        
        /* PROFESSIONAL DESIGN */
        w-80 lg:w-72 xl:w-80
        safe-top safe-bottom safe-left
        border-r border-gray-200
      `,children:[a.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-ide-primary-600 via-ide-primary-700 to-ide-primary-800 border-b border-ide-primary-500",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between lg:justify-start",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center flex-shrink-0",children:a.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-8 h-8 object-contain",onError:A=>{const o=A.target;o.style.display="none";const l=o.parentElement;l&&(l.innerHTML='<div class="w-8 h-8 text-ide-primary-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white leading-tight",children:"İDE Okulları"}),a.jsx("p",{className:"text-sm text-ide-primary-100 font-medium",children:"Ders Programı Sistemi"})]})]}),a.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-lg hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all duration-200 btn-touch touch-enhanced","aria-label":"Menüyü kapat",children:a.jsx(da,{size:20,className:"text-white"})})]})]}),a.jsx("nav",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:a.jsx("div",{className:"space-y-2",children:s.map(({to:A,icon:o,label:l,color:c,description:h})=>a.jsx(mU,{to:A,onClick:i,className:({isActive:f})=>`group relative flex items-center p-4 rounded-xl transition-all duration-300 ${f?"bg-ide-primary-50 text-ide-primary-700 shadow-lg border-2 border-ide-primary-200 transform scale-[1.02]":"text-ide-gray-700 hover:bg-white hover:text-ide-primary-600 hover:shadow-md border-2 border-transparent hover:border-ide-primary-100"}`,children:({isActive:f})=>a.jsxs(a.Fragment,{children:[f&&a.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-ide-primary-600 rounded-r-full"}),a.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${f?"bg-ide-primary-100 text-ide-primary-600":"bg-gray-100 text-gray-500 group-hover:bg-ide-primary-100 group-hover:text-ide-primary-600"}`,children:a.jsx(o,{size:24,className:"transition-transform duration-300 group-hover:scale-110"})}),a.jsx("div",{className:"flex-1 ml-4 min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`font-semibold text-base leading-tight transition-colors duration-300 ${f?"text-ide-primary-700":"text-gray-900 group-hover:text-ide-primary-600"}`,children:l}),a.jsx("p",{className:`text-sm mt-1 transition-colors duration-300 ${f?"text-ide-primary-600":"text-gray-500 group-hover:text-ide-primary-500"}`,children:h})]}),a.jsx(py,{size:18,className:`flex-shrink-0 transition-all duration-300 ${f?"text-ide-primary-600 transform translate-x-1":"text-gray-400 group-hover:text-ide-primary-500 group-hover:transform group-hover:translate-x-1"}`})]})})]})},A))})}),a.jsx("div",{className:"p-4 border-t border-gray-200 bg-white safe-bottom",children:a.jsxs("button",{onClick:n,className:"w-full group flex items-center p-4 rounded-xl text-ide-gray-700 hover:bg-ide-accent-50 hover:text-ide-accent-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ide-accent-500 focus:ring-offset-2 border-2 border-transparent hover:border-ide-accent-200",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-gray-100 group-hover:bg-ide-accent-100 flex items-center justify-center transition-all duration-300",children:a.jsx(ER,{size:24,className:"text-gray-500 group-hover:text-ide-accent-600 transition-all duration-300 group-hover:scale-110"})}),a.jsxs("div",{className:"flex-1 ml-4 text-left",children:[a.jsx("p",{className:"font-semibold text-base text-gray-900 group-hover:text-ide-accent-700 transition-colors duration-300",children:"Güvenli Çıkış"}),a.jsx("p",{className:"text-sm text-gray-500 group-hover:text-ide-accent-600 transition-colors duration-300 mt-1",children:"Oturumu sonlandır"})]}),a.jsx(py,{size:18,className:"flex-shrink-0 text-gray-400 group-hover:text-ide-accent-500 group-hover:transform group-hover:translate-x-1 transition-all duration-300"})]})})]})]})},NR=()=>a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(IR,{}),a.jsx("main",{className:"flex-1 overflow-auto lg:ml-0",children:a.jsx("div",{className:"pt-20 lg:pt-0",children:a.jsx(tU,{})})})]}),Zt=({label:t,type:e="text",value:r,onChange:n,placeholder:s,required:i=!1,error:A,disabled:o=!1})=>a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",i&&a.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:e,value:r,onChange:l=>n(l.target.value),placeholder:s,required:i,disabled:o,className:`ide-input w-full ${A?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900 placeholder-ide-accent-400":o?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 bg-white focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 placeholder-ide-gray-500 hover:border-ide-gray-400"}`}),A&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(Vh,{className:"h-5 w-5 text-ide-accent-500"})})]}),A&&a.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[a.jsx(Vh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:A})]})]}),He=({children:t,onClick:e,type:r="button",variant:n="primary",size:s="md",disabled:i=!1,icon:A,className:o=""})=>{const l="inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none transform hover:scale-[1.02] active:scale-[0.98] focus-enhanced",c={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300 hover:border-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md","ide-primary":"btn-ide-primary","ide-secondary":"btn-ide-secondary","ide-accent":"btn-ide-accent"},h={sm:"px-4 py-3 text-sm min-h-[44px] btn-touch",md:"px-5 py-3.5 text-sm min-h-[48px] btn-touch",lg:"px-6 py-4 text-base min-h-[52px] btn-touch"};return a.jsxs("button",{type:r,onClick:e,disabled:i,className:`${l} ${c[n]} ${h[s]} ${o} touch-enhanced`,children:[A&&a.jsx(A,{size:s==="sm"?18:s==="lg"?22:20,className:"mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:t})]})},SR=()=>{const[t,e]=le.useState(""),[r,n]=le.useState(""),[s,i]=le.useState(""),[A,o]=le.useState(!1),{login:l}=V2(),c=async h=>{h.preventDefault(),o(!0),i(""),(await l(t,r)).success||i("Giriş başarısız. Lütfen bilgilerinizi kontrol edin."),o(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ide-gray-50 to-ide-primary-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-ide-2xl p-8 border border-ide-gray-200",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white rounded-full shadow-ide-lg border border-gray-100",children:a.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-16 h-16 object-contain",onError:h=>{const f=h.target;f.style.display="none";const p=f.parentElement;p&&(p.innerHTML='<div class="w-12 h-12 text-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),a.jsx("h1",{className:"text-2xl font-bold text-ide-gray-900 mb-2",children:"İDE Okulları"}),a.jsx("h2",{className:"text-xl font-semibold text-ide-primary-600 mb-2",children:"Ders Planlama Sistemi"}),a.jsx("p",{className:"text-ide-gray-600",children:"Yönetici Girişi"})]}),a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsx(Zt,{label:"E-posta",type:"email",value:t,onChange:e,placeholder:"email@ide.k12.tr",required:!0}),a.jsx(Zt,{label:"Şifre",type:"password",value:r,onChange:n,placeholder:"••••••••",required:!0}),s&&a.jsx("div",{className:"p-4 bg-ide-accent-50 border border-ide-accent-200 rounded-lg",children:a.jsx("p",{className:"text-ide-accent-800 text-sm font-medium",children:s})}),a.jsx(He,{type:"submit",variant:"ide-primary",size:"lg",disabled:A,className:"w-full",children:A?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"ide-loading w-5 h-5 mr-3"}),"Giriş yapılıyor..."]}):"Giriş Yap"})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-xs text-ide-gray-500",children:"Firebase Authentication ile güvenli giriş"})})]})})},St=t=>{const[e,r]=le.useState([]),[n,s]=le.useState(!0),[i,A]=le.useState(null);return le.useEffect(()=>{const f=s5(v1(Ic,t),iR("createdAt","desc"));return dR(f,g=>{const b=g.docs.map(E=>{var _,w;return{id:E.id,...E.data(),createdAt:((w=(_=E.data().createdAt)==null?void 0:_.toDate)==null?void 0:w.call(_))||new Date}});r(b),s(!1),A(null)},g=>{A(g.message),s(!1)})},[t]),{data:e,loading:n,error:i,add:async f=>{try{console.log("🔥 Firebase ADD işlemi başlatıldı:",{collectionName:t,item:f});const p=await uR(v1(Ic,t),{...f,createdAt:tn.now()});return console.log("✅ Firebase ADD başarılı:",{docId:p.id}),{success:!0,id:p.id}}catch(p){return console.error("❌ Firebase ADD hatası:",p),{success:!1,error:p.message}}},update:async(f,p)=>{try{if(console.log("🔥 Firebase UPDATE işlemi başlatıldı:",{collectionName:t,id:f,updates:p,updateKeys:Object.keys(p)}),!f)throw new Error("Document ID is required for update");const g=np(Ic,t,f),b={...p,updatedAt:tn.now()};return console.log("🔥 Firebase setDoc çağrılıyor:",{docRef:g.path,updateData:b}),await lR(g,b,{merge:!0}),console.log("✅ Firebase UPDATE başarılı:",{id:f,updatedFields:Object.keys(p)}),{success:!0}}catch(g){return console.error("❌ Firebase UPDATE hatası:",{error:g,message:g.message,code:g.code,id:f,collectionName:t}),{success:!1,error:g.message}}},remove:async f=>{try{if(console.log("🔥 Firebase DELETE işlemi başlatıldı:",{collectionName:t,id:f}),!f)throw new Error("Document ID is required for delete");return await cR(np(Ic,t,f)),console.log("✅ Firebase DELETE başarılı:",{id:f}),{success:!0}}catch(p){return console.error("❌ Firebase DELETE hatası:",p),{success:!1,error:p.message}}},exists:async f=>{try{const p=np(Ic,t,f);return(await oR(s5(v1(Ic,t)))).docs.some(b=>b.id===f)}catch(p){return console.error("❌ Firebase EXISTS check hatası:",p),!1}}}},pa=()=>{const[t,e]=le.useState({isOpen:!1,title:"",message:"",type:"warning",confirmText:"Onayla",cancelText:"İptal",confirmVariant:"primary",onConfirm:()=>{}}),r=le.useCallback((l,c)=>new Promise(h=>{e({...l,isOpen:!0,onConfirm:()=>{c(),h(!0)}})}),[]),n=le.useCallback(()=>{e(l=>({...l,isOpen:!1}))},[]),s=le.useCallback((l,c)=>r({title:"🗑️ Silme Onayı",message:`"${l}" öğesini silmek istediğinizden emin misiniz?

Bu işlem geri alınamaz.`,type:"danger",confirmText:"Sil",cancelText:"İptal",confirmVariant:"danger"},c),[r]),i=le.useCallback(l=>r({title:"🔄 Sıfırlama Onayı",message:`Tüm değişiklikleri sıfırlamak istediğinizden emin misiniz?

Kaydedilmemiş tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Sıfırla",cancelText:"İptal",confirmVariant:"danger"},l),[r]),A=le.useCallback(l=>r({title:"⚠️ Kaydedilmemiş Değişiklikler",message:`Kaydedilmemiş değişiklikler var. Devam etmek istediğinizden emin misiniz?

Tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Devam Et",cancelText:"İptal",confirmVariant:"danger"},l),[r]),o=le.useCallback((l,c)=>r({title:"⚠️ Çakışma Uyarısı",message:`Aşağıdaki çakışmalar tespit edildi:

${l.join(`
`)}

Yine de kaydetmek istediğinizden emin misiniz?`,type:"warning",confirmText:"Yine de Kaydet",cancelText:"İptal",confirmVariant:"danger"},c),[r]);return{confirmation:t,showConfirmation:r,hideConfirmation:n,confirmDelete:s,confirmReset:i,confirmUnsavedChanges:A,confirmConflictOverride:o}},ga=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,type:i="warning",confirmText:A="Onayla",cancelText:o="İptal",confirmVariant:l="primary"})=>{if(!t)return null;const c={warning:Ms,danger:zh,success:Wl,info:jo},h={warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",title:"text-yellow-900"},danger:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",title:"text-red-900"},success:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",title:"text-green-900"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",title:"text-blue-900"}},f=c[i],p=h[i],g=()=>{r(),e()};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full mx-4 sm:mx-0",children:[a.jsx("div",{className:`${p.bg} ${p.border} border-b px-6 pt-6 pb-4`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(f,{className:`h-8 w-8 ${p.icon}`})}),a.jsx("div",{className:"ml-4 flex-1",children:a.jsx("h3",{className:`text-lg font-bold ${p.title}`,children:n})}),a.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Modalı kapat",children:a.jsx(da,{size:20})})]})}),a.jsx("div",{className:"bg-white px-6 py-6",children:a.jsx("div",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-line",children:s})}),a.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[a.jsx(He,{onClick:e,variant:"secondary",size:"md",children:o}),a.jsx(He,{onClick:g,variant:l,size:"md",children:A})]})]})]})})},FR=()=>{const t=Mu(),{data:e}=St("teachers"),{data:r}=St("classes"),{data:n}=St("subjects"),{data:s}=St("schedules"),{data:i,remove:A}=St("schedule-templates"),{success:o,error:l,warning:c}=mi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmDelete:g}=pa(),b=[{icon:Vi,title:"Dersler",description:"Dersleri branş ve seviyelerine göre organize edin",color:"text-indigo-600",bgColor:"bg-indigo-50",path:"/subjects"},{icon:Mr,title:"Öğretmenler",description:"Öğretmenleri ekleyin ve branşlarına göre yönetin",color:"text-blue-600",bgColor:"bg-blue-50",path:"/teachers"},{icon:us,title:"Sınıflar",description:"Sınıfları seviyelerine göre kategorize edin",color:"text-emerald-600",bgColor:"bg-emerald-50",path:"/classes"},{icon:e0,title:"Program Sihirbazı",description:"Adım adım otomatik program oluşturun",color:"text-orange-600",bgColor:"bg-orange-50",path:"/schedule-wizard"},{icon:Vs,title:"Manuel Program",description:"Öğretmen veya sınıf bazlı manuel program oluşturun",color:"text-purple-600",bgColor:"bg-purple-50",path:"/schedules"},{icon:Zg,title:"Programları Görüntüle",description:"Oluşturulan programları görüntüleyin ve inceleyin",color:"text-pink-600",bgColor:"bg-pink-50",path:"/all-schedules"},{icon:fo,title:"PDF İndir",description:"Programları profesyonel PDF formatında indirin",color:"text-orange-600",bgColor:"bg-orange-50",path:"/pdf"},{icon:ng,title:"Veri Yönetimi",description:"Sistem verilerini yönetin ve temizleyin",color:"text-purple-600",bgColor:"bg-purple-50",path:"/data-management"}],E=v=>{t(`/schedule-wizard?templateId=${v}`)},_=v=>{g(v.name,async()=>{try{await A(v.id),o("🗑️ Program Silindi",`${v.name} başarıyla silindi`)}catch{l("❌ Silme Hatası","Program silinirken bir hata oluştu")}})},w=[...i].sort((v,I)=>new Date(I.updatedAt).getTime()-new Date(v.updatedAt).getTime());return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:a.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-12 h-12 object-contain",onError:v=>{const I=v.target;I.style.display="none";const L=I.parentElement;L&&(L.innerHTML='<div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),a.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"İDE Okulları Ders Programı Sistemi"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600 mb-4 max-w-2xl mx-auto",children:"Sihirbaz ile otomatik program oluşturun veya manuel olarak düzenleyin. Çakışma kontrolü, zaman kısıtlamaları ve profesyonel PDF çıktıları."})]})}),i.length>0&&a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"bg-gradient-to-br from-ide-primary-50 via-white to-ide-secondary-50 rounded-2xl shadow-lg border border-ide-primary-100 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-extrabold text-ide-primary-800 flex items-center tracking-tight",children:"Oluşturulan Programlar"}),a.jsxs("p",{className:"text-sm text-ide-primary-600 mt-1 font-medium",children:[i.length," program • Düzenlemek için tıklayın"]})]}),a.jsx(He,{onClick:()=>t("/schedule-wizard"),icon:Ur,variant:"primary",size:"md",className:"shadow-md",children:"Yeni Program"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(v=>a.jsxs("div",{className:"group bg-white rounded-2xl p-6 border border-ide-primary-100 shadow-sm hover:shadow-lg hover:border-ide-primary-300 transition-all duration-200 cursor-pointer relative flex flex-col min-h-[210px]",onClick:()=>E(v.id),children:[a.jsx("span",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold shadow-sm border
                    ${v.status==="published"?"bg-emerald-50 text-emerald-700 border-emerald-200":v.status==="draft"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:v.status==="published"?"Yayınlandı":v.status==="draft"?"Taslak":"Arşivlendi"}),a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(Vs,{className:"w-6 h-6 text-ide-primary-600 flex-shrink-0"}),a.jsx("h3",{className:"font-bold text-lg text-ide-primary-900 truncate group-hover:text-ide-primary-700 transition-colors",children:v.name})]}),a.jsxs("p",{className:"text-xs text-ide-primary-500 mb-1 font-medium",children:[v.academicYear," ",v.semester," Dönemi"]}),v.description&&a.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:v.description}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-gray-100",children:[a.jsx("span",{className:"text-xs text-gray-400 flex items-center",children:(()=>{const I=new Date(v.updatedAt);return isNaN(I.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx(ji,{className:"w-4 h-4 mr-1"}),I.toLocaleDateString("tr-TR")]})})()}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:I=>{I.stopPropagation(),E(v.id)},className:"p-2 rounded-lg bg-ide-primary-50 hover:bg-ide-primary-100 text-ide-primary-700 hover:text-ide-primary-900 shadow-sm border border-transparent hover:border-ide-primary-200 transition",title:"Düzenle",children:a.jsx(bA,{size:18})}),a.jsx("button",{onClick:I=>{I.stopPropagation(),_(v)},className:"p-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-800 shadow-sm border border-transparent hover:border-red-200 transition",title:"Sil",children:a.jsx(xr,{size:18})})]})]})]},v.id))})]})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map((v,I)=>a.jsxs("div",{onClick:()=>t(v.path),className:"group cursor-pointer bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 hover:border-gray-200",children:[a.jsx("div",{className:`${v.bgColor} w-10 h-10 rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform duration-200`,children:a.jsx(v.icon,{className:`w-5 h-5 ${v.color}`})}),a.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:v.title}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-3",children:v.description}),a.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-medium group-hover:translate-x-1 transition-transform duration-200",children:["Başla ",a.jsx(wR,{className:"ml-1 w-3 h-3"})]})]},I))})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:e.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Öğretmen"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-emerald-600",children:r.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Sınıf"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-indigo-600",children:n.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Ders"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-purple-600",children:s.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Program"})]})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Sihirbaz Sistemi"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Adım adım otomatik oluşturma"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Zaman Kısıtlamaları"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Esnek kısıtlama yönetimi"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Çakışma Kontrolü"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Otomatik çakışma tespiti"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:"PDF Çıktı"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Profesyonel görünüm"})]})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Sihirbaz tabanlı otomatik program oluşturma sistemi"})})}),a.jsx(ga,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},Dt=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma"],Bn=["1","2","3","4","5","6","7","8","9","10"],Ks=["Anaokulu","İlkokul","Ortaokul"],o5=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],kR=[{period:"prep",startTime:"08:30",endTime:"08:40",isBreak:!0,breakType:"prep",breakDuration:10},{period:"1",startTime:"08:40",endTime:"09:15"},{period:"breakfast",startTime:"09:15",endTime:"09:35",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break1",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break2",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break3",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"break4",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"prep",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],TR=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],UR=t=>{switch(t){case"İlkokul":return o5;case"Ortaokul":return kR;case"Anaokulu":return TR;default:return o5}},t0=(t,e)=>UR(e).find(n=>n.period===t&&!n.isBreak),r0=(t,e)=>`${t} - ${e}`,fi=({isOpen:t,onClose:e,title:r,children:n,size:s="md"})=>{if(le.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),le.useEffect(()=>{const A=o=>{o.key==="Escape"&&t&&e()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[t,e]),!t)return null;const i={sm:"sm:max-w-md",md:"sm:max-w-lg",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-end sm:items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),a.jsxs("div",{className:`
          inline-block align-bottom bg-white text-left overflow-hidden shadow-2xl transform transition-all 
          sm:my-8 sm:align-middle sm:w-full ${i[s]}
          
          /* MOBILE OPTIMIZATIONS */
          w-full max-w-none mx-0 mb-0
          sm:mx-4 sm:mb-4 sm:max-w-lg
          
          /* MOBILE: Full width with rounded top corners */
          rounded-t-2xl sm:rounded-xl
          
          /* MOBILE: Better height management */
          max-h-[95vh] sm:max-h-[90vh]
          
          /* MOBILE: Ensure proper positioning */
          modal-mobile
        `,children:[a.jsx("div",{className:"bg-white px-4 sm:px-6 pt-5 sm:pt-6 pb-4 border-b border-gray-200 sticky top-0 z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 pr-4 truncate",children:r}),a.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 btn-touch flex-shrink-0","aria-label":"Modalı kapat",children:a.jsx(da,{size:24})})]})}),a.jsx("div",{className:"bg-white px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:a.jsx("div",{className:"form-mobile",children:n})})]})]})})},Xt=({label:t,value:e,onChange:r,options:n,required:s=!1,error:i,disabled:A=!1})=>a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",s&&a.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:e,onChange:o=>r(o.target.value),required:s,disabled:A,className:`ide-input w-full appearance-none bg-white ${i?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900":A?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 hover:border-ide-gray-400"}`,children:[a.jsx("option",{value:"",className:"text-ide-gray-500",children:"Seçiniz..."}),n.map(o=>a.jsx("option",{value:o.value,className:"text-ide-gray-900",children:o.label},o.value))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i?a.jsx(Vh,{className:"h-5 w-5 text-ide-accent-500"}):a.jsx(xR,{className:`h-5 w-5 ${A?"text-ide-gray-400":"text-ide-gray-500"}`})})]}),i&&a.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[a.jsx(Vh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:i})]})]}),QR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=St("teachers"),{data:i}=St("subjects"),{success:A,error:o,warning:l}=mi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=pa(),[g,b]=le.useState(!1),[E,_]=le.useState(!1),[w,v]=le.useState(null),[I,L]=le.useState(""),[z,q]=le.useState(""),[U,B]=le.useState(""),[k,P]=le.useState(!1),[N,F]=le.useState([{name:"",branch:"",level:""}]),[j,se]=le.useState({name:"",branches:[],level:""}),we=()=>[...new Set(i.map(Z=>Z.branch))].sort((Z,M)=>Z.localeCompare(M,"tr")),ve=t.filter(pe=>{const Z=!I||pe.level===I,M=!z||pe.branch===z,Le=!U||pe.name.toLowerCase().includes(U.toLowerCase())||pe.branch.toLowerCase().includes(U.toLowerCase());return Z&&M&&Le}).sort((pe,Z)=>pe.name.localeCompare(Z.name,"tr")),H=()=>{if(t.length===0){l("⚠️ Silinecek Öğretmen Yok","Sistemde silinecek öğretmen bulunamadı");return}p(`${t.length} Öğretmen`,async()=>{P(!0);try{let pe=0;console.log("🗑️ Tüm öğretmenler siliniyor:",{totalTeachers:t.length});for(const Z of t)try{await s(Z.id),pe++,console.log(`✅ Öğretmen silindi: ${Z.name}`)}catch(M){console.error(`❌ Öğretmen silinemedi: ${Z.name}`,M)}pe>0?(A("🗑️ Öğretmenler Silindi",`${pe} öğretmen başarıyla silindi`),L(""),q(""),B("")):o("❌ Silme Hatası","Hiçbir öğretmen silinemedi")}catch(pe){console.error("❌ Toplu silme hatası:",pe),o("❌ Silme Hatası","Öğretmenler silinirken bir hata oluştu")}finally{P(!1)}})},ae=async pe=>{if(pe.preventDefault(),j.branches.length===0){o("❌ Branş Seçimi Gerekli","En az bir branş seçmelisiniz");return}try{if(w){const Z={name:j.name,branch:j.branches.join(", "),level:j.level};await n(w.id,Z),A("✅ Öğretmen Güncellendi",`${j.name} başarıyla güncellendi`)}else{const Z={name:j.name,branch:j.branches.join(", "),level:j.level};await r(Z),A("✅ Öğretmen Eklendi",`${j.name} başarıyla eklendi`)}}catch{o("❌ Hata","Öğretmen kaydedilirken bir hata oluştu")}ce()},Y=async pe=>{pe.preventDefault();for(const Z of N)Z.name&&Z.branch&&Z.level&&Ks.includes(Z.level)&&await r({name:Z.name,branch:Z.branch,level:Z.level});F([{name:"",branch:"",level:""}]),_(!1)},ce=()=>{se({name:"",branches:[],level:""}),v(null),b(!1)},Q=pe=>{const Z=pe.branch.split(", ").map(M=>M.trim());se({name:pe.name,branches:Z,level:pe.level}),v(pe),b(!0)},K=async pe=>{const Z=t.find(M=>M.id===pe);Z&&p(Z.name,async()=>{await s(pe),A("🗑️ Öğretmen Silindi",`${Z.name} başarıyla silindi`)})},X=pe=>{se(Z=>Z.branches.includes(pe)?{...Z,branches:Z.branches.filter(Le=>Le!==pe)}:{...Z,branches:[...Z.branches,pe]})},re=()=>{F([...N,{name:"",branch:"",level:""}])},ee=pe=>{N.length>1&&F(N.filter((Z,M)=>M!==pe))},te=(pe,Z,M)=>{const Le=[...N];Le[pe]={...Le[pe],[Z]:M},F(Le)},J=()=>{B("")},ie=pe=>{pe.key==="Enter"&&(pe.preventDefault(),console.log("🔍 Enter ile öğretmen araması:",U),pe.target.blur()),pe.key==="Escape"&&(J(),pe.target.blur())},oe=Ks.map(pe=>({value:pe,label:pe})),me=we().map(pe=>({value:pe,label:pe})),Ee=[{value:"",label:"Tüm Seviyeler"},...oe],Ce=[{value:"",label:"Tüm Branşlar"},...me];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmenler"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," öğretmen kayıtlı (",ve.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[t.length>0&&a.jsx(He,{onClick:H,icon:xr,variant:"danger",disabled:k,className:"w-full sm:w-auto",children:k?"Siliniyor...":`Tümünü Sil (${t.length})`}),a.jsx(He,{onClick:()=>_(!0),icon:Ur,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),a.jsx(He,{onClick:()=>b(!0),icon:Ur,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Öğretmen"})]})]}),a.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[a.jsxs("div",{className:"mobile-form-group",children:[a.jsx("label",{className:"mobile-form-label",children:"🔍 Öğretmen Ara"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(EN,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:U,onChange:pe=>B(pe.target.value),onKeyDown:ie,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"block w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),U&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{onClick:J,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Aramayı temizle",children:a.jsx(da,{className:"w-5 h-5"})})})]}),U&&a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',U,'" için ',ve.length," sonuç bulundu"]}),a.jsx("button",{onClick:J,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:I,onChange:L,options:Ee}),a.jsx(Xt,{label:"Branş Filtresi",value:z,onChange:q,options:Ce})]})]}),ve.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Mr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"Henüz öğretmen eklenmemiş":U?"Arama sonucu bulunamadı":"Filtrelere uygun öğretmen bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"İlk öğretmeninizi ekleyerek başlayın":U?`"${U}" araması için sonuç bulunamadı`:"Farklı filtre kriterleri deneyin"}),a.jsxs("div",{className:"button-group-mobile",children:[t.length===0&&a.jsxs(a.Fragment,{children:[a.jsx(He,{onClick:()=>_(!0),icon:Ur,variant:"secondary",children:"Toplu Ekle"}),a.jsx(He,{onClick:()=>b(!0),icon:Ur,variant:"primary",children:"Öğretmen Ekle"})]}),(U||I||z)&&a.jsxs("div",{className:"button-group-mobile",children:[U&&a.jsx(He,{onClick:J,variant:"secondary",children:"Aramayı Temizle"}),(I||z)&&a.jsx(He,{onClick:()=>{L(""),q("")},variant:"secondary",children:"Filtreleri Temizle"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mobile-table-cards",children:ve.map(pe=>a.jsxs("div",{className:"mobile-table-card",children:[a.jsx("div",{className:"mobile-table-card-header",children:pe.name}),a.jsxs("div",{className:"mobile-table-card-row",children:[a.jsx("span",{className:"mobile-table-card-label",children:"Branş"}),a.jsx("span",{className:"mobile-table-card-value",children:pe.branch})]}),a.jsxs("div",{className:"mobile-table-card-row",children:[a.jsx("span",{className:"mobile-table-card-label",children:"Seviye"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${pe.level==="Anaokulu"?"bg-green-100 text-green-800":pe.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:pe.level})]}),a.jsxs("div",{className:"mobile-table-card-row",children:[a.jsx("span",{className:"mobile-table-card-label",children:"İşlemler"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(He,{onClick:()=>Q(pe),icon:bA,size:"sm",variant:"secondary",children:"Düzenle"}),a.jsx(He,{onClick:()=>K(pe.id),icon:xr,size:"sm",variant:"danger",children:"Sil"})]})]})]},pe.id))}),a.jsx("div",{className:"desktop-table mobile-card overflow-hidden",children:a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ad Soyad"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seviye"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ve.map(pe=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:pe.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:pe.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${pe.level==="Anaokulu"?"bg-green-100 text-green-800":pe.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:pe.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(He,{onClick:()=>Q(pe),icon:bA,size:"sm",variant:"secondary",children:"Düzenle"}),a.jsx(He,{onClick:()=>K(pe.id),icon:xr,size:"sm",variant:"danger",children:"Sil"})]})})]},pe.id))})]})})})]}),a.jsx(fi,{isOpen:g,onClose:ce,title:w?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",children:a.jsxs("form",{onSubmit:ae,children:[a.jsx(Zt,{label:"Ad Soyad",value:j.name,onChange:pe=>se({...j,name:pe}),placeholder:"Örn: Ahmet Yılmaz",required:!0}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Branşlar ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2 p-3 border border-gray-300 rounded-lg bg-gray-50 max-h-60 overflow-y-auto",children:me.map(pe=>a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j.branches.includes(pe.value),onChange:()=>X(pe.value),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:pe.label})]},pe.value))}),j.branches.length>0&&a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["✨ Seçilen branşlar: ",j.branches.join(", ")]})]}),a.jsx(Xt,{label:"Eğitim Seviyesi",value:j.level,onChange:pe=>se({...j,level:pe}),options:oe,required:!0}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(He,{type:"button",onClick:ce,variant:"secondary",children:"İptal"}),a.jsx(He,{type:"submit",variant:"primary",disabled:j.branches.length===0,children:w?"Güncelle":"Kaydet"})]})]})}),a.jsx(fi,{isOpen:E,onClose:()=>_(!1),title:"Toplu Öğretmen Ekleme",children:a.jsxs("form",{onSubmit:Y,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Öğretmen Listesi",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(He,{type:"button",onClick:re,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:N.map((pe,Z)=>a.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Ad Soyad",value:pe.name,onChange:M=>te(Z,"name",M.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsxs("select",{value:pe.branch,onChange:M=>te(Z,"branch",M.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Branş Seçin"}),me.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))]}),a.jsxs("select",{value:pe.level,onChange:M=>te(Z,"level",M.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Seviye"}),Ks.map(M=>a.jsx("option",{value:M,children:M},M))]}),a.jsx("button",{type:"button",onClick:()=>ee(Z),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:N.length===1,children:"Sil"})]},Z))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Öğretmenler:"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• Ahmet Yılmaz - Matematik - İlkokul"}),a.jsx("p",{children:"• Ayşe Demir - Türkçe - Ortaokul"}),a.jsx("p",{children:"• Mehmet Kaya - Fen Bilimleri - İlkokul"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(He,{type:"button",onClick:()=>_(!1),variant:"secondary",children:"İptal"}),a.jsxs(He,{type:"submit",variant:"primary",children:["Toplu Ekle (",N.filter(pe=>pe.name&&pe.branch&&pe.level).length," öğretmen)"]})]})]})}),a.jsx(ga,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},jR=()=>{const t=Mu(),{data:e,loading:r,add:n,update:s,remove:i}=St("classes"),{data:A}=St("schedules"),{data:o}=St("teachers"),{success:l,error:c,warning:h}=mi(),{confirmation:f,showConfirmation:p,hideConfirmation:g,confirmDelete:b}=pa(),[E,_]=le.useState(!1),[w,v]=le.useState(!1),[I,L]=le.useState(null),[z,q]=le.useState(""),[U,B]=le.useState(!1),[k,P]=le.useState([{name:"",level:""}]),[N,F]=le.useState({name:"",level:"",teacherIds:[],classTeacherId:""}),j=Z=>A.some(M=>Object.values(M.schedule).some(Le=>Object.values(Le).some($e=>($e==null?void 0:$e.classId)===Z))),se=Z=>{let M=0;return A.forEach(Le=>{Object.values(Le.schedule).forEach($e=>{Object.values($e).forEach(je=>{(je==null?void 0:je.classId)===Z&&M++})})}),M},we=Z=>{t(`/class-schedules?classId=${Z}`)},de=Z=>{t(`/schedules?mode=class&classId=${Z}`)},H=e.filter(Z=>!z||Z.level===z).sort((Z,M)=>Z.name.localeCompare(M.name,"tr")),ae=()=>{if(e.length===0){h("⚠️ Silinecek Sınıf Yok","Sistemde silinecek sınıf bulunamadı");return}b(`${e.length} Sınıf`,async()=>{B(!0);try{let Z=0;console.log("🗑️ Tüm sınıflar siliniyor:",{totalClasses:e.length});for(const M of e)try{await i(M.id),Z++,console.log(`✅ Sınıf silindi: ${M.name}`)}catch(Le){console.error(`❌ Sınıf silinemedi: ${M.name}`,Le)}Z>0?(l("🗑️ Sınıflar Silindi",`${Z} sınıf başarıyla silindi`),q("")):c("❌ Silme Hatası","Hiçbir sınıf silinemedi")}catch(Z){console.error("❌ Toplu silme hatası:",Z),c("❌ Silme Hatası","Sınıflar silinirken bir hata oluştu")}finally{B(!1)}})},Y=async Z=>{Z.preventDefault();const M={name:N.name,level:N.level,teacherIds:N.teacherIds,classTeacherId:N.classTeacherId};I?(await s(I.id,M),l("✅ Sınıf Güncellendi",`${N.name} sınıfı başarıyla güncellendi`)):(await n(M),l("✅ Sınıf Eklendi",`${N.name} sınıfı başarıyla eklendi`)),Q()},ce=async Z=>{Z.preventDefault();for(const M of k)M.name&&M.level&&Ks.includes(M.level)&&await n({name:M.name,level:M.level,teacherIds:[]});P([{name:"",level:""}]),v(!1),l("✅ Sınıflar Eklendi",`${k.filter(M=>M.name&&M.level).length} sınıf başarıyla eklendi`)},Q=()=>{F({name:"",level:"",teacherIds:[],classTeacherId:""}),L(null),_(!1)},K=Z=>{F({name:Z.name,level:Z.level,teacherIds:Z.teacherIds||[],classTeacherId:Z.classTeacherId||""}),L(Z),_(!0)},X=async Z=>{const M=e.find(Le=>Le.id===Z);M&&b(M.name,async()=>{await i(Z),l("🗑️ Sınıf Silindi",`${M.name} başarıyla silindi`)})},re=()=>{P([...k,{name:"",level:""}])},ee=Z=>{k.length>1&&P(k.filter((M,Le)=>Le!==Z))},te=(Z,M,Le)=>{const $e=[...k];$e[Z]={...$e[Z],[M]:Le},P($e)},J=Z=>{F(M=>{if(M.teacherIds.includes(Z)){const $e=M.teacherIds.filter(qe=>qe!==Z),je=M.classTeacherId===Z?"":M.classTeacherId;return{...M,teacherIds:$e,classTeacherId:je}}else return{...M,teacherIds:[...M.teacherIds,Z]}})},ie=Z=>{F(M=>{const Le=M.teacherIds.includes(Z)?M.teacherIds:[...M.teacherIds,Z];return{...M,teacherIds:Le,classTeacherId:Z}})},oe=()=>N.level?o.filter(Z=>Z.level===N.level).sort((Z,M)=>Z.name.localeCompare(M.name,"tr")):[],me=Z=>{if(!Z)return"";const M=o.find(Le=>Le.id===Z);return M?M.name:""},Ee=Z=>!Z||Z.length===0?"":o.filter(Le=>Z.includes(Le.id)).map(Le=>Le.name).join(", "),Ce=Ks.map(Z=>({value:Z,label:Z})),pe=[{value:"",label:"Tüm Seviyeler"},...Ce];return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(us,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıflar"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," sınıf kayıtlı (",H.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[e.length>0&&a.jsx(He,{onClick:ae,icon:xr,variant:"danger",disabled:U,className:"w-full sm:w-auto",children:U?"Siliniyor...":`Tümünü Sil (${e.length})`}),a.jsx(He,{onClick:()=>v(!0),icon:Ur,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),a.jsx(He,{onClick:()=>_(!0),icon:Ur,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Sınıf"})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsx("div",{className:"responsive-grid-1 gap-responsive",children:a.jsx(Xt,{label:"Seviye Filtresi",value:z,onChange:q,options:pe})})}),H.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(us,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz sınıf eklenmemiş":"Filtrelere uygun sınıf bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk sınıfınızı ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),a.jsx("div",{className:"button-group-mobile",children:e.length===0&&a.jsxs(a.Fragment,{children:[a.jsx(He,{onClick:()=>v(!0),icon:Ur,variant:"secondary",children:"Toplu Ekle"}),a.jsx(He,{onClick:()=>_(!0),icon:Ur,variant:"primary",children:"Sınıf Ekle"})]})})]}):a.jsx("div",{className:"responsive-grid gap-responsive",children:H.map(Z=>{const M=j(Z.id),Le=se(Z.id),$e=me(Z.classTeacherId),je=Ee(Z.teacherIds);return a.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Z.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z.level==="Anaokulu"?"bg-green-100 text-green-800":Z.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:Z.level})]}),($e||je)&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"w-4 h-4 text-blue-600 mr-2"}),a.jsxs("div",{children:[$e&&a.jsxs("p",{className:"text-sm font-medium text-blue-700",children:[a.jsx("span",{className:"font-bold",children:"Sınıf Öğretmeni:"})," ",$e]}),je&&a.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Öğretmenler:"})," ",je]})]})]})}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Program Durumu"}),a.jsxs("div",{className:"flex items-center mt-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${M?"bg-green-500":"bg-gray-400"}`}),a.jsx("span",{className:`text-sm ${M?"text-green-700":"text-gray-500"}`,children:M?`${Le} ders saati`:"Program yok"})]})]}),M&&a.jsx("button",{onClick:()=>we(Z.id),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Programı Görüntüle","aria-label":`${Z.name} sınıfının programını görüntüle`,children:a.jsx(Zg,{size:18})})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>K(Z),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Sınıfı Düzenle","aria-label":`${Z.name} sınıfını düzenle`,children:a.jsx(bA,{size:16})}),a.jsx("button",{onClick:()=>X(Z.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",title:"Sınıfı Sil","aria-label":`${Z.name} sınıfını sil`,children:a.jsx(xr,{size:16})})]}),a.jsx("button",{onClick:()=>de(Z.id),className:"p-2 text-emerald-600 hover:text-emerald-800 hover:bg-emerald-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",title:M?"Programı Düzenle":"Program Oluştur","aria-label":`${Z.name} sınıfı için ${M?"programı düzenle":"program oluştur"}`,children:a.jsx(Vs,{size:18})})]})]},Z.id)})}),a.jsx(fi,{isOpen:E,onClose:Q,title:I?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:a.jsxs("form",{onSubmit:Y,children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Bilgileri"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Zt,{label:"Sınıf Adı",value:N.name,onChange:Z=>F({...N,name:Z}),placeholder:"Örn: 5A, 7B",required:!0}),a.jsx(Xt,{label:"Eğitim Seviyesi",value:N.level,onChange:Z=>F({...N,level:Z}),options:Ce,required:!0})]})]}),N.level&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Mr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Sınıf Öğretmenleri"]}),oe().length===0?a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[a.jsx(Mr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsxs("p",{className:"text-gray-500",children:[N.level," seviyesinde öğretmen bulunamadı"]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Önce öğretmen ekleyin veya farklı bir seviye seçin"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Öğretmeni"}),a.jsxs("select",{value:N.classTeacherId,onChange:Z=>ie(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Sınıf öğretmeni seçin..."}),oe().map(Z=>a.jsxs("option",{value:Z.id,children:[Z.name," (",Z.branch,")"]},Z.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıfta Ders Verecek Öğretmenler"}),a.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:a.jsx("div",{className:"divide-y divide-gray-200",children:oe().map(Z=>{const M=N.teacherIds.includes(Z.id),Le=N.classTeacherId===Z.id;return a.jsxs("div",{className:`p-3 flex items-center justify-between hover:bg-gray-50 transition-colors ${Le?"bg-blue-50":""}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`teacher-${Z.id}`,checked:M,onChange:()=>J(Z.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:`teacher-${Z.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:[Z.name,a.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",Z.branch,")"]}),Le&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Sınıf Öğretmeni"})]})]}),!Le&&M&&a.jsx("button",{type:"button",onClick:()=>ie(Z.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Sınıf öğretmeni yap"})]},Z.id)})})}),a.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[a.jsx(Mr,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[N.teacherIds.length," öğretmen seçildi"]})]})]})]})]})]}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(He,{type:"button",onClick:Q,variant:"secondary",children:"İptal"}),a.jsx(He,{type:"submit",variant:"primary",children:I?"Güncelle":"Kaydet"})]})]})}),a.jsx(fi,{isOpen:w,onClose:()=>v(!1),title:"Toplu Sınıf Ekleme",children:a.jsxs("form",{onSubmit:ce,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Sınıf Listesi",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(He,{type:"button",onClick:re,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:k.map((Z,M)=>a.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Sınıf Adı",value:Z.name,onChange:Le=>te(M,"name",Le.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsxs("select",{value:Z.level,onChange:Le=>te(M,"level",Le.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Seviye"}),Ks.map(Le=>a.jsx("option",{value:Le,children:Le},Le))]}),a.jsx("button",{type:"button",onClick:()=>ee(M),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:k.length===1,children:"Sil"})]},M))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Sınıflar:"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• 5A - İlkokul"}),a.jsx("p",{children:"• 7B - Ortaokul"}),a.jsx("p",{children:"• Papatya - Anaokulu"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(He,{type:"button",onClick:()=>v(!1),variant:"secondary",children:"İptal"}),a.jsxs(He,{type:"submit",variant:"primary",children:["Toplu Ekle (",k.filter(Z=>Z.name&&Z.level).length," sınıf)"]})]})]})}),a.jsx(ga,{isOpen:f.isOpen,onClose:g,onConfirm:f.onConfirm,title:f.title,message:f.message,type:f.type,confirmText:f.confirmText,cancelText:f.cancelText,confirmVariant:f.confirmVariant})]})},LR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=St("subjects"),{success:i,error:A,warning:o}=mi(),{confirmation:l,showConfirmation:c,hideConfirmation:h,confirmDelete:f}=pa(),[p,g]=le.useState(!1),[b,E]=le.useState(!1),[_,w]=le.useState(null),[v,I]=le.useState(""),[L,z]=le.useState(""),[q,U]=le.useState(!1),[B,k]=le.useState([{name:"",branch:"",level:"",weeklyHours:""}]),[P,N]=le.useState({name:"",branch:"",level:"",weeklyHours:""}),F=()=>[...new Set(t.map(ie=>ie.branch))].sort((ie,oe)=>ie.localeCompare(oe,"tr")),se=t.filter(J=>{const ie=!v||J.level===v,oe=!L||J.branch===L;return ie&&oe}).sort((J,ie)=>J.name.localeCompare(ie.name,"tr")),we=()=>{if(t.length===0){o("⚠️ Silinecek Ders Yok","Sistemde silinecek ders bulunamadı");return}f(`${t.length} Ders`,async()=>{U(!0);try{let J=0;console.log("🗑️ Tüm dersler siliniyor:",{totalSubjects:t.length});for(const ie of t)try{await s(ie.id),J++,console.log(`✅ Ders silindi: ${ie.name}`)}catch(oe){console.error(`❌ Ders silinemedi: ${ie.name}`,oe)}J>0?(i("🗑️ Dersler Silindi",`${J} ders başarıyla silindi`),I(""),z("")):A("❌ Silme Hatası","Hiçbir ders silinemedi")}catch(J){console.error("❌ Toplu silme hatası:",J),A("❌ Silme Hatası","Dersler silinirken bir hata oluştu")}finally{U(!1)}})},de=async J=>{J.preventDefault();const ie={...P,weeklyHours:parseInt(P.weeklyHours)};_?await n(_.id,ie):await r(ie),H()},ve=async J=>{J.preventDefault();for(const ie of B)ie.name&&ie.branch&&ie.level&&ie.weeklyHours&&Ks.includes(ie.level)&&!isNaN(parseInt(ie.weeklyHours))&&await r({name:ie.name,branch:ie.branch,level:ie.level,weeklyHours:parseInt(ie.weeklyHours)});k([{name:"",branch:"",level:"",weeklyHours:""}]),E(!1)},H=()=>{N({name:"",branch:"",level:"",weeklyHours:""}),w(null),g(!1)},ae=J=>{N({name:J.name,branch:J.branch,level:J.level,weeklyHours:J.weeklyHours.toString()}),w(J),g(!0)},Y=async J=>{const ie=t.find(oe=>oe.id===J);ie&&f(ie.name,async()=>{await s(J),i("🗑️ Ders Silindi",`${ie.name} başarıyla silindi`)})},ce=()=>{k([...B,{name:"",branch:"",level:"",weeklyHours:""}])},Q=J=>{B.length>1&&k(B.filter((ie,oe)=>oe!==J))},K=(J,ie,oe)=>{const me=[...B];me[J]={...me[J],[ie]:oe},k(me)},X=Ks.map(J=>({value:J,label:J})),re=F().map(J=>({value:J,label:J})),ee=[{value:"",label:"Tüm Seviyeler"},...X],te=[{value:"",label:"Tüm Branşlar"},...re];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Dersler"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," ders kayıtlı (",se.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[t.length>0&&a.jsx(He,{onClick:we,icon:xr,variant:"danger",disabled:q,className:"w-full sm:w-auto",children:q?"Siliniyor...":`Tümünü Sil (${t.length})`}),a.jsx(He,{onClick:()=>E(!0),icon:Ur,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),a.jsx(He,{onClick:()=>g(!0),icon:Ur,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Ders"})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:v,onChange:I,options:ee}),a.jsx(Xt,{label:"Branş Filtresi",value:L,onChange:z,options:te})]})}),se.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Vi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"Henüz ders eklenmemiş":"Filtrelere uygun ders bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"İlk dersinizi ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),a.jsx("div",{className:"button-group-mobile",children:t.length===0&&a.jsxs(a.Fragment,{children:[a.jsx(He,{onClick:()=>E(!0),icon:Ur,variant:"secondary",children:"Toplu Ekle"}),a.jsx(He,{onClick:()=>g(!0),icon:Ur,variant:"primary",children:"Ders Ekle"})]})})]}):a.jsx("div",{className:"mobile-card overflow-hidden",children:a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ders Adı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seviye"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Haftalık Saat"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.map(J=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:J.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.level==="Anaokulu"?"bg-green-100 text-green-800":J.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:J.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[J.weeklyHours," saat"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(He,{onClick:()=>ae(J),icon:bA,size:"sm",variant:"secondary",children:"Düzenle"}),a.jsx(He,{onClick:()=>Y(J.id),icon:xr,size:"sm",variant:"danger",children:"Sil"})]})})]},J.id))})]})})}),a.jsx(fi,{isOpen:p,onClose:H,title:_?"Ders Düzenle":"Yeni Ders Ekle",children:a.jsxs("form",{onSubmit:de,children:[a.jsx(Zt,{label:"Ders Adı",value:P.name,onChange:J=>N({...P,name:J}),placeholder:"Örn: Matematik",required:!0}),a.jsx(Zt,{label:"Branş",value:P.branch,onChange:J=>N({...P,branch:J}),placeholder:"Örn: Fen Bilimleri",required:!0}),a.jsx(Xt,{label:"Eğitim Seviyesi",value:P.level,onChange:J=>N({...P,level:J}),options:X,required:!0}),a.jsx(Zt,{label:"Haftalık Ders Saati",type:"number",value:P.weeklyHours,onChange:J=>N({...P,weeklyHours:J}),placeholder:"Örn: 4",required:!0}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(He,{type:"button",onClick:H,variant:"secondary",children:"İptal"}),a.jsx(He,{type:"submit",variant:"primary",children:_?"Güncelle":"Kaydet"})]})]})}),a.jsx(fi,{isOpen:b,onClose:()=>E(!1),title:"Toplu Ders Ekleme",children:a.jsxs("form",{onSubmit:ve,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Ders Listesi",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(He,{type:"button",onClick:ce,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:B.map((J,ie)=>a.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Ders Adı",value:J.name,onChange:oe=>K(ie,"name",oe.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsx("input",{type:"text",placeholder:"Branş",value:J.branch,onChange:oe=>K(ie,"branch",oe.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),a.jsxs("select",{value:J.level,onChange:oe=>K(ie,"level",oe.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Seviye"}),Ks.map(oe=>a.jsx("option",{value:oe,children:oe},oe))]}),a.jsx("input",{type:"number",placeholder:"Saat",value:J.weeklyHours,onChange:oe=>K(ie,"weeklyHours",oe.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1",max:"10",required:!0}),a.jsx("button",{type:"button",onClick:()=>Q(ie),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:B.length===1,children:"Sil"})]},ie))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Dersler:"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• Matematik - Matematik - İlkokul - 5 saat"}),a.jsx("p",{children:"• Türkçe - Türkçe - Ortaokul - 6 saat"}),a.jsx("p",{children:"• Fen Bilimleri - Fen Bilimleri - İlkokul - 3 saat"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(He,{type:"button",onClick:()=>E(!1),variant:"secondary",children:"İptal"}),a.jsxs(He,{type:"submit",variant:"primary",children:["Toplu Ekle (",B.filter(J=>J.name&&J.branch&&J.level&&J.weeklyHours).length," ders)"]})]})]})}),a.jsx(ga,{isOpen:l.isOpen,onClose:h,onConfirm:l.onConfirm,title:l.title,message:l.message,type:l.type,confirmText:l.confirmText,cancelText:l.cancelText,confirmVariant:l.confirmVariant})]})},PR=()=>{const[t,e]=le.useState({isOpen:!1,title:"",message:""}),r=le.useCallback((s,i)=>{console.log("🚨 ERROR MODAL AÇILIYOR:",{title:s,message:i}),e({isOpen:!0,title:s,message:i})},[]),n=le.useCallback(()=>{console.log("✅ ERROR MODAL KAPATILIYOR"),e(s=>({...s,isOpen:!1}))},[]);return{errorModal:t,showError:r,hideError:n}},l5=t=>typeof t!="string"?"":t.trim().replace(/[<>\"'&]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").substring(0,500),c5=(t,e,r,n,s,i,A,o)=>{var h;if(!e||!r||!n||!s)return{hasConflict:!0,message:"Geçersiz parametre"};const l=l5(e),c=l5(r);if(!Dt.includes(l)||!Bn.includes(c))return{hasConflict:!0,message:"Geçersiz gün veya ders saati"};if(console.log("🔍 IMPROVED Çakışma kontrolü başlatıldı:",{mode:t,day:l,period:c,targetId:n,currentEntityId:s,schedulesCount:i.length}),t==="teacher"){const f=i.filter(p=>{var E;if(p.teacherId===s)return!1;const g=(E=p.schedule[l])==null?void 0:E[c],b=(g==null?void 0:g.classId)===n&&g.classId!=="fixed-period";return b&&console.log("⚠️ Teacher mode çakışma bulundu:",{conflictingTeacherId:p.teacherId,currentTeacherId:s,classId:n,slot:g}),b});if(f.length>0){const p=f[0],g=A.find(_=>_.id===p.teacherId),b=o.find(_=>_.id===n),E=`${(b==null?void 0:b.name)||"Sınıf"} ${l} günü ${c}. ders saatinde ${(g==null?void 0:g.name)||"başka bir öğretmen"} ile çakışıyor`;return console.log("❌ Teacher mode çakışma mesajı:",E),{hasConflict:!0,message:E}}}else{const f=i.find(p=>p.teacherId===n);if(console.log("🔍 Class mode - öğretmen programı kontrol ediliyor:",{teacherId:n,teacherScheduleFound:!!f,currentClassId:s}),f){const p=(h=f.schedule[l])==null?void 0:h[c];if(console.log("🔍 Mevcut slot kontrol ediliyor:",{day:l,period:c,existingSlot:p,existingClassId:p==null?void 0:p.classId,currentClassId:s,isFixedPeriod:(p==null?void 0:p.classId)==="fixed-period"}),p!=null&&p.classId&&p.classId!==s&&p.classId!=="fixed-period"){const g=A.find(_=>_.id===n),b=o.find(_=>_.id===p.classId),E=`${(g==null?void 0:g.name)||"Öğretmen"} ${l} günü ${c}. ders saatinde ${(b==null?void 0:b.name)||"başka bir sınıf"} ile çakışıyor`;return console.log("❌ Class mode çakışma mesajı:",E),{hasConflict:!0,message:E}}}}return console.log("✅ Çakışma bulunamadı"),{hasConflict:!1,message:""}},cA=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(l=>l.entityType==="teacher"&&l.entityId===n&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="unavailable"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde müsait değil`)}),t==="class"&&s&&i.filter(l=>l.entityType==="class"&&l.entityId===s&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="unavailable"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde müsait değil`)}),A},uA=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(l=>l.entityType==="teacher"&&l.entityId===n&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="restricted"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde kısıtlı`)}),t==="class"&&s&&i.filter(l=>l.entityType==="class"&&l.entityId===s&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="restricted"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde kısıtlı`)}),A},DR=(t,e,r,n,s,i,A,o=[])=>{const l=[],c=[],h=[];return!t||!e||!r?(l.push("Geçersiz program verisi"),{isValid:!1,errors:l,warnings:c,constraintViolations:h}):(Dt.forEach(f=>{Bn.forEach(p=>{var b;const g=(b=e[f])==null?void 0:b[p];if(!(!g||g.classId==="fixed-period")){if(t==="teacher"&&g.classId){const E=cA("teacher",f,p,r,g.classId,o);h.push(...E);const _=cA("class",f,p,r,g.classId,o);h.push(..._);const w=uA("teacher",f,p,r,g.classId,o);c.push(...w);const v=uA("class",f,p,r,g.classId,o);c.push(...v)}else if(t==="class"&&g.teacherId){const E=cA("teacher",f,p,g.teacherId,r,o);h.push(...E);const _=cA("class",f,p,g.teacherId,r,o);h.push(..._);const w=uA("teacher",f,p,g.teacherId,r,o);c.push(...w);const v=uA("class",f,p,g.teacherId,r,o);c.push(...v)}}})}),Dt.forEach(f=>{Bn.forEach(p=>{var b;const g=(b=e[f])==null?void 0:b[p];!g||g.classId==="fixed-period"||t==="teacher"&&r&&o.filter(_=>_.entityType==="teacher"&&_.entityId===r&&_.day===f&&_.period===p).some(_=>_.constraintType!=="preferred")})}),{isValid:l.length===0&&h.length===0,errors:[...new Set(l)],warnings:[...new Set(c)],constraintViolations:[...new Set(h)]})},w1=(t,e,r,n,s)=>{const i=s.find(A=>A.entityType===t&&A.entityId===e&&A.day===r&&A.period===n);if(!i)return{isOptimal:!0,reason:"Tercih edilen zaman dilimi (varsayılan)",constraintType:"preferred"};switch(i.constraintType){case"preferred":return{isOptimal:!0,reason:"Tercih edilen zaman dilimi",constraintType:"preferred"};case"restricted":return{isOptimal:!1,reason:"Kısıtlı zaman dilimi - dikkatli kullanın",constraintType:"restricted"};case"unavailable":return{isOptimal:!1,reason:"Müsait olmayan zaman dilimi - kullanılamaz",constraintType:"unavailable"};default:return{isOptimal:!0,reason:"Bilinmeyen kısıtlama türü",constraintType:i.constraintType}}},RR=({isOpen:t,onClose:e,onSave:r,subjects:n,classes:s,teachers:i=[],mode:A="teacher",currentSubjectId:o="",currentClassId:l="",currentTeacherId:c="",day:h,period:f})=>{const[p,g]=le.useState(o),[b,E]=le.useState(l),[_,w]=le.useState(c);ui.useEffect(()=>{g(o),E(l),w(c)},[o,l,c,t]);const v=()=>{if(A==="teacher")if(b){const B=n[0];r((B==null?void 0:B.id)||"",b)}else r("","");else if(_){const B=n[0];r((B==null?void 0:B.id)||"",b,_)}else r("","","");e()},I=()=>{A==="teacher"?r("",""):r("","",""),e()},z=[...s].sort((B,k)=>B.name.localeCompare(k.name,"tr")).map(B=>({value:B.id,label:B.name})),U=[...i].sort((B,k)=>B.name.localeCompare(k.name,"tr")).map(B=>({value:B.id,label:`${B.name} (${B.branch})`}));return t?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),a.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full",children:a.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[h," - ",f,". Ders"]}),a.jsx("button",{onClick:e,className:"rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:a.jsx(da,{size:24})})]}),a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${A==="teacher"?"bg-blue-500":"bg-emerald-500"}`}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:A==="teacher"?"Öğretmen Modu: Sınıf Seçin":"Sınıf Modu: Öğretmen Seçin"})]})}),a.jsx("div",{className:"space-y-4",children:A==="teacher"?a.jsx(Xt,{label:"Sınıf Seçin (A-Z Sıralı)",value:b,onChange:E,options:z,required:!0}):a.jsx(Xt,{label:"Öğretmen Seçin (A-Z Sıralı)",value:_,onChange:w,options:U,required:!0})}),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx(He,{onClick:I,variant:"danger",size:"sm",children:"Temizle"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(He,{onClick:e,variant:"secondary",children:"İptal"}),a.jsx(He,{onClick:v,variant:"primary",disabled:A==="teacher"?!b:!_,children:"Kaydet"})]})]})]})})]})}):null},OR=({isOpen:t,onClose:e,title:r,message:n})=>t?a.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform animate-pulse",children:[a.jsx("div",{className:"bg-red-600 text-white p-6 rounded-t-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ms,{className:"w-8 h-8 mr-3 animate-bounce"}),a.jsx("h3",{className:"text-xl font-bold",children:r})]}),a.jsx("button",{onClick:e,className:"text-white hover:text-red-200 transition-colors p-1 rounded-full hover:bg-red-700",children:a.jsx(da,{size:24})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-gray-800 text-base leading-relaxed whitespace-pre-line",children:n})}),a.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl flex justify-end",children:a.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Tamam"})})]})}):null,HR=()=>{var dt,wt,Et,mt,vt,Rt,gt,Se,Qe,nt;const t=Xo(),{data:e}=St("teachers"),{data:r}=St("classes"),{data:n}=St("subjects"),{data:s,add:i,update:A}=St("schedules"),{data:o}=St("constraints"),{success:l,warning:c,info:h}=mi(),{errorModal:f,showError:p,hideError:g}=PR(),{confirmation:b,hideConfirmation:E,confirmReset:_,confirmUnsavedChanges:w}=pa(),[v,I]=le.useState("teacher"),[L,z]=le.useState(""),[q,U]=le.useState(""),[B,k]=le.useState({}),[P,N]=le.useState(null),[F,j]=le.useState(null),[se,we]=le.useState(!1),[de,ve]=le.useState(null),[H,ae]=le.useState(!1),[Y,ce]=le.useState(!0),Q=[...e].sort((be,Pe)=>be.name.localeCompare(Pe.name,"tr")),K=[...r].sort((be,Pe)=>be.name.localeCompare(Pe.name,"tr"));le.useEffect(()=>{const be=new URLSearchParams(t.search),Pe=be.get("mode"),ke=be.get("classId"),Fe=be.get("teacherId");if(console.log("🔗 URL parametreleri kontrol ediliyor:",{urlMode:Pe,urlClassId:ke,urlTeacherId:Fe,classesLoaded:r.length>0,teachersLoaded:e.length>0}),Pe&&(Pe==="teacher"||Pe==="class")&&(I(Pe),h("🔄 Mod Ayarlandı",`${Pe==="teacher"?"Öğretmen":"Sınıf"} bazlı program oluşturma modu aktif`)),Pe==="class"&&ke&&r.length>0){const Xe=r.find(it=>it.id===ke);Xe&&(U(ke),h("🎯 Sınıf Seçildi",`${Xe.name} sınıfı otomatik olarak seçildi`))}if(Pe==="teacher"&&Fe&&e.length>0){const Xe=e.find(it=>it.id===Fe);Xe&&(z(Fe),h("🎯 Öğretmen Seçildi",`${Xe.name} öğretmeni otomatik olarak seçildi`))}},[t.search,r,e,h]),le.useEffect(()=>{const be=Ce();ae(be>0)},[B]),le.useEffect(()=>{new URLSearchParams(t.search).get("mode")||(z(""),U(""),N(null),j(null),k({}),ae(!1))},[v,t.search]),le.useEffect(()=>{if(v==="teacher"&&L){const be=e.find(ke=>ke.id===L);N(be||null);const Pe=s.find(ke=>ke.teacherId===L);if(Pe)k(Pe.schedule);else{const ke=X(be==null?void 0:be.level);k(ke)}}},[L,e,s,v]),le.useEffect(()=>{if(v==="class"&&q){const be=r.find(Fe=>Fe.id===q);j(be||null);const Pe={};s.forEach(Fe=>{Object.entries(Fe.schedule).forEach(([Xe,it])=>{Object.entries(it).forEach(([Wt,pt])=>{(pt==null?void 0:pt.classId)===q&&(Pe[Xe]||(Pe[Xe]={}),Pe[Xe][Wt]={subjectId:pt.subjectId,classId:pt.classId,teacherId:Fe.teacherId})})})});const ke=re(Pe,be==null?void 0:be.level);k(ke)}},[q,r,s,v]);const X=be=>{const Pe={};return Dt.forEach(ke=>{Pe[ke]={},be==="İlkokul"||be==="Anaokulu"?Pe[ke].prep={subjectId:"fixed-breakfast",classId:"fixed-period"}:be==="Ortaokul"&&(Pe[ke].prep={subjectId:"fixed-prep",classId:"fixed-period"},Pe[ke].breakfast={subjectId:"fixed-breakfast",classId:"fixed-period"}),be==="İlkokul"||be==="Anaokulu"?Pe[ke][5]={subjectId:"fixed-lunch",classId:"fixed-period"}:be==="Ortaokul"&&(Pe[ke][6]={subjectId:"fixed-lunch",classId:"fixed-period"}),Pe[ke]["afternoon-breakfast"]={subjectId:"fixed-afternoon-breakfast",classId:"fixed-period"}}),Pe},re=(be,Pe)=>{const ke={...be};return Dt.forEach(Fe=>{ke[Fe]||(ke[Fe]={}),ke[Fe].prep||(Pe==="İlkokul"||Pe==="Anaokulu"?ke[Fe].prep={subjectId:"fixed-breakfast",classId:"fixed-period"}:Pe==="Ortaokul"&&(ke[Fe].prep={subjectId:"fixed-prep",classId:"fixed-period"})),Pe==="Ortaokul"&&!ke[Fe].breakfast&&(ke[Fe].breakfast={subjectId:"fixed-breakfast",classId:"fixed-period"});const Xe=Pe==="İlkokul"||Pe==="Anaokulu"?"5":"6";ke[Fe][Xe]||(ke[Fe][Xe]={subjectId:"fixed-lunch",classId:"fixed-period"}),ke[Fe]["afternoon-breakfast"]||(ke[Fe]["afternoon-breakfast"]={subjectId:"fixed-afternoon-breakfast",classId:"fixed-period"})}),ke},ee=()=>v==="teacher"&&P?r.filter(be=>be.level===P.level):r,te=()=>v==="teacher"&&P?n.filter(be=>be.level===P.level&&be.branch===P.branch):v==="class"&&F?n.filter(be=>be.level===F.level):n,J=()=>v==="class"&&F?e.filter(be=>be.level===F.level):e,ie=(be,Pe)=>{var Fe;const ke=(Fe=B[be])==null?void 0:Fe[Pe];return(ke==null?void 0:ke.classId)==="fixed-period"},oe=(be,Pe,ke)=>{var Xe;const Fe=(Xe=B[be])==null?void 0:Xe[Pe];return!Fe||Fe.classId!=="fixed-period"?null:Fe.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:ke==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:Fe.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:ke==="Ortaokul"?"09:15-09:35":"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:Fe.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:ke==="İlkokul"||ke==="Anaokul"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:Fe.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},me=(be,Pe)=>{var ke;if(ie(be,Pe)){const Fe=(ke=B[be])==null?void 0:ke[Pe];let Xe="Bu saat sabitlenmiştir";(Fe==null?void 0:Fe.subjectId)==="fixed-prep"?Xe="Bu saat hazırlık saati olarak sabitlenmiştir":(Fe==null?void 0:Fe.subjectId)==="fixed-breakfast"?Xe="Bu saat kahvaltı saati olarak sabitlenmiştir":(Fe==null?void 0:Fe.subjectId)==="fixed-lunch"?Xe="Bu saat yemek saati olarak sabitlenmiştir":(Fe==null?void 0:Fe.subjectId)==="fixed-afternoon-breakfast"&&(Xe="Bu saat ikindi kahvaltısı olarak sabitlenmiştir"),h("🔒 Sabit Ders Saati",Xe);return}ve({day:be,period:Pe}),we(!0)},Ee=(be,Pe,ke)=>{var it,Wt;if(!de)return;const{day:Fe,period:Xe}=de;if(console.log("💾 Slot kaydetme işlemi başlatıldı:",{mode:v,day:Fe,period:Xe,subjectId:be,classId:Pe,teacherId:ke,selectedTeacherId:L,selectedClassId:q}),v==="teacher"){if(!Pe){k(We=>{const tt={...We};return tt[Fe]&&(delete tt[Fe][Xe],Object.keys(tt[Fe]).length===0&&delete tt[Fe]),tt}),l("🧹 Slot Temizlendi","Ders saati başarıyla temizlendi");return}const pt=c5("teacher",Fe,Xe,Pe,L,s,e,r);if(pt.hasConflict){console.log("❌ Çakışma tespit edildi, ERROR MODAL gösteriliyor"),p("❌ Çakışma Tespit Edildi!",pt.message);return}const Mt=cA("teacher",Fe,Xe,L,Pe,o);if(Mt.length>0){const We=Mt.join(`
`);p("⚠️ Zaman Kısıtlaması İhlali!",We);return}const tr=uA("teacher",Fe,Xe,L,Pe,o);tr.length>0&&Y&&c("⚠️ Kısıtlama Uyarısı",tr.join(`
`)),k(We=>({...We,[Fe]:{...We[Fe],[Xe]:{subjectId:be,classId:Pe}}}));const xt=((it=r.find(We=>We.id===Pe))==null?void 0:it.name)||"Sınıf";l("✅ Ders Atandı",`${xt} ${Fe} günü ${Xe}. derse atandı`)}else{if(!ke){k(Ot=>{const ar={...Ot};return ar[Fe]&&(delete ar[Fe][Xe],Object.keys(ar[Fe]).length===0&&delete ar[Fe]),ar}),l("🧹 Slot Temizlendi","Ders saati başarıyla temizlendi");return}const pt=c5("class",Fe,Xe,ke,q,s,e,r);if(pt.hasConflict){console.log("❌ Çakışma tespit edildi, ERROR MODAL gösteriliyor"),p("❌ Çakışma Tespit Edildi!",pt.message);return}const Mt=cA("teacher",Fe,Xe,ke,q,o),tr=cA("class",Fe,Xe,ke,q,o),xt=[...Mt,...tr];if(xt.length>0){const Ot=xt.join(`
`);p("⚠️ Zaman Kısıtlaması İhlali!",Ot);return}const We=uA("teacher",Fe,Xe,ke,q,o),tt=uA("class",Fe,Xe,ke,q,o),bt=[...We,...tt];bt.length>0&&Y&&c("⚠️ Kısıtlama Uyarısı",bt.join(`
`)),k(Ot=>({...Ot,[Fe]:{...Ot[Fe],[Xe]:{subjectId:be,classId:q,teacherId:ke}}}));const qt=((Wt=e.find(Ot=>Ot.id===ke))==null?void 0:Wt.name)||"Öğretmen";l("✅ Ders Atandı",`${qt} ${Fe} günü ${Xe}. derse atandı`)}},Ce=()=>{let be=0;return Dt.forEach(Pe=>{Bn.forEach(ke=>{var Xe;const Fe=(Xe=B[Pe])==null?void 0:Xe[ke];Fe&&Fe.classId!=="fixed-period"&&(v==="teacher"&&Fe.classId||v==="class"&&Fe.teacherId)&&be++})}),be},pe=be=>{let Pe=0;return Bn.forEach(ke=>{var Xe;const Fe=(Xe=B[be])==null?void 0:Xe[ke];Fe&&Fe.classId!=="fixed-period"&&(v==="teacher"&&Fe.classId||v==="class"&&Fe.teacherId)&&Pe++}),Pe},Z=async()=>{if(v==="teacher"&&!L){p("⚠️ Seçim Gerekli","Lütfen bir öğretmen seçin");return}if(v==="class"&&!q){p("⚠️ Seçim Gerekli","Lütfen bir sınıf seçin");return}console.log("💾 Program kaydetme işlemi başlatıldı");const be=DR(v,B,v==="teacher"?L:q,s,e,r,n,o);if(console.log("📊 Gelişmiş doğrulama sonuçları:",be),!be.isValid){const Pe=[...be.errors,...be.constraintViolations];console.log("❌ Doğrulama başarısız, ERROR MODAL gösteriliyor"),p("🚫 Program Kaydedilemedi!",`Aşağıdaki sorunları düzeltin:

${Pe.join(`
`)}`);return}be.warnings.length>0&&c("⚠️ Uyarılar",be.warnings.join(`
`)),be.constraintViolations.length>0&&Y&&c("⚠️ Kısıtlama Uyarıları",be.constraintViolations.join(`
`));try{if(v==="teacher"){const Pe=s.find(ke=>ke.teacherId===L);Pe?await A(Pe.id,{schedule:B,updatedAt:new Date}):await i({teacherId:L,schedule:B}),l("✅ Program Kaydedildi!",`${(P==null?void 0:P.name)||"Öğretmen"} için program başarıyla kaydedildi`)}else{const Pe={};for(const ke of s){const Fe={...ke.schedule};let Xe=!1;Object.keys(Fe).forEach(it=>{Object.keys(Fe[it]).forEach(Wt=>{var pt;((pt=Fe[it][Wt])==null?void 0:pt.classId)===q&&(delete Fe[it][Wt],Xe=!0)}),Object.keys(Fe[it]).length===0&&delete Fe[it]}),Xe&&(Pe[ke.teacherId]={schedule:Fe,scheduleId:ke.id})}Object.entries(B).forEach(([ke,Fe])=>{Object.entries(Fe).forEach(([Xe,it])=>{if(it!=null&&it.teacherId&&it.classId!=="fixed-period"){if(!Pe[it.teacherId]){const Wt=s.find(pt=>pt.teacherId===it.teacherId);Pe[it.teacherId]={schedule:Wt?{...Wt.schedule}:{},scheduleId:Wt==null?void 0:Wt.id}}Pe[it.teacherId].schedule[ke]||(Pe[it.teacherId].schedule[ke]={}),Pe[it.teacherId].schedule[ke][Xe]={subjectId:it.subjectId,classId:q}}})});for(const[ke,{schedule:Fe,scheduleId:Xe}]of Object.entries(Pe))Xe?await A(Xe,{schedule:Fe,updatedAt:new Date}):await i({teacherId:ke,schedule:Fe});l("✅ Program Kaydedildi!",`${(F==null?void 0:F.name)||"Sınıf"} için program başarıyla kaydedildi`)}ae(!1)}catch(Pe){console.error("Kayıt hatası:",Pe),p("❌ Kayıt Hatası","Program kaydedilirken bir hata oluştu")}},M=()=>{_(()=>{if(v==="teacher"&&P){const be=X(P.level);k(be)}else if(v==="class"&&F){const be=X(F.level);k(be)}else k({});ae(!1),l("🔄 Program Sıfırlandı","Tüm değişiklikler temizlendi (sabit saatler korundu)")})},Le=be=>{H?w(()=>{I(be),window.history.replaceState({},"","/schedules"),c("🔄 Mod Değiştirildi",`${be==="teacher"?"Öğretmen":"Sınıf"} bazlı program oluşturma moduna geçildi`)}):(I(be),window.history.replaceState({},"","/schedules"),h("🔄 Mod Değiştirildi",`${be==="teacher"?"Öğretmen":"Sınıf"} bazlı program oluşturma moduna geçildi`))},$e=Q.map(be=>({value:be.id,label:`${be.name} (${be.branch} - ${be.level})`})),je=K.map(be=>({value:be.id,label:`${be.name} (${be.level})`})),qe=(be,Pe)=>{var Fe;const ke=(Fe=B[be])==null?void 0:Fe[Pe];if(!ke)return null;if(ke.classId==="fixed-period"){const Xe=v==="teacher"?P:F;return oe(be,Pe,Xe==null?void 0:Xe.level)}if(v==="teacher"){if(!ke.classId)return null;const Xe=r.find(it=>it.id===ke.classId);return Xe?{primary:Xe.name,secondary:null,color:"bg-blue-50 border-blue-300 text-blue-900"}:null}else{if(!ke.teacherId)return null;const Xe=e.find(it=>it.id===ke.teacherId);return Xe?{primary:Xe.name,secondary:Xe.branch,color:"bg-emerald-50 border-emerald-300 text-emerald-900"}:null}},Ze=(be,Pe)=>{var Wt;const ke=(Wt=B[be])==null?void 0:Wt[Pe];if(!ke||ke.classId==="fixed-period")return null;let Fe=[],Xe=[],it=null;if(v==="teacher"&&L&&ke.classId)Fe=cA("teacher",be,Pe,L,ke.classId,o),Xe=uA("teacher",be,Pe,L,ke.classId,o),it=w1("teacher",L,be,Pe,o);else if(v==="class"&&q&&ke.teacherId){const pt=cA("teacher",be,Pe,ke.teacherId,q,o),Mt=cA("class",be,Pe,ke.teacherId,q,o);Fe=[...pt,...Mt];const tr=uA("teacher",be,Pe,ke.teacherId,q,o),xt=uA("class",be,Pe,ke.teacherId,q,o);Xe=[...tr,...xt];const We=w1("teacher",ke.teacherId,be,Pe,o),tt=w1("class",q,be,Pe,o);it=We.isOptimal?tt:We}return{violations:Fe.length>0?Fe:null,warnings:Xe.length>0?Xe:null,optimal:it}},Je=be=>{const Pe=v==="teacher"?P:F,ke=Pe==null?void 0:Pe.level,Fe=t0(be,ke);return Fe?r0(Fe.startTime,Fe.endTime):null};return a.jsxs("div",{className:"container-mobile",children:[a.jsx("div",{className:"header-mobile",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Program Oluşturucu"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[v==="teacher"?"Öğretmen bazlı":"Sınıf bazlı"," ders programları düzenleyin",H&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Kaydedilmemiş değişiklikler"})]})]})]})}),a.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>Le("teacher"),className:`flex items-center px-4 py-2 rounded-md transition-all duration-200 ${v==="teacher"?"bg-white text-purple-700 shadow-sm font-medium":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Öğretmen Bazlı"]}),a.jsxs("button",{onClick:()=>Le("class"),className:`flex items-center px-4 py-2 rounded-md transition-all duration-200 ${v==="class"?"bg-white text-purple-700 shadow-sm font-medium":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(us,{className:"w-4 h-4 mr-2"}),"Sınıf Bazlı"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-end",children:[a.jsx("div",{className:"lg:col-span-4",children:v==="teacher"?a.jsx(Xt,{label:"Öğretmen Seçin",value:L,onChange:z,options:$e,required:!0}):a.jsx(Xt,{label:"Sınıf Seçin",value:q,onChange:U,options:je,required:!0})}),a.jsx("div",{className:"lg:col-span-4",children:(P||F)&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Haftalık Ders Saati"}),a.jsxs("div",{className:`text-lg font-bold ${Ce()>30?"text-red-600":"text-emerald-600"}`,children:[Ce(),"/30 saat"]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[v==="teacher"?"Öğretmen programı":"Sınıf programı",H&&a.jsx("span",{className:"ml-2 text-yellow-600",children:"• Kaydedilmedi"})]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1 flex items-center",children:[a.jsx(ji,{className:"w-3 h-3 mr-1"}),((dt=P||F)==null?void 0:dt.level)==="Ortaokul"?"Ortaokul Saatleri":"Genel Saatler"]}),a.jsx("div",{className:"text-xs text-green-600 mt-1",children:"🔒 Yemek • 🥐 Kahvaltı • ✅ Tercih edilen (varsayılan)"})]})}),a.jsx("div",{className:"lg:col-span-4",children:(P||F)&&a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(He,{onClick:M,icon:CN,variant:"secondary",size:"md",disabled:!H,children:"Sıfırla"}),a.jsx(He,{onClick:Z,icon:ig,variant:"primary",size:"md",disabled:!H,children:"Kaydet"})]})})]})]}),(P||F)&&a.jsxs("div",{className:"mobile-card overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:v==="teacher"?`${P==null?void 0:P.name} - ${P==null?void 0:P.branch} (${P==null?void 0:P.level}) Ders Programı`:`${F==null?void 0:F.name} (${F==null?void 0:F.level}) Sınıf Ders Programı`}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v==="teacher"?"Ders saatlerine tıklayarak sınıf atayabilirsiniz":"Ders saatlerine tıklayarak öğretmen atayabilirsiniz",a.jsxs("span",{className:"ml-2 text-blue-600",children:["• ",((wt=P||F)==null?void 0:wt.level)==="Ortaokul"?"Ortaokul zaman dilimi":"Genel zaman dilimi"]}),a.jsx("span",{className:"ml-2 text-green-600",children:"• 🔒 Yemek • 🥐 Kahvaltı • ✅ Tercih edilen (varsayılan)"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${v==="teacher"?"bg-blue-500":"bg-emerald-500"}`}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:v==="teacher"?"Öğretmen Modu":"Sınıf Modu"})]})]})}),a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ders Saati"}),Dt.map(be=>a.jsxs("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:[a.jsx("div",{children:be}),a.jsx("div",{className:"text-xs mt-1 font-normal",children:a.jsxs("span",{className:pe(be)>9?"text-red-600":"text-green-600",children:[pe(be),"/9 saat"]})})]},be))]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{className:"bg-blue-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 bg-blue-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-blue-800",children:((Et=P||F)==null?void 0:Et.level)==="Ortaokul"?"Hazırlık":"Kahvaltı"}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1 flex items-center justify-center",children:[a.jsx(ji,{className:"w-3 h-3 mr-1"}),((mt=P||F)==null?void 0:mt.level)==="Ortaokul"?"08:30-08:40":"08:30-08:50"]})]})}),Dt.map(be=>{var Fe;const Pe=v==="teacher"?P:F,ke=oe(be,"prep",Pe==null?void 0:Pe.level);return a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:`w-full min-h-[80px] p-3 rounded-lg border-2 ${(ke==null?void 0:ke.color)||"bg-blue-100 border-blue-300"} cursor-not-allowed`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-lg",children:(ke==null?void 0:ke.title)||(((Fe=P||F)==null?void 0:Fe.level)==="Ortaokul"?"Hazırlık":"Kahvaltı")}),a.jsx("div",{className:"text-xs mt-1",children:(ke==null?void 0:ke.subtitle)||"🔒 Sabit"})]})})},`${be}-prep`)})]}),Bn.map((be,Pe)=>{var Wt,pt,Mt,tr;const ke=Je(be),Fe=(((Wt=P||F)==null?void 0:Wt.level)==="İlkokul"||((pt=P||F)==null?void 0:pt.level)==="Anaokulu")&&be==="5"||((Mt=P||F)==null?void 0:Mt.level)==="Ortaokul"&&be==="6",Xe=((tr=P||F)==null?void 0:tr.level)==="Ortaokul"&&be==="1",it=be==="8";return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{className:Fe?"bg-green-50":"",children:[a.jsx("td",{className:`px-4 py-3 font-medium text-gray-900 ${Fe?"bg-green-100":"bg-gray-50"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`font-bold text-lg ${Fe?"text-green-800":""}`,children:Fe?"Yemek":`${be}. Ders`}),ke&&a.jsxs("div",{className:`text-xs mt-1 flex items-center justify-center ${Fe?"text-green-600":"text-blue-600"}`,children:[a.jsx(ji,{className:"w-3 h-3 mr-1"}),ke]}),Fe&&a.jsx("div",{className:"text-xs text-green-600 mt-1",children:"🔒 Yemek"})]})}),Dt.map(xt=>{const We=qe(xt,be),tt=ie(xt,be),bt=Ze(xt,be);let qt="",Ot=null,ar="";return bt!=null&&bt.violations?(qt="ring-2 ring-red-400",Ot=a.jsx(Ms,{className:"w-4 h-4 text-red-500"}),ar=`Kısıtlama İhlali: ${bt.violations.join(", ")}`):bt!=null&&bt.warnings?(qt="ring-1 ring-yellow-400",Ot=a.jsx(jo,{className:"w-4 h-4 text-yellow-500"}),ar=`Uyarı: ${bt.warnings.join(", ")}`):bt!=null&&bt.optimal&&!bt.optimal.isOptimal&&bt.optimal.constraintType==="restricted"&&(qt="ring-1 ring-yellow-300",Ot=a.jsx(jo,{className:"w-3 h-3 text-yellow-500"}),ar=bt.optimal.reason),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("button",{onClick:()=>me(xt,be),disabled:tt,className:`w-full min-h-[80px] p-3 rounded-lg border-2 transition-all focus:outline-none focus:ring-2 focus:ring-purple-500 relative ${tt?`${(We==null?void 0:We.color)||"bg-green-100 border-green-300"} cursor-not-allowed`:We?`${We.color} hover:opacity-80 ${qt}`:"border-gray-300 bg-gray-50 border-dashed hover:border-purple-400 hover:bg-purple-50"}`,title:ar||(We?void 0:v==="teacher"?"Sınıf Ekle":"Öğretmen Ekle"),children:[((bt==null?void 0:bt.violations)||(bt==null?void 0:bt.warnings)||(bt==null?void 0:bt.optimal)&&!bt.optimal.isOptimal)&&a.jsx("div",{className:"absolute top-1 right-1",children:Ot}),We?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-lg",children:We.primary}),We.secondary&&a.jsx("div",{className:"text-xs mt-1",children:We.secondary}),tt&&a.jsx("div",{className:"text-xs mt-1",children:"🔒 Sabit"})]}):a.jsx("div",{className:"text-gray-400 text-xs",children:v==="teacher"?"Sınıf Ekle":"Öğretmen Ekle"})]})},`${xt}-${be}`)})]}),Xe&&a.jsxs("tr",{className:"bg-orange-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 bg-orange-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-orange-800",children:"Kahvaltı"}),a.jsxs("div",{className:"text-xs text-orange-600 mt-1 flex items-center justify-center",children:[a.jsx(ji,{className:"w-3 h-3 mr-1"}),"09:15-09:35"]})]})}),Dt.map(xt=>{const We=v==="teacher"?P:F,tt=oe(xt,"breakfast",We==null?void 0:We.level);return a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:`w-full min-h-[80px] p-3 rounded-lg border-2 ${(tt==null?void 0:tt.color)||"bg-orange-100 border-orange-300"} cursor-not-allowed`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-lg",children:(tt==null?void 0:tt.title)||"Kahvaltı"}),a.jsx("div",{className:"text-xs mt-1",children:(tt==null?void 0:tt.subtitle)||"🔒 Sabit"})]})})},`${xt}-breakfast`)})]}),it&&a.jsxs("tr",{className:"bg-yellow-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 bg-yellow-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-yellow-800",children:"İkindi Kahvaltısı"}),a.jsxs("div",{className:"text-xs text-yellow-600 mt-1 flex items-center justify-center",children:[a.jsx(ji,{className:"w-3 h-3 mr-1"}),"14:35-14:45"]})]})}),Dt.map(xt=>{const We=v==="teacher"?P:F,tt=oe(xt,"afternoon-breakfast",We==null?void 0:We.level);return a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:`w-full min-h-[80px] p-3 rounded-lg border-2 ${(tt==null?void 0:tt.color)||"bg-yellow-100 border-yellow-300"} cursor-not-allowed`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium text-lg",children:(tt==null?void 0:tt.title)||"İkindi Kahvaltısı"}),a.jsx("div",{className:"text-xs mt-1",children:(tt==null?void 0:tt.subtitle)||"🔒 Sabit"})]})})},`${xt}-afternoon-breakfast`)})]})]},be)})]})]})})]}),!P&&!F&&a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx("div",{className:"flex justify-center mb-4",children:v==="teacher"?a.jsx(Mr,{className:"w-16 h-16 text-gray-300"}):a.jsx(us,{className:"w-16 h-16 text-gray-300"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:v==="teacher"?"Öğretmen Seçin":"Sınıf Seçin"}),a.jsxs("p",{className:"text-gray-500 mb-4",children:["Program oluşturmak için ",v==="teacher"?"bir öğretmen":"bir sınıf"," seçin"]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"🔒 Otomatik Sabit Saatler:"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsxs("p",{children:["• ",a.jsx("strong",{children:"Hazırlık:"})," Ortaokul 08:30-08:40"]}),a.jsxs("p",{children:["• ",a.jsx("strong",{children:"Kahvaltı:"})," İlkokul/Anaokul 08:30-08:50, Ortaokul 09:15-09:35"]}),a.jsxs("p",{children:["• ",a.jsx("strong",{children:"Yemek:"})," İlkokul 5. ders (11:50-12:25), Ortaokul 6. ders (12:30-13:05)"]}),a.jsxs("p",{children:["• ",a.jsx("strong",{children:"İkindi Kahvaltısı:"})," 8. ders sonrası (14:35-14:45)"]})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 max-w-md mx-auto mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"✅ Zaman Kısıtlamaları:"}),a.jsxs("div",{className:"text-xs text-green-700 space-y-1",children:[a.jsxs("p",{children:["• ",a.jsx("strong",{children:"Varsayılan:"}),' Tüm zaman dilimleri "Tercih Edilen" olarak başlar']}),a.jsxs("p",{children:["• ",a.jsx("strong",{children:"Kısıtlama Yönetimi:"}),' "Zaman Kısıtlamaları" sayfasından özelleştirin']}),a.jsxs("p",{children:["• ",a.jsx("strong",{children:"Otomatik Kontrol:"})," Program oluştururken kısıtlamalar kontrol edilir"]})]})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-400 mt-4",children:[a.jsx(yR,{className:"w-4 h-4"}),a.jsx("span",{children:"Üstteki butonlarla mod değiştirebilirsiniz"})]})]}),a.jsx(RR,{isOpen:se,onClose:()=>we(!1),onSave:Ee,subjects:te(),classes:v==="teacher"?ee():[],teachers:v==="class"?J():[],mode:v,currentSubjectId:de?(Rt=(vt=B[de.day])==null?void 0:vt[de.period])==null?void 0:Rt.subjectId:"",currentClassId:de?(Se=(gt=B[de.day])==null?void 0:gt[de.period])==null?void 0:Se.classId:"",currentTeacherId:de?(nt=(Qe=B[de.day])==null?void 0:Qe[de.period])==null?void 0:nt.teacherId:"",day:(de==null?void 0:de.day)||"",period:(de==null?void 0:de.period)||""}),a.jsx(ga,{isOpen:b.isOpen,onClose:E,onConfirm:b.onConfirm,title:b.title,message:b.message,type:b.type,confirmText:b.confirmText,cancelText:b.cancelText,confirmVariant:b.confirmVariant}),a.jsx(OR,{isOpen:f.isOpen,onClose:g,title:f.title,message:f.message})]})},MR=({data:t,onUpdate:e})=>{var l,c;const n=(()=>{const h=[];for(let f=2024;f<=2030;f++){const p=f+1,g=`${f}/${p}`,b=`${f}-09-01`,E=`${p}-08-31`;h.push({value:g,label:g,startDate:b,endDate:E})}return h})(),s=[{value:"",label:"Seçiniz (İsteğe bağlı)"},{value:"Güz",label:"Güz Dönemi"},{value:"Bahar",label:"Bahar Dönemi"},{value:"Yaz",label:"Yaz Dönemi"}],i=[{value:"6",label:"6 Ders Saati"},{value:"7",label:"7 Ders Saati"},{value:"8",label:"8 Ders Saati"},{value:"9",label:"9 Ders Saati"},{value:"10",label:"10 Ders Saati"}],A=[{value:"5",label:"5 Gün (Pazartesi-Cuma)"},{value:"6",label:"6 Gün (Pazartesi-Cumartesi)"}],o=(h,f)=>{const p={...t,[h]:f};if(h==="academicYear"){const g=n.find(b=>b.value===f);g&&(p.startDate=g.startDate,p.endDate=g.endDate)}e(p)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vs,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Program Temel Bilgileri"}),a.jsx("p",{className:"text-gray-600",children:"Oluşturacağınız ders programının temel bilgilerini girin"})]}),a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsx(Zt,{label:"Program Başlığı",value:t.name||"",onChange:h=>o("name",h),placeholder:"Örn: 2024-2025 Güz Dönemi Ders Programı",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Eğitim Dönemi",value:t.academicYear||"2024/2025",onChange:h=>o("academicYear",h),options:n.map(h=>({value:h.value,label:h.label})),required:!0}),a.jsx(Xt,{label:"Dönem",value:t.semester||"",onChange:h=>o("semester",h),options:s})]}),a.jsx(Zt,{label:"Kurum Yetkilisi Ünvanı",value:t.institutionTitle||"",onChange:h=>o("institutionTitle",h),placeholder:"Örn: Okul Müdürü, Müdür Yardımcısı",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Günlük Ders Saati",value:((l=t.dailyHours)==null?void 0:l.toString())||"8",onChange:h=>o("dailyHours",parseInt(h)),options:i,required:!0}),a.jsx(Xt,{label:"Haftalık Gün Sayısı",value:((c=t.weekDays)==null?void 0:c.toString())||"5",onChange:h=>o("weekDays",parseInt(h)),options:A,required:!0})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",id:"weekendClasses",checked:t.weekendClasses||!1,onChange:h=>o("weekendClasses",h.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"weekendClasses",className:"text-sm font-medium text-gray-700",children:"Hafta sonu dersleri var"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"Başlangıç Tarihi",type:"date",value:t.startDate||"",onChange:h=>o("startDate",h),required:!0}),a.jsx(Zt,{label:"Bitiş Tarihi",type:"date",value:t.endDate||"",onChange:h=>o("endDate",h),required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Açıklama ",a.jsx("span",{className:"text-gray-500",children:"(İsteğe bağlı)"})]}),a.jsx("textarea",{value:t.description||"",onChange:h=>o("description",h.target.value),placeholder:"Program hakkında ek bilgiler...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(fo,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("h4",{className:"font-medium mb-1",children:"💡 Eğitim Dönemleri:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"2024/2025:"})," 1 Eylül 2024 - 31 Ağustos 2025"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"2025/2026:"})," 1 Eylül 2025 - 31 Ağustos 2026"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"2026/2027:"})," 1 Eylül 2026 - 31 Ağustos 2027"]}),a.jsx("li",{children:"• Dönem seçildiğinde tarihler otomatik güncellenir"})]})]})]})}),t.name&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[a.jsx(BN,{className:"w-4 h-4 mr-2 text-blue-600"}),"Program Önizlemesi:"]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Program:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Dönem:"})," ",t.academicYear," ",t.semester?`${t.semester} Dönemi`:""]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Yetkilisi:"})," ",t.institutionTitle||"Belirtilmemiş"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Ders Saati:"})," Günde ",t.dailyHours||8," saat, Haftada ",t.weekDays||5," gün"]}),t.weekendClasses&&a.jsxs("p",{children:[a.jsx("strong",{children:"Hafta Sonu:"})," Hafta sonu dersleri dahil"]}),t.startDate&&t.endDate&&a.jsxs("p",{children:[a.jsx("strong",{children:"Süre:"})," ",new Date(t.startDate).toLocaleDateString("tr-TR")," - ",new Date(t.endDate).toLocaleDateString("tr-TR")]}),t.description&&a.jsxs("p",{children:[a.jsx("strong",{children:"Açıklama:"})," ",t.description]})]})]}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ji,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsx("h4",{className:"font-medium mb-1",children:"⏰ Ders Saatleri:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Günlük Ders Saati:"})," Bir günde kaç ders saati olacağını belirler"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Haftalık Gün Sayısı:"})," Haftada kaç gün ders olacağını belirler"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Hafta Sonu Dersleri:"})," Cumartesi ve/veya Pazar günleri ders olup olmayacağını belirler"]}),a.jsx("li",{children:"• Bu bilgiler program oluşturma algoritmasında kullanılacaktır"})]})]})]})})]})]})},VR=({data:t,onUpdate:e})=>{const{data:r,add:n,update:s,remove:i}=St("subjects"),[A,o]=le.useState(""),[l,c]=le.useState(!1);le.useState(null),le.useState({name:"",branch:"",level:"",weeklyHours:"4"});const h=r.filter(v=>!A||v.level===A),f=r.filter(v=>t.selectedSubjects.includes(v.id)),p=v=>{const I=t.selectedSubjects.includes(v),L=r.find(B=>B.id===v);let z=t.selectedSubjects,q={...t.subjectHours},U={...t.subjectPriorities};I?(z=t.selectedSubjects.filter(B=>B!==v),delete q[v],delete U[v]):(z=[...t.selectedSubjects,v],q[v]=(L==null?void 0:L.weeklyHours)||4,U[v]="medium"),e({selectedSubjects:z,subjectHours:q,subjectPriorities:U})},g=(v,I)=>{const L=Math.max(1,I);e({...t,subjectHours:{...t.subjectHours,[v]:L}})},b=(v,I)=>{e({...t,subjectPriorities:{...t.subjectPriorities,[v]:I}})},E=()=>f.reduce((v,I)=>v+(t.subjectHours[I.id]||I.weeklyHours),0),_=v=>{},w=async v=>{};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Vi,{className:"w-8 h-8 text-indigo-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ders Seçimi ve Konfigürasyonu"}),a.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek dersleri seçin ve haftalık saat sayılarını belirleyin"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[a.jsx("div",{className:"md:w-1/2",children:a.jsx(Xt,{label:"Seviye Filtresi",value:A,onChange:o,options:[{value:"",label:"Tüm Seviyeler"},...Ks.map(v=>({value:v,label:v}))]})}),a.jsx(He,{onClick:()=>c(!0),icon:Ur,variant:"primary",children:"Yeni Ders Ekle"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Mevcut Dersler (",h.length,")"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:h.map(v=>a.jsx("div",{className:`p-3 rounded-lg border-2 transition-all ${t.selectedSubjects.includes(v.id)?"bg-blue-50 border-blue-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:v.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[v.branch," • ",v.level," • ",v.weeklyHours," saat/hafta"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>_(),className:"p-1 text-gray-400 hover:text-blue-600",children:a.jsx(bA,{size:16})}),a.jsx("button",{onClick:()=>w(v.id),className:"p-1 text-gray-400 hover:text-red-600",children:a.jsx(xr,{size:16})}),a.jsx("button",{onClick:()=>p(v.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${t.selectedSubjects.includes(v.id)?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:t.selectedSubjects.includes(v.id)?a.jsx(gy,{className:"w-3 h-3 text-white"}):a.jsx(Ur,{className:"w-3 h-3 text-gray-500"})})]})]})},v.id))})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["Seçilen Dersler (",f.length,")"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam: ",a.jsxs("span",{className:"font-bold text-blue-600",children:[E()," saat/hafta"]})]})]}),f.length===0?a.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[a.jsx(Vi,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Henüz ders seçilmedi"})]}):a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 max-h-96 overflow-y-auto",children:a.jsx("div",{className:"space-y-3",children:f.map(v=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:v.name}),a.jsxs("p",{className:"text-xs text-gray-600",children:[v.branch," • ",v.level]})]}),a.jsx("button",{onClick:()=>p(v.id),className:"text-red-500 hover:text-red-700 p-1",children:a.jsx(gy,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Haftalık Saat"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>g(v.id,(t.subjectHours[v.id]||0)-1),className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"-"}),a.jsx("input",{type:"number",min:"1",value:t.subjectHours[v.id]||v.weeklyHours,onChange:I=>g(v.id,parseInt(I.target.value)||1),className:"w-12 text-center text-sm font-medium border border-gray-300 rounded py-1"}),a.jsx("button",{type:"button",onClick:()=>g(v.id,(t.subjectHours[v.id]||0)+1),className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"+"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Öncelik"}),a.jsxs("select",{value:t.subjectPriorities[v.id]||"medium",onChange:I=>b(v.id,I.target.value),className:"w-full text-xs p-1 border border-gray-300 rounded",children:[a.jsx("option",{value:"high",children:"Yüksek Öncelik"}),a.jsx("option",{value:"medium",children:"Orta Öncelik"}),a.jsx("option",{value:"low",children:"Düşük Öncelik"})]})]})]})]},v.id))})})]})]})]})},KR=({data:t,onUpdate:e,classes:r})=>{const{add:n,update:s,remove:i}=St("classes"),{data:A}=St("classrooms"),{data:o}=St("teachers"),[l,c]=le.useState(""),[h,f]=le.useState(!1),[p,g]=le.useState(null),[b,E]=le.useState({name:"",shortName:"",classTeacherId:"",teacherIds:[],color:"",mainClassroom:"",level:""}),_=t.classes||{selectedClasses:[],classCapacities:{},classPreferences:{}},w=Y=>Y?Y.substring(0,2).toUpperCase():"",v=Y=>({Anaokulu:"#10B981",İlkokul:"#3B82F6",Ortaokul:"#8B5CF6"})[Y]||"#6B7280",I=Y=>{const ce=_.selectedClasses.includes(Y);if(r.find(Q=>Q.id===Y),ce){const Q=_.selectedClasses.filter(re=>re!==Y),K={..._.classCapacities},X={..._.classPreferences};delete K[Y],delete X[Y],e({classes:{..._,selectedClasses:Q,classCapacities:K,classPreferences:X}})}else{const Q=[..._.selectedClasses,Y];e({classes:{..._,selectedClasses:Q,classCapacities:{..._.classCapacities,[Y]:30}}})}},L=(Y,ce)=>{e({classes:{..._,classCapacities:{..._.classCapacities,[Y]:Math.max(1,ce)}}})},z=()=>{const Y=l?r.filter(Q=>Q.level===l):r,ce={..._.classCapacities};Y.forEach(Q=>{ce[Q.id]||(ce[Q.id]=30)}),e({classes:{..._,selectedClasses:Y.map(Q=>Q.id),classCapacities:ce}})},q=()=>{const Y=l?r.filter(X=>X.level===l):r,ce=_.selectedClasses.filter(X=>!Y.some(re=>re.id===X)),Q={..._.classCapacities},K={..._.classPreferences};Y.forEach(X=>{delete Q[X.id],delete K[X.id]}),e({classes:{..._,selectedClasses:ce,classCapacities:Q,classPreferences:K}})},U=Y=>{E(ce=>{if(ce.teacherIds.includes(Y)){const K=ce.teacherIds.filter(re=>re!==Y),X=ce.classTeacherId===Y?"":ce.classTeacherId;return{...ce,teacherIds:K,classTeacherId:X}}else return{...ce,teacherIds:[...ce.teacherIds,Y]}})},B=Y=>{E(ce=>{const Q=ce.teacherIds.includes(Y)?ce.teacherIds:[...ce.teacherIds,Y];return{...ce,teacherIds:Q,classTeacherId:Y}})},k=()=>b.level?o.filter(Y=>Y.level===b.level).sort((Y,ce)=>Y.name.localeCompare(ce.name,"tr")):[],P=async Y=>{Y.preventDefault();try{const ce={name:b.name,level:b.level,teacherIds:b.teacherIds,classTeacherId:b.classTeacherId,shortName:b.shortName||w(b.name),color:b.color||v(b.level)};p?await s(p.id,ce):await n(ce),N()}catch(ce){console.error("Error saving class:",ce)}},N=()=>{E({name:"",shortName:"",classTeacherId:"",teacherIds:[],color:"",mainClassroom:"",level:""}),g(null),f(!1)},F=Y=>{E({name:Y.name,shortName:Y.shortName||w(Y.name),classTeacherId:Y.classTeacherId||"",teacherIds:Y.teacherIds||[],color:Y.color||v(Y.level),mainClassroom:"",level:Y.level}),g(Y),f(!0)},j=async Y=>{try{await i(Y),_.selectedClasses.includes(Y)&&I(Y)}catch(ce){console.error("Error deleting class:",ce)}};ui.useEffect(()=>{b.name&&!p&&E(Y=>({...Y,shortName:w(Y.name)}))},[b.name,p]),ui.useEffect(()=>{b.level&&!p&&E(Y=>({...Y,color:v(Y.level)}))},[b.level,p]);const se=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],we=[{value:"",label:"Seçiniz..."},...A.map(Y=>({value:Y.id,label:Y.name}))];[...o.map(Y=>({value:Y.id,label:`${Y.name} (${Y.branch})`}))];const de=Y=>{if(!Y)return"";const ce=o.find(Q=>Q.id===Y);return ce?ce.name:""},ve=Y=>!Y||Y.length===0?"":o.filter(Q=>Y.includes(Q.id)).map(Q=>Q.name).join(", "),ae=(l?r.filter(Y=>Y.level===l):r).reduce((Y,ce)=>(Y[ce.level]||(Y[ce.level]=[]),Y[ce.level].push(ce),Y),{});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(us,{className:"w-12 h-12 text-emerald-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sınıf Seçimi"}),a.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek sınıfları seçin ve kapasitelerini belirleyin"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[a.jsx("div",{className:"md:w-1/2",children:a.jsx(Xt,{label:"Seviye Filtresi",value:l,onChange:c,options:se})}),a.jsx(He,{onClick:()=>f(!0),icon:Ur,variant:"primary",children:"Yeni Sınıf Ekle"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-blue-900",children:"Seçilen Sınıflar"}),a.jsxs("p",{className:"text-sm text-blue-700",children:[_.selectedClasses.length," / ",r.length," sınıf seçildi"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(He,{onClick:z,variant:"secondary",size:"sm",children:l?`${l} Tümünü Seç`:"Tümünü Seç"}),a.jsx(He,{onClick:q,variant:"secondary",size:"sm",children:l?`${l} Tümünü Kaldır`:"Tümünü Kaldır"})]})]})}),a.jsx("div",{className:"space-y-6",children:Object.entries(ae).map(([Y,ce])=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Mr,{className:"w-5 h-5 mr-2 text-emerald-600"}),Y,a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",ce.filter(Q=>_.selectedClasses.includes(Q.id)).length,"/",ce.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ce.map(Q=>{var re;const K=_.selectedClasses.includes(Q.id),X=_.classCapacities[Q.id]||30;return de(Q.classTeacherId),ve(Q.teacherIds),a.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 ${K?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 hover:border-emerald-300 hover:bg-emerald-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{onClick:()=>I(Q.id),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center cursor-pointer ${K?"border-emerald-500 bg-emerald-500":"border-gray-300"}`,children:K&&a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:Q.name}),a.jsx("p",{className:"text-xs text-gray-600",children:Q.level})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>F(Q),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Sınıfı düzenle",children:a.jsx(bA,{size:16})}),a.jsx("button",{onClick:()=>j(Q.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Sınıfı sil",children:a.jsx(xr,{size:16})}),K&&a.jsx("button",{onClick:()=>I(Q.id),className:"text-red-500 hover:text-red-700 p-1",title:"Sınıfı kaldır",children:a.jsx(gy,{className:"w-4 h-4"})})]})]}),Q.teacherIds&&Q.teacherIds.length>0&&a.jsx("div",{className:"mt-2 mb-2 p-2 bg-blue-50 rounded border border-blue-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"w-3 h-3 text-blue-600 mr-1"}),a.jsxs("p",{className:"text-xs text-blue-700",children:[Q.teacherIds.length," öğretmen atanmış",Q.classTeacherId&&a.jsxs("span",{className:"ml-1 font-medium",children:["(Sınıf öğretmeni: ",(re=o.find(ee=>ee.id===Q.classTeacherId))==null?void 0:re.name,")"]})]})]})}),K&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sınıf Kapasitesi"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:ee=>{ee.stopPropagation(),L(Q.id,X-1)},className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"-"}),a.jsx("span",{className:"w-8 text-center text-sm font-medium",children:X}),a.jsx("button",{onClick:ee=>{ee.stopPropagation(),L(Q.id,X+1)},className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"+"}),a.jsx("span",{className:"text-xs text-gray-500",children:"öğrenci"})]})]})]},Q.id)})})]},Y))}),r.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(us,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Ekleyin"}),a.jsx("p",{className:"text-gray-500",children:"Henüz sınıf eklenmemiş. Yeni sınıf ekleyerek başlayın."}),a.jsx(He,{onClick:()=>f(!0),icon:Ur,variant:"primary",className:"mt-4",children:"Yeni Sınıf Ekle"})]}),_.selectedClasses.length===0&&r.length>0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(us,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Seçin"}),a.jsx("p",{className:"text-gray-500",children:"Programa dahil edilecek en az bir sınıf seçmelisiniz"})]}),_.selectedClasses.length>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ms,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-yellow-800",children:"Sınıf Kapasitesi Önerileri"}),a.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[a.jsx("li",{children:"• Anaokulu: 15-20 öğrenci"}),a.jsx("li",{children:"• İlkokul: 20-30 öğrenci"}),a.jsx("li",{children:"• Ortaokul: 25-35 öğrenci"}),a.jsx("li",{children:"• Kapasite bilgisi derslik atamalarında kullanılacaktır"})]})]})]})}),a.jsx(fi,{isOpen:h,onClose:N,title:p?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:a.jsxs("form",{onSubmit:P,children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Bilgileri"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"İsim",value:b.name,onChange:Y=>E({...b,name:Y}),placeholder:"Örn: 5A, 7B",required:!0}),a.jsx(Zt,{label:"Kısaltma",value:b.shortName,onChange:Y=>E({...b,shortName:Y}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),a.jsx(Xt,{label:"Seviye",value:b.level,onChange:Y=>E({...b,level:Y}),options:se.filter(Y=>Y.value!==""),required:!0}),a.jsx(Zt,{label:"Renk",value:b.color,onChange:Y=>E({...b,color:Y}),placeholder:"Otomatik atanır",disabled:!0}),a.jsx(Xt,{label:"Ana derslik",value:b.mainClassroom,onChange:Y=>E({...b,mainClassroom:Y}),options:we})]})]}),b.level&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Mr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Sınıf Öğretmenleri"]}),k().length===0?a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[a.jsx(Mr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsxs("p",{className:"text-gray-500",children:[b.level," seviyesinde öğretmen bulunamadı"]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Önce öğretmen ekleyin veya farklı bir seviye seçin"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Öğretmeni"}),a.jsxs("select",{value:b.classTeacherId,onChange:Y=>B(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Sınıf öğretmeni seçin..."}),k().map(Y=>a.jsxs("option",{value:Y.id,children:[Y.name," (",Y.branch,")"]},Y.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıfta Ders Verecek Öğretmenler"}),a.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:a.jsx("div",{className:"divide-y divide-gray-200",children:k().map(Y=>{const ce=b.teacherIds.includes(Y.id),Q=b.classTeacherId===Y.id;return a.jsxs("div",{className:`p-3 flex items-center justify-between hover:bg-gray-50 transition-colors ${Q?"bg-blue-50":""}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`teacher-${Y.id}`,checked:ce,onChange:()=>U(Y.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:`teacher-${Y.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:[Y.name,a.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",Y.branch,")"]}),Q&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Sınıf Öğretmeni"})]})]}),!Q&&ce&&a.jsx("button",{type:"button",onClick:()=>B(Y.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Sınıf öğretmeni yap"})]},Y.id)})})}),a.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[a.jsx(Mr,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[b.teacherIds.length," öğretmen seçildi"]})]})]})]})]}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(He,{type:"button",onClick:N,variant:"secondary",children:"İptal"}),a.jsx(He,{type:"submit",variant:"primary",children:p?"Güncelle":"Tamamla"})]})]})})]})},zR=({data:t,onUpdate:e})=>{const{data:r}=St("classrooms"),[n,s]=le.useState(!1),[i,A]=le.useState(null),[o,l]=le.useState({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""});le.useEffect(()=>{r.length>0&&(!t.classrooms||t.classrooms.length===0)&&e({classrooms:r})},[r,t.classrooms,e]);const c=t.classrooms||[],h=L=>L?L.substring(0,2).toUpperCase():"",f=()=>{const L=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return L[Math.floor(Math.random()*L.length)]},p=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],g=[{id:"projector",label:"Projeksiyon",icon:sg},{id:"computer",label:"Bilgisayar",icon:sg},{id:"wifi",label:"WiFi",icon:NN},{id:"sound",label:"Ses Sistemi",icon:IN}],b=L=>{L.preventDefault();const z={id:(i==null?void 0:i.id)||Date.now().toString(),name:o.name,type:"normal",capacity:30,floor:"1",building:"Ana Bina",equipment:[],shortName:o.shortName||h(o.name),color:o.color||f()};e(i?{classrooms:c.map(q=>q.id===i.id?z:q)}:{classrooms:[...c,z]}),E()},E=()=>{l({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""}),A(null),s(!1)},_=L=>{l({name:L.name,shortName:L.shortName||h(L.name),classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:L.color||f(),floors:L.floor,nearbyClassrooms:""}),A(L),s(!0)},w=L=>{e({classrooms:c.filter(z=>z.id!==L)})};ui.useEffect(()=>{o.name&&!i&&l(L=>({...L,shortName:h(L.name)}))},[o.name,i]),ui.useEffect(()=>{o.name&&!i&&!o.color&&l(L=>({...L,color:f()}))},[o.name,i]);const v=L=>{var z;return((z=p.find(q=>q.value===L))==null?void 0:z.label)||L},I=L=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[L]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Kh,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Derslik Yönetimi"}),a.jsx("p",{className:"text-gray-600",children:"Derslikleri tanımlayın ve özelliklerini belirleyin"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Derslikler"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," derslik tanımlandı"]})]}),a.jsx(He,{onClick:()=>s(!0),icon:Ur,variant:"primary",children:"Yeni Derslik"})]}),c.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(Kh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Derslik Eklenmemiş"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Program oluşturmak için en az bir derslik tanımlamalısınız"}),a.jsx(He,{onClick:()=>s(!0),icon:Ur,variant:"primary",children:"İlk Dersliği Ekle"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(L=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:L.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${I(L.type)}`,children:v(L.type)})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>_(L),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:a.jsx(bA,{size:16})}),a.jsx("button",{onClick:()=>w(L.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:a.jsx(xr,{size:16})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Kapasite:"}),a.jsxs("span",{className:"font-medium",children:[L.capacity," kişi"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Konum:"}),a.jsxs("span",{className:"font-medium",children:[L.building," - ",L.floor,". Kat"]})]}),L.equipment&&L.equipment.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:L.equipment.map(z=>{const q=g.find(U=>U.id===z);return q?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[a.jsx(q.icon,{size:12,className:"mr-1"}),q.label]},z):null})})]})]})]},L.id))}),a.jsx(fi,{isOpen:n,onClose:E,title:i?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"İsim",value:o.name,onChange:L=>l({...o,name:L}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),a.jsx(Zt,{label:"Kısaltma",value:o.shortName,onChange:L=>l({...o,shortName:L}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),a.jsx(Zt,{label:"Sınıfın Dersliği",value:o.classLevel,onChange:L=>l({...o,classLevel:L}),placeholder:"Hangi sınıfın dersliği"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"sharedClassroom",checked:o.sharedClassroom,onChange:L=>l({...o,sharedClassroom:L.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"sharedClassroom",className:"text-sm font-medium text-gray-700",children:"Ortak Derslik"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"needsSpecialEquipment",checked:o.needsSpecialEquipment,onChange:L=>l({...o,needsSpecialEquipment:L.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"needsSpecialEquipment",className:"text-sm font-medium text-gray-700",children:"Nöbet/Gözetim Gereken Alan"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"Renk",value:o.color,onChange:L=>l({...o,color:L}),placeholder:"Otomatik atanır",disabled:!0}),a.jsx(Zt,{label:"Ziller",value:o.floors,onChange:L=>l({...o,floors:L}),placeholder:"Kat bilgisi"})]}),a.jsx(Zt,{label:"Yakındaki Derslikler",value:o.nearbyClassrooms,onChange:L=>l({...o,nearbyClassrooms:L}),placeholder:"Komşu derslikler"}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(He,{type:"button",onClick:E,variant:"secondary",children:"İptal"}),a.jsx(He,{type:"submit",variant:"primary",children:i?"Güncelle":"Tamamla"})]})]})})]})},GR=({selectedTeachers:t,onSelectedTeachersChange:e})=>{const{data:r,add:n,update:s,remove:i}=St("teachers"),{success:A,error:o}=mi(),[l,c]=le.useState(!1),[h,f]=le.useState(null),[p,g]=le.useState({name:"",surname:"",shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:"",level:""}),b=async B=>{B.preventDefault();try{const k=`${p.name} ${p.surname}`.trim(),P={name:k,branch:p.branch||"Genel",level:p.level||"İlkokul"};h?(await s(h.id,P),A("✅ Güncellendi",`${k} başarıyla güncellendi`)):(await n(P),A("✅ Eklendi",`${k} başarıyla eklendi`)),E()}catch{o("❌ Hata","Öğretmen kaydedilirken bir hata oluştu")}},E=()=>{g({name:"",surname:"",shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:"",level:""}),f(null),c(!1)},_=B=>{const k=B.name.split(" "),P=k[0]||"",N=k.slice(1).join(" ")||"";g({name:P,surname:N,shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:B.branch,level:B.level}),f(B),c(!0)},w=async B=>{const k=r.find(P=>P.id===B);if(k&&window.confirm(`${k.name} öğretmenini silmek istediğinizden emin misiniz?`))try{await i(B),A("🗑️ Silindi",`${k.name} başarıyla silindi`);const P=t.filter(N=>N!==B);e(P)}catch{o("❌ Hata","Öğretmen silinirken bir hata oluştu")}},v=B=>{t.includes(B)?e(t.filter(k=>k!==B)):e([...t,B])},I=()=>{t.length===r.length?e([]):e(r.map(B=>B.id))},L=Ks.map(B=>({value:B,label:B})),z=[{value:"",label:"Seçiniz..."},{value:"Öğretmen",label:"Öğretmen"},{value:"Başöğretmen",label:"Başöğretmen"},{value:"Uzman Öğretmen",label:"Uzman Öğretmen"},{value:"Müdür Yardımcısı",label:"Müdür Yardımcısı"},{value:"Müdür",label:"Müdür"}],q=[{value:"",label:"Seçiniz..."},{value:"Erkek",label:"Erkek"},{value:"Kadın",label:"Kadın"}],U=[...r].sort((B,k)=>B.name.localeCompare(k.name,"tr"));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Mr,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Öğretmen Seçimi"}),a.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek öğretmenleri seçin"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"w-6 h-6 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Öğretmenler"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[r.length," öğretmen • ",t.length," seçili"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[r.length>0&&a.jsx(He,{onClick:I,variant:"secondary",size:"sm",children:t.length===r.length?"Hiçbirini Seçme":"Tümünü Seç"}),a.jsx(He,{onClick:()=>c(!0),icon:Ur,variant:"primary",size:"sm",children:"Öğretmen Ekle"})]})]}),U.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[a.jsx(Mr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz öğretmen eklenmemiş"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"İlk öğretmeninizi ekleyerek başlayın"}),a.jsx(He,{onClick:()=>c(!0),icon:Ur,variant:"primary",children:"Öğretmen Ekle"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map(B=>{const k=t.includes(B.id);return a.jsxs("div",{className:`relative bg-white rounded-lg border-2 p-4 transition-all duration-200 cursor-pointer ${k?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>v(B.id),children:[a.jsx("div",{className:`absolute top-3 right-3 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${k?"bg-blue-500 border-blue-500":"border-gray-300 bg-white"}`,children:k&&a.jsx(xN,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"pr-8",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:B.name}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Branş:"})," ",B.branch]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B.level==="Anaokulu"?"bg-green-100 text-green-800":B.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:B.level})]})]}),a.jsxs("div",{className:"absolute bottom-3 right-3 flex space-x-1",children:[a.jsx("button",{onClick:P=>{P.stopPropagation(),_(B)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Düzenle",children:a.jsx(bA,{size:14})}),a.jsx("button",{onClick:P=>{P.stopPropagation(),w(B.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Sil",children:a.jsx(xr,{size:14})})]})]},B.id)})}),r.length>0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Seçim Özeti"}),a.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[t.length," öğretmen seçildi"]})]}),t.length>0&&a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xs text-blue-600",children:"Seçilen öğretmenler program oluşturma sürecinde kullanılacak"})})]})}),a.jsx(fi,{isOpen:l,onClose:E,title:h?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",size:"lg",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"İsim",value:p.name,onChange:B=>g({...p,name:B}),placeholder:"Örn: Ahmet",required:!0}),a.jsx(Zt,{label:"Soy isim",value:p.surname,onChange:B=>g({...p,surname:B}),placeholder:"Örn: Yılmaz",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"Kısaltma",value:p.shortName,onChange:B=>g({...p,shortName:B}),placeholder:"Örn: AY"}),a.jsx(Xt,{label:"Rütbe",value:p.rank,onChange:B=>g({...p,rank:B}),options:z})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Cinsiyet",value:p.gender,onChange:B=>g({...p,gender:B}),options:q}),a.jsx(Zt,{label:"Ünvan",value:p.title,onChange:B=>g({...p,title:B}),placeholder:"Örn: Sınıf Öğretmeni"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"İşim son eki",value:p.lastAddition,onChange:B=>g({...p,lastAddition:B}),placeholder:""}),a.jsx(Zt,{label:"Derslikler",value:p.classrooms,onChange:B=>g({...p,classrooms:B}),placeholder:"Örn: A101, B205"})]}),a.jsx(Zt,{label:"Numara",value:p.phoneNumber,onChange:B=>g({...p,phoneNumber:B}),placeholder:"Örn: 0555 123 45 67"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"Branş",value:p.branch,onChange:B=>g({...p,branch:B}),placeholder:"Örn: Matematik, Türkçe"}),a.jsx(Xt,{label:"Eğitim Seviyesi",value:p.level,onChange:B=>g({...p,level:B}),options:L})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(He,{type:"button",onClick:E,variant:"secondary",children:"İptal"}),a.jsx(He,{type:"submit",variant:"primary",children:h?"Güncelle":"Tamamla"})]})]})})]})},Wa={unavailable:{label:"Müsait Değil",description:"Bu zaman diliminde kesinlikle ders verilemez",color:"bg-red-100 border-red-300 text-red-800",icon:"🚫"},preferred:{label:"Tercih Edilen",description:"Bu zaman dilimi tercih edilir",color:"bg-green-100 border-green-300 text-green-800",icon:"✅"},restricted:{label:"Kısıtlı",description:"Bu zaman diliminde sınırlı ders verilebilir",color:"bg-yellow-100 border-yellow-300 text-yellow-800",icon:"⚠️"}},qR=({entityType:t,entityId:e,entityName:r,entityLevel:n,constraints:s,onConstraintsChange:i,onSave:A,hasUnsavedChanges:o})=>{const[l,c]=le.useState("unavailable"),[h,f]=le.useState(!1);le.useEffect(()=>{if(!h&&e){if(s.filter(v=>v.entityId===e).length===0){const v=[];Dt.forEach(L=>{Bn.forEach(z=>{const q={id:`${e}-${L}-${z}-default`,entityType:t,entityId:e,day:L,period:z,constraintType:"preferred",reason:`Default tercih edilen - ${r}`,createdAt:new Date,updatedAt:new Date};v.push(q)})});const I=[...s,...v];i(I),console.log('✅ Default "tercih edilen" kısıtlamalar oluşturuldu:',{entityName:r,entityId:e,constraintCount:v.length})}f(!0)}},[e,r,t,s,i,h]);const p=(w,v)=>s.find(I=>I.entityId===e&&I.day===w&&I.period===v),g=(w,v)=>{console.log("🔄 Slot tıklandı:",{day:w,period:v,selectedConstraintType:l,entityId:e,entityName:r});const I=p(w,v);if(I)if(I.constraintType===l){const L=s.map(z=>z.entityId===e&&z.day===w&&z.period===v?{...z,constraintType:"preferred",reason:`Tercih edilen - ${r}`,updatedAt:new Date}:z);i(L),console.log('✅ Kısıtlama "tercih edilen"e değiştirildi')}else{const L=s.map(z=>z.entityId===e&&z.day===w&&z.period===v?{...z,constraintType:l,reason:`${Wa[l].label} - ${r}`,updatedAt:new Date}:z);i(L),console.log("✅ Kısıtlama değiştirildi:",{from:I.constraintType,to:l})}else{const L={id:`${e}-${w}-${v}-${Date.now()}`,entityType:t,entityId:e,day:w,period:v,constraintType:l,reason:`${Wa[l].label} - ${r}`,createdAt:new Date,updatedAt:new Date};i([...s,L]),console.log("✅ Yeni kısıtlama oluşturuldu:",L)}},b=()=>{console.log('🔄 Tüm kısıtlamalar "tercih edilen"e sıfırlanıyor');const w=s.map(v=>v.entityId===e?{...v,constraintType:"preferred",reason:`Tercih edilen - ${r}`,updatedAt:new Date}:v);i(w),console.log("✅ Tüm kısıtlamalar sıfırlandı")},E=w=>{const v=t0(w,n);return v?r0(v.startTime,v.endTime):`${w}. Ders`},_=w=>s.filter(v=>v.entityId===e&&v.constraintType===w).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r," - Zaman Kısıtlamaları"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"inline-flex items-center text-green-600 font-medium",children:[a.jsx(Wl,{className:"w-4 h-4 mr-1"}),'Varsayılan: Tüm saatler "Tercih Edilen"']}),a.jsx("span",{className:"mx-2",children:"•"}),"Zaman dilimlerine tıklayarak kısıtlama değiştirin"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[o&&a.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800",children:[a.jsx(Ms,{className:"w-4 h-4 mr-1"}),"Kaydedilmedi"]}),a.jsx(He,{onClick:b,icon:CN,variant:"secondary",size:"sm",title:"Tüm saatleri 'Tercih Edilen' yap",children:"Sıfırla"}),a.jsx(He,{onClick:A,icon:ig,variant:"primary",size:"sm",disabled:!o,children:"Kaydet"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Mevcut Dağılım"}),a.jsx("div",{className:"space-y-3",children:Object.entries(Wa).map(([w,v])=>{const I=_(w);return a.jsxs("div",{className:`p-3 rounded-lg border-2 ${v.color}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:v.icon}),a.jsx("span",{className:"font-medium text-sm",children:v.label})]}),a.jsx("span",{className:"text-lg font-bold",children:I})]}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:v.description})]},w)})})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Değiştirmek İçin Seçin"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: unavailable"),c("unavailable")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="unavailable"?"bg-red-100 border-red-300 text-red-800 ring-2 ring-red-500 ring-opacity-50":"bg-white border-gray-200 hover:border-red-300 hover:bg-red-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zh,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Müsait Değil"}),a.jsx("div",{className:"text-xs opacity-75",children:"Program oluşturmayı engeller"})]})]})}),a.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: restricted"),c("restricted")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="restricted"?"bg-yellow-100 border-yellow-300 text-yellow-800 ring-2 ring-yellow-500 ring-opacity-50":"bg-white border-gray-200 hover:border-yellow-300 hover:bg-yellow-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ms,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Kısıtlı"}),a.jsx("div",{className:"text-xs opacity-75",children:"Uyarı verir ama engel olmaz"})]})]})}),a.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: preferred"),c("preferred")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="preferred"?"bg-green-100 border-green-300 text-green-800 ring-2 ring-green-500 ring-opacity-50":"bg-white border-gray-200 hover:border-green-300 hover:bg-green-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wl,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Tercih Edilen"}),a.jsx("div",{className:"text-xs opacity-75",children:"Normal program oluşturma"})]})]})})]})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Nasıl Kullanılır"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(jo,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"1."})," Yukarıdan kısıtlama türü seçin"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"2."})," Zaman tablosunda istediğiniz saate tıklayın"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"3."}),' Aynı türe tekrar tıklayarak "tercih edilen"e dönebilirsiniz']}),a.jsxs("p",{children:[a.jsx("strong",{children:"4."})," Değişiklikleri kaydetmeyi unutmayın!"]})]})]})}),a.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:Wa[l].icon}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-purple-800 text-sm",children:["Seçili: ",Wa[l].label]}),a.jsx("div",{className:"text-xs text-purple-600",children:Wa[l].description})]})]})})]})]})}),a.jsx("div",{className:"border-t border-gray-200",children:a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase sticky left-0 bg-gray-50 z-10",children:"Ders Saati"}),Dt.map(w=>a.jsxs("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:[a.jsx("div",{className:"font-bold",children:w}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[s.filter(v=>v.entityId===e&&v.day===w&&v.constraintType!=="preferred").length," kısıtlı"]})]},w))]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:Bn.map((w,v)=>{const I=E(w);return a.jsxs("tr",{className:v%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 bg-gray-50 sticky left-0 z-10 border-r border-gray-200",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-bold text-sm",children:[w,". Ders"]}),a.jsxs("div",{className:"text-xs text-gray-600 mt-1 flex items-center justify-center",children:[a.jsx(ji,{className:"w-3 h-3 mr-1"}),I]})]})}),Dt.map(L=>{const z=p(L,w),q=z?Wa[z.constraintType]:Wa.preferred;return a.jsx("td",{className:"px-2 py-2",children:a.jsx("button",{onClick:()=>g(L,w),className:`w-full min-h-[70px] p-3 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${q.color} hover:opacity-80 hover:scale-105 hover:shadow-md`,title:(z==null?void 0:z.constraintType)==="preferred"?"✅ Tercih edilen saat - Değiştirmek için tıklayın":`${q.icon} ${q.label} - Tercih edilene dönmek için tıklayın`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xl mb-1",children:q.icon}),a.jsx("div",{className:"text-xs font-medium leading-tight",children:q.label}),(z==null?void 0:z.constraintType)!=="preferred"&&a.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Tıkla → Tercih edilen"})]})})},`${L}-${w}`)})]},w)})})]})})}),a.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:_("preferred")}),a.jsx("div",{className:"text-xs text-gray-600",children:"Tercih Edilen"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-red-600",children:_("unavailable")}),a.jsx("div",{className:"text-xs text-gray-600",children:"Müsait Değil"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-yellow-600",children:_("restricted")}),a.jsx("div",{className:"text-xs text-gray-600",children:"Kısıtlı"})]})]}),o&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm text-yellow-600 font-medium",children:"Değişiklikler kaydedilmedi"}),a.jsx(He,{onClick:A,icon:ig,variant:"primary",size:"sm",children:"Kaydet"})]})]})})]})},$R=({data:t,onUpdate:e,teachers:r,classes:n,subjects:s})=>{var we,de,ve;const[i,A]=le.useState("global"),[o,l]=le.useState(""),[c,h]=le.useState([]),[f,p]=le.useState(!1);le.useEffect(()=>{t.constraints||e({constraints:{timeConstraints:[],globalRules:{maxDailyHoursTeacher:8,maxDailyHoursClass:9,maxConsecutiveHours:3,avoidConsecutiveSameSubject:!0,preferMorningHours:!0,avoidFirstLastPeriod:!1,lunchBreakRequired:!0,lunchBreakDuration:1}}})},[t,e]),le.useEffect(()=>{var ae;const H=((ae=t.constraints)==null?void 0:ae.timeConstraints)||[];console.log("🔄 Wizard constraints yükleniyor:",H),h([...H]),p(!1)},[(we=t.constraints)==null?void 0:we.timeConstraints,o]),le.useEffect(()=>{var Y;const H=((Y=t.constraints)==null?void 0:Y.timeConstraints)||[],ae=JSON.stringify(c)!==JSON.stringify(H);p(ae),console.log("📊 Constraint değişiklik durumu:",{hasChanges:ae,localCount:c.length,wizardCount:H.length})},[c,(de=t.constraints)==null?void 0:de.timeConstraints]);const g=()=>{switch(i){case"teachers":return r.filter(H=>{var ae,Y;return(Y=(ae=t.teachers)==null?void 0:ae.selectedTeachers)==null?void 0:Y.includes(H.id)}).sort((H,ae)=>H.name.localeCompare(ae.name,"tr")).map(H=>({value:H.id,label:`${H.name} (${H.branch} - ${H.level})`}));case"classes":return n.filter(H=>{var ae,Y;return(Y=(ae=t.classes)==null?void 0:ae.selectedClasses)==null?void 0:Y.includes(H.id)}).sort((H,ae)=>H.name.localeCompare(ae.name,"tr")).map(H=>({value:H.id,label:`${H.name} (${H.level})`}));case"subjects":return s.filter(H=>{var ae,Y;return(Y=(ae=t.subjects)==null?void 0:ae.selectedSubjects)==null?void 0:Y.includes(H.id)}).sort((H,ae)=>H.name.localeCompare(ae.name,"tr")).map(H=>({value:H.id,label:`${H.name} (${H.branch} - ${H.level})`}));default:return[]}},b=()=>{if(!o)return null;switch(i){case"teachers":return r.find(H=>H.id===o);case"classes":return n.find(H=>H.id===o);case"subjects":return s.find(H=>H.id===o);default:return null}},E=H=>H&&H.name||"",_=H=>{if(!H)return"";switch(i){case"teachers":return`${H.branch} - ${H.level}`;case"classes":return H.level;case"subjects":return`${H.branch} - ${H.level}`;default:return""}},w=()=>{switch(i){case"teachers":return a5;case"classes":return us;case"subjects":return Vi;default:return ji}},v=()=>{switch(i){case"teachers":return"text-blue-600";case"classes":return"text-emerald-600";case"subjects":return"text-indigo-600";default:return"text-purple-600"}},I=(H,ae)=>{var Y;console.log("🔄 Global constraint değişikliği:",{key:H,value:ae}),e({constraints:{...t.constraints,globalRules:{...(Y=t.constraints)==null?void 0:Y.globalRules,[H]:ae}}})},L=H=>{console.log("🔄 Constraints değiştirildi:",{newCount:H.length,selectedEntity:o,entityType:i}),h(H),p(!0)},z=()=>{if(!o){console.warn("⚠️ Seçili entity yok, kaydetme iptal edildi");return}console.log("💾 Constraints kaydediliyor:",{entityId:o,entityType:i,constraintsCount:c.length}),e({constraints:{...t.constraints,timeConstraints:c}}),p(!1),console.log("✅ Constraints başarıyla kaydedildi")},q=((ve=t.constraints)==null?void 0:ve.globalRules)||{},U=w(),B=v(),k=b(),P=E(k),N=_(k),F=k&&"level"in k?k.level:void 0,j=[{id:"global",label:"Genel Kurallar",icon:_N},{id:"teachers",label:"Öğretmenler",icon:a5},{id:"classes",label:"Sınıflar",icon:us},{id:"subjects",label:"Dersler",icon:Vi}],se=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Günlük Limitler"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Öğretmen)"}),a.jsx("input",{type:"number",min:"1",max:"10",value:q.maxDailyHoursTeacher||8,onChange:H=>I("maxDailyHoursTeacher",parseInt(H.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Sınıf)"}),a.jsx("input",{type:"number",min:"1",max:"10",value:q.maxDailyHoursClass||9,onChange:H=>I("maxDailyHoursClass",parseInt(H.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ardışık Ders Kuralları"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Ardışık Ders"}),a.jsx("input",{type:"number",min:"1",max:"5",value:q.maxConsecutiveHours||3,onChange:H=>I("maxConsecutiveHours",parseInt(H.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"avoidConsecutive",checked:q.avoidConsecutiveSameSubject||!1,onChange:H=>I("avoidConsecutiveSameSubject",H.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"avoidConsecutive",className:"text-sm text-gray-700",children:"Aynı dersin ardışık olmasını önle"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Zaman Tercihleri"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"preferMorning",checked:q.preferMorningHours||!1,onChange:H=>I("preferMorningHours",H.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"preferMorning",className:"text-sm text-gray-700",children:"Sabah saatlerini tercih et"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"avoidFirstLast",checked:q.avoidFirstLastPeriod||!1,onChange:H=>I("avoidFirstLastPeriod",H.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"avoidFirstLast",className:"text-sm text-gray-700",children:"İlk ve son dersleri önle"})]})]})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(ji,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Zaman Kısıtlamaları"}),a.jsx("p",{className:"text-gray-600",children:"Program oluşturma kurallarını ve zaman kısıtlamalarını belirleyin"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:j.map(H=>a.jsxs("button",{onClick:()=>{console.log("🔄 Tab değiştirildi:",H.id),A(H.id),l(""),p(!1)},className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===H.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(H.icon,{className:"w-4 h-4 mr-2"}),H.label]},H.id))})}),a.jsxs("div",{className:"mt-6",children:[i==="global"&&se(),i!=="global"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx(Xt,{label:`${i==="teachers"?"Öğretmen":i==="classes"?"Sınıf":"Ders"} Seçin`,value:o,onChange:H=>{console.log("🔄 Entity seçildi:",{activeTab:i,entityId:H}),l(H),p(!1)},options:[{value:"",label:"Seçiniz..."},...g()]})}),o&&o!==""?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white shadow-sm",children:a.jsx(U,{className:`w-5 h-5 ${B}`})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:P}),a.jsx("p",{className:"text-sm text-gray-600",children:N})]})]}),f&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Kaydedilmemiş değişiklikler"})]})}),a.jsx(qR,{entityType:i==="teachers"?"teacher":i==="classes"?"class":"subject",entityId:o,entityName:P,entityLevel:F,constraints:c,onConstraintsChange:L,onSave:z,hasUnsavedChanges:f})]}):a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(U,{className:"w-8 h-8 text-gray-400"})}),a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[i==="teachers"?"Öğretmen":i==="classes"?"Sınıf":"Ders"," Seçin"]}),a.jsxs("p",{className:"text-gray-500 max-w-md mx-auto",children:["Zaman kısıtlaması eklemek için yukarıdan bir ",i==="teachers"?"öğretmen":i==="classes"?"sınıf":"ders"," seçin"]})]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ms,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800",children:"Kısıtlama Önerileri"}),a.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Tercih Edilen:"})," Bu saatte ders atanabilir (varsayılan)"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Kısıtlı:"})," Mümkünse bu saatte ders atanmasın, gerekirse atanabilir"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Müsait Değil:"})," Bu saatte kesinlikle ders atanmasın"]}),a.jsx("li",{children:"• Öğretmenlerin özel durumları (toplantı, nöbet vb.) için kısıtlama ekleyin"}),a.jsx("li",{children:"• Sınıfların özel etkinlikleri için zaman bloklarını işaretleyin"})]})]})]})})]})};function WR(t,e){const r={isFixed:!0},n=e==="Ortaokul"?"6":"5",s={prep:{...r,subjectId:"Hazırlık/Kahvaltı"},"afternoon-breakfast":{...r,subjectId:"İkindi Kahvaltısı"},[n]:{...r,subjectId:"Yemek"}};e==="Ortaokul"&&(s.breakfast={...r,subjectId:"Kahvaltı"}),Dt.forEach(i=>{Object.entries(s).forEach(([A,o])=>{t[i][A]=o})})}function SN(t,e,r,n,s){var g,b,E;const i=Date.now();console.log("🚀 Program oluşturma başlatıldı (v4 - Esnek Yerleştirme)...");const A={},o={};r.forEach(_=>{t.some(w=>w.classId===_.id)&&(A[_.id]={},Dt.forEach(w=>{A[_.id][w]={}}),WR(A[_.id],_.level))}),e.forEach(_=>{o[_.id]=new Set}),s.forEach(_=>{if(_.constraintType==="unavailable"){const w=`${_.day}-${_.period}`;_.entityType==="teacher"&&o[_.entityId]&&o[_.entityId].add(w)}});const l=[];t.forEach(_=>{for(let w=0;w<_.weeklyHours;w++)l.push({..._,assignedHours:0})}),l.sort(()=>Math.random()-.5);let c=0;for(const _ of l){let w=!1;const v=[...Dt].sort(()=>Math.random()-.5);for(const I of v){const L=[...Bn].sort(()=>Math.random()-.5);for(const z of L){const q=`${I}-${z}`,U=!((b=(g=A[_.classId])==null?void 0:g[I])!=null&&b[z]),B=!((E=o[_.teacherId])!=null&&E.has(q));if(U&&B){A[_.classId][I][z]={subjectId:_.subjectId,teacherId:_.teacherId,classId:_.classId},o[_.teacherId].add(q),w=!0;break}}if(w)break}if(w){c++;const I=t.find(L=>L.id===_.id);I&&I.assignedHours++}}const h={};Object.values(A).forEach(_=>{Object.entries(_).forEach(([w,v])=>{Object.entries(v).forEach(([I,L])=>{L&&L.teacherId&&!L.isFixed&&(h[L.teacherId]||(h[L.teacherId]={}),h[L.teacherId][w]||(h[L.teacherId][w]={}),h[L.teacherId][w][I]={classId:L.classId,subjectId:L.subjectId,isFixed:!1})})})});const f=Object.entries(h).map(([_,w])=>({teacherId:_,schedule:w,updatedAt:new Date})),p={totalLessonsToPlace:l.length,placedLessons:c,unassignedLessons:[]};return t.forEach(_=>{var w,v,I;_.assignedHours<_.weeklyHours&&p.unassignedLessons.push({className:(w=r.find(L=>L.id===_.classId))==null?void 0:w.name,subjectName:(v=n.find(L=>L.id===_.subjectId))==null?void 0:v.name,teacherName:(I=e.find(L=>L.id===_.teacherId))==null?void 0:I.name,missingHours:_.weeklyHours-_.assignedHours})}),console.log(`✅ Program oluşturma tamamlandı. Süre: ${(Date.now()-i)/1e3} saniye.`),console.log(`📊 İstatistik: ${p.placedLessons} / ${p.totalLessonsToPlace} ders yerleştirildi.`),{success:!0,schedules:f,statistics:p,warnings:p.unassignedLessons.length>0?["Bazı dersler programda tam olarak yerleştirilemedi."]:[],errors:[]}}const YR=({data:t,wizardData:e,onUpdate:r,onGenerate:n,isGenerating:s})=>{var P,N,F,j,se,we,de,ve;const[i,A]=le.useState(!1),[o,l]=le.useState(null),[c,h]=le.useState(null),[f,p]=le.useState(!1),g=[],b=[],E=[],_=[{value:"balanced",label:"Dengeli Dağılım",description:"Öğretmen ve sınıf yüklerini eşit dağıtır"},{value:"compact",label:"Kompakt Program",description:"Dersleri mümkün olduğunca sıkıştırır"},{value:"distributed",label:"Dağıtılmış Program",description:"Dersleri hafta boyunca eşit dağıtır"}],w=[{value:"fast",label:"Hızlı (1-2 dakika)",description:"Temel optimizasyon, hızlı sonuç"},{value:"balanced",label:"Dengeli (3-5 dakika)",description:"İyi kalite ve makul süre"},{value:"thorough",label:"Kapsamlı (5-10 dakika)",description:"En iyi kalite, uzun süre"}],v=(H,ae)=>{const Y={...t,[H]:ae};r(Y)},I=()=>{var K,X,re,ee,te,J,ie,oe,me;const H=[],ae=[];(!((K=e.subjects)!=null&&K.selectedSubjects)||e.subjects.selectedSubjects.length===0)&&H.push("Hiç ders seçilmemiş"),(!((X=e.classes)!=null&&X.selectedClasses)||e.classes.selectedClasses.length===0)&&H.push("Hiç sınıf seçilmemiş"),(!((re=e.teachers)!=null&&re.selectedTeachers)||e.teachers.selectedTeachers.length===0)&&H.push("Hiç öğretmen seçilmemiş"),(!((ee=e.classrooms)!=null&&ee.selectedClassrooms)||e.classrooms.selectedClassrooms.length===0)&&H.push("Hiç derslik seçilmemiş");const Y=(te=e.subjects)!=null&&te.subjectHours?Object.values(e.subjects.subjectHours).reduce((Ee,Ce)=>Ee+Ce,0):0,ce=((ie=(J=e.classes)==null?void 0:J.selectedClasses)==null?void 0:ie.length)||0,Q=((me=(oe=e.teachers)==null?void 0:oe.selectedTeachers)==null?void 0:me.length)||0;return Y>45&&ae.push("Haftalık toplam ders saati çok yüksek (45+ saat)"),Q<ce&&ae.push("Öğretmen sayısı sınıf sayısından az"),{issues:H,warnings:ae}},{issues:L,warnings:z}=I(),q=L.length===0,U=()=>{var X,re,ee,te,J,ie;const H={fast:2,balanced:4,thorough:8}[t.optimizationLevel||"balanced"],ae=((re=(X=e.subjects)==null?void 0:X.selectedSubjects)==null?void 0:re.length)||0,Y=((te=(ee=e.classes)==null?void 0:ee.selectedClasses)==null?void 0:te.length)||0,ce=((ie=(J=e.teachers)==null?void 0:J.selectedTeachers)==null?void 0:ie.length)||0,Q=ae*Y*ce,K=Q>100?1.5:Q>50?1.2:1;return Math.round(H*K)},B={algorithm:"balanced",optimizationLevel:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,generateMultipleOptions:!1,allowOverlaps:!1,...t},k=async()=>{var H;h(null),l(null),p(!0);try{const ae=await SN(e,g,b,E);l(ae),ae.success||h(((H=ae.errors)==null?void 0:H.join(`
`))||"Program oluşturulamadı.")}catch(ae){h((ae==null?void 0:ae.message)||"Bilinmeyen hata oluştu.")}finally{p(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(e0,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Program Oluşturma ve Optimizasyon"}),a.jsx("p",{className:"text-gray-600",children:"Algoritma ayarlarını yapın ve otomatik program oluşturmayı başlatın"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[a.jsx(wN,{className:"w-5 h-5 mr-2 text-blue-600"}),"Hazırlık Durumu"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((N=(P=e.subjects)==null?void 0:P.selectedSubjects)==null?void 0:N.length)||0}),a.jsx("div",{className:"text-xs text-blue-700",children:"Ders"})]}),a.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:((j=(F=e.classes)==null?void 0:F.selectedClasses)==null?void 0:j.length)||0}),a.jsx("div",{className:"text-xs text-emerald-700",children:"Sınıf"})]}),a.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:((we=(se=e.teachers)==null?void 0:se.selectedTeachers)==null?void 0:we.length)||0}),a.jsx("div",{className:"text-xs text-indigo-700",children:"Öğretmen"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((ve=(de=e.classrooms)==null?void 0:de.selectedClassrooms)==null?void 0:ve.length)||0}),a.jsx("div",{className:"text-xs text-purple-700",children:"Derslik"})]})]}),L.length>0&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ms,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-red-800 mb-1",children:"Kritik Sorunlar:"}),a.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:L.map((H,ae)=>a.jsxs("li",{children:["• ",H]},ae))})]})]})}),z.length>0&&a.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ms,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-yellow-800 mb-1",children:"Uyarılar:"}),a.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:z.map((H,ae)=>a.jsxs("li",{children:["• ",H]},ae))})]})]})}),q&&a.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wl,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:"Tüm gereksinimler karşılandı! Program oluşturmaya hazır."})]})})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(_N,{className:"w-5 h-5 mr-2 text-purple-600"}),"Algoritma Ayarları"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Türü"}),a.jsx("div",{className:"space-y-2",children:_.map(H=>a.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"algorithm",value:H.value,checked:B.algorithm===H.value,onChange:ae=>v("algorithm",ae.target.value),className:"mt-1"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:H.label}),a.jsx("div",{className:"text-xs text-gray-600",children:H.description})]})]},H.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Optimizasyon Seviyesi"}),a.jsx("div",{className:"space-y-2",children:w.map(H=>a.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"optimization",value:H.value,checked:B.optimizationLevel===H.value,onChange:ae=>v("optimizationLevel",ae.target.value),className:"mt-1"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:H.label}),a.jsx("div",{className:"text-xs text-gray-600",children:H.description})]})]},H.value))})]}),a.jsxs("div",{children:[a.jsx("button",{onClick:()=>A(!i),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:i?"Gelişmiş ayarları gizle":"Gelişmiş ayarları göster"}),i&&a.jsxs("div",{className:"mt-4 space-y-3 p-3 bg-gray-50 rounded-lg",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.prioritizeTeacherPreferences||!1,onChange:H=>v("prioritizeTeacherPreferences",H.target.checked)}),a.jsx("span",{className:"text-sm",children:"Öğretmen tercihlerini öncelikle"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.prioritizeClassPreferences||!1,onChange:H=>v("prioritizeClassPreferences",H.target.checked)}),a.jsx("span",{className:"text-sm",children:"Sınıf tercihlerini öncelikle"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.generateMultipleOptions||!1,onChange:H=>v("generateMultipleOptions",H.target.checked)}),a.jsx("span",{className:"text-sm",children:"Birden fazla seçenek oluştur"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:B.allowOverlaps||!1,onChange:H=>v("allowOverlaps",H.target.checked)}),a.jsx("span",{className:"text-sm",children:"Çakışmalara izin ver (acil durumlar için)"})]})]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Program Oluşturmaya Hazır!"}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Tahmini süre: ",a.jsxs("span",{className:"font-medium text-purple-600",children:[U()," dakika"]})]}),f?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),a.jsx("span",{className:"text-purple-600 font-medium",children:"Program oluşturuluyor..."})]}),a.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:a.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"45%"}})}),a.jsx("p",{className:"text-xs text-gray-600",children:"Bu işlem birkaç dakika sürebilir. Lütfen sayfayı kapatmayın."})]}):a.jsx(He,{onClick:k,icon:bN,variant:"primary",size:"lg",disabled:!q||f,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:"🎯 Program Oluşturmayı Başlat"})]})}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ji,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("h4",{className:"font-medium mb-1",children:"🤖 Otomatik Program Oluşturma:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsx("li",{children:"• Sistem tüm kısıtlamaları ve tercihleri dikkate alır"}),a.jsx("li",{children:"• Çakışmaları otomatik olarak tespit eder ve çözer"}),a.jsx("li",{children:"• En optimal ders dağılımını hesaplar"}),a.jsx("li",{children:"• Birden fazla alternatif program oluşturabilir"}),a.jsx("li",{children:"• Sonuçları PDF olarak indirebilirsiniz"}),a.jsx("li",{children:"• Haftalık ders saati 45'e kadar desteklenir"})]})]})]})}),c&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mt-4",children:a.jsxs("div",{className:"text-red-700 font-medium",children:["Hata: ",c]})}),o&&o.success&&a.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mt-4",children:[a.jsxs("div",{className:"text-green-700 font-medium",children:["Program başarıyla oluşturuldu! Toplam program: ",o.schedules.length]}),a.jsxs("div",{className:"text-green-700 text-sm",children:["Dolu slot: ",o.statistics.filledSlots," / ",o.statistics.totalSlots]}),a.jsxs("div",{className:"text-green-700 text-sm",children:["Çakışma: ",o.statistics.conflictCount]})]})]})};function XR(t,e,r){const n=r.find(i=>{var A;return(((A=e.teacherIds)==null?void 0:A.includes(i.id))||e.classTeacherId===i.id)&&i.branch===t.branch&&i.level===t.level});if(n)return n;const s=r.find(i=>i.branch===t.branch&&i.level===t.level);return s||null}function JR(t,e,r,n){const s=[],i=[],A=r.filter(c=>t.classes.selectedClasses.includes(c.id)),o=n.filter(c=>t.subjects.selectedSubjects.includes(c.id)),l=e.filter(c=>t.teachers.selectedTeachers.includes(c.id));for(const c of A)for(const h of o){if(c.level!==h.level){console.warn(`⚠️ Seviye uyumsuzluğu: Sınıf '${c.name}' (Seviye: ${c.level}) ile Ders '${h.name}' (Seviye: ${h.level}). Bu ders atlanıyor.`);continue}const f=XR(h,c,l);f?s.push({id:`${c.id}-${h.id}-${f.id}`,classId:c.id,className:c.name,subjectId:h.id,subjectName:h.name,teacherId:f.id,teacherName:f.name,weeklyHours:t.subjects.subjectHours[h.id]||h.weeklyHours,assignedHours:0,priority:t.subjects.subjectPriorities[h.id]||"medium"}):i.push(`'${c.name}' sınıfı için "${h.name}" dersine uygun öğretmen bulunamadı. Lütfen yeterli sayıda öğretmen seçtiğinizden ve branş/seviye uyumluluklarını kontrol ettiğinizden emin olun.`)}return{mappings:s,errors:i}}const lm=[{id:"basic-info",title:"Temel Bilgiler",description:"Program adı ve dönem bilgileri",icon:"📝"},{id:"subjects",title:"Dersler",description:"Ders seçimi ve haftalık saatler",icon:"📚"},{id:"classes",title:"Sınıflar",description:"Sınıf seçimi ve kapasiteler",icon:"🏫"},{id:"classrooms",title:"Derslikler",description:"Derslik yönetimi ve atamalar",icon:"🚪"},{id:"teachers",title:"Öğretmenler",description:"Öğretmen seçimi ve ders yükleri",icon:"👨‍🏫"},{id:"constraints",title:"Kısıtlamalar",description:"Zaman kısıtlamaları ve kurallar",icon:"⏰"},{id:"generation",title:"Program Oluştur",description:"Otomatik program oluşturma",icon:"⚡"}],ZR=()=>{const t=Mu(),e=Xo(),{data:r}=St("teachers"),{data:n}=St("classes"),{data:s}=St("subjects"),{add:i,update:A,data:o}=St("schedule-templates"),{add:l,data:c,remove:h}=St("schedules");St("constraints");const{success:f,error:p,warning:g,info:b}=mi(),[E,_]=le.useState(0),[w,v]=le.useState(null),[I,L]=le.useState({basicInfo:{name:"",academicYear:"2024/2025",semester:"",startDate:"2024-09-01",endDate:"2025-08-31",description:"",institutionTitle:"",dailyHours:8,weekDays:5,weekendClasses:!1},subjects:{selectedSubjects:[],subjectHours:{},subjectPriorities:{}},classes:{selectedClasses:[],classCapacities:{},classPreferences:{}},classrooms:[],teachers:{selectedTeachers:[],teacherSubjects:{},teacherMaxHours:{},teacherPreferences:{}},constraints:{timeConstraints:[],globalRules:{maxDailyHoursTeacher:8,maxDailyHoursClass:9,maxConsecutiveHours:3,avoidConsecutiveSameSubject:!0,preferMorningHours:!0,avoidFirstLastPeriod:!1,lunchBreakRequired:!0,lunchBreakDuration:1}},generationSettings:{algorithm:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,allowOverlaps:!1,generateMultipleOptions:!0,optimizationLevel:"balanced"}}),[z,q]=le.useState(new Set),[U,B]=le.useState(!1),[k,P]=le.useState(!1);le.useEffect(()=>{var K,X,re,ee,te,J,ie,oe;const Q=new URLSearchParams(e.search).get("templateId");if(Q&&o.length>0){const me=o.find(Ee=>Ee.id===Q);if(me&&me.wizardData){v(Q),L(me.wizardData);const Ee=new Set;(K=me.wizardData.basicInfo)!=null&&K.name&&Ee.add(0),((re=(X=me.wizardData.subjects)==null?void 0:X.selectedSubjects)==null?void 0:re.length)>0&&Ee.add(1),((te=(ee=me.wizardData.classes)==null?void 0:ee.selectedClasses)==null?void 0:te.length)>0&&Ee.add(2),((J=me.wizardData.classrooms)==null?void 0:J.length)>0&&Ee.add(3),((oe=(ie=me.wizardData.teachers)==null?void 0:ie.selectedTeachers)==null?void 0:oe.length)>0&&Ee.add(4),q(Ee),f("Şablon Yüklendi",`'${me.name}' düzenleniyor.`)}}},[e.search,o,f]),le.useEffect(()=>{if(E===4){const ce=I.classes.selectedClasses;if(ce.length>0){const Q=n.filter(X=>ce.includes(X.id)),K=new Set;if(Q.forEach(X=>{(X.teacherIds||[]).forEach(re=>K.add(re)),X.classTeacherId&&K.add(X.classTeacherId)}),K.size>0){const X=Array.from(new Set([...I.teachers.selectedTeachers,...Array.from(K)]));X.length>I.teachers.selectedTeachers.length&&(L(re=>({...re,teachers:{...re.teachers,selectedTeachers:X}})),b("Öğretmenler Otomatik Seçildi","Seçilen sınıflara atanmış öğretmenler listeye eklendi."))}}}},[E,I.classes.selectedClasses,n,b]);const N=lm[E],F=()=>{switch(N.id){case"basic-info":return!!(I.basicInfo.name&&I.basicInfo.academicYear);case"subjects":return I.subjects.selectedSubjects.length>0;case"classes":return I.classes.selectedClasses.length>0;case"classrooms":return I.classrooms.length>0;case"teachers":return I.teachers.selectedTeachers.length>0;default:return!0}},j=()=>{F()?(q(ce=>new Set([...ce,E])),E<lm.length-1&&_(E+1)):g("⚠️ Eksik Bilgi","Lütfen gerekli alanları doldurun")},se=()=>{E>0&&_(E-1)},we=ce=>{(z.has(ce)||ce<=E)&&_(ce)},de=async()=>{if(!I.basicInfo.name){g("⚠️ Program Adı Gerekli","Lütfen program adını girin");return}B(!0);try{const ce={name:I.basicInfo.name,description:I.basicInfo.description,academicYear:I.basicInfo.academicYear,semester:I.basicInfo.semester,updatedAt:new Date,wizardData:I,status:"draft",generatedSchedules:[]};if(w)await A(w,ce),f("✅ Şablon Güncellendi",`'${ce.name}' başarıyla güncellendi`);else{const Q=await i(ce);Q.success&&Q.id&&v(Q.id),f("✅ Şablon Kaydedildi",`'${ce.name}' başarıyla kaydedildi`)}}catch{p("❌ Kayıt Hatası","Şablon kaydedilirken bir hata oluştu")}finally{B(!1)}},ve=(ce,Q)=>{L(K=>({...K,[ce.replace("-","_")]:Q}))},H=ce=>{L(Q=>({...Q,teachers:{...Q.teachers,selectedTeachers:ce}}))},ae=async()=>{var ce,Q,K,X,re,ee;if(!k){if((((Q=(ce=I.teachers)==null?void 0:ce.selectedTeachers)==null?void 0:Q.length)??0)===0||(((X=(K=I.classes)==null?void 0:K.selectedClasses)==null?void 0:X.length)??0)===0||(((ee=(re=I.subjects)==null?void 0:re.selectedSubjects)==null?void 0:ee.length)??0)===0){p("Eksik Bilgi","Devam etmek için en az bir öğretmen, sınıf ve ders seçmelisiniz.");return}P(!0),b("Program Oluşturuluyor...","Bu işlem birkaç dakika sürebilir. Lütfen bekleyin.");try{const{mappings:te,errors:J}=JR(I,r,n,s);if(J.length>0){p("Planlama Hatası",`Program oluşturulamadı:
- ${J.join(`
- `)}`),P(!1);return}const ie=SN(te,r,n,s,I.constraints.timeConstraints);if(!ie.success||ie.schedules.length===0){p("Oluşturma Hatası","Program oluşturulurken bir hata oluştu veya hiç ders atanamadı. Lütfen seçimlerinizi ve kısıtlamalarınızı kontrol edin."),P(!1);return}if(ie.statistics.unassignedLessons.length>0){const Ee=ie.statistics.unassignedLessons.map(Ce=>`'${Ce.className}' > '${Ce.subjectName}': ${Ce.missingHours} saat eksik`).join(`
`);g("Eksik Dersler",`Bazı dersler yerleştirilemedi:
${Ee}`)}const oe=new Set(ie.schedules.map(Ee=>Ee.teacherId)),me=c.filter(Ee=>oe.has(Ee.teacherId));for(const Ee of me)await h(Ee.id);for(const Ee of ie.schedules)await l(Ee);f("🎉 Program Başarıyla Oluşturuldu!",`${ie.schedules.length} öğretmen için yeni program kaydedildi.`),await de(),setTimeout(()=>t("/all-schedules"),2e3)}catch(te){console.error("Program oluşturma sırasında kritik hata:",te),p("Kritik Hata","Beklenmedik bir hata oluştu. Lütfen konsolu kontrol edin.")}finally{P(!1)}}},Y=()=>{switch(N.id){case"basic-info":return a.jsx(MR,{data:I.basicInfo,onUpdate:ce=>ve("basicInfo",ce)});case"subjects":return a.jsx(VR,{data:I.subjects,onUpdate:ce=>ve("subjects",ce)});case"classes":return a.jsx(KR,{data:I,onUpdate:ce=>{ce.classes&&ve("classes",ce.classes)},classes:n});case"classrooms":return a.jsx(zR,{data:I,onUpdate:ce=>{ce.classrooms&&ve("classrooms",ce.classrooms)}});case"teachers":return a.jsx(GR,{selectedTeachers:I.teachers.selectedTeachers,onSelectedTeachersChange:H});case"constraints":return a.jsx($R,{data:I,onUpdate:ce=>{ce.constraints&&ve("constraints",ce.constraints)},teachers:r,classes:n,subjects:s});case"generation":return a.jsx(YR,{data:I.generationSettings,wizardData:I,onUpdate:ce=>ve("generationSettings",ce),onGenerate:ae,isGenerating:k});default:return a.jsx("div",{children:"Bilinmeyen adım"})}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(e0,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:w?"Program Düzenleme":"Program Oluşturma Sihirbazı"}),a.jsx("p",{className:"text-sm text-gray-600",children:`Adım ${E+1}: ${N.title}`})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(He,{onClick:de,icon:ig,variant:"secondary",disabled:U||!I.basicInfo.name,children:U?"Kaydediliyor...":"Şablonu Kaydet"}),a.jsx(He,{onClick:()=>t("/"),variant:"secondary",children:"İptal"})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Adımlar"}),a.jsx("div",{className:"space-y-2",children:lm.map((ce,Q)=>{const K=z.has(Q),X=Q===E,re=z.has(Q)||X||z.has(Q-1)||Q===0;return a.jsx("button",{onClick:()=>we(Q),disabled:!re,className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-[1.02] ${X?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-400 shadow-lg ring-2 ring-blue-200":K?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 hover:border-green-400 shadow-md":re?"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm hover:shadow-md":"bg-gray-50 border-gray-100 text-gray-400 cursor-not-allowed opacity-60"}`,children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm transition-all duration-300 ${X?"bg-gradient-to-r from-blue-500 to-indigo-500 shadow-lg ring-2 ring-blue-300":K?"bg-gradient-to-r from-green-500 to-emerald-500 shadow-md":re?"bg-gradient-to-r from-gray-400 to-gray-500":"bg-gray-300"}`,children:K?a.jsx(xN,{size:20,className:"animate-scale-in"}):a.jsx("span",{className:"text-sm font-bold",children:Q+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`font-semibold text-sm leading-tight transition-colors duration-300 ${X?"text-blue-700":K?"text-green-700":re?"text-gray-700":"text-gray-400"}`,children:ce.title}),a.jsx("p",{className:`text-xs mt-1 leading-tight transition-colors duration-300 ${X?"text-blue-600":K?"text-green-600":re?"text-gray-500":"text-gray-400"}`,children:ce.description})]}),X&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]})},ce.id)})})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:N.icon})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:N.title}),a.jsx("p",{className:"text-gray-600",children:N.description})]})]}),!F()&&a.jsxs("div",{className:"flex items-center text-amber-600",children:[a.jsx(Ms,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Eksik bilgi"})]})]})}),a.jsx("div",{className:"p-6",children:Y()}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(He,{onClick:se,icon:BR,variant:"secondary",disabled:E===0,children:"Önceki"}),E<lm.length-1?a.jsx(He,{onClick:j,icon:py,variant:"primary",disabled:!F(),children:"Sonraki"}):a.jsx(He,{onClick:ae,icon:bN,variant:"primary",disabled:!F()||k,size:"lg",children:k?"Program Oluşturuluyor...":"Program Oluştur ve Kaydet"})]})})]})})]})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vy=function(t,e){return vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},vy(t,e)};function Ki(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yy=function(){return yy=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yy.apply(this,arguments)};function os(t,e,r,n){function s(i){return i instanceof r?i:new r(function(A){A(i)})}return new(r||(r=Promise))(function(i,A){function o(h){try{c(n.next(h))}catch(f){A(f)}}function l(h){try{c(n.throw(h))}catch(f){A(f)}}function c(h){h.done?i(h.value):s(h.value).then(o,l)}c((n=n.apply(t,[])).next())})}function qn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,A;return A={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function o(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function cm(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var ha=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),n0=function(t,e){return ha.fromClientRect(t,e.getBoundingClientRect())},e8=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new ha(0,0,n,s)},s0=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},Wr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},u5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var um=0;um<u5.length;um++)t8[u5.charCodeAt(um)]=um;var d5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dm=0;dm<d5.length;dm++)Hd[d5.charCodeAt(dm)]=dm;var r8=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Hd[t.charCodeAt(n)],A=Hd[t.charCodeAt(n+1)],o=Hd[t.charCodeAt(n+2)],l=Hd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|o>>2,h[s++]=(o&3)<<6|l&63;return c},n8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},s8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},jl=5,K2=11,x1=2,i8=K2-jl,FN=65536>>jl,A8=1<<jl,B1=A8-1,a8=1024>>jl,o8=FN+a8,l8=o8,c8=32,u8=l8+c8,d8=65536>>K2,h8=1<<i8,f8=h8-1,h5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},m8=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},p8=function(t,e){var r=r8(t),n=Array.isArray(r)?s8(r):new Uint32Array(r),s=Array.isArray(r)?n8(r):new Uint16Array(r),i=24,A=h5(s,i/2,n[4]/2),o=n[5]===2?h5(s,(i+n[4])/2):m8(n,Math.ceil((i+n[4])/4));return new g8(n[0],n[1],n[2],n[3],A,o)},g8=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>jl],r=(r<<x1)+(e&B1),this.data[r];if(e<=65535)return r=this.index[FN+(e-55296>>jl)],r=(r<<x1)+(e&B1),this.data[r];if(e<this.highStart)return r=u8-d8+(e>>K2),r=this.index[r],r+=e>>jl&f8,r=this.index[r],r=(r<<x1)+(e&B1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),f5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hm=0;hm<f5.length;hm++)v8[f5.charCodeAt(hm)]=hm;var y8="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",m5=50,w8=1,kN=2,TN=3,x8=4,B8=5,p5=7,UN=8,g5=9,mo=10,wy=11,v5=12,xy=13,b8=14,Md=15,By=16,fm=17,Ed=18,C8=19,y5=20,by=21,_d=22,b1=23,Nc=24,Ps=25,Vd=26,Kd=27,Sc=28,E8=29,El=30,_8=31,mm=32,pm=33,Cy=34,Ey=35,_y=36,Gh=37,Iy=38,ip=39,Ap=40,C1=41,QN=42,I8=43,N8=[9001,65288],jN="!",zt="×",gm="÷",Ny=p8(y8),zA=[El,_y],Sy=[w8,kN,TN,B8],LN=[mo,UN],w5=[Kd,Vd],S8=Sy.concat(LN),x5=[Iy,ip,Ap,Cy,Ey],F8=[Md,xy],k8=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,A){var o=Ny.get(i);if(o>m5?(s.push(!0),o-=m5):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(A),r.push(By);if(o===x8||o===wy){if(A===0)return n.push(A),r.push(El);var l=r[A-1];return S8.indexOf(l)===-1?(n.push(n[A-1]),r.push(l)):(n.push(A),r.push(El))}if(n.push(A),o===_8)return r.push(e==="strict"?by:Gh);if(o===QN||o===E8)return r.push(El);if(o===I8)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Gh):r.push(El);r.push(o)}),[n,r,s]},E1=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var A=n[i];if(A===e)return!0;if(A!==mo)break}if(s===mo)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var A=n[l];if(A===e)return!0;if(A!==mo)break}if(o!==mo)break}return!1},B5=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===mo)r--;else return n}return 0},T8=function(t,e,r,n,s){if(r[n]===0)return zt;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return zt;var A=i-1,o=i+1,l=e[i],c=A>=0?e[A]:0,h=e[o];if(l===kN&&h===TN)return zt;if(Sy.indexOf(l)!==-1)return jN;if(Sy.indexOf(h)!==-1||LN.indexOf(h)!==-1)return zt;if(B5(i,e)===UN)return gm;if(Ny.get(t[i])===wy||(l===mm||l===pm)&&Ny.get(t[o])===wy||l===p5||h===p5||l===g5||[mo,xy,Md].indexOf(l)===-1&&h===g5||[fm,Ed,C8,Nc,Sc].indexOf(h)!==-1||B5(i,e)===_d||E1(b1,_d,i,e)||E1([fm,Ed],by,i,e)||E1(v5,v5,i,e))return zt;if(l===mo)return gm;if(l===b1||h===b1)return zt;if(h===By||l===By)return gm;if([xy,Md,by].indexOf(h)!==-1||l===b8||c===_y&&F8.indexOf(l)!==-1||l===Sc&&h===_y||h===y5||zA.indexOf(h)!==-1&&l===Ps||zA.indexOf(l)!==-1&&h===Ps||l===Kd&&[Gh,mm,pm].indexOf(h)!==-1||[Gh,mm,pm].indexOf(l)!==-1&&h===Vd||zA.indexOf(l)!==-1&&w5.indexOf(h)!==-1||w5.indexOf(l)!==-1&&zA.indexOf(h)!==-1||[Kd,Vd].indexOf(l)!==-1&&(h===Ps||[_d,Md].indexOf(h)!==-1&&e[o+1]===Ps)||[_d,Md].indexOf(l)!==-1&&h===Ps||l===Ps&&[Ps,Sc,Nc].indexOf(h)!==-1)return zt;if([Ps,Sc,Nc,fm,Ed].indexOf(h)!==-1)for(var f=i;f>=0;){var p=e[f];if(p===Ps)return zt;if([Sc,Nc].indexOf(p)!==-1)f--;else break}if([Kd,Vd].indexOf(h)!==-1)for(var f=[fm,Ed].indexOf(l)!==-1?A:i;f>=0;){var p=e[f];if(p===Ps)return zt;if([Sc,Nc].indexOf(p)!==-1)f--;else break}if(Iy===l&&[Iy,ip,Cy,Ey].indexOf(h)!==-1||[ip,Cy].indexOf(l)!==-1&&[ip,Ap].indexOf(h)!==-1||[Ap,Ey].indexOf(l)!==-1&&h===Ap||x5.indexOf(l)!==-1&&[y5,Vd].indexOf(h)!==-1||x5.indexOf(h)!==-1&&l===Kd||zA.indexOf(l)!==-1&&zA.indexOf(h)!==-1||l===Nc&&zA.indexOf(h)!==-1||zA.concat(Ps).indexOf(l)!==-1&&h===_d&&N8.indexOf(t[o])===-1||zA.concat(Ps).indexOf(h)!==-1&&l===Ed)return zt;if(l===C1&&h===C1){for(var g=r[i],b=1;g>0&&(g--,e[g]===C1);)b++;if(b%2!==0)return zt}return l===mm&&h===pm?zt:gm},U8=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=k8(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[Ps,El,QN].indexOf(o)!==-1?Gh:o}));var A=e.wordBreak==="keep-all"?i.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,A]},Q8=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===jN,this.start=n,this.end=s}return t.prototype.slice=function(){return Wr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),j8=function(t,e){var r=s0(t),n=U8(r,e),s=n[0],i=n[1],A=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var h=zt;c<o&&(h=T8(r,i,s,++c,A))===zt;);if(h!==zt||c===o){var f=new Q8(r,h,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},L8=1,P8=2,ff=4,b5=8,Ag=10,C5=47,oh=92,D8=9,R8=32,vm=34,Id=61,O8=35,H8=36,M8=37,ym=39,wm=40,Nd=41,V8=95,xs=45,K8=33,z8=60,G8=62,q8=64,$8=91,W8=93,Y8=61,X8=123,xm=63,J8=125,E5=124,Z8=126,eO=128,_5=65533,_1=42,kl=43,tO=44,rO=58,nO=59,qh=46,sO=0,iO=8,AO=11,aO=14,oO=31,lO=127,aA=-1,PN=48,DN=97,RN=101,cO=102,uO=117,dO=122,ON=65,HN=69,MN=70,hO=85,fO=90,Wn=function(t){return t>=PN&&t<=57},mO=function(t){return t>=55296&&t<=57343},Fc=function(t){return Wn(t)||t>=ON&&t<=MN||t>=DN&&t<=cO},pO=function(t){return t>=DN&&t<=dO},gO=function(t){return t>=ON&&t<=fO},vO=function(t){return pO(t)||gO(t)},yO=function(t){return t>=eO},Bm=function(t){return t===Ag||t===D8||t===R8},ag=function(t){return vO(t)||yO(t)||t===V8},I5=function(t){return ag(t)||Wn(t)||t===xs},wO=function(t){return t>=sO&&t<=iO||t===AO||t>=aO&&t<=oO||t===lO},ro=function(t,e){return t!==oh?!1:e!==Ag},bm=function(t,e,r){return t===xs?ag(e)||ro(e,r):ag(t)?!0:!!(t===oh&&ro(t,e))},I1=function(t,e,r){return t===kl||t===xs?Wn(e)?!0:e===qh&&Wn(r):Wn(t===qh?e:t)},xO=function(t){var e=0,r=1;(t[e]===kl||t[e]===xs)&&(t[e]===xs&&(r=-1),e++);for(var n=[];Wn(t[e]);)n.push(t[e++]);var s=n.length?parseInt(Wr.apply(void 0,n),10):0;t[e]===qh&&e++;for(var i=[];Wn(t[e]);)i.push(t[e++]);var A=i.length,o=A?parseInt(Wr.apply(void 0,i),10):0;(t[e]===HN||t[e]===RN)&&e++;var l=1;(t[e]===kl||t[e]===xs)&&(t[e]===xs&&(l=-1),e++);for(var c=[];Wn(t[e]);)c.push(t[e++]);var h=c.length?parseInt(Wr.apply(void 0,c),10):0;return r*(s+o*Math.pow(10,-A))*Math.pow(10,l*h)},BO={type:2},bO={type:3},CO={type:4},EO={type:13},_O={type:8},IO={type:21},NO={type:9},SO={type:10},FO={type:11},kO={type:12},TO={type:14},Cm={type:23},UO={type:1},QO={type:25},jO={type:24},LO={type:26},PO={type:27},DO={type:28},RO={type:29},OO={type:31},Fy={type:32},VN=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(s0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Fy;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case vm:return this.consumeStringToken(vm);case O8:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(I5(r)||ro(n,s)){var i=bm(r,n,s)?P8:L8,A=this.consumeName();return{type:5,value:A,flags:i}}break;case H8:if(this.peekCodePoint(0)===Id)return this.consumeCodePoint(),EO;break;case ym:return this.consumeStringToken(ym);case wm:return BO;case Nd:return bO;case _1:if(this.peekCodePoint(0)===Id)return this.consumeCodePoint(),TO;break;case kl:if(I1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case tO:return CO;case xs:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(I1(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(bm(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===xs&&c===G8)return this.consumeCodePoint(),this.consumeCodePoint(),jO;break;case qh:if(I1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case C5:if(this.peekCodePoint(0)===_1)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===_1&&(h=this.consumeCodePoint(),h===C5))return this.consumeToken();if(h===aA)return this.consumeToken()}break;case rO:return LO;case nO:return PO;case z8:if(this.peekCodePoint(0)===K8&&this.peekCodePoint(1)===xs&&this.peekCodePoint(2)===xs)return this.consumeCodePoint(),this.consumeCodePoint(),QO;break;case q8:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(bm(f,p,g)){var A=this.consumeName();return{type:7,value:A}}break;case $8:return DO;case oh:if(ro(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case W8:return RO;case Y8:if(this.peekCodePoint(0)===Id)return this.consumeCodePoint(),_O;break;case X8:return FO;case J8:return kO;case uO:case hO:var b=this.peekCodePoint(0),E=this.peekCodePoint(1);return b===kl&&(Fc(E)||E===xm)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case E5:if(this.peekCodePoint(0)===Id)return this.consumeCodePoint(),NO;if(this.peekCodePoint(0)===E5)return this.consumeCodePoint(),IO;break;case Z8:if(this.peekCodePoint(0)===Id)return this.consumeCodePoint(),SO;break;case aA:return Fy}return Bm(e)?(this.consumeWhiteSpace(),OO):Wn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ag(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Wr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Fc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===xm&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Wr.apply(void 0,e.map(function(l){return l===xm?PN:l})),16),i=parseInt(Wr.apply(void 0,e.map(function(l){return l===xm?MN:l})),16);return{type:30,start:s,end:i}}var A=parseInt(Wr.apply(void 0,e),16);if(this.peekCodePoint(0)===xs&&Fc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];Fc(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(Wr.apply(void 0,o),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===wm?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===wm?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===aA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ym||r===vm){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===aA||this.peekCodePoint(0)===Nd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Cm)}for(;;){var s=this.consumeCodePoint();if(s===aA||s===Nd)return{type:22,value:Wr.apply(void 0,e)};if(Bm(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===aA||this.peekCodePoint(0)===Nd?(this.consumeCodePoint(),{type:22,value:Wr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Cm);if(s===vm||s===ym||s===wm||wO(s))return this.consumeBadUrlRemnants(),Cm;if(s===oh)if(ro(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Cm;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Bm(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Nd||e===aA)return;ro(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=Wr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===aA||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Ag)return this._value.splice(0,n),UO;if(s===oh){var i=this._value[n+1];i!==aA&&i!==void 0&&(i===Ag?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ro(s,i)&&(r+=this.consumeStringSlice(n),r+=Wr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=ff,n=this.peekCodePoint(0);for((n===kl||n===xs)&&e.push(this.consumeCodePoint());Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===qh&&Wn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=b5;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===HN||n===RN)&&((s===kl||s===xs)&&Wn(i)||Wn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=b5;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[xO(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(bm(s,i,A)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return s===M8?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Fc(e)){for(var r=Wr(e);Fc(this.peekCodePoint(0))&&r.length<6;)r+=Wr(this.consumeCodePoint());Bm(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||mO(n)||n>1114111?_5:n}return e===aA?_5:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(I5(r))e+=Wr(r);else if(ro(r,this.peekCodePoint(0)))e+=Wr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),KN=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new VN;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||MO(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Fy:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),mf=function(t){return t.type===15},Xu=function(t){return t.type===17},mr=function(t){return t.type===20},HO=function(t){return t.type===0},ky=function(t,e){return mr(t)&&t.value===e},zN=function(t){return t.type!==31},Lu=function(t){return t.type!==31&&t.type!==4},CA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},MO=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Vo=function(t){return t.type===17||t.type===15},on=function(t){return t.type===16||Vo(t)},GN=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Tn={type:17,number:0,flags:ff},z2={type:16,number:50,flags:ff},po={type:16,number:100,flags:ff},zd=function(t,e,r){var n=t[0],s=t[1];return[Br(n,e),Br(typeof s<"u"?s:n,r)]},Br=function(t,e){if(t.type===16)return t.number/100*e;if(mf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},qN="deg",$N="grad",WN="rad",YN="turn",i0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case qN:return Math.PI*e.number/180;case $N:return Math.PI/200*e.number;case WN:return e.number;case YN:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},XN=function(t){return t.type===15&&(t.unit===qN||t.unit===$N||t.unit===WN||t.unit===YN)},JN=function(t){var e=t.filter(mr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Tn,Tn];case"to top":case"bottom":return oi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Tn,po];case"to right":case"left":return oi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[po,po];case"to bottom":case"top":return oi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[po,Tn];case"to left":case"right":return oi(270)}return 0},oi=function(t){return Math.PI*t/180},Lo={name:"color",parse:function(t,e){if(e.type===18){var r=VO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return go(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return go(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return go(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return go(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var o=na[e.value.toUpperCase()];if(typeof o<"u")return o}return na.TRANSPARENT}},Po=function(t){return(255&t)===0},vn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},go=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},N5=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},S5=function(t,e){var r=e.filter(Lu);if(r.length===3){var n=r.map(N5),s=n[0],i=n[1],A=n[2];return go(s,i,A,1)}if(r.length===4){var o=r.map(N5),s=o[0],i=o[1],A=o[2],l=o[3];return go(s,i,A,l)}return 0};function N1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var F5=function(t,e){var r=e.filter(Lu),n=r[0],s=r[1],i=r[2],A=r[3],o=(n.type===17?oi(n.number):i0.parse(t,n))/(Math.PI*2),l=on(s)?s.number/100:0,c=on(i)?i.number/100:0,h=typeof A<"u"&&on(A)?Br(A,1):1;if(l===0)return go(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,g=N1(p,f,o+1/3),b=N1(p,f,o),E=N1(p,f,o-1/3);return go(g*255,b*255,E*255,h)},VO={hsl:F5,hsla:F5,rgb:S5,rgba:S5},lh=function(t,e){return Lo.parse(t,KN.create(e).parseComponentValue())},na={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},KO={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(mr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zO={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},A0=function(t,e){var r=Lo.parse(t,e[0]),n=e[1];return n&&on(n)?{color:r,stop:n}:{color:r,stop:null}},k5=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Tn),n.stop===null&&(n.stop=po);for(var s=[],i=0,A=0;A<t.length;A++){var o=t[A].stop;if(o!==null){var l=Br(o,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var h=s[A];if(h===null)c===null&&(c=A);else if(c!==null){for(var f=A-c,p=s[c-1],g=(h-p)/(f+1),b=1;b<=f;b++)s[c+b-1]=g*b;c=null}}return t.map(function(E,_){var w=E.color;return{color:w,stop:Math.max(Math.min(1,s[_]/e),0)}})},GO=function(t,e,r){var n=e/2,s=r/2,i=Br(t[0],e)-n,A=s-Br(t[1],r);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},qO=function(t,e,r){var n=typeof t=="number"?t:GO(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,A=r/2,o=s/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[s,i-c,i+c,A-l,A+l]},Fi=function(t,e){return Math.sqrt(t*t+e*e)},T5=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,o){var l=o[0],c=o[1],h=Fi(r-l,n-c);return(s?h<A.optimumDistance:h>A.optimumDistance)?{optimumCorner:o,optimumDistance:h}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},$O=function(t,e,r,n,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=A=Math.min(Fi(e,r),Fi(e,r-s),Fi(e-n,r),Fi(e-n,r-s));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=T5(n,s,e,r,!0),c=l[0],h=l[1];i=Fi(c-e,(h-r)/o),A=o*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=A=Math.max(Fi(e,r),Fi(e,r-s),Fi(e-n,r),Fi(e-n,r-s));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),f=T5(n,s,e,r,!1),c=f[0],h=f[1];i=Fi(c-e,(h-r)/o),A=o*i}break}return Array.isArray(t.size)&&(i=Br(t.size[0],n),A=t.size.length===2?Br(t.size[1],s):i),[i,A]},WO=function(t,e){var r=oi(180),n=[];return CA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){r=JN(s);return}else if(XN(A)){r=i0.parse(t,A);return}}var o=A0(t,s);n.push(o)}),{angle:r,stops:n,type:1}},Em=function(t,e){var r=oi(180),n=[];return CA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=JN(s);return}else if(XN(A)){r=(i0.parse(t,A)+oi(270))%oi(360);return}}var o=A0(t,s);n.push(o)}),{angle:r,stops:n,type:1}},YO=function(t,e){var r=oi(180),n=[],s=1,i=0,A=3,o=[];return CA(e).forEach(function(l,c){var h=l[0];if(c===0){if(mr(h)&&h.value==="linear"){s=1;return}else if(mr(h)&&h.value==="radial"){s=2;return}}if(h.type===18){if(h.name==="from"){var f=Lo.parse(t,h.values[0]);n.push({stop:Tn,color:f})}else if(h.name==="to"){var f=Lo.parse(t,h.values[0]);n.push({stop:po,color:f})}else if(h.name==="color-stop"){var p=h.values.filter(Lu);if(p.length===2){var f=Lo.parse(t,p[1]),g=p[0];Xu(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:f})}}}}),s===1?{angle:(r+oi(180))%oi(360),stops:n,type:s}:{size:A,shape:i,stops:n,position:o,type:s}},ZN="closest-side",eS="farthest-side",tS="closest-corner",rS="farthest-corner",nS="circle",sS="ellipse",iS="cover",AS="contain",XO=function(t,e){var r=0,n=3,s=[],i=[];return CA(e).forEach(function(A,o){var l=!0;if(o===0){var c=!1;l=A.reduce(function(f,p){if(c)if(mr(p))switch(p.value){case"center":return i.push(z2),f;case"top":case"left":return i.push(Tn),f;case"right":case"bottom":return i.push(po),f}else(on(p)||Vo(p))&&i.push(p);else if(mr(p))switch(p.value){case nS:return r=0,!1;case sS:return r=1,!1;case"at":return c=!0,!1;case ZN:return n=0,!1;case iS:case eS:return n=1,!1;case AS:case tS:return n=2,!1;case rS:return n=3,!1}else if(Vo(p)||on(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return f},l)}if(l){var h=A0(t,A);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},_m=function(t,e){var r=0,n=3,s=[],i=[];return CA(e).forEach(function(A,o){var l=!0;if(o===0?l=A.reduce(function(h,f){if(mr(f))switch(f.value){case"center":return i.push(z2),!1;case"top":case"left":return i.push(Tn),!1;case"right":case"bottom":return i.push(po),!1}else if(on(f)||Vo(f))return i.push(f),!1;return h},l):o===1&&(l=A.reduce(function(h,f){if(mr(f))switch(f.value){case nS:return r=0,!1;case sS:return r=1,!1;case AS:case ZN:return n=0,!1;case eS:return n=1,!1;case tS:return n=2,!1;case iS:case rS:return n=3,!1}else if(Vo(f)||on(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return h},l)),l){var c=A0(t,A);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},JO=function(t){return t.type===1},ZO=function(t){return t.type===2},G2={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=aS[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function eH(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!aS[t.name])}var aS={"linear-gradient":WO,"-moz-linear-gradient":Em,"-ms-linear-gradient":Em,"-o-linear-gradient":Em,"-webkit-linear-gradient":Em,"radial-gradient":XO,"-moz-radial-gradient":_m,"-ms-radial-gradient":_m,"-o-radial-gradient":_m,"-webkit-radial-gradient":_m,"-webkit-gradient":YO},tH={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Lu(n)&&eH(n)}).map(function(n){return G2.parse(t,n)})}},rH={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(mr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nH={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return CA(e).map(function(r){return r.filter(on)}).map(GN)}},sH={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return CA(e).map(function(r){return r.filter(mr).map(function(n){return n.value}).join(" ")}).map(iH)}},iH=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},fu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(fu||(fu={}));var AH={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return CA(e).map(function(r){return r.filter(aH)})}},aH=function(t){return mr(t)||on(t)},a0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oH=a0("top"),lH=a0("right"),cH=a0("bottom"),uH=a0("left"),o0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return GN(r.filter(on))}}},dH=o0("top-left"),hH=o0("top-right"),fH=o0("bottom-right"),mH=o0("bottom-left"),l0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},pH=l0("top"),gH=l0("right"),vH=l0("bottom"),yH=l0("left"),c0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return mf(r)?r.number:0}}},wH=c0("top"),xH=c0("right"),BH=c0("bottom"),bH=c0("left"),CH={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},EH={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},_H={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(mr).reduce(function(r,n){return r|IH(n.value)},0)}},IH=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},NH={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},SH={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},og;(function(t){t.NORMAL="normal",t.STRICT="strict"})(og||(og={}));var FH={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return og.STRICT;case"normal":default:return og.NORMAL}}},kH={name:"line-height",initialValue:"normal",prefix:!1,type:4},U5=function(t,e){return mr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:on(t)?Br(t,e):e},TH={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:G2.parse(t,e)}},UH={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Ty={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},u0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},QH=u0("top"),jH=u0("right"),LH=u0("bottom"),PH=u0("left"),DH={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(mr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},RH={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},d0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},OH=d0("top"),HH=d0("right"),MH=d0("bottom"),VH=d0("left"),KH={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},zH={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},GH={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&ky(e[0],"none")?[]:CA(e).map(function(r){for(var n={color:na.TRANSPARENT,offsetX:Tn,offsetY:Tn,blur:Tn},s=0,i=0;i<r.length;i++){var A=r[i];Vo(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:n.blur=A,s++):n.color=Lo.parse(t,A)}return n})}},qH={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},$H={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=XH[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},WH=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},YH=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,s,i,A,o]:null},XH={matrix:WH,matrix3d:YH},Q5={type:16,number:50,flags:ff},JH=[Q5,Q5],ZH={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(on);return r.length!==2?JH:[r[0],r[1]]}},eM={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ch;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ch||(ch={}));var tM={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ch.BREAK_ALL;case"keep-all":return ch.KEEP_ALL;case"normal":default:return ch.NORMAL}}},rM={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Xu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},oS={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},nM={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Xu(e)?e.number:1}},sM={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},iM={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(mr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},AM={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},aM={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},oM={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Xu(e))return e.number;if(mr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},lM={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(mr).map(function(r){return r.value})}},cM={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},fn=function(t,e){return(t&e)!==0},uM={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},dM={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(zN),i=0;i<s.length;i++){var A=s[i],o=s[i+1];if(A.type===20){var l=o&&Xu(o)?o.number:1;n.push({counter:A.value,increment:l})}}return n}},hM={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(zN),s=0;s<n.length;s++){var i=n[s],A=n[s+1];if(mr(i)&&i.value!=="none"){var o=A&&Xu(A)?A.number:0;r.push({counter:i.value,reset:o})}}return r}},fM={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(mf).map(function(r){return oS.parse(t,r)})}},mM={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(HO);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,o=s[i+1].value;n.push({open:A,close:o})}return n}},j5=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},pM={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&ky(e[0],"none")?[]:CA(e).map(function(r){for(var n={color:255,offsetX:Tn,offsetY:Tn,blur:Tn,spread:Tn,inset:!1},s=0,i=0;i<r.length;i++){var A=r[i];ky(A,"inset")?n.inset=!0:Vo(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:s===2?n.blur=A:n.spread=A,s++):n.color=Lo.parse(t,A)}return n})}},gM={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(mr).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},vM={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},yM={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return mf(e)?e.number:0}},wM=function(){function t(e,r){var n,s;this.animationDuration=ot(e,fM,r.animationDuration),this.backgroundClip=ot(e,KO,r.backgroundClip),this.backgroundColor=ot(e,zO,r.backgroundColor),this.backgroundImage=ot(e,tH,r.backgroundImage),this.backgroundOrigin=ot(e,rH,r.backgroundOrigin),this.backgroundPosition=ot(e,nH,r.backgroundPosition),this.backgroundRepeat=ot(e,sH,r.backgroundRepeat),this.backgroundSize=ot(e,AH,r.backgroundSize),this.borderTopColor=ot(e,oH,r.borderTopColor),this.borderRightColor=ot(e,lH,r.borderRightColor),this.borderBottomColor=ot(e,cH,r.borderBottomColor),this.borderLeftColor=ot(e,uH,r.borderLeftColor),this.borderTopLeftRadius=ot(e,dH,r.borderTopLeftRadius),this.borderTopRightRadius=ot(e,hH,r.borderTopRightRadius),this.borderBottomRightRadius=ot(e,fH,r.borderBottomRightRadius),this.borderBottomLeftRadius=ot(e,mH,r.borderBottomLeftRadius),this.borderTopStyle=ot(e,pH,r.borderTopStyle),this.borderRightStyle=ot(e,gH,r.borderRightStyle),this.borderBottomStyle=ot(e,vH,r.borderBottomStyle),this.borderLeftStyle=ot(e,yH,r.borderLeftStyle),this.borderTopWidth=ot(e,wH,r.borderTopWidth),this.borderRightWidth=ot(e,xH,r.borderRightWidth),this.borderBottomWidth=ot(e,BH,r.borderBottomWidth),this.borderLeftWidth=ot(e,bH,r.borderLeftWidth),this.boxShadow=ot(e,pM,r.boxShadow),this.color=ot(e,CH,r.color),this.direction=ot(e,EH,r.direction),this.display=ot(e,_H,r.display),this.float=ot(e,NH,r.cssFloat),this.fontFamily=ot(e,AM,r.fontFamily),this.fontSize=ot(e,aM,r.fontSize),this.fontStyle=ot(e,cM,r.fontStyle),this.fontVariant=ot(e,lM,r.fontVariant),this.fontWeight=ot(e,oM,r.fontWeight),this.letterSpacing=ot(e,SH,r.letterSpacing),this.lineBreak=ot(e,FH,r.lineBreak),this.lineHeight=ot(e,kH,r.lineHeight),this.listStyleImage=ot(e,TH,r.listStyleImage),this.listStylePosition=ot(e,UH,r.listStylePosition),this.listStyleType=ot(e,Ty,r.listStyleType),this.marginTop=ot(e,QH,r.marginTop),this.marginRight=ot(e,jH,r.marginRight),this.marginBottom=ot(e,LH,r.marginBottom),this.marginLeft=ot(e,PH,r.marginLeft),this.opacity=ot(e,nM,r.opacity);var i=ot(e,DH,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ot(e,RH,r.overflowWrap),this.paddingTop=ot(e,OH,r.paddingTop),this.paddingRight=ot(e,HH,r.paddingRight),this.paddingBottom=ot(e,MH,r.paddingBottom),this.paddingLeft=ot(e,VH,r.paddingLeft),this.paintOrder=ot(e,gM,r.paintOrder),this.position=ot(e,zH,r.position),this.textAlign=ot(e,KH,r.textAlign),this.textDecorationColor=ot(e,sM,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ot(e,iM,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=ot(e,GH,r.textShadow),this.textTransform=ot(e,qH,r.textTransform),this.transform=ot(e,$H,r.transform),this.transformOrigin=ot(e,ZH,r.transformOrigin),this.visibility=ot(e,eM,r.visibility),this.webkitTextStrokeColor=ot(e,vM,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ot(e,yM,r.webkitTextStrokeWidth),this.wordBreak=ot(e,tM,r.wordBreak),this.zIndex=ot(e,rM,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Po(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return fn(this.display,4)||fn(this.display,33554432)||fn(this.display,268435456)||fn(this.display,536870912)||fn(this.display,67108864)||fn(this.display,134217728)},t}(),xM=function(){function t(e,r){this.content=ot(e,uM,r.content),this.quotes=ot(e,mM,r.quotes)}return t}(),L5=function(){function t(e,r){this.counterIncrement=ot(e,dM,r.counterIncrement),this.counterReset=ot(e,hM,r.counterReset)}return t}(),ot=function(t,e,r){var n=new VN,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new KN(n.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,mr(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return i0.parse(t,i.parseComponentValue());case"color":return Lo.parse(t,i.parseComponentValue());case"image":return G2.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Vo(o)?o:Tn;case"length-percentage":var l=i.parseComponentValue();return on(l)?l:Tn;case"time":return oS.parse(t,i.parseComponentValue())}break}},BM="data-html2canvas-debug",bM=function(t){var e=t.getAttribute(BM);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Uy=function(t,e){var r=bM(t);return r===1||e===r},EA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Uy(r,3))debugger;this.styles=new wM(e,window.getComputedStyle(r,null)),Ly(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=n0(this.context,r),Uy(r,4)&&(this.flags|=16)}return t}(),CM="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",P5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Im=0;Im<P5.length;Im++)Gd[P5.charCodeAt(Im)]=Im;var EM=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Gd[t.charCodeAt(n)],A=Gd[t.charCodeAt(n+1)],o=Gd[t.charCodeAt(n+2)],l=Gd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|o>>2,h[s++]=(o&3)<<6|l&63;return c},_M=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},IM=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ll=5,q2=11,S1=2,NM=q2-Ll,lS=65536>>Ll,SM=1<<Ll,F1=SM-1,FM=1024>>Ll,kM=lS+FM,TM=kM,UM=32,QM=TM+UM,jM=65536>>q2,LM=1<<NM,PM=LM-1,D5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},DM=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},RM=function(t,e){var r=EM(t),n=Array.isArray(r)?IM(r):new Uint32Array(r),s=Array.isArray(r)?_M(r):new Uint16Array(r),i=24,A=D5(s,i/2,n[4]/2),o=n[5]===2?D5(s,(i+n[4])/2):DM(n,Math.ceil((i+n[4])/4));return new OM(n[0],n[1],n[2],n[3],A,o)},OM=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ll],r=(r<<S1)+(e&F1),this.data[r];if(e<=65535)return r=this.index[lS+(e-55296>>Ll)],r=(r<<S1)+(e&F1),this.data[r];if(e<this.highStart)return r=QM-jM+(e>>q2),r=this.index[r],r+=e>>Ll&PM,r=this.index[r],r=(r<<S1)+(e&F1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),R5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nm=0;Nm<R5.length;Nm++)HM[R5.charCodeAt(Nm)]=Nm;var MM=1,k1=2,T1=3,O5=4,H5=5,VM=7,M5=8,U1=9,Q1=10,V5=11,K5=12,z5=13,G5=14,j1=15,KM=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},zM=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},GM=RM(CM),ri="×",L1="÷",qM=function(t){return GM.get(t)},$M=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],A=e[r];if(i===k1&&A===T1)return ri;if(i===k1||i===T1||i===O5||A===k1||A===T1||A===O5)return L1;if(i===M5&&[M5,U1,V5,K5].indexOf(A)!==-1||(i===V5||i===U1)&&(A===U1||A===Q1)||(i===K5||i===Q1)&&A===Q1||A===z5||A===H5||A===VM||i===MM)return ri;if(i===z5&&A===G5){for(;s===H5;)s=e[--n];if(s===G5)return ri}if(i===j1&&A===j1){for(var o=0;s===j1;)o++,s=e[--n];if(o%2===0)return ri}return L1},WM=function(t){var e=KM(t),r=e.length,n=0,s=0,i=e.map(qM);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=ri;n<r&&(A=$M(e,i,++n))===ri;);if(A!==ri||n===r){var o=zM.apply(null,e.slice(s,n));return s=n,{value:o,done:!1}}return{done:!0,value:null}}}},YM=function(t){for(var e=WM(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},XM=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},JM=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=s0(n.data).map(function(l){return Wr(l)}),i=0,A={},o=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var h=r.getBoundingClientRect();i+=l.length;var f=h.x>A.x||h.y>A.y;return A=h,c===0?!0:f});return t.body.removeChild(e),o},ZM=function(){return typeof new Image().crossOrigin<"u"},e7=function(){return typeof new XMLHttpRequest().responseType=="string"},t7=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},q5=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},r7=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var A=Qy(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),$5(A).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",q5(l)?$5(Qy(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),q5(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Qy=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(s),A},$5=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Sn={get SUPPORT_RANGE_BOUNDS(){var t=XM(document);return Object.defineProperty(Sn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Sn.SUPPORT_RANGE_BOUNDS&&JM(document);return Object.defineProperty(Sn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=t7(document);return Object.defineProperty(Sn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?r7(document):Promise.resolve(!1);return Object.defineProperty(Sn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=ZM();return Object.defineProperty(Sn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=e7();return Object.defineProperty(Sn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Sn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Sn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},uh=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),n7=function(t,e,r,n){var s=A7(e,r),i=[],A=0;return s.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Sn.SUPPORT_RANGE_BOUNDS){var l=W5(n,A,o.length).getClientRects();if(l.length>1){var c=$2(o),h=0;c.forEach(function(p){i.push(new uh(p,ha.fromDOMRectList(t,W5(n,h+A,p.length).getClientRects()))),h+=p.length})}else i.push(new uh(o,ha.fromDOMRectList(t,l)))}else{var f=n.splitText(o.length);i.push(new uh(o,s7(t,n))),n=f}else Sn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));A+=o.length}),i},s7=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=n0(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return ha.EMPTY},W5=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},$2=function(t){if(Sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return YM(t)},i7=function(t,e){if(Sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return o7(t,e)},A7=function(t,e){return e.letterSpacing!==0?$2(t):i7(t,e)},a7=[32,160,4961,65792,65793,4153,4241],o7=function(t,e){for(var r=j8(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var A=s.value.slice(),o=s0(A),l="";o.forEach(function(c){a7.indexOf(c)===-1?l+=Wr(c):(l.length&&n.push(l),n.push(Wr(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},l7=function(){function t(e,r,n){this.text=c7(r.data,n.textTransform),this.textBounds=n7(e,this.text,n,r)}return t}(),c7=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(u7,d7);case 2:return t.toUpperCase();default:return t}},u7=/(^|\s|:|-|\(|\))([a-z])/g,d7=function(t,e,r){return t.length>0?e+r.toUpperCase():t},cS=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(EA),uS=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(EA),dS=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,A=n0(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(EA),hS=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(EA),jy=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(EA),h7=[{type:15,flags:0,unit:"px",number:3}],f7=[{type:16,flags:0,number:50}],m7=function(t){return t.width>t.height?new ha(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ha(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},p7=function(t){var e=t.type===g7?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},lg="checkbox",cg="radio",g7="password",Y5=707406591,W2=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=p7(n),(s.type===lg||s.type===cg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=m7(s.bounds)),s.type){case lg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=h7;break;case cg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=f7;break}return s}return e}(EA),fS=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(EA),mS=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(EA),pS=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=vS(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?lh(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):na.TRANSPARENT,A=n.contentWindow.document.body?lh(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):na.TRANSPARENT;s.backgroundColor=Po(i)?Po(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(EA),v7=["OL","UL","MENU"],ap=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,yS(s)&&s.data.trim().length>0)r.textNodes.push(new l7(t,s,r.styles));else if(ru(s))if(bS(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return ap(t,o,r,n)});else{var A=gS(t,s);A.styles.isVisible()&&(y7(s,A,n)?A.flags|=4:w7(A.styles)&&(A.flags|=2),v7.indexOf(s.tagName)!==-1&&(A.flags|=8),r.elements.push(A),s.slot,s.shadowRoot?ap(t,s.shadowRoot,A,n):!ug(s)&&!wS(s)&&!dg(s)&&ap(t,s,A,n))}},gS=function(t,e){return Py(e)?new cS(t,e):xS(e)?new uS(t,e):wS(e)?new dS(t,e):x7(e)?new hS(t,e):B7(e)?new jy(t,e):b7(e)?new W2(t,e):dg(e)?new fS(t,e):ug(e)?new mS(t,e):BS(e)?new pS(t,e):new EA(t,e)},vS=function(t,e){var r=gS(t,e);return r.flags|=4,ap(t,e,r,r),r},y7=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Y2(t)&&r.styles.isTransparent()},w7=function(t){return t.isPositioned()||t.isFloating()},yS=function(t){return t.nodeType===Node.TEXT_NODE},ru=function(t){return t.nodeType===Node.ELEMENT_NODE},Ly=function(t){return ru(t)&&typeof t.style<"u"&&!op(t)},op=function(t){return typeof t.className=="object"},x7=function(t){return t.tagName==="LI"},B7=function(t){return t.tagName==="OL"},b7=function(t){return t.tagName==="INPUT"},C7=function(t){return t.tagName==="HTML"},wS=function(t){return t.tagName==="svg"},Y2=function(t){return t.tagName==="BODY"},xS=function(t){return t.tagName==="CANVAS"},X5=function(t){return t.tagName==="VIDEO"},Py=function(t){return t.tagName==="IMG"},BS=function(t){return t.tagName==="IFRAME"},J5=function(t){return t.tagName==="STYLE"},E7=function(t){return t.tagName==="SCRIPT"},ug=function(t){return t.tagName==="TEXTAREA"},dg=function(t){return t.tagName==="SELECT"},bS=function(t){return t.tagName==="SLOT"},Z5=function(t){return t.tagName.indexOf("-")>0},_7=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var A=[];return i&&s.forEach(function(o){var l=r.counters[o.counter];A.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),A},t}(),eC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},tC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},I7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},N7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},kc=function(t,e,r,n,s,i){return t<e||t>r?$h(t,s,i.length>0):n.integers.reduce(function(A,o,l){for(;t>=o;)t-=o,A+=n.values[l];return A},"")+i},CS=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},$r=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(CS(Math.abs(t),i,n,function(A){return Wr(Math.floor(A%i)+e)})+s)},wl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return CS(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Rc=1,Ja=2,Za=4,qd=8,GA=function(t,e,r,n,s,i){if(t<-9999||t>9999)return $h(t,4,s.length>0);var A=Math.abs(t),o=s;if(A===0)return e[0]+o;for(var l=0;A>0&&l<=4;l++){var c=A%10;c===0&&fn(i,Rc)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&fn(i,Ja)||c===1&&l===1&&fn(i,Za)&&t>100||c===1&&l>1&&fn(i,qd)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),A=Math.floor(A/10)}return(t<0?n:"")+o},rC="十百千萬",nC="拾佰仟萬",sC="マイナス",P1="마이너스",$h=function(t,e,r){var n=r?". ":"",s=r?"、":"",i=r?", ":"",A=r?" ":"";switch(e){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var o=$r(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return wl(t,"〇一二三四五六七八九",s);case 6:return kc(t,1,3999,eC,3,n).toLowerCase();case 7:return kc(t,1,3999,eC,3,n);case 8:return $r(t,945,969,!1,n);case 9:return $r(t,97,122,!1,n);case 10:return $r(t,65,90,!1,n);case 11:return $r(t,1632,1641,!0,n);case 12:case 49:return kc(t,1,9999,tC,3,n);case 35:return kc(t,1,9999,tC,3,n).toLowerCase();case 13:return $r(t,2534,2543,!0,n);case 14:case 30:return $r(t,6112,6121,!0,n);case 15:return wl(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return wl(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return GA(t,"零一二三四五六七八九",rC,"負",s,Ja|Za|qd);case 47:return GA(t,"零壹貳參肆伍陸柒捌玖",nC,"負",s,Rc|Ja|Za|qd);case 42:return GA(t,"零一二三四五六七八九",rC,"负",s,Ja|Za|qd);case 41:return GA(t,"零壹贰叁肆伍陆柒捌玖",nC,"负",s,Rc|Ja|Za|qd);case 26:return GA(t,"〇一二三四五六七八九","十百千万",sC,s,0);case 25:return GA(t,"零壱弐参四伍六七八九","拾百千万",sC,s,Rc|Ja|Za);case 31:return GA(t,"영일이삼사오육칠팔구","십백천만",P1,i,Rc|Ja|Za);case 33:return GA(t,"零一二三四五六七八九","十百千萬",P1,i,0);case 32:return GA(t,"零壹貳參四五六七八九","拾百千",P1,i,Rc|Ja|Za);case 18:return $r(t,2406,2415,!0,n);case 20:return kc(t,1,19999,N7,3,n);case 21:return $r(t,2790,2799,!0,n);case 22:return $r(t,2662,2671,!0,n);case 22:return kc(t,1,10999,I7,3,n);case 23:return wl(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return wl(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return $r(t,3302,3311,!0,n);case 28:return wl(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return wl(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return $r(t,3792,3801,!0,n);case 37:return $r(t,6160,6169,!0,n);case 38:return $r(t,4160,4169,!0,n);case 39:return $r(t,2918,2927,!0,n);case 40:return $r(t,1776,1785,!0,n);case 43:return $r(t,3046,3055,!0,n);case 44:return $r(t,3174,3183,!0,n);case 45:return $r(t,3664,3673,!0,n);case 46:return $r(t,3872,3881,!0,n);case 3:default:return $r(t,48,57,!0,n)}},ES="data-html2canvas-ignore",iC=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new _7,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=S7(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,o=s.contentWindow,l=o.document,c=T7(s).then(function(){return os(n,void 0,void 0,function(){var h,f;return qn(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(L7),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),h=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,k7(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(l,f)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(Q7(document.doctype)+"<html></html>"),j7(this.referenceElement.ownerDocument,i,A),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(Uy(e,2))debugger;if(xS(e))return this.createCanvasClone(e);if(X5(e))return this.createVideoClone(e);if(J5(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Py(r)&&(Py(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Z5(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return D1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!ru(r)||!E7(r)&&!r.hasAttribute(ES)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!ru(r)||!J5(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ru(i)&&bS(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(o){return s.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(yS(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ru(e)&&(Ly(e)||op(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Ly(s)&&(this.clonedReferenceElement=s),Y2(s)&&R7(s);var l=this.counters.parse(new L5(this.context,i)),c=this.resolvePseudoContent(e,s,A,dh.BEFORE);Z5(e)&&(r=!0),X5(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var h=this.resolvePseudoContent(e,s,o,dh.AFTER);return h&&s.appendChild(h),this.counters.pop(l),(i&&(this.options.copyStyles||op(e))&&!BS(e)||r)&&D1(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(ug(e)||dg(e))&&(ug(s)||dg(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var A=n.content,o=r.ownerDocument;if(!(!o||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new L5(this.context,n));var l=new xM(this.context,n),c=o.createElement("html2canvaspseudoelement");D1(n,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(o.createTextNode(f.value));else if(f.type===22){var p=o.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var g=f.values.filter(mr);g.length&&c.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(f.name==="counter"){var b=f.values.filter(Lu),E=b[0],_=b[1];if(E&&mr(E)){var w=i.counters.getCounterValue(E.value),v=_&&mr(_)?Ty.parse(i.context,_.value):3;c.appendChild(o.createTextNode($h(w,v,!1)))}}else if(f.name==="counters"){var I=f.values.filter(Lu),E=I[0],L=I[1],_=I[2];if(E&&mr(E)){var z=i.counters.getCounterValues(E.value),q=_&&mr(_)?Ty.parse(i.context,_.value):3,U=L&&L.type===0?L.value:"",B=z.map(function(N){return $h(N,q,!1)}).join(U);c.appendChild(o.createTextNode(B))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(o.createTextNode(j5(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(j5(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(f.value))}}),c.className=Dy+" "+Ry;var h=s===dh.BEFORE?" "+Dy:" "+Ry;return op(r)?r.className.baseValue+=h:r.className+=h,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),dh;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(dh||(dh={}));var S7=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(ES,"true"),t.body.appendChild(r),r},F7=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},k7=function(t){return Promise.all([].slice.call(t.images,0).map(F7))},T7=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},U7=["all","d","content"],D1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);U7.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Q7=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},j7=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},L7=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},P7=":before",D7=":after",Dy="___html2canvas___pseudoelement_before",Ry="___html2canvas___pseudoelement_after",AC=`{
    content: "" !important;
    display: none !important;
}`,R7=function(t){O7(t,"."+Dy+P7+AC+`
         .`+Ry+D7+AC)},O7=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},_S=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),H7=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(O1(e)||z7(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return os(this,void 0,void 0,function(){var r,n,s,i,A=this;return qn(this,function(o){switch(o.label){case 0:return r=_S.isSameOrigin(e),n=!R1(e)&&this._options.useCORS===!0&&Sn.SUPPORT_CORS_IMAGES&&!r,s=!R1(e)&&!r&&!O1(e)&&typeof this._options.proxy=="string"&&Sn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!R1(e)&&!O1(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var h=new Image;h.onload=function(){return l(h)},h.onerror=c,(G7(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return l(h)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var o=Sn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")i(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(p){return A(p)},!1),f.readAsDataURL(l.response)}else A("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=A;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var h=r._options.imageTimeout;l.timeout=h,l.ontimeout=function(){return A("Timed out ("+h+"ms) proxying "+s)}}l.send()})},t}(),M7=/^data:image\/svg\+xml/i,V7=/^data:image\/.*;base64,/i,K7=/^data:image\/.*/i,z7=function(t){return Sn.SUPPORT_SVG_DRAWING||!q7(t)},R1=function(t){return K7.test(t)},G7=function(t){return V7.test(t)},O1=function(t){return t.substr(0,4)==="blob"},q7=function(t){return t.substr(-3).toLowerCase()==="svg"||M7.test(t)},At=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Tc=function(t,e,r){return new At(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Sm=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Tc(this.start,this.startControl,e),s=Tc(this.startControl,this.endControl,e),i=Tc(this.endControl,this.end,e),A=Tc(n,s,e),o=Tc(s,i,e),l=Tc(A,o,e);return r?new t(this.start,n,A,l):new t(l,o,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ii=function(t){return t.type===1},$7=function(){function t(e){var r=e.styles,n=e.bounds,s=zd(r.borderTopLeftRadius,n.width,n.height),i=s[0],A=s[1],o=zd(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],h=zd(r.borderBottomRightRadius,n.width,n.height),f=h[0],p=h[1],g=zd(r.borderBottomLeftRadius,n.width,n.height),b=g[0],E=g[1],_=[];_.push((i+l)/n.width),_.push((b+f)/n.width),_.push((A+E)/n.height),_.push((c+p)/n.height);var w=Math.max.apply(Math,_);w>1&&(i/=w,A/=w,l/=w,c/=w,f/=w,p/=w,b/=w,E/=w);var v=n.width-l,I=n.height-p,L=n.width-f,z=n.height-E,q=r.borderTopWidth,U=r.borderRightWidth,B=r.borderBottomWidth,k=r.borderLeftWidth,P=Br(r.paddingTop,e.bounds.width),N=Br(r.paddingRight,e.bounds.width),F=Br(r.paddingBottom,e.bounds.width),j=Br(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?Fr(n.left+k/3,n.top+q/3,i-k/3,A-q/3,Ar.TOP_LEFT):new At(n.left+k/3,n.top+q/3),this.topRightBorderDoubleOuterBox=i>0||A>0?Fr(n.left+v,n.top+q/3,l-U/3,c-q/3,Ar.TOP_RIGHT):new At(n.left+n.width-U/3,n.top+q/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?Fr(n.left+L,n.top+I,f-U/3,p-B/3,Ar.BOTTOM_RIGHT):new At(n.left+n.width-U/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=b>0||E>0?Fr(n.left+k/3,n.top+z,b-k/3,E-B/3,Ar.BOTTOM_LEFT):new At(n.left+k/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?Fr(n.left+k*2/3,n.top+q*2/3,i-k*2/3,A-q*2/3,Ar.TOP_LEFT):new At(n.left+k*2/3,n.top+q*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?Fr(n.left+v,n.top+q*2/3,l-U*2/3,c-q*2/3,Ar.TOP_RIGHT):new At(n.left+n.width-U*2/3,n.top+q*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?Fr(n.left+L,n.top+I,f-U*2/3,p-B*2/3,Ar.BOTTOM_RIGHT):new At(n.left+n.width-U*2/3,n.top+n.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||E>0?Fr(n.left+k*2/3,n.top+z,b-k*2/3,E-B*2/3,Ar.BOTTOM_LEFT):new At(n.left+k*2/3,n.top+n.height-B*2/3),this.topLeftBorderStroke=i>0||A>0?Fr(n.left+k/2,n.top+q/2,i-k/2,A-q/2,Ar.TOP_LEFT):new At(n.left+k/2,n.top+q/2),this.topRightBorderStroke=i>0||A>0?Fr(n.left+v,n.top+q/2,l-U/2,c-q/2,Ar.TOP_RIGHT):new At(n.left+n.width-U/2,n.top+q/2),this.bottomRightBorderStroke=f>0||p>0?Fr(n.left+L,n.top+I,f-U/2,p-B/2,Ar.BOTTOM_RIGHT):new At(n.left+n.width-U/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=b>0||E>0?Fr(n.left+k/2,n.top+z,b-k/2,E-B/2,Ar.BOTTOM_LEFT):new At(n.left+k/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||A>0?Fr(n.left,n.top,i,A,Ar.TOP_LEFT):new At(n.left,n.top),this.topRightBorderBox=l>0||c>0?Fr(n.left+v,n.top,l,c,Ar.TOP_RIGHT):new At(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||p>0?Fr(n.left+L,n.top+I,f,p,Ar.BOTTOM_RIGHT):new At(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||E>0?Fr(n.left,n.top+z,b,E,Ar.BOTTOM_LEFT):new At(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||A>0?Fr(n.left+k,n.top+q,Math.max(0,i-k),Math.max(0,A-q),Ar.TOP_LEFT):new At(n.left+k,n.top+q),this.topRightPaddingBox=l>0||c>0?Fr(n.left+Math.min(v,n.width-U),n.top+q,v>n.width+U?0:Math.max(0,l-U),Math.max(0,c-q),Ar.TOP_RIGHT):new At(n.left+n.width-U,n.top+q),this.bottomRightPaddingBox=f>0||p>0?Fr(n.left+Math.min(L,n.width-k),n.top+Math.min(I,n.height-B),Math.max(0,f-U),Math.max(0,p-B),Ar.BOTTOM_RIGHT):new At(n.left+n.width-U,n.top+n.height-B),this.bottomLeftPaddingBox=b>0||E>0?Fr(n.left+k,n.top+Math.min(z,n.height-B),Math.max(0,b-k),Math.max(0,E-B),Ar.BOTTOM_LEFT):new At(n.left+k,n.top+n.height-B),this.topLeftContentBox=i>0||A>0?Fr(n.left+k+j,n.top+q+P,Math.max(0,i-(k+j)),Math.max(0,A-(q+P)),Ar.TOP_LEFT):new At(n.left+k+j,n.top+q+P),this.topRightContentBox=l>0||c>0?Fr(n.left+Math.min(v,n.width+k+j),n.top+q+P,v>n.width+k+j?0:l-k+j,c-(q+P),Ar.TOP_RIGHT):new At(n.left+n.width-(U+N),n.top+q+P),this.bottomRightContentBox=f>0||p>0?Fr(n.left+Math.min(L,n.width-(k+j)),n.top+Math.min(I,n.height+q+P),Math.max(0,f-(U+N)),p-(B+F),Ar.BOTTOM_RIGHT):new At(n.left+n.width-(U+N),n.top+n.height-(B+F)),this.bottomLeftContentBox=b>0||E>0?Fr(n.left+k+j,n.top+z,Math.max(0,b-(k+j)),E-(B+F),Ar.BOTTOM_LEFT):new At(n.left+k+j,n.top+n.height-(B+F))}return t}(),Ar;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ar||(Ar={}));var Fr=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),A=r*i,o=n*i,l=t+r,c=e+n;switch(s){case Ar.TOP_LEFT:return new Sm(new At(t,c),new At(t,c-o),new At(l-A,e),new At(l,e));case Ar.TOP_RIGHT:return new Sm(new At(t,e),new At(t+A,e),new At(l,c-o),new At(l,c));case Ar.BOTTOM_RIGHT:return new Sm(new At(l,e),new At(l,e+o),new At(t+A,c),new At(t,c));case Ar.BOTTOM_LEFT:default:return new Sm(new At(l,c),new At(l-A,c),new At(t,e+o),new At(t,e))}},hg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},W7=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},fg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Y7=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Fm=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),X7=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),J7=function(t){return t.type===0},IS=function(t){return t.type===1},Z7=function(t){return t.type===2},aC=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},e9=function(t,e,r,n,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},NS=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),SS=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new $7(this.container),this.container.styles.opacity<1&&this.effects.push(new X7(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Y7(n,s,i))}if(this.container.styles.overflowX!==0){var A=hg(this.curves),o=fg(this.curves);aC(A,o)?this.effects.push(new Fm(A,6)):(this.effects.push(new Fm(A,2)),this.effects.push(new Fm(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!IS(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=hg(n.curves),o=fg(n.curves);aC(A,o)||s.unshift(new Fm(o,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return fn(l.target,e)})},t}(),Oy=function(t,e,r,n){t.container.elements.forEach(function(s){var i=fn(s.flags,4),A=fn(s.flags,2),o=new SS(s,t);fn(s.styles.display,2048)&&n.push(o);var l=fn(s.flags,8)?[]:n;if(i||A){var c=i||s.styles.isPositioned()?r:e,h=new NS(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var f=s.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(b,E){return f>b.element.container.styles.zIndex.order?(p=E,!1):p>0}),c.negativeZIndex.splice(p,0,h)}else if(f>0){var g=0;c.positiveZIndex.some(function(b,E){return f>=b.element.container.styles.zIndex.order?(g=E+1,!1):g>0}),c.positiveZIndex.splice(g,0,h)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else s.styles.isFloating()?c.nonPositionedFloats.push(h):c.nonPositionedInlineLevel.push(h);Oy(o,h,i?h:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Oy(o,e,r,l);fn(s.flags,8)&&FS(s,l)})},FS=function(t,e){for(var r=t instanceof jy?t.start:1,n=t instanceof jy?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof hS&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=$h(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},t9=function(t){var e=new SS(t,null),r=new NS(e),n=[];return Oy(e,r,r,n),FS(e.container,n),r},oC=function(t,e){switch(e){case 0:return li(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return li(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return li(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return li(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},r9=function(t,e){switch(e){case 0:return li(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return li(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return li(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return li(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},n9=function(t,e){switch(e){case 0:return li(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return li(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return li(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return li(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},s9=function(t,e){switch(e){case 0:return km(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return km(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return km(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return km(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},km=function(t,e){var r=[];return ii(t)?r.push(t.subdivide(.5,!1)):r.push(t),ii(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},li=function(t,e,r,n){var s=[];return ii(t)?s.push(t.subdivide(.5,!1)):s.push(t),ii(r)?s.push(r.subdivide(.5,!0)):s.push(r),ii(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),ii(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},kS=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},mg=function(t){var e=t.styles,r=t.bounds,n=Br(e.paddingLeft,r.width),s=Br(e.paddingRight,r.width),i=Br(e.paddingTop,r.width),A=Br(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},i9=function(t,e){return t===0?e.bounds:t===2?mg(e):kS(e)},A9=function(t,e){return t===0?e.bounds:t===2?mg(e):kS(e)},H1=function(t,e,r){var n=i9(Oc(t.styles.backgroundOrigin,e),t),s=A9(Oc(t.styles.backgroundClip,e),t),i=a9(Oc(t.styles.backgroundSize,e),r,n),A=i[0],o=i[1],l=zd(Oc(t.styles.backgroundPosition,e),n.width-A,n.height-o),c=o9(Oc(t.styles.backgroundRepeat,e),l,i,n,s),h=Math.round(n.left+l[0]),f=Math.round(n.top+l[1]);return[c,h,f,A,o]},Uc=function(t){return mr(t)&&t.value===fu.AUTO},Tm=function(t){return typeof t=="number"},a9=function(t,e,r){var n=e[0],s=e[1],i=e[2],A=t[0],o=t[1];if(!A)return[0,0];if(on(A)&&o&&on(o))return[Br(A,r.width),Br(o,r.height)];var l=Tm(i);if(mr(A)&&(A.value===fu.CONTAIN||A.value===fu.COVER)){if(Tm(i)){var c=r.width/r.height;return c<i!=(A.value===fu.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=Tm(n),f=Tm(s),p=h||f;if(Uc(A)&&(!o||Uc(o))){if(h&&f)return[n,s];if(!l&&!p)return[r.width,r.height];if(p&&l){var g=h?n:s*i,b=f?s:n/i;return[g,b]}var E=h?n:r.width,_=f?s:r.height;return[E,_]}if(l){var w=0,v=0;return on(A)?w=Br(A,r.width):on(o)&&(v=Br(o,r.height)),Uc(A)?w=v*i:(!o||Uc(o))&&(v=w/i),[w,v]}var I=null,L=null;if(on(A)?I=Br(A,r.width):o&&on(o)&&(L=Br(o,r.height)),I!==null&&(!o||Uc(o))&&(L=h&&f?I/n*s:r.height),L!==null&&Uc(A)&&(I=h&&f?L/s*n:r.width),I!==null&&L!==null)return[I,L];throw new Error("Unable to calculate background-size for element")},Oc=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},o9=function(t,e,r,n,s){var i=e[0],A=e[1],o=r[0],l=r[1];switch(t){case 2:return[new At(Math.round(n.left),Math.round(n.top+A)),new At(Math.round(n.left+n.width),Math.round(n.top+A)),new At(Math.round(n.left+n.width),Math.round(l+n.top+A)),new At(Math.round(n.left),Math.round(l+n.top+A))];case 3:return[new At(Math.round(n.left+i),Math.round(n.top)),new At(Math.round(n.left+i+o),Math.round(n.top)),new At(Math.round(n.left+i+o),Math.round(n.height+n.top)),new At(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new At(Math.round(n.left+i),Math.round(n.top+A)),new At(Math.round(n.left+i+o),Math.round(n.top+A)),new At(Math.round(n.left+i+o),Math.round(n.top+A+l)),new At(Math.round(n.left+i),Math.round(n.top+A+l))];default:return[new At(Math.round(s.left),Math.round(s.top)),new At(Math.round(s.left+s.width),Math.round(s.top)),new At(Math.round(s.left+s.width),Math.round(s.height+s.top)),new At(Math.round(s.left),Math.round(s.height+s.top))]}},l9="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lC="Hidden Text",c9=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),s.src=l9,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(lC)),n.appendChild(i),n.appendChild(s);var o=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(lC)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),TS=function(){function t(e,r){this.context=e,this.options=r}return t}(),u9=1e4,d9=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new c9(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),Z7(r)&&(this.ctx.globalAlpha=r.opacity),J7(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),IS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return os(this,void 0,void 0,function(){var n;return qn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return os(this,void 0,void 0,function(){return qn(this,function(n){switch(n.label){case 0:if(fn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var A=$2(r.text);A.reduce(function(o,l){return i.ctx.fillText(l,o,r.bounds.top+s),o+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=g9(r.fontFamily).join(", "),i=mf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return os(this,void 0,void 0,function(){var s,i,A,o,l,c,h,f,p=this;return qn(this,function(g){return s=this.createFontStyle(n),i=s[0],A=s[1],o=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(A,o),c=l.baseline,h=l.middle,f=n.paintOrder,r.textBounds.forEach(function(b){f.forEach(function(E){switch(E){case 0:p.ctx.fillStyle=vn(n.color),p.renderTextWithLetterSpacing(b,n.letterSpacing,c);var _=n.textShadow;_.length&&b.text.trim().length&&(_.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=vn(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(b,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=vn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+c),b.bounds.width,1);break;case 2:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:p.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+h),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(p.ctx.strokeStyle=vn(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=mg(r),A=fg(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return os(this,void 0,void 0,function(){var n,s,i,A,o,l,v,v,c,h,f,p,L,g,b,z,E,_,w,v,I,L,z;return qn(this,function(q){switch(q.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,A=0,o=n.textNodes,q.label=1;case 1:return A<o.length?(l=o[A],[4,this.renderTextNode(l,i)]):[3,4];case 2:q.sent(),q.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof cS))return[3,8];q.label=5;case 5:return q.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return v=q.sent(),this.renderReplacedElement(n,s,v),[3,8];case 7:return q.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof uS&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof dS))return[3,12];q.label=9;case 9:return q.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return v=q.sent(),this.renderReplacedElement(n,s,v),[3,12];case 11:return q.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof pS&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:h=q.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),q.label=14;case 14:if(n instanceof W2&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===lg?n.checked&&(this.ctx.save(),this.path([new At(n.bounds.left+f*.39363,n.bounds.top+f*.79),new At(n.bounds.left+f*.16,n.bounds.top+f*.5549),new At(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new At(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new At(n.bounds.left+f*.72983,n.bounds.top+f*.23),new At(n.bounds.left+f*.84,n.bounds.top+f*.34085),new At(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=vn(Y5),this.ctx.fill(),this.ctx.restore()):n.type===cg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=vn(Y5),this.ctx.fill(),this.ctx.restore())),h9(n)&&n.value.length){switch(p=this.createFontStyle(i),L=p[0],g=p[1],b=this.fontMetrics.getMetrics(L,g).baseline,this.ctx.font=L,this.ctx.fillStyle=vn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=m9(n.styles.textAlign),z=mg(n),E=0,n.styles.textAlign){case 1:E+=z.width/2;break;case 2:E+=z.width;break}_=z.add(E,0,0,-z.height/2+1),this.ctx.save(),this.path([new At(z.left,z.top),new At(z.left+z.width,z.top),new At(z.left+z.width,z.top+z.height),new At(z.left,z.top+z.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new uh(n.value,_),i.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!fn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];v=void 0,I=w.url,q.label=15;case 15:return q.trys.push([15,17,,18]),[4,this.context.cache.match(I)];case 16:return v=q.sent(),this.ctx.drawImage(v,n.bounds.left-(v.width+10),n.bounds.top),[3,18];case 17:return q.sent(),this.context.logger.error("Error loading list-style-image "+I),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(L=this.createFontStyle(i)[0],this.ctx.font=L,this.ctx.fillStyle=vn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",z=new ha(n.bounds.left,n.bounds.top+Br(n.styles.paddingTop,n.bounds.width),n.bounds.width,U5(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new uh(r.listValue,z),i.letterSpacing,U5(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return os(this,void 0,void 0,function(){var n,s,w,i,A,w,o,l,w,c,h,w,f,p,w,g,b,w,E,_,w;return qn(this,function(v){switch(v.label){case 0:if(fn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),n=0,s=r.negativeZIndex,v.label=2;case 2:return n<s.length?(w=s[n],[4,this.renderStack(w)]):[3,5];case 3:v.sent(),v.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),i=0,A=r.nonInlineLevel,v.label=7;case 7:return i<A.length?(w=A[i],[4,this.renderNode(w)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:o=0,l=r.nonPositionedFloats,v.label=11;case 11:return o<l.length?(w=l[o],[4,this.renderStack(w)]):[3,14];case 12:v.sent(),v.label=13;case 13:return o++,[3,11];case 14:c=0,h=r.nonPositionedInlineLevel,v.label=15;case 15:return c<h.length?(w=h[c],[4,this.renderStack(w)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:f=0,p=r.inlineLevel,v.label=19;case 19:return f<p.length?(w=p[f],[4,this.renderNode(w)]):[3,22];case 20:v.sent(),v.label=21;case 21:return f++,[3,19];case 22:g=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return g<b.length?(w=b[g],[4,this.renderStack(w)]):[3,26];case 24:v.sent(),v.label=25;case 25:return g++,[3,23];case 26:E=0,_=r.positiveZIndex,v.label=27;case 27:return E<_.length?(w=_[E],[4,this.renderStack(w)]):[3,30];case 28:v.sent(),v.label=29;case 29:return E++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var A=ii(s)?s.start:s;i===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),ii(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=A.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),o},e.prototype.renderBackgroundImage=function(r){return os(this,void 0,void 0,function(){var n,s,i,A,o,l;return qn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(h){var f,p,g,P,de,ve,j,se,B,b,P,de,ve,j,se,E,_,w,v,I,L,z,q,U,B,k,P,N,F,j,se,we,de,ve,H,ae,Y,ce,Q,K,X,re;return qn(this,function(ee){switch(ee.label){case 0:if(h.type!==0)return[3,5];f=void 0,p=h.url,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return f=ee.sent(),[3,4];case 3:return ee.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(g=H1(r,n,[f.width,f.height,f.width/f.height]),P=g[0],de=g[1],ve=g[2],j=g[3],se=g[4],B=i.ctx.createPattern(i.resizeImage(f,j,se),"repeat"),i.renderRepeat(P,B,de,ve)),[3,6];case 5:JO(h)?(b=H1(r,n,[null,null,null]),P=b[0],de=b[1],ve=b[2],j=b[3],se=b[4],E=qO(h.angle,j,se),_=E[0],w=E[1],v=E[2],I=E[3],L=E[4],z=document.createElement("canvas"),z.width=j,z.height=se,q=z.getContext("2d"),U=q.createLinearGradient(w,I,v,L),k5(h.stops,_).forEach(function(te){return U.addColorStop(te.stop,vn(te.color))}),q.fillStyle=U,q.fillRect(0,0,j,se),j>0&&se>0&&(B=i.ctx.createPattern(z,"repeat"),i.renderRepeat(P,B,de,ve))):ZO(h)&&(k=H1(r,n,[null,null,null]),P=k[0],N=k[1],F=k[2],j=k[3],se=k[4],we=h.position.length===0?[z2]:h.position,de=Br(we[0],j),ve=Br(we[we.length-1],se),H=$O(h,de,ve,j,se),ae=H[0],Y=H[1],ae>0&&Y>0&&(ce=i.ctx.createRadialGradient(N+de,F+ve,0,N+de,F+ve,ae),k5(h.stops,ae*2).forEach(function(te){return ce.addColorStop(te.stop,vn(te.color))}),i.path(P),i.ctx.fillStyle=ce,ae!==Y?(Q=r.bounds.left+.5*r.bounds.width,K=r.bounds.top+.5*r.bounds.height,X=Y/ae,re=1/X,i.ctx.save(),i.ctx.translate(Q,K),i.ctx.transform(1,0,0,X,0,0),i.ctx.translate(-Q,-K),i.ctx.fillRect(N,re*(F-K)+K,j,se*re),i.ctx.restore()):i.ctx.fill())),ee.label=6;case 6:return n--,[2]}})},i=this,A=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<o.length?(l=o[A],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return os(this,void 0,void 0,function(){return qn(this,function(i){return this.path(oC(s,n)),this.ctx.fillStyle=vn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return os(this,void 0,void 0,function(){var A,o;return qn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return A=r9(i,s),this.path(A),this.ctx.fillStyle=vn(r),this.ctx.fill(),o=n9(i,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return os(this,void 0,void 0,function(){var n,s,i,A,o,l,c,h,f=this;return qn(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Po(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=f9(Oc(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Po(n.backgroundColor)||(this.ctx.fillStyle=vn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){f.ctx.save();var b=hg(r.curves),E=g.inset?0:u9,_=e9(b,-E+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(f.path(b),f.ctx.clip(),f.mask(_)):(f.mask(b),f.ctx.clip(),f.path(_)),f.ctx.shadowOffsetX=g.offsetX.number+E,f.ctx.shadowOffsetY=g.offsetY.number,f.ctx.shadowColor=vn(g.color),f.ctx.shadowBlur=g.blur.number,f.ctx.fillStyle=g.inset?vn(g.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:o=0,l=0,c=i,p.label=3;case 3:return l<c.length?(h=c[l],h.style!==0&&!Po(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,o,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,o,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,o,r.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,A){return os(this,void 0,void 0,function(){var o,l,c,h,f,p,g,b,E,_,w,v,I,L,z,q,z,q;return qn(this,function(U){return this.ctx.save(),o=s9(i,s),l=oC(i,s),A===2&&(this.path(l),this.ctx.clip()),ii(l[0])?(c=l[0].start.x,h=l[0].start.y):(c=l[0].x,h=l[0].y),ii(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),s===0||s===2?g=Math.abs(c-f):g=Math.abs(h-p),this.ctx.beginPath(),A===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=n<3?n*3:n*2,E=n<3?n*2:n,A===3&&(b=n,E=n),_=!0,g<=b*2?_=!1:g<=b*2+E?(w=g/(2*b+E),b*=w,E*=w):(v=Math.floor((g+E)/(b+E)),I=(g-v*b)/(v-1),L=(g-(v+1)*b)/v,E=L<=0||Math.abs(E-I)<Math.abs(E-L)?I:L),_&&(A===3?this.ctx.setLineDash([0,b+E]):this.ctx.setLineDash([b,E])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=vn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(ii(l[0])&&(z=l[3],q=l[0],this.ctx.beginPath(),this.formatPath([new At(z.end.x,z.end.y),new At(q.start.x,q.start.y)]),this.ctx.stroke()),ii(l[1])&&(z=l[1],q=l[2],this.ctx.beginPath(),this.formatPath([new At(z.end.x,z.end.y),new At(q.start.x,q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return os(this,void 0,void 0,function(){var n;return qn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=t9(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(TS),h9=function(t){return t instanceof mS||t instanceof fS?!0:t instanceof W2&&t.type!==cg&&t.type!==lg},f9=function(t,e){switch(t){case 0:return hg(e);case 2:return W7(e);case 1:default:return fg(e)}},m9=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},p9=["-apple-system","system-ui"],g9=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return p9.indexOf(e)===-1}):t},v9=function(t){Ki(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return os(this,void 0,void 0,function(){var n,s;return qn(this,function(i){switch(i.label){case 0:return n=Qy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,y9(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(TS),y9=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},w9=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,cm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,cm([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,cm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,cm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),x9=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new w9({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new H7(this,e)}return t.instanceCount=1,t}(),Pu=function(t,e){return e===void 0&&(e={}),B9(t,e)};typeof window<"u"&&_S.setContext(window);var B9=function(t,e){return os(void 0,void 0,void 0,function(){var r,n,s,i,A,o,l,c,h,f,p,g,b,E,_,w,v,I,L,z,U,q,U,B,k,P,N,F,j,se,we,de,ve,H,ae,Y,ce,Q,K,X;return qn(this,function(re){switch(re.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},i=yy({logging:(N=e.logging)!==null&&N!==void 0?N:!0,cache:e.cache},s),A={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(j=e.windowHeight)!==null&&j!==void 0?j:n.innerHeight,scrollX:(se=e.scrollX)!==null&&se!==void 0?se:n.pageXOffset,scrollY:(we=e.scrollY)!==null&&we!==void 0?we:n.pageYOffset},o=new ha(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),l=new x9(i,o),c=(de=e.foreignObjectRendering)!==null&&de!==void 0?de:!1,h={allowTaint:(ve=e.allowTaint)!==null&&ve!==void 0?ve:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new iC(l,t,h),p=f.clonedReferenceElement,p?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=re.sent(),b=Y2(p)||C7(p)?e8(p.ownerDocument):n0(l,p),E=b.width,_=b.height,w=b.left,v=b.top,I=b9(l,p,e.backgroundColor),L={canvas:e.canvas,backgroundColor:I,scale:(ae=(H=e.scale)!==null&&H!==void 0?H:n.devicePixelRatio)!==null&&ae!==void 0?ae:1,x:((Y=e.x)!==null&&Y!==void 0?Y:0)+w,y:((ce=e.y)!==null&&ce!==void 0?ce:0)+v,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(E),height:(K=e.height)!==null&&K!==void 0?K:Math.ceil(_)},c?(l.logger.debug("Document cloned, using foreign object rendering"),U=new v9(l,L),[4,U.render(p)]):[3,3];case 2:return z=re.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+w+","+v+" with size "+E+"x"+_+" using computed rendering"),l.logger.debug("Starting DOM parsing"),q=vS(l,p),I===q.styles.backgroundColor&&(q.styles.backgroundColor=na.TRANSPARENT),l.logger.debug("Starting renderer for element at "+L.x+","+L.y+" with size "+L.width+"x"+L.height),U=new d9(l,L),[4,U.render(q)];case 4:z=re.sent(),re.label=5;case 5:return(!((X=e.removeContainer)!==null&&X!==void 0)||X)&&(iC.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,z]}})})},b9=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?lh(t,getComputedStyle(n.documentElement).backgroundColor):na.TRANSPARENT,i=n.body?lh(t,getComputedStyle(n.body).backgroundColor):na.TRANSPARENT,A=typeof r=="string"?lh(t,r):r===null?na.TRANSPARENT:4294967295;return e===n.documentElement?Po(s)?Po(i)?A:i:s:A};const C9=Object.freeze(Object.defineProperty({__proto__:null,default:Pu},Symbol.toStringTag,{value:"Module"})),E9="modulepreload",_9=function(t){return"/"+t},cC={},Hy=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),o=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=_9(l),l in cC)return;cC[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":E9,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(A){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=A,window.dispatchEvent(o),!o.defaultPrevented)throw A}return s.then(A=>{for(const o of A||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function ur(t){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(t)}var Jn=Uint8Array,Os=Uint16Array,X2=Int32Array,h0=new Jn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),f0=new Jn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),My=new Jn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),US=function(t,e){for(var r=new Os(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new X2(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},QS=US(h0,2),jS=QS.b,Vy=QS.r;jS[28]=258,Vy[258]=28;var LS=US(f0,0),I9=LS.b,uC=LS.r,Ky=new Os(32768);for(var Nr=0;Nr<32768;++Nr){var Ya=(Nr&43690)>>1|(Nr&21845)<<1;Ya=(Ya&52428)>>2|(Ya&13107)<<2,Ya=(Ya&61680)>>4|(Ya&3855)<<4,Ky[Nr]=((Ya&65280)>>8|(Ya&255)<<8)>>1}var xA=function(t,e,r){for(var n=t.length,s=0,i=new Os(e);s<n;++s)t[s]&&++i[t[s]-1];var A=new Os(e);for(s=1;s<e;++s)A[s]=A[s-1]+i[s-1]<<1;var o;if(r){o=new Os(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],h=e-t[s],f=A[t[s]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)o[Ky[f]>>l]=c}else for(o=new Os(n),s=0;s<n;++s)t[s]&&(o[s]=Ky[A[t[s]-1]++]>>15-t[s]);return o},Ko=new Jn(288);for(var Nr=0;Nr<144;++Nr)Ko[Nr]=8;for(var Nr=144;Nr<256;++Nr)Ko[Nr]=9;for(var Nr=256;Nr<280;++Nr)Ko[Nr]=7;for(var Nr=280;Nr<288;++Nr)Ko[Nr]=8;var Wh=new Jn(32);for(var Nr=0;Nr<32;++Nr)Wh[Nr]=5;var N9=xA(Ko,9,0),S9=xA(Ko,9,1),F9=xA(Wh,5,0),k9=xA(Wh,5,1),M1=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ni=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},V1=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},J2=function(t){return(t+7)/8|0},PS=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Jn(t.subarray(e,r))},T9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ti=function(t,e,r){var n=new Error(e||T9[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ti),!r)throw n;return n},U9=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new Jn(0);var A=!r,o=A||e.i!=2,l=e.i;A&&(r=new Jn(s*3));var c=function(me){var Ee=r.length;if(me>Ee){var Ce=new Jn(Math.max(Ee*2,me));Ce.set(r),r=Ce}},h=e.f||0,f=e.p||0,p=e.b||0,g=e.l,b=e.d,E=e.m,_=e.n,w=s*8;do{if(!g){h=Ni(t,f,1);var v=Ni(t,f+1,3);if(f+=3,v)if(v==1)g=S9,b=k9,E=9,_=5;else if(v==2){var q=Ni(t,f,31)+257,U=Ni(t,f+10,15)+4,B=q+Ni(t,f+5,31)+1;f+=14;for(var k=new Jn(B),P=new Jn(19),N=0;N<U;++N)P[My[N]]=Ni(t,f+N*3,7);f+=U*3;for(var F=M1(P),j=(1<<F)-1,se=xA(P,F,1),N=0;N<B;){var we=se[Ni(t,f,j)];f+=we&15;var I=we>>4;if(I<16)k[N++]=I;else{var de=0,ve=0;for(I==16?(ve=3+Ni(t,f,3),f+=2,de=k[N-1]):I==17?(ve=3+Ni(t,f,7),f+=3):I==18&&(ve=11+Ni(t,f,127),f+=7);ve--;)k[N++]=de}}var H=k.subarray(0,q),ae=k.subarray(q);E=M1(H),_=M1(ae),g=xA(H,E,1),b=xA(ae,_,1)}else Ti(1);else{var I=J2(f)+4,L=t[I-4]|t[I-3]<<8,z=I+L;if(z>s){l&&Ti(0);break}o&&c(p+L),r.set(t.subarray(I,z),p),e.b=p+=L,e.p=f=z*8,e.f=h;continue}if(f>w){l&&Ti(0);break}}o&&c(p+131072);for(var Y=(1<<E)-1,ce=(1<<_)-1,Q=f;;Q=f){var de=g[V1(t,f)&Y],K=de>>4;if(f+=de&15,f>w){l&&Ti(0);break}if(de||Ti(2),K<256)r[p++]=K;else if(K==256){Q=f,g=null;break}else{var X=K-254;if(K>264){var N=K-257,re=h0[N];X=Ni(t,f,(1<<re)-1)+jS[N],f+=re}var ee=b[V1(t,f)&ce],te=ee>>4;ee||Ti(3),f+=ee&15;var ae=I9[te];if(te>3){var re=f0[te];ae+=V1(t,f)&(1<<re)-1,f+=re}if(f>w){l&&Ti(0);break}o&&c(p+131072);var J=p+X;if(p<ae){var ie=i-ae,oe=Math.min(ae,J);for(ie+p<0&&Ti(3);p<oe;++p)r[p]=n[ie+p]}for(;p<J;++p)r[p]=r[p-ae]}}e.l=g,e.p=Q,e.b=p,e.f=h,g&&(h=1,e.m=E,e.d=b,e.n=_)}while(!h);return p!=r.length&&A?PS(r,0,p):r.subarray(0,p)},qA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Sd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},K1=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:RS,l:0};if(s==1){var A=new Jn(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(z,q){return z.f-q.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,h=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=s-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=h&&r[c].f<r[f].f?c++:f++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var g=new Os(p+1),b=zy(r[h-1],g,0);if(b>e){var n=0,E=0,_=b-e,w=1<<_;for(i.sort(function(q,U){return g[U.s]-g[q.s]||q.f-U.f});n<s;++n){var v=i[n].s;if(g[v]>e)E+=w-(1<<b-g[v]),g[v]=e;else break}for(E>>=_;E>0;){var I=i[n].s;g[I]<e?E-=1<<e-g[I]++-1:++n}for(;n>=0&&E;--n){var L=i[n].s;g[L]==e&&(--g[L],++E)}b=e}return{t:new Jn(g),l:b}},zy=function(t,e,r){return t.s==-1?Math.max(zy(t.l,e,r+1),zy(t.r,e,r+1)):e[t.s]=r},dC=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Os(++e),n=0,s=t[0],i=1,A=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)A(32754);i>2&&(A(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(A(s),--i;i>6;i-=6)A(8304);i>2&&(A(i-3<<5|8208),i=0)}for(;i--;)A(s);i=1,s=t[o]}return{c:r.subarray(0,n),n:e}},Fd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},DS=function(t,e,r){var n=r.length,s=J2(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},hC=function(t,e,r,n,s,i,A,o,l,c,h){qA(e,h++,r),++s[256];for(var f=K1(s,15),p=f.t,g=f.l,b=K1(i,15),E=b.t,_=b.l,w=dC(p),v=w.c,I=w.n,L=dC(E),z=L.c,q=L.n,U=new Os(19),B=0;B<v.length;++B)++U[v[B]&31];for(var B=0;B<z.length;++B)++U[z[B]&31];for(var k=K1(U,7),P=k.t,N=k.l,F=19;F>4&&!P[My[F-1]];--F);var j=c+5<<3,se=Fd(s,Ko)+Fd(i,Wh)+A,we=Fd(s,p)+Fd(i,E)+A+14+3*F+Fd(U,P)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&j<=se&&j<=we)return DS(e,h,t.subarray(l,l+c));var de,ve,H,ae;if(qA(e,h,1+(we<se)),h+=2,we<se){de=xA(p,g,0),ve=p,H=xA(E,_,0),ae=E;var Y=xA(P,N,0);qA(e,h,I-257),qA(e,h+5,q-1),qA(e,h+10,F-4),h+=14;for(var B=0;B<F;++B)qA(e,h+3*B,P[My[B]]);h+=3*F;for(var ce=[v,z],Q=0;Q<2;++Q)for(var K=ce[Q],B=0;B<K.length;++B){var X=K[B]&31;qA(e,h,Y[X]),h+=P[X],X>15&&(qA(e,h,K[B]>>5&127),h+=K[B]>>12)}}else de=N9,ve=Ko,H=F9,ae=Wh;for(var B=0;B<o;++B){var re=n[B];if(re>255){var X=re>>18&31;Sd(e,h,de[X+257]),h+=ve[X+257],X>7&&(qA(e,h,re>>23&31),h+=h0[X]);var ee=re&31;Sd(e,h,H[ee]),h+=ae[ee],ee>3&&(Sd(e,h,re>>5&8191),h+=f0[ee])}else Sd(e,h,de[re]),h+=ve[re]}return Sd(e,h,de[256]),h+ve[256]},Q9=new X2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RS=new Jn(0),j9=function(t,e,r,n,s,i){var A=i.z||t.length,o=new Jn(n+A+5*(1+Math.ceil(A/7e3))+s),l=o.subarray(n,o.length-s),c=i.l,h=(i.r||0)&7;if(e){h&&(l[0]=i.r>>3);for(var f=Q9[e-1],p=f>>13,g=f&8191,b=(1<<r)-1,E=i.p||new Os(32768),_=i.h||new Os(b+1),w=Math.ceil(r/3),v=2*w,I=function(pe){return(t[pe]^t[pe+1]<<w^t[pe+2]<<v)&b},L=new X2(25e3),z=new Os(288),q=new Os(32),U=0,B=0,k=i.i||0,P=0,N=i.w||0,F=0;k+2<A;++k){var j=I(k),se=k&32767,we=_[j];if(E[se]=we,_[j]=se,N<=k){var de=A-k;if((U>7e3||P>24576)&&(de>423||!c)){h=hC(t,l,0,L,z,q,B,P,F,k-F,h),P=U=B=0,F=k;for(var ve=0;ve<286;++ve)z[ve]=0;for(var ve=0;ve<30;++ve)q[ve]=0}var H=2,ae=0,Y=g,ce=se-we&32767;if(de>2&&j==I(k-ce))for(var Q=Math.min(p,de)-1,K=Math.min(32767,k),X=Math.min(258,de);ce<=K&&--Y&&se!=we;){if(t[k+H]==t[k+H-ce]){for(var re=0;re<X&&t[k+re]==t[k+re-ce];++re);if(re>H){if(H=re,ae=ce,re>Q)break;for(var ee=Math.min(ce,re-2),te=0,ve=0;ve<ee;++ve){var J=k-ce+ve&32767,ie=E[J],oe=J-ie&32767;oe>te&&(te=oe,we=J)}}}se=we,we=E[se],ce+=se-we&32767}if(ae){L[P++]=268435456|Vy[H]<<18|uC[ae];var me=Vy[H]&31,Ee=uC[ae]&31;B+=h0[me]+f0[Ee],++z[257+me],++q[Ee],N=k+H,++U}else L[P++]=t[k],++z[t[k]]}}for(k=Math.max(k,N);k<A;++k)L[P++]=t[k],++z[t[k]];h=hC(t,l,c,L,z,q,B,P,F,k-F,h),c||(i.r=h&7|l[h/8|0]<<3,h-=7,i.h=_,i.p=E,i.i=k,i.w=N)}else{for(var k=i.w||0;k<A+c;k+=65535){var Ce=k+65535;Ce>=A&&(l[h/8|0]=c,Ce=A),h=DS(l,h+1,t.subarray(k,Ce))}i.i=A}return PS(o,0,n+J2(h)+s)},OS=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,A=0;A!=i;){for(var o=Math.min(A+2655,i);A<o;++A)s+=n+=r[A];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},L9=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),A=new Jn(i.length+t.length);A.set(i),A.set(t,i.length),t=A,s.w=i.length}return j9(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},HS=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},P9=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=OS();s.p(e.dictionary),HS(t,2,s.d())}},D9=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ti(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Ti(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Gy(t,e){e||(e={});var r=OS();r.p(t);var n=L9(t,e,e.dictionary?6:2,4);return P9(n,e),HS(n,n.length-4,r.d()),n}function R9(t,e){return U9(t.subarray(D9(t,e),-4),{i:2},e,e)}var O9=typeof TextDecoder<"u"&&new TextDecoder,H9=0;try{O9.decode(RS,{stream:!0}),H9=1}catch{}var _t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function z1(){_t.console&&typeof _t.console.log=="function"&&_t.console.log.apply(_t.console,arguments)}var vr={log:z1,warn:function(t){_t.console&&(typeof _t.console.warn=="function"?_t.console.warn.apply(_t.console,arguments):z1.call(null,arguments))},error:function(t){_t.console&&(typeof _t.console.error=="function"?_t.console.error.apply(_t.console,arguments):z1(t))}};function G1(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Cl(n.response,e,r)},n.onerror=function(){vr.error("could not download file")},n.send()}function fC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Um(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hh,qy,Cl=_t.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==_t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=_t.URL||_t.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?fC(s.href)?G1(t,e,r):Um(s,s.target="_blank"):Um(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Um(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(fC(t))G1(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Um(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:ur(i)!=="object"&&(vr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return G1(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(_t.HTMLElement)||_t.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||s&&i)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=A?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=_t.URL||_t.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function MS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,A=s.exec(t);A&&(e=i(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function q1(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=Vn(r,n,s,i,e[0],7,-680876936),i=Vn(i,r,n,s,e[1],12,-389564586),s=Vn(s,i,r,n,e[2],17,606105819),n=Vn(n,s,i,r,e[3],22,-1044525330),r=Vn(r,n,s,i,e[4],7,-176418897),i=Vn(i,r,n,s,e[5],12,1200080426),s=Vn(s,i,r,n,e[6],17,-1473231341),n=Vn(n,s,i,r,e[7],22,-45705983),r=Vn(r,n,s,i,e[8],7,1770035416),i=Vn(i,r,n,s,e[9],12,-1958414417),s=Vn(s,i,r,n,e[10],17,-42063),n=Vn(n,s,i,r,e[11],22,-1990404162),r=Vn(r,n,s,i,e[12],7,1804603682),i=Vn(i,r,n,s,e[13],12,-40341101),s=Vn(s,i,r,n,e[14],17,-1502002290),r=Kn(r,n=Vn(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Kn(i,r,n,s,e[6],9,-1069501632),s=Kn(s,i,r,n,e[11],14,643717713),n=Kn(n,s,i,r,e[0],20,-373897302),r=Kn(r,n,s,i,e[5],5,-701558691),i=Kn(i,r,n,s,e[10],9,38016083),s=Kn(s,i,r,n,e[15],14,-660478335),n=Kn(n,s,i,r,e[4],20,-405537848),r=Kn(r,n,s,i,e[9],5,568446438),i=Kn(i,r,n,s,e[14],9,-1019803690),s=Kn(s,i,r,n,e[3],14,-187363961),n=Kn(n,s,i,r,e[8],20,1163531501),r=Kn(r,n,s,i,e[13],5,-1444681467),i=Kn(i,r,n,s,e[2],9,-51403784),s=Kn(s,i,r,n,e[7],14,1735328473),r=zn(r,n=Kn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=zn(i,r,n,s,e[8],11,-2022574463),s=zn(s,i,r,n,e[11],16,1839030562),n=zn(n,s,i,r,e[14],23,-35309556),r=zn(r,n,s,i,e[1],4,-1530992060),i=zn(i,r,n,s,e[4],11,1272893353),s=zn(s,i,r,n,e[7],16,-155497632),n=zn(n,s,i,r,e[10],23,-1094730640),r=zn(r,n,s,i,e[13],4,681279174),i=zn(i,r,n,s,e[0],11,-358537222),s=zn(s,i,r,n,e[3],16,-722521979),n=zn(n,s,i,r,e[6],23,76029189),r=zn(r,n,s,i,e[9],4,-640364487),i=zn(i,r,n,s,e[12],11,-421815835),s=zn(s,i,r,n,e[15],16,530742520),r=Gn(r,n=zn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Gn(i,r,n,s,e[7],10,1126891415),s=Gn(s,i,r,n,e[14],15,-1416354905),n=Gn(n,s,i,r,e[5],21,-57434055),r=Gn(r,n,s,i,e[12],6,1700485571),i=Gn(i,r,n,s,e[3],10,-1894986606),s=Gn(s,i,r,n,e[10],15,-1051523),n=Gn(n,s,i,r,e[1],21,-2054922799),r=Gn(r,n,s,i,e[8],6,1873313359),i=Gn(i,r,n,s,e[15],10,-30611744),s=Gn(s,i,r,n,e[6],15,-1560198380),n=Gn(n,s,i,r,e[13],21,1309151649),r=Gn(r,n,s,i,e[4],6,-145523070),i=Gn(i,r,n,s,e[11],10,-1120210379),s=Gn(s,i,r,n,e[2],15,718787259),n=Gn(n,s,i,r,e[9],21,-343485551),t[0]=vo(r,t[0]),t[1]=vo(n,t[1]),t[2]=vo(s,t[2]),t[3]=vo(i,t[3])}function m0(t,e,r,n,s,i){return e=vo(vo(e,t),vo(n,i)),vo(e<<s|e>>>32-s,r)}function Vn(t,e,r,n,s,i,A){return m0(e&r|~e&n,t,e,s,i,A)}function Kn(t,e,r,n,s,i,A){return m0(e&n|r&~n,t,e,s,i,A)}function zn(t,e,r,n,s,i,A){return m0(e^r^n,t,e,s,i,A)}function Gn(t,e,r,n,s,i,A){return m0(r^(e|~n),t,e,s,i,A)}function VS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)q1(n,M9(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(q1(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,q1(n,s),n}function M9(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}hh=_t.atob.bind(_t),qy=_t.btoa.bind(_t);var mC="0123456789abcdef".split("");function V9(t){for(var e="",r=0;r<4;r++)e+=mC[t>>8*r+4&15]+mC[t>>8*r&15];return e}function K9(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $y(t){return VS(t).map(K9).join("")}var z9=function(t){for(var e=0;e<t.length;e++)t[e]=V9(t[e]);return t.join("")}(VS("hello"))!="5d41402abc4b2a76b9719d911017c592";function vo(t,e){if(z9){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Wy(t,e){var r,n,s,i;if(t!==r){for(var A=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var h=o[l];c=(c+h+A.charCodeAt(l))%256,o[l]=o[c],o[c]=h}r=t,n=o}else o=n;var f=e.length,p=0,g=0,b="";for(l=0;l<f;l++)g=(g+(h=o[p=(p+1)%256]))%256,o[p]=o[g],o[g]=h,A=o[(o[p]+o[g])%256],b+=String.fromCharCode(e.charCodeAt(l)^A);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var pC={print:4,modify:8,copy:16,"annot-forms":32};function Hc(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(pC.perm!==void 0)throw new Error("Invalid permission: "+o);s+=pC[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,A),this.P=-(1+(255^s)),this.encryptionKey=$y(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Wy(this.encryptionKey,this.padding)}function Mc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function gC(t){if(ur(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var A=e[r][i];try{A[0].apply(t,n)}catch(o){_t.console&&vr.error("jsPDF PubSub Error",o.message,o)}A[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pg(t){if(!(this instanceof pg))return new pg(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function KS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _l(t,e,r,n,s){if(!(this instanceof _l))return new _l(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,KS.call(this,n,s)}function nu(t,e,r,n,s){if(!(this instanceof nu))return new nu(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,KS.call(this,n,s)}function Ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],A=[],o=1,l=16,c="S",h=null;ur(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),A=t.filters||(i===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=gC;var b="1.3",E=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(y){b=y};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return _};var w=g.__private__.getPageFormat=function(y){return _[y]};s=s||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},I=v.COMPAT;function L(){this.saveGraphicsState(),M(new lt(Qe,0,0,-Qe,0,Rn()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),c="n",I=v.ADVANCED}function z(){this.restoreGraphicsState(),c="S",I=v.COMPAT}var q=g.__private__.combineFontStyleAndFontWeight=function(y,D){if(y=="bold"&&D=="normal"||y=="bold"&&D==400||y=="normal"&&D=="italic"||y=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(y=D==400||D==="normal"?y==="italic"?"italic":"normal":D!=700&&D!=="bold"||y!=="normal"?(D==700?"bold":D)+""+y:"bold"),y};g.advancedAPI=function(y){var D=I===v.COMPAT;return D&&L.call(this),typeof y!="function"||(y(this),D&&z.call(this)),this},g.compatAPI=function(y){var D=I===v.ADVANCED;return D&&z.call(this),typeof y!="function"||(y(this),D&&L.call(this)),this},g.isAdvancedAPI=function(){return I===v.ADVANCED};var U,B=function(y){if(I!==v.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(y,D){var Ae=e||D;if(isNaN(y)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(Ae).replace(/0+$/,"")};U=g.hpf=g.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,16)};var P=g.f2=g.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return k(y,2)},N=g.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return k(y,3)},F=g.scale=g.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return I===v.COMPAT?y*Qe:I===v.ADVANCED?y:void 0},j=function(y){return I===v.COMPAT?Rn()-y:I===v.ADVANCED?y:void 0},se=function(y){return F(j(y))};g.__private__.setPrecision=g.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var we,de="00000000000000000000000000000000",ve=g.__private__.getFileId=function(){return de},H=g.__private__.setFileId=function(y){return de=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Er=new Hc(h.userPermissions,h.userPassword,h.ownerPassword,de)),de};g.setFileId=function(y){return H(y),this},g.getFileId=function(){return ve()};var ae=g.__private__.convertDateToPDFDate=function(y){var D=y.getTimezoneOffset(),Ae=D<0?"+":"-",ue=Math.floor(Math.abs(D/60)),xe=Math.abs(D%60),Ue=[Ae,X(ue),"'",X(xe),"'"].join("");return["D:",y.getFullYear(),X(y.getMonth()+1),X(y.getDate()),X(y.getHours()),X(y.getMinutes()),X(y.getSeconds()),Ue].join("")},Y=g.__private__.convertPDFDateToDate=function(y){var D=parseInt(y.substr(2,4),10),Ae=parseInt(y.substr(6,2),10)-1,ue=parseInt(y.substr(8,2),10),xe=parseInt(y.substr(10,2),10),Ue=parseInt(y.substr(12,2),10),Ke=parseInt(y.substr(14,2),10);return new Date(D,Ae,ue,xe,Ue,Ke,0)},ce=g.__private__.setCreationDate=function(y){var D;if(y===void 0&&(y=new Date),y instanceof Date)D=ae(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=y}return we=D},Q=g.__private__.getCreationDate=function(y){var D=we;return y==="jsDate"&&(D=Y(we)),D};g.setCreationDate=function(y){return ce(y),this},g.getCreationDate=function(y){return Q(y)};var K,X=g.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},re=g.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ee=0,te=[],J=[],ie=0,oe=[],me=[],Ee=!1,Ce=J,pe=function(){ee=0,ie=0,J=[],te=[],oe=[],pi=Pr(),Dn=Pr()};g.__private__.setCustomOutputDestination=function(y){Ee=!0,Ce=y};var Z=function(y){Ee||(Ce=y)};g.__private__.resetCustomOutputDestination=function(){Ee=!1,Ce=J};var M=g.__private__.out=function(y){return y=y.toString(),ie+=y.length+1,Ce.push(y),Ce},Le=g.__private__.write=function(y){return M(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},$e=g.__private__.getArrayBuffer=function(y){for(var D=y.length,Ae=new ArrayBuffer(D),ue=new Uint8Array(Ae);D--;)ue[D]=y.charCodeAt(D);return Ae},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return je};var qe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(y){return qe=I===v.ADVANCED?y/Qe:y,this};var Ze,Je=g.__private__.getFontSize=g.getFontSize=function(){return I===v.COMPAT?qe:qe*Qe},dt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(y){return dt=y,this},g.__private__.getR2L=g.getR2L=function(){return dt};var wt,Et=g.__private__.setZoomMode=function(y){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Ze=y;else if(isNaN(y)){if(D.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Ze=y}else Ze=parseInt(y,10)};g.__private__.getZoomMode=function(){return Ze};var mt,vt=g.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');wt=y};g.__private__.getPageMode=function(){return wt};var Rt=g.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');mt=y};g.__private__.getLayoutMode=function(){return mt},g.__private__.setDisplayMode=g.setDisplayMode=function(y,D,Ae){return Et(y),Rt(D),vt(Ae),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(y){if(Object.keys(gt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[y]},g.__private__.getDocumentProperties=function(){return gt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(y){for(var D in gt)gt.hasOwnProperty(D)&&y[D]&&(gt[D]=y[D]);return this},g.__private__.setDocumentProperty=function(y,D){if(Object.keys(gt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[y]=D};var Se,Qe,nt,be,Pe,ke={},Fe={},Xe=[],it={},Wt={},pt={},Mt={},tr=null,xt=0,We=[],tt=new gC(g),bt=t.hotfixes||[],qt={},Ot={},ar=[],lt=function y(D,Ae,ue,xe,Ue,Ke){if(!(this instanceof y))return new y(D,Ae,ue,xe,Ue,Ke);isNaN(D)&&(D=1),isNaN(Ae)&&(Ae=0),isNaN(ue)&&(ue=0),isNaN(xe)&&(xe=1),isNaN(Ue)&&(Ue=0),isNaN(Ke)&&(Ke=0),this._matrix=[D,Ae,ue,xe,Ue,Ke]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(y)},lt.prototype.multiply=function(y){var D=y.sx*this.sx+y.shy*this.shx,Ae=y.sx*this.shy+y.shy*this.sy,ue=y.shx*this.sx+y.sy*this.shx,xe=y.shx*this.shy+y.sy*this.sy,Ue=y.tx*this.sx+y.ty*this.shx+this.tx,Ke=y.tx*this.shy+y.ty*this.sy+this.ty;return new lt(D,Ae,ue,xe,Ue,Ke)},lt.prototype.decompose=function(){var y=this.sx,D=this.shy,Ae=this.shx,ue=this.sy,xe=this.tx,Ue=this.ty,Ke=Math.sqrt(y*y+D*D),rt=(y/=Ke)*Ae+(D/=Ke)*ue;Ae-=y*rt,ue-=D*rt;var d=Math.sqrt(Ae*Ae+ue*ue);return rt/=d,y*(ue/=d)<D*(Ae/=d)&&(y=-y,D=-D,rt=-rt,Ke=-Ke),{scale:new lt(Ke,0,0,d,0,0),translate:new lt(1,0,0,1,xe,Ue),rotate:new lt(y,D,-D,y,0,0),skew:new lt(1,0,rt,1,0,0)}},lt.prototype.toString=function(y){return this.join(" ")},lt.prototype.inversed=function(){var y=this.sx,D=this.shy,Ae=this.shx,ue=this.sy,xe=this.tx,Ue=this.ty,Ke=1/(y*ue-D*Ae),rt=ue*Ke,d=-D*Ke,C=-Ae*Ke,T=y*Ke;return new lt(rt,d,C,T,-rt*xe-C*Ue,-d*xe-T*Ue)},lt.prototype.applyToPoint=function(y){var D=y.x*this.sx+y.y*this.shx+this.tx,Ae=y.x*this.shy+y.y*this.sy+this.ty;return new LA(D,Ae)},lt.prototype.applyToRectangle=function(y){var D=this.applyToPoint(y),Ae=this.applyToPoint(new LA(y.x+y.w,y.y+y.h));return new Ta(D.x,D.y,Ae.x-D.x,Ae.y-D.y)},lt.prototype.clone=function(){var y=this.sx,D=this.shy,Ae=this.shx,ue=this.sy,xe=this.tx,Ue=this.ty;return new lt(y,D,Ae,ue,xe,Ue)},g.Matrix=lt;var fs=g.matrixMult=function(y,D){return D.multiply(y)},Pn=new lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Pn;var rn=function(y,D){if(!Wt[y]){var Ae=(D instanceof _l?"Sh":"P")+(Object.keys(it).length+1).toString(10);D.id=Ae,Wt[y]=Ae,it[Ae]=D,tt.publish("addPattern",D)}};g.ShadingPattern=_l,g.TilingPattern=nu,g.addShadingPattern=function(y,D){return B("addShadingPattern()"),rn(y,D),this},g.beginTilingPattern=function(y){B("beginTilingPattern()"),Ua(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},g.endTilingPattern=function(y,D){B("endTilingPattern()"),D.stream=me[K].join(`
`),rn(y,D),tt.publish("endTilingPattern",D),ar.pop().restore()};var Kr=g.__private__.newObject=function(){var y=Pr();return nn(y,!0),y},Pr=g.__private__.newObjectDeferred=function(){return ee++,te[ee]=function(){return ie},ee},nn=function(y,D){return D=typeof D=="boolean"&&D,te[y]=ie,D&&M(y+" 0 obj"),y},va=g.__private__.newAdditionalObject=function(){var y={objId:Pr(),content:""};return oe.push(y),y},pi=Pr(),Dn=Pr(),ms=g.__private__.decodeColorString=function(y){var D=y.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var Ae=parseFloat(D[0]);D=[Ae,Ae,Ae,"r"]}for(var ue="#",xe=0;xe<3;xe++)ue+=("0"+Math.floor(255*parseFloat(D[xe])).toString(16)).slice(-2);return ue},rs=g.__private__.encodeColorString=function(y){var D;typeof y=="string"&&(y={ch1:y});var Ae=y.ch1,ue=y.ch2,xe=y.ch3,Ue=y.ch4,Ke=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var rt=new MS(Ae);if(rt.ok)Ae=rt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var d=parseInt(Ae.substr(1),16);Ae=d>>16&255,ue=d>>8&255,xe=255&d}if(ue===void 0||Ue===void 0&&Ae===ue&&ue===xe)if(typeof Ae=="string")D=Ae+" "+Ke[0];else switch(y.precision){case 2:D=P(Ae/255)+" "+Ke[0];break;case 3:default:D=N(Ae/255)+" "+Ke[0]}else if(Ue===void 0||ur(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return D=["1.","1.","1.",Ke[1]].join(" ");if(typeof Ae=="string")D=[Ae,ue,xe,Ke[1]].join(" ");else switch(y.precision){case 2:D=[P(Ae/255),P(ue/255),P(xe/255),Ke[1]].join(" ");break;default:case 3:D=[N(Ae/255),N(ue/255),N(xe/255),Ke[1]].join(" ")}}else if(typeof Ae=="string")D=[Ae,ue,xe,Ue,Ke[2]].join(" ");else switch(y.precision){case 2:D=[P(Ae),P(ue),P(xe),P(Ue),Ke[2]].join(" ");break;case 3:default:D=[N(Ae),N(ue),N(xe),N(Ue),Ke[2]].join(" ")}return D},ns=g.__private__.getFilters=function(){return A},zr=g.__private__.putStream=function(y){var D=(y=y||{}).data||"",Ae=y.filters||ns(),ue=y.alreadyAppliedFilters||[],xe=y.addLength1||!1,Ue=D.length,Ke=y.objectId,rt=function(kt){return kt};if(h!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(rt=Er.encryptor(Ke,0));var d={};Ae===!0&&(Ae=["FlateEncode"]);var C=y.additionalKeyValues||[],T=(d=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(D,Ae):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(d.data.length!==0&&(C.push({key:"Length",value:d.data.length}),xe===!0&&C.push({key:"Length1",value:Ue})),T.length!=0)if(T.split("/").length-1==1)C.push({key:"Filter",value:T});else{C.push({key:"Filter",value:"["+T+"]"});for(var G=0;G<C.length;G+=1)if(C[G].key==="DecodeParms"){for(var ye=[],Ne=0;Ne<d.reverseChain.split("/").length-1;Ne+=1)ye.push("null");ye.push(C[G].value),C[G].value="["+ye.join(" ")+"]"}}M("<<");for(var ze=0;ze<C.length;ze++)M("/"+C[ze].key+" "+C[ze].value);M(">>"),d.data.length!==0&&(M("stream"),M(rt(d.data)),M("endstream"))},Ss=g.__private__.putPage=function(y){var D=y.number,Ae=y.data,ue=y.objId,xe=y.contentsObjId;nn(ue,!0),M("<</Type /Page"),M("/Parent "+y.rootDictionaryObjId+" 0 R"),M("/Resources "+y.resourceDictionaryObjId+" 0 R"),M("/MediaBox ["+parseFloat(U(y.mediaBox.bottomLeftX))+" "+parseFloat(U(y.mediaBox.bottomLeftY))+" "+U(y.mediaBox.topRightX)+" "+U(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&M("/CropBox ["+U(y.cropBox.bottomLeftX)+" "+U(y.cropBox.bottomLeftY)+" "+U(y.cropBox.topRightX)+" "+U(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&M("/BleedBox ["+U(y.bleedBox.bottomLeftX)+" "+U(y.bleedBox.bottomLeftY)+" "+U(y.bleedBox.topRightX)+" "+U(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&M("/TrimBox ["+U(y.trimBox.bottomLeftX)+" "+U(y.trimBox.bottomLeftY)+" "+U(y.trimBox.topRightX)+" "+U(y.trimBox.topRightY)+"]"),y.artBox!==null&&M("/ArtBox ["+U(y.artBox.bottomLeftX)+" "+U(y.artBox.bottomLeftY)+" "+U(y.artBox.topRightX)+" "+U(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&M("/UserUnit "+y.userUnit),tt.publish("putPage",{objId:ue,pageContext:We[D],pageNumber:D,page:Ae}),M("/Contents "+xe+" 0 R"),M(">>"),M("endobj");var Ue=Ae.join(`
`);return I===v.ADVANCED&&(Ue+=`
Q`),nn(xe,!0),zr({data:Ue,filters:ns(),objectId:xe}),M("endobj"),ue},qi=g.__private__.putPages=function(){var y,D,Ae=[];for(y=1;y<=xt;y++)We[y].objId=Pr(),We[y].contentsObjId=Pr();for(y=1;y<=xt;y++)Ae.push(Ss({number:y,data:me[y],objId:We[y].objId,contentsObjId:We[y].contentsObjId,mediaBox:We[y].mediaBox,cropBox:We[y].cropBox,bleedBox:We[y].bleedBox,trimBox:We[y].trimBox,artBox:We[y].artBox,userUnit:We[y].userUnit,rootDictionaryObjId:pi,resourceDictionaryObjId:Dn}));nn(pi,!0),M("<</Type /Pages");var ue="/Kids [";for(D=0;D<xt;D++)ue+=Ae[D]+" 0 R ";M(ue+"]"),M("/Count "+xt),M(">>"),M("endobj"),tt.publish("postPutPages")},$i=function(y){tt.publish("putFont",{font:y,out:M,newObject:Kr,putStream:zr}),y.isAlreadyPutted!==!0&&(y.objectNumber=Kr(),M("<<"),M("/Type /Font"),M("/BaseFont /"+Mc(y.postScriptName)),M("/Subtype /Type1"),typeof y.encoding=="string"&&M("/Encoding /"+y.encoding),M("/FirstChar 32"),M("/LastChar 255"),M(">>"),M("endobj"))},Wi=function(){for(var y in ke)ke.hasOwnProperty(y)&&(f===!1||f===!0&&p.hasOwnProperty(y))&&$i(ke[y])},IA=function(y){y.objectNumber=Kr();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[U(y.x),U(y.y),U(y.x+y.width),U(y.y+y.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var Ae=y.pages[1].join(`
`);zr({data:Ae,additionalKeyValues:D,objectId:y.objectNumber}),M("endobj")},NA=function(){for(var y in qt)qt.hasOwnProperty(y)&&IA(qt[y])},rc=function(y,D){var Ae,ue=[],xe=1/(D-1);for(Ae=0;Ae<1;Ae+=xe)ue.push(Ae);if(ue.push(1),y[0].offset!=0){var Ue={offset:0,color:y[0].color};y.unshift(Ue)}if(y[y.length-1].offset!=1){var Ke={offset:1,color:y[y.length-1].color};y.push(Ke)}for(var rt="",d=0,C=0;C<ue.length;C++){for(Ae=ue[C];Ae>y[d+1].offset;)d++;var T=y[d].offset,G=(Ae-T)/(y[d+1].offset-T),ye=y[d].color,Ne=y[d+1].color;rt+=re(Math.round((1-G)*ye[0]+G*Ne[0]).toString(16))+re(Math.round((1-G)*ye[1]+G*Ne[1]).toString(16))+re(Math.round((1-G)*ye[2]+G*Ne[2]).toString(16))}return rt.trim()},ya=function(y,D){D||(D=21);var Ae=Kr(),ue=rc(y.colors,D),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+D+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zr({data:ue,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),M("endobj"),y.objectNumber=Kr(),M("<< /ShadingType "+y.type),M("/ColorSpace /DeviceRGB");var Ue="/Coords ["+U(parseFloat(y.coords[0]))+" "+U(parseFloat(y.coords[1]))+" ";y.type===2?Ue+=U(parseFloat(y.coords[2]))+" "+U(parseFloat(y.coords[3])):Ue+=U(parseFloat(y.coords[2]))+" "+U(parseFloat(y.coords[3]))+" "+U(parseFloat(y.coords[4]))+" "+U(parseFloat(y.coords[5])),M(Ue+="]"),y.matrix&&M("/Matrix ["+y.matrix.toString()+"]"),M("/Function "+Ae+" 0 R"),M("/Extend [true true]"),M(">>"),M("endobj")},nc=function(y,D){var Ae=Pr(),ue=Kr();D.push({resourcesOid:Ae,objectOid:ue}),y.objectNumber=ue;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+y.boundingBox.map(U).join(" ")+"]"}),xe.push({key:"XStep",value:U(y.xStep)}),xe.push({key:"YStep",value:U(y.yStep)}),xe.push({key:"Resources",value:Ae+" 0 R"}),y.matrix&&xe.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),zr({data:y.stream,additionalKeyValues:xe,objectId:y.objectNumber}),M("endobj")},Yi=function(y){var D;for(D in it)it.hasOwnProperty(D)&&(it[D]instanceof _l?ya(it[D]):it[D]instanceof nu&&nc(it[D],y))},Xi=function(y){for(var D in y.objectNumber=Kr(),M("<<"),y)switch(D){case"opacity":M("/ca "+P(y[D]));break;case"stroke-opacity":M("/CA "+P(y[D]))}M(">>"),M("endobj")},gi=function(){var y;for(y in pt)pt.hasOwnProperty(y)&&Xi(pt[y])},SA=function(){for(var y in M("/XObject <<"),qt)qt.hasOwnProperty(y)&&qt[y].objectNumber>=0&&M("/"+y+" "+qt[y].objectNumber+" 0 R");tt.publish("putXobjectDict"),M(">>")},Ju=function(){Er.oid=Kr(),M("<<"),M("/Filter /Standard"),M("/V "+Er.v),M("/R "+Er.r),M("/U <"+Er.toHexString(Er.U)+">"),M("/O <"+Er.toHexString(Er.O)+">"),M("/P "+Er.P),M(">>"),M("endobj")},el=function(){for(var y in M("/Font <<"),ke)ke.hasOwnProperty(y)&&(f===!1||f===!0&&p.hasOwnProperty(y))&&M("/"+y+" "+ke[y].objectNumber+" 0 R");M(">>")},sc=function(){if(Object.keys(it).length>0){for(var y in M("/Shading <<"),it)it.hasOwnProperty(y)&&it[y]instanceof _l&&it[y].objectNumber>=0&&M("/"+y+" "+it[y].objectNumber+" 0 R");tt.publish("putShadingPatternDict"),M(">>")}},FA=function(y){if(Object.keys(it).length>0){for(var D in M("/Pattern <<"),it)it.hasOwnProperty(D)&&it[D]instanceof g.TilingPattern&&it[D].objectNumber>=0&&it[D].objectNumber<y&&M("/"+D+" "+it[D].objectNumber+" 0 R");tt.publish("putTilingPatternDict"),M(">>")}},tl=function(){if(Object.keys(pt).length>0){var y;for(y in M("/ExtGState <<"),pt)pt.hasOwnProperty(y)&&pt[y].objectNumber>=0&&M("/"+y+" "+pt[y].objectNumber+" 0 R");tt.publish("putGStateDict"),M(">>")}},Cr=function(y){nn(y.resourcesOid,!0),M("<<"),M("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),el(),sc(),FA(y.objectOid),tl(),SA(),M(">>"),M("endobj")},rl=function(){var y=[];Wi(),gi(),NA(),Yi(y),tt.publish("putResources"),y.forEach(Cr),Cr({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),tt.publish("postPutResources")},nl=function(){tt.publish("putAdditionalObjects");for(var y=0;y<oe.length;y++){var D=oe[y];nn(D.objId,!0),M(D.content),M("endobj")}tt.publish("postPutAdditionalObjects")},ic=function(y){Fe[y.fontName]=Fe[y.fontName]||{},Fe[y.fontName][y.fontStyle]=y.id},sl=function(y,D,Ae,ue,xe){var Ue={id:"F"+(Object.keys(ke).length+1).toString(10),postScriptName:y,fontName:D,fontStyle:Ae,encoding:ue,isStandardFont:xe||!1,metadata:{}};return tt.publish("addFont",{font:Ue,instance:this}),ke[Ue.id]=Ue,ic(Ue),Ue.id},Ac=function(y){for(var D=0,Ae=je.length;D<Ae;D++){var ue=sl.call(this,y[D][0],y[D][1],y[D][2],je[D][3],!0);f===!1&&(p[ue]=!0);var xe=y[D][0].split("-");ic({id:ue,fontName:xe[0],fontStyle:xe[1]||""})}tt.publish("addFonts",{fonts:ke,dictionary:Fe})},ps=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(ue){var D=ue.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var Ae="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ue.message;if(!_t.console)throw new Error(Ae);_t.console.error(Ae,ue),_t.alert&&alert(Ae)}},y.foo.bar=y,y.foo},wa=function(y,D){var Ae,ue,xe,Ue,Ke,rt,d,C,T;if(xe=(D=D||{}).sourceEncoding||"Unicode",Ke=D.outputEncoding,(D.autoencode||Ke)&&ke[Se].metadata&&ke[Se].metadata[xe]&&ke[Se].metadata[xe].encoding&&(Ue=ke[Se].metadata[xe].encoding,!Ke&&ke[Se].encoding&&(Ke=ke[Se].encoding),!Ke&&Ue.codePages&&(Ke=Ue.codePages[0]),typeof Ke=="string"&&(Ke=Ue[Ke]),Ke)){for(d=!1,rt=[],Ae=0,ue=y.length;Ae<ue;Ae++)(C=Ke[y.charCodeAt(Ae)])?rt.push(String.fromCharCode(C)):rt.push(y[Ae]),rt[Ae].charCodeAt(0)>>8&&(d=!0);y=rt.join("")}for(Ae=y.length;d===void 0&&Ae!==0;)y.charCodeAt(Ae-1)>>8&&(d=!0),Ae--;if(!d)return y;for(rt=D.noBOM?[]:[254,255],Ae=0,ue=y.length;Ae<ue;Ae++){if((T=(C=y.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(T),rt.push(C-(T<<8))}return String.fromCharCode.apply(void 0,rt)},Dr=g.__private__.pdfEscape=g.pdfEscape=function(y,D){return wa(y,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ss=g.__private__.beginPage=function(y){me[++xt]=[],We[xt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},il(xt),Z(me[K])},kA=function(y,D){var Ae,ue,xe;switch(r=D||r,typeof y=="string"&&(Ae=w(y.toLowerCase()),Array.isArray(Ae)&&(ue=Ae[0],xe=Ae[1])),Array.isArray(y)&&(ue=y[0]*Qe,xe=y[1]*Qe),isNaN(ue)&&(ue=s[0],xe=s[1]),(ue>14400||xe>14400)&&(vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),xe=Math.min(14400,xe)),s=[ue,xe],r.substr(0,1)){case"l":xe>ue&&(s=[xe,ue]);break;case"p":ue>xe&&(s=[xe,ue])}ss(s),cl(ll),M(Cn),hl!==0&&M(hl+" J"),ka!==0&&M(ka+" j"),tt.publish("addPage",{pageNumber:xt})},xa=function(y){y>0&&y<=xt&&(me.splice(y,1),We.splice(y,1),xt--,K>xt&&(K=xt),this.setPage(K))},il=function(y){y>0&&y<=xt&&(K=y)},or=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return me.length-1},TA=function(y,D,Ae){var ue,xe=void 0;return Ae=Ae||{},y=y!==void 0?y:ke[Se].fontName,D=D!==void 0?D:ke[Se].fontStyle,ue=y.toLowerCase(),Fe[ue]!==void 0&&Fe[ue][D]!==void 0?xe=Fe[ue][D]:Fe[y]!==void 0&&Fe[y][D]!==void 0?xe=Fe[y][D]:Ae.disableWarning===!1&&vr.warn("Unable to look up font label for font '"+y+"', '"+D+"'. Refer to getFontList() for available fonts."),xe||Ae.noFallback||(xe=Fe.times[D])==null&&(xe=Fe.times.normal),xe},UA=g.__private__.putInfo=function(){var y=Kr(),D=function(ue){return ue};for(var Ae in h!==null&&(D=Er.encryptor(y,0)),M("<<"),M("/Producer ("+Dr(D("jsPDF "+Ct.version))+")"),gt)gt.hasOwnProperty(Ae)&&gt[Ae]&&M("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Dr(D(gt[Ae]))+")");M("/CreationDate ("+Dr(D(we))+")"),M(">>"),M("endobj")},vi=g.__private__.putCatalog=function(y){var D=(y=y||{}).rootDictionaryObjId||pi;switch(Kr(),M("<<"),M("/Type /Catalog"),M("/Pages "+D+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":M("/OpenAction [3 0 R /FitH null]");break;case"fullheight":M("/OpenAction [3 0 R /FitV null]");break;case"fullpage":M("/OpenAction [3 0 R /Fit]");break;case"original":M("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+Ze;Ae.substr(Ae.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&M("/OpenAction [3 0 R /XYZ null null "+P(Ze)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":M("/PageLayout /OneColumn");break;case"single":M("/PageLayout /SinglePage");break;case"two":case"twoleft":M("/PageLayout /TwoColumnLeft");break;case"tworight":M("/PageLayout /TwoColumnRight")}wt&&M("/PageMode /"+wt),tt.publish("putCatalog"),M(">>"),M("endobj")},Zu=g.__private__.putTrailer=function(){M("trailer"),M("<<"),M("/Size "+(ee+1)),M("/Root "+ee+" 0 R"),M("/Info "+(ee-1)+" 0 R"),h!==null&&M("/Encrypt "+Er.oid+" 0 R"),M("/ID [ <"+de+"> <"+de+"> ]"),M(">>")},ac=g.__private__.putHeader=function(){M("%PDF-"+b),M("%ºß¬à")},ed=g.__private__.putXRef=function(){var y="0000000000";M("xref"),M("0 "+(ee+1)),M("0000000000 65535 f ");for(var D=1;D<=ee;D++)typeof te[D]=="function"?M((y+te[D]()).slice(-10)+" 00000 n "):te[D]!==void 0?M((y+te[D]).slice(-10)+" 00000 n "):M("0000000000 00000 n ")},yi=g.__private__.buildDocument=function(){pe(),Z(J),tt.publish("buildDocument"),ac(),qi(),nl(),rl(),h!==null&&Ju(),UA(),vi();var y=ie;return ed(),Zu(),M("startxref"),M(""+y),M("%%EOF"),Z(me[K]),J.join(`
`)},Ba=g.__private__.getBlob=function(y){return new Blob([$e(y)],{type:"application/pdf"})},ba=g.output=g.__private__.output=ps(function(y,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",y){case void 0:return yi();case"save":g.save(D.filename);break;case"arraybuffer":return $e(yi());case"blob":return Ba(yi());case"bloburi":case"bloburl":if(_t.URL!==void 0&&typeof _t.URL.createObjectURL=="function")return _t.URL&&_t.URL.createObjectURL(Ba(yi()))||void 0;vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",ue=yi();try{Ae=qy(ue)}catch{Ae=qy(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+D.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(xe=D.pdfObjectUrl,Ue="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",rt=_t.open();return rt!==null&&rt.document.write(Ke),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_t)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',C=_t.open();if(C!==null){C.document.write(d);var T=this;C.document.documentElement.querySelector("#pdfViewer").onload=function(){C.document.title=D.filename,C.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(T.output("bloburl"))}}return C}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',ye=_t.open();if(ye!==null&&(ye.document.write(G),ye.document.title=D.filename),ye||typeof safari>"u")return ye;break;case"datauri":case"dataurl":return _t.document.location.href=this.output("datauristring",D);default:return null}}),Ji=function(y){return Array.isArray(bt)===!0&&bt.indexOf(y)>-1};switch(n){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=Ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Qe=n}var Er=null;ce(),H();var oc=function(y){return h!==null?Er.encryptor(y,0):function(D){return D}},Al=g.__private__.getPageInfo=g.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:We[y].objId,pageNumber:y,pageContext:We[y]}},It=g.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in We)if(We[D].objId===y)break;return Al(D)},Zi=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:We[K].objId,pageNumber:K,pageContext:We[K]}};g.addPage=function(){return kA.apply(this,arguments),this},g.setPage=function(){return il.apply(this,arguments),Z.call(this,me[K]),this},g.insertPage=function(y){return this.addPage(),this.movePage(K,y),this},g.movePage=function(y,D){var Ae,ue;if(y>D){Ae=me[y],ue=We[y];for(var xe=y;xe>D;xe--)me[xe]=me[xe-1],We[xe]=We[xe-1];me[D]=Ae,We[D]=ue,this.setPage(D)}else if(y<D){Ae=me[y],ue=We[y];for(var Ue=y;Ue<D;Ue++)me[Ue]=me[Ue+1],We[Ue]=We[Ue+1];me[D]=Ae,We[D]=ue,this.setPage(D)}return this},g.deletePage=function(){return xa.apply(this,arguments),this},g.__private__.text=g.text=function(y,D,Ae,ue,xe){var Ue,Ke,rt,d,C,T,G,ye,Ne,ze=(ue=ue||{}).scope||this;if(typeof y=="number"&&typeof D=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var kt=Ae;Ae=D,D=y,y=kt}if(arguments[3]instanceof lt?(B("The transform parameter of text() with a Matrix value"),Ne=xe):(rt=arguments[4],d=arguments[5],ur(G=arguments[3])==="object"&&G!==null||(typeof rt=="string"&&(d=rt,rt=null),typeof G=="string"&&(d=G,G=null),typeof G=="number"&&(rt=G,G=null),ue={flags:G,angle:rt,align:d})),isNaN(D)||isNaN(Ae)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return ze;var Vt="",Tt=!1,ir=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:sr,pr=ze.internal.scaleFactor;function Ci(yr){return yr=yr.split("	").join(Array(ue.TabLen||9).join(" ")),Dr(yr,G)}function En(yr){for(var wr,qr=yr.concat(),dn=[],HA=qr.length;HA--;)typeof(wr=qr.shift())=="string"?dn.push(wr):Array.isArray(yr)&&(wr.length===1||wr[1]===void 0&&wr[2]===void 0)?dn.push(wr[0]):dn.push([wr[0],wr[1],wr[2]]);return dn}function nA(yr,wr){var qr;if(typeof yr=="string")qr=wr(yr)[0];else if(Array.isArray(yr)){for(var dn,HA,ld=yr.concat(),xc=[],wf=ld.length;wf--;)typeof(dn=ld.shift())=="string"?xc.push(wr(dn)[0]):Array.isArray(dn)&&typeof dn[0]=="string"&&(HA=wr(dn[0],dn[1],dn[2]),xc.push([HA[0],HA[1],HA[2]]));qr=xc}return qr}var sA=!1,rd=!0;if(typeof y=="string")sA=!0;else if(Array.isArray(y)){var nd=y.concat();Ke=[];for(var hc,_n=nd.length;_n--;)(typeof(hc=nd.shift())!="string"||Array.isArray(hc)&&typeof hc[0]!="string")&&(rd=!1);sA=rd}if(sA===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var fc=qe/ze.internal.scaleFactor,mc=fc*(ir-1);switch(ue.baseline){case"bottom":Ae-=mc;break;case"top":Ae+=fc-mc;break;case"hanging":Ae+=fc-2*mc;break;case"middle":Ae+=fc/2-mc}if((T=ue.maxWidth||0)>0&&(typeof y=="string"?y=ze.splitTextToSize(y,T):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(yr,wr){return yr.concat(ze.splitTextToSize(wr,T))},[]))),Ue={text:y,x:D,y:Ae,options:ue,mutex:{pdfEscape:Dr,activeFontKey:Se,fonts:ke,activeFontSize:qe}},tt.publish("preProcessText",Ue),y=Ue.text,rt=(ue=Ue.options).angle,!(Ne instanceof lt)&&rt&&typeof rt=="number"){rt*=Math.PI/180,ue.rotationDirection===0&&(rt=-rt),I===v.ADVANCED&&(rt=-rt);var pc=Math.cos(rt),sd=Math.sin(rt);Ne=new lt(pc,sd,-sd,pc,0,0)}else rt&&rt instanceof lt&&(Ne=rt);I!==v.ADVANCED||Ne||(Ne=Pn),(C=ue.charSpace||jA)!==void 0&&(Vt+=U(F(C))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ye=ue.horizontalScale)!==void 0&&(Vt+=U(100*ye)+` Tz
`),ue.lang;var gs=-1,p0=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,id=ze.internal.getCurrentPageInfo().pageContext;switch(p0){case 0:case!1:case"fill":gs=0;break;case 1:case!0:case"stroke":gs=1;break;case 2:case"fillThenStroke":gs=2;break;case 3:case"invisible":gs=3;break;case 4:case"fillAndAddForClipping":gs=4;break;case 5:case"strokeAndAddPathForClipping":gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gs=6;break;case 7:case"addToPathForClipping":gs=7}var pf=id.usedRenderingMode!==void 0?id.usedRenderingMode:-1;gs!==-1?Vt+=gs+` Tr
`:pf!==-1&&(Vt+=`0 Tr
`),gs!==-1&&(id.usedRenderingMode=gs),d=ue.align||"left";var Ws,gc=qe*ir,gf=ze.internal.pageSize.getWidth(),vf=ke[Se];C=ue.charSpace||jA,T=ue.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var La=[],fl=function(yr){return ze.getStringUnitWidth(yr,{font:vf,charSpace:C,fontSize:qe,doKerning:!1})*qe/pr};if(Object.prototype.toString.call(y)==="[object Array]"){var vs;Ke=En(y),d!=="left"&&(Ws=Ke.map(fl));var is,Pa=0;if(d==="right"){D-=Ws[0],y=[],_n=Ke.length;for(var DA=0;DA<_n;DA++)DA===0?(is=Ts(D),vs=un(Ae)):(is=F(Pa-Ws[DA]),vs=-gc),y.push([Ke[DA],is,vs]),Pa=Ws[DA]}else if(d==="center"){D-=Ws[0]/2,y=[],_n=Ke.length;for(var RA=0;RA<_n;RA++)RA===0?(is=Ts(D),vs=un(Ae)):(is=F((Pa-Ws[RA])/2),vs=-gc),y.push([Ke[RA],is,vs]),Pa=Ws[RA]}else if(d==="left"){y=[],_n=Ke.length;for(var vc=0;vc<_n;vc++)y.push(Ke[vc])}else if(d==="justify"&&vf.encoding==="Identity-H"){y=[],_n=Ke.length,T=T!==0?T:gf;for(var OA=0,Gr=0;Gr<_n;Gr++)if(vs=Gr===0?un(Ae):-gc,is=Gr===0?Ts(D):OA,Gr<_n-1){var Ad=F((T-Ws[Gr])/(Ke[Gr].split(" ").length-1)),As=Ke[Gr].split(" ");y.push([As[0]+" ",is,vs]),OA=0;for(var Ys=1;Ys<As.length;Ys++){var yc=(fl(As[Ys-1]+" "+As[Ys])-fl(As[Ys]))*pr+Ad;Ys==As.length-1?y.push([As[Ys],yc,0]):y.push([As[Ys]+" ",yc,0]),OA-=yc}}else y.push([Ke[Gr],is,vs]);y.push(["",OA,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],_n=Ke.length,T=T!==0?T:gf,Gr=0;Gr<_n;Gr++)vs=Gr===0?un(Ae):-gc,is=Gr===0?Ts(D):0,Gr<_n-1?La.push(U(F((T-Ws[Gr])/(Ke[Gr].split(" ").length-1)))):La.push(0),y.push([Ke[Gr],is,vs])}}var yf=typeof ue.R2L=="boolean"?ue.R2L:dt;yf===!0&&(y=nA(y,function(yr,wr,qr){return[yr.split("").reverse().join(""),wr,qr]})),Ue={text:y,x:D,y:Ae,options:ue,mutex:{pdfEscape:Dr,activeFontKey:Se,fonts:ke,activeFontSize:qe}},tt.publish("postProcessText",Ue),y=Ue.text,Tt=Ue.mutex.isHex||!1;var ad=ke[Se].encoding;ad!=="WinAnsiEncoding"&&ad!=="StandardEncoding"||(y=nA(y,function(yr,wr,qr){return[Ci(yr),wr,qr]})),Ke=En(y),y=[];for(var ml,pl,Da,gl=0,wc=1,vl=Array.isArray(Ke[0])?wc:gl,Ra="",od=function(yr,wr,qr){var dn="";return qr instanceof lt?(qr=typeof ue.angle=="number"?fs(qr,new lt(1,0,0,1,yr,wr)):fs(new lt(1,0,0,1,yr,wr),qr),I===v.ADVANCED&&(qr=fs(new lt(1,0,0,-1,0,0),qr)),dn=qr.join(" ")+` Tm
`):dn=U(yr)+" "+U(wr)+` Td
`,dn},Xs=0;Xs<Ke.length;Xs++){switch(Ra="",vl){case wc:Da=(Tt?"<":"(")+Ke[Xs][0]+(Tt?">":")"),ml=parseFloat(Ke[Xs][1]),pl=parseFloat(Ke[Xs][2]);break;case gl:Da=(Tt?"<":"(")+Ke[Xs]+(Tt?">":")"),ml=Ts(D),pl=un(Ae)}La!==void 0&&La[Xs]!==void 0&&(Ra=La[Xs]+` Tw
`),Xs===0?y.push(Ra+od(ml,pl,Ne)+Da):vl===gl?y.push(Ra+Da):vl===wc&&y.push(Ra+od(ml,pl,Ne)+Da)}y=vl===gl?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Js=`BT
/`;return Js+=Se+" "+qe+` Tf
`,Js+=U(qe*ir)+` TL
`,Js+=Bi+`
`,Js+=Vt,Js+=y,M(Js+="ET"),p[Se]=!0,ze};var td=g.__private__.clip=g.clip=function(y){return M(y==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return td("evenodd")},g.__private__.discardPath=g.discardPath=function(){return M("n"),this};var $s=g.__private__.isValidStyle=function(y){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(D=!0),D};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(y){return $s(y)&&(c=y),this};var lc=g.__private__.getStyle=g.getStyle=function(y){var D=c;switch(y){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=y}return D},Fs=g.close=function(){return M("h"),this};g.stroke=function(){return M("S"),this},g.fill=function(y){return Ca("f",y),this},g.fillEvenOdd=function(y){return Ca("f*",y),this},g.fillStroke=function(y){return Ca("B",y),this},g.fillStrokeEvenOdd=function(y){return Ca("B*",y),this};var Ca=function(y,D){ur(D)==="object"?_a(D,y):M(y)},al=function(y){y===null||I===v.ADVANCED&&y===void 0||(y=lc(y),M(y))};function Ea(y,D,Ae,ue,xe){var Ue=new nu(D||this.boundingBox,Ae||this.xStep,ue||this.yStep,this.gState,xe||this.matrix);Ue.stream=this.stream;var Ke=y+"$$"+this.cloneIndex+++"$$";return rn(Ke,Ue),Ue}var _a=function(y,D){var Ae=Wt[y.key],ue=it[Ae];if(ue instanceof _l)M("q"),M(cc(D)),ue.gState&&g.setGState(ue.gState),M(y.matrix.toString()+" cm"),M("/"+Ae+" sh"),M("Q");else if(ue instanceof nu){var xe=new lt(1,0,0,-1,0,Rn());y.matrix&&(xe=xe.multiply(y.matrix||Pn),Ae=Ea.call(ue,y.key,y.boundingBox,y.xStep,y.yStep,xe).id),M("q"),M("/Pattern cs"),M("/"+Ae+" scn"),ue.gState&&g.setGState(ue.gState),M(D),M("Q")}},cc=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wi=g.moveTo=function(y,D){return M(U(F(y))+" "+U(se(D))+" m"),this},ks=g.lineTo=function(y,D){return M(U(F(y))+" "+U(se(D))+" l"),this},xi=g.curveTo=function(y,D,Ae,ue,xe,Ue){return M([U(F(y)),U(se(D)),U(F(Ae)),U(se(ue)),U(F(xe)),U(se(Ue)),"c"].join(" ")),this};g.__private__.line=g.line=function(y,D,Ae,ue,xe){if(isNaN(y)||isNaN(D)||isNaN(Ae)||isNaN(ue)||!$s(xe))throw new Error("Invalid arguments passed to jsPDF.line");return I===v.COMPAT?this.lines([[Ae-y,ue-D]],y,D,[1,1],xe||"S"):this.lines([[Ae-y,ue-D]],y,D,[1,1]).stroke()},g.__private__.lines=g.lines=function(y,D,Ae,ue,xe,Ue){var Ke,rt,d,C,T,G,ye,Ne,ze,kt,Vt,Tt;if(typeof y=="number"&&(Tt=Ae,Ae=D,D=y,y=Tt),ue=ue||[1,1],Ue=Ue||!1,isNaN(D)||isNaN(Ae)||!Array.isArray(y)||!Array.isArray(ue)||!$s(xe)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wi(D,Ae),Ke=ue[0],rt=ue[1],C=y.length,kt=D,Vt=Ae,d=0;d<C;d++)(T=y[d]).length===2?(kt=T[0]*Ke+kt,Vt=T[1]*rt+Vt,ks(kt,Vt)):(G=T[0]*Ke+kt,ye=T[1]*rt+Vt,Ne=T[2]*Ke+kt,ze=T[3]*rt+Vt,kt=T[4]*Ke+kt,Vt=T[5]*rt+Vt,xi(G,ye,Ne,ze,kt,Vt));return Ue&&Fs(),al(xe),this},g.path=function(y){for(var D=0;D<y.length;D++){var Ae=y[D],ue=Ae.c;switch(Ae.op){case"m":wi(ue[0],ue[1]);break;case"l":ks(ue[0],ue[1]);break;case"c":xi.apply(this,ue);break;case"h":Fs()}}return this},g.__private__.rect=g.rect=function(y,D,Ae,ue,xe){if(isNaN(y)||isNaN(D)||isNaN(Ae)||isNaN(ue)||!$s(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return I===v.COMPAT&&(ue=-ue),M([U(F(y)),U(se(D)),U(F(Ae)),U(F(ue)),"re"].join(" ")),al(xe),this},g.__private__.triangle=g.triangle=function(y,D,Ae,ue,xe,Ue,Ke){if(isNaN(y)||isNaN(D)||isNaN(Ae)||isNaN(ue)||isNaN(xe)||isNaN(Ue)||!$s(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-y,ue-D],[xe-Ae,Ue-ue],[y-xe,D-Ue]],y,D,[1,1],Ke,!0),this},g.__private__.roundedRect=g.roundedRect=function(y,D,Ae,ue,xe,Ue,Ke){if(isNaN(y)||isNaN(D)||isNaN(Ae)||isNaN(ue)||isNaN(xe)||isNaN(Ue)||!$s(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*Ae),Ue=Math.min(Ue,.5*ue),this.lines([[Ae-2*xe,0],[xe*rt,0,xe,Ue-Ue*rt,xe,Ue],[0,ue-2*Ue],[0,Ue*rt,-xe*rt,Ue,-xe,Ue],[2*xe-Ae,0],[-xe*rt,0,-xe,-Ue*rt,-xe,-Ue],[0,2*Ue-ue],[0,-Ue*rt,xe*rt,-Ue,xe,-Ue]],y+xe,D,[1,1],Ke,!0),this},g.__private__.ellipse=g.ellipse=function(y,D,Ae,ue,xe){if(isNaN(y)||isNaN(D)||isNaN(Ae)||isNaN(ue)||!$s(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*Ae,Ke=4/3*(Math.SQRT2-1)*ue;return wi(y+Ae,D),xi(y+Ae,D-Ke,y+Ue,D-ue,y,D-ue),xi(y-Ue,D-ue,y-Ae,D-Ke,y-Ae,D),xi(y-Ae,D+Ke,y-Ue,D+ue,y,D+ue),xi(y+Ue,D+ue,y+Ae,D+Ke,y+Ae,D),al(xe),this},g.__private__.circle=g.circle=function(y,D,Ae,ue){if(isNaN(y)||isNaN(D)||isNaN(Ae)||!$s(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,D,Ae,Ae,ue)},g.setFont=function(y,D,Ae){return Ae&&(D=q(D,Ae)),Se=TA(y,D,{disableWarning:!1}),this};var ol=g.__private__.getFont=g.getFont=function(){return ke[TA.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var y,D,Ae={};for(y in Fe)if(Fe.hasOwnProperty(y))for(D in Ae[y]=[],Fe[y])Fe[y].hasOwnProperty(D)&&Ae[y].push(D);return Ae},g.addFont=function(y,D,Ae,ue,xe){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(Ae=q(Ae,ue)),xe=xe||"Identity-H",sl.call(this,y,D,Ae,xe)};var sr,ll=t.lineWidth||.200025,Ia=g.__private__.getLineWidth=g.getLineWidth=function(){return ll},cl=g.__private__.setLineWidth=g.setLineWidth=function(y){return ll=y,M(U(F(y))+" w"),this};g.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(y,D){if(y=y||[],D=D||0,isNaN(D)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(Ae){return U(F(Ae))}).join(" "),D=U(F(D)),M("["+y+"] "+D+" d"),this};var ul=g.__private__.getLineHeight=g.getLineHeight=function(){return qe*sr};g.__private__.getLineHeight=g.getLineHeight=function(){return qe*sr};var dl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(sr=y),this},QA=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return sr};dl(t.lineHeight);var Ts=g.__private__.getHorizontalCoordinate=function(y){return F(y)},un=g.__private__.getVerticalCoordinate=function(y){return I===v.ADVANCED?y:We[K].mediaBox.topRightY-We[K].mediaBox.bottomLeftY-F(y)},uc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(y){return U(Ts(y))},eA=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(y){return U(un(y))},Cn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ms(Cn)},g.__private__.setStrokeColor=g.setDrawColor=function(y,D,Ae,ue){return Cn=rs({ch1:y,ch2:D,ch3:Ae,ch4:ue,pdfColorType:"draw",precision:2}),M(Cn),this};var Na=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ms(Na)},g.__private__.setFillColor=g.setFillColor=function(y,D,Ae,ue){return Na=rs({ch1:y,ch2:D,ch3:Ae,ch4:ue,pdfColorType:"fill",precision:2}),M(Na),this};var Bi=t.textColor||"0 g",Sa=g.__private__.getTextColor=g.getTextColor=function(){return ms(Bi)};g.__private__.setTextColor=g.setTextColor=function(y,D,Ae,ue){return Bi=rs({ch1:y,ch2:D,ch3:Ae,ch4:ue,pdfColorType:"text",precision:3}),this};var jA=t.charSpace,Fa=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(jA||0)};g.__private__.setCharSpace=g.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jA=y,this};var hl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(y){var D=g.CapJoinStyles[y];if(D===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hl=D,M(D+" J"),this};var ka=0;g.__private__.setLineJoin=g.setLineJoin=function(y){var D=g.CapJoinStyles[y];if(D===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ka=D,M(D+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return M(U(F(y))+" M"),this},g.GState=pg,g.setGState=function(y){(y=typeof y=="string"?pt[Mt[y]]:tA(null,y)).equals(tr)||(M("/"+y.id+" gs"),tr=y)};var tA=function(y,D){if(!y||!Mt[y]){var Ae=!1;for(var ue in pt)if(pt.hasOwnProperty(ue)&&pt[ue].equals(D)){Ae=!0;break}if(Ae)D=pt[ue];else{var xe="GS"+(Object.keys(pt).length+1).toString(10);pt[xe]=D,D.id=xe}return y&&(Mt[y]=D.id),tt.publish("addGState",D),D}};g.addGState=function(y,D){return tA(y,D),this},g.saveGraphicsState=function(){return M("q"),Xe.push({key:Se,size:qe,color:Bi}),this},g.restoreGraphicsState=function(){M("Q");var y=Xe.pop();return Se=y.key,qe=y.size,Bi=y.color,tr=null,this},g.setCurrentTransformationMatrix=function(y){return M(y.toString()+" cm"),this},g.comment=function(y){return M("#"+y),this};var LA=function(y,D){var Ae=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(Ue){isNaN(Ue)||(Ae=parseFloat(Ue))}});var ue=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Ue){isNaN(Ue)||(ue=parseFloat(Ue))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Ue){xe=Ue.toString()}}),this},Ta=function(y,D,Ae,ue){LA.call(this,y,D),this.type="rect";var xe=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Ke){isNaN(Ke)||(xe=parseFloat(Ke))}});var Ue=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Ke){isNaN(Ke)||(Ue=parseFloat(Ke))}}),this},PA=function(){this.page=xt,this.currentPage=K,this.pages=me.slice(0),this.pagesContext=We.slice(0),this.x=nt,this.y=be,this.matrix=Pe,this.width=rA(K),this.height=Rn(K),this.outputDestination=Ce,this.id="",this.objectNumber=-1};PA.prototype.restore=function(){xt=this.page,K=this.currentPage,We=this.pagesContext,me=this.pages,nt=this.x,be=this.y,Pe=this.matrix,Qa(K,this.width),ja(K,this.height),Ce=this.outputDestination};var Ua=function(y,D,Ae,ue,xe){ar.push(new PA),xt=K=0,me=[],nt=y,be=D,Pe=xe,ss([Ae,ue])},dc=function(y){if(Ot[y])ar.pop().restore();else{var D=new PA,Ae="Xo"+(Object.keys(qt).length+1).toString(10);D.id=Ae,Ot[y]=Ae,qt[Ae]=D,tt.publish("addFormObject",D),ar.pop().restore()}};for(var bi in g.beginFormObject=function(y,D,Ae,ue,xe){return Ua(y,D,Ae,ue,xe),this},g.endFormObject=function(y){return dc(y),this},g.doFormObject=function(y,D){var Ae=qt[Ot[y]];return M("q"),M(D.toString()+" cm"),M("/"+Ae.id+" Do"),M("Q"),this},g.getFormObject=function(y){var D=qt[Ot[y]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},g.save=function(y,D){return y=y||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Cl(Ba(yi()),y),typeof Cl.unload=="function"&&_t.setTimeout&&setTimeout(Cl.unload,911),this):new Promise(function(Ae,ue){try{var xe=Cl(Ba(yi()),y);typeof Cl.unload=="function"&&_t.setTimeout&&setTimeout(Cl.unload,911),Ae(xe)}catch(Ue){ue(Ue.message)}})},Ct.API)Ct.API.hasOwnProperty(bi)&&(bi==="events"&&Ct.API.events.length?function(y,D){var Ae,ue,xe;for(xe=D.length-1;xe!==-1;xe--)Ae=D[xe][0],ue=D[xe][1],y.subscribe.apply(y,[Ae].concat(typeof ue=="function"?[ue]:ue))}(tt,Ct.API.events):g[bi]=Ct.API[bi]);var rA=g.getPageWidth=function(y){return(We[y=y||K].mediaBox.topRightX-We[y].mediaBox.bottomLeftX)/Qe},Qa=g.setPageWidth=function(y,D){We[y].mediaBox.topRightX=D*Qe+We[y].mediaBox.bottomLeftX},Rn=g.getPageHeight=function(y){return(We[y=y||K].mediaBox.topRightY-We[y].mediaBox.bottomLeftY)/Qe},ja=g.setPageHeight=function(y,D){We[y].mediaBox.topRightY=D*Qe+We[y].mediaBox.bottomLeftY};return g.internal={pdfEscape:Dr,getStyle:lc,getFont:ol,getFontSize:Je,getCharSpace:Fa,getTextColor:Sa,getLineHeight:ul,getLineHeightFactor:QA,getLineWidth:Ia,write:Le,getHorizontalCoordinate:Ts,getVerticalCoordinate:un,getCoordinateString:uc,getVerticalCoordinateString:eA,collections:{},newObject:Kr,newAdditionalObject:va,newObjectDeferred:Pr,newObjectDeferredBegin:nn,getFilters:ns,putStream:zr,events:tt,scaleFactor:Qe,pageSize:{getWidth:function(){return rA(K)},setWidth:function(y){Qa(K,y)},getHeight:function(){return Rn(K)},setHeight:function(y){ja(K,y)}},encryptionOptions:h,encryption:Er,getEncryptor:oc,output:ba,getNumberOfPages:or,pages:me,out:M,f2:P,f3:N,getPageInfo:Al,getPageInfoByObjId:It,getCurrentPageInfo:Zi,getPDFVersion:E,Point:LA,Rectangle:Ta,Matrix:lt,hasHotfix:Ji},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return rA(K)},set:function(y){Qa(K,y)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Rn(K)},set:function(y){ja(K,y)},enumerable:!0,configurable:!0}),Ac.call(g,je),Se="F1",kA(s,r),tt.publish("initialized"),g}Hc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Hc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Hc.prototype.processOwnerPassword=function(t,e){return Wy($y(e).substr(0,5),t)},Hc.prototype.encryptor=function(t,e){var r=$y(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Wy(r,n)}},pg.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ur(t)!==ur(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="2.5.2";var Or=Ct.API,Z2=1,tc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ut=function(t){return t.toFixed(2)},Xa=function(t){return t.toFixed(5)};Or.__acroform__={};var Ns=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},vC=function(t){return t*Z2},oA=function(t){var e=new GS,r=ht.internal.getHeight(t)||0,n=ht.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ut(n)),Number(Ut(r))],e},G9=Or.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},q9=Or.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},$9=Or.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Jr=Or.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $9(t,e-1)},Zr=Or.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G9(t,e-1)},en=Or.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return q9(t,e-1)},W9=Or.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],A=t[2],o=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(s+A)||0,l.upperRight_Y=n(i)||0,[Number(Ut(l.lowerLeft_X)),Number(Ut(l.lowerLeft_Y)),Number(Ut(l.upperRight_X)),Number(Ut(l.upperRight_Y))]},Y9=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Yy(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Ut(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=oA(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Yy=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var i=r,A=ht.internal.getHeight(t)||0;A=A<0?-A:A;var o=ht.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(N,F,j){if(N+1<s.length){var se=F+" "+s[N+1][0];return Qm(se,t,j).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,h,f=Qm("3",t,i).height,p=t.multiline?A-i:(A-f)/2,g=p+=2,b=0,E=0,_=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qm(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var w="",v=0,I=0;I<s.length;I++)if(s.hasOwnProperty(I)){var L=!1;if(s[I].length!==1&&_!==s[I].length-1){if((f+2)*(v+2)+2>A)continue e;w+=s[I][_],L=!0,E=I,I--}else{w=(w+=s[I][_]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var z=parseInt(I),q=l(z,w,i),U=I>=s.length-1;if(q&&!U){w+=" ",_=0;continue}if(q||U){if(U)E=z;else if(t.multiline&&(f+2)*(v+2)+2>A)continue e}else{if(!t.multiline||(f+2)*(v+2)+2>A)continue e;E=z}}for(var B="",k=b;k<=E;k++){var P=s[k];if(t.multiline){if(k===E){B+=P[_]+" ",_=(_+1)%P.length;continue}if(k===b){B+=P[P.length-1]+" ";continue}}B+=P[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,h=Qm(B,t,i).width,t.textAlign){case"right":c=o-h-2;break;case"center":c=(o-h)/2;break;case"left":default:c=2}e+=Ut(c)+" "+Ut(g)+` Td
`,e+="("+tc(B)+`) Tj
`,e+=-Ut(c)+` 0 Td
`,g=-(i+2),h=0,b=L?E:E+1,v++,w=""}break}return n.text=e,n.fontSize=i,n},Qm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},X9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},J9=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Z9=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),ur(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},eV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(zi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(X9)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new qS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&J9(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var A in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var o=n[A],l=[],c=o.Rect;if(o.Rect&&(o.Rect=W9(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ht.createDefaultAppearanceStream(o),ur(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Y9(o);l.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var g=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var A in g)if(g.hasOwnProperty(A)){var b=g[A];typeof b=="function"&&(b=b.call(s,o)),f+="/"+A+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(s,o)),f+="/"+A+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}i&&Z9(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},zS=Or.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),ur(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+tc(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$1=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+tc(n(t))+")"},hA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hA.prototype.toString=function(){return this.objId+" 0 R"},hA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},hA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:zS(s,this.objId,this.scope)}):s instanceof hA?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var GS=function(){hA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ns(GS,hA);var qS=function(){hA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+tc(r(t))+")"}},set:function(r){t=r}})};Ns(qS,hA);var zi=function t(){hA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jr(e,3)},set:function(w){w?this.F=Zr(e,3):this.F=en(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof gg)return;i="FieldObject"+t.FieldNum++}var w=function(v){return v};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+tc(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Z2:c},set:function(w){c=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof gg||this instanceof Pl))return $1(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xn?p:$1(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof xn?w:w.substr(0,1)==="("?Qc(w.substr(1,w.length-2)):Qc(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?Qc(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof xn?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof xn?g:$1(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof xn?w:w.substr(0,1)==="("?Qc(w.substr(1,w.length-2)):Qc(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?Qc(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof xn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(w){w=!!w,E=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,1)},set:function(w){w?this.Ff=Zr(this.Ff,1):this.Ff=en(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,2)},set:function(w){w?this.Ff=Zr(this.Ff,2):this.Ff=en(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,3)},set:function(w){w?this.Ff=Zr(this.Ff,3):this.Ff=en(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');_=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(_){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Ns(zi,hA);var mu=function(){zi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zS(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,A,o){o||(o=1);for(var l,c=[];l=A.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,18)},set:function(r){r?this.Ff=Zr(this.Ff,18):this.Ff=en(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zr(this.Ff,19):this.Ff=en(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,20)},set:function(r){r?(this.Ff=Zr(this.Ff,20),e.sort()):this.Ff=en(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,22)},set:function(r){r?this.Ff=Zr(this.Ff,22):this.Ff=en(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(r){r?this.Ff=Zr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,27)},set:function(r){r?this.Ff=Zr(this.Ff,27):this.Ff=en(this.Ff,27)}}),this.hasAppearanceStream=!1};Ns(mu,zi);var pu=function(){mu.call(this),this.fontName="helvetica",this.combo=!1};Ns(pu,mu);var gu=function(){pu.call(this),this.combo=!0};Ns(gu,pu);var lp=function(){gu.call(this),this.edit=!0};Ns(lp,gu);var xn=function(){zi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,15)},set:function(r){r?this.Ff=Zr(this.Ff,15):this.Ff=en(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,16)},set:function(r){r?this.Ff=Zr(this.Ff,16):this.Ff=en(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,17)},set:function(r){r?this.Ff=Zr(this.Ff,17):this.Ff=en(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(r){r?this.Ff=Zr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+tc(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){ur(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ns(xn,zi);var cp=function(){xn.call(this),this.pushButton=!0};Ns(cp,xn);var vu=function(){xn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ns(vu,xn);var gg=function(){var t,e;zi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,A=[];for(i in A.push("<<"),n)A.push("/"+i+" ("+tc(s(n[i]))+")");return A.push(">>"),A.join(`
`)},set:function(s){ur(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ns(gg,zi),vu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},vu.prototype.createOption=function(t){var e=new gg;return e.Parent=this,e.optionName=t,this.Kids.push(e),tV.call(this.scope,e),e};var up=function(){xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};Ns(up,xn);var Pl=function(){zi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,13)},set:function(e){e?this.Ff=Zr(this.Ff,13):this.Ff=en(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,21)},set:function(e){e?this.Ff=Zr(this.Ff,21):this.Ff=en(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(e){e?this.Ff=Zr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,24)},set:function(e){e?this.Ff=Zr(this.Ff,24):this.Ff=en(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,25)},set:function(e){e?this.Ff=Zr(this.Ff,25):this.Ff=en(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(e){e?this.Ff=Zr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ns(Pl,zi);var dp=function(){Pl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,14)},set:function(t){t?this.Ff=Zr(this.Ff,14):this.Ff=en(this.Ff,14)}}),this.password=!0};Ns(dp,Pl);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Yy(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ut(ht.internal.getWidth(t))+" "+Ut(ht.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ut(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=oA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=ht.internal.getHeight(t),A=ht.internal.getWidth(t),o=Yy(t,t.caption);return s.push("1 g"),s.push("0 0 "+Ut(A)+" "+Ut(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ut(A-1)+" "+Ut(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Ut(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ut(ht.internal.getWidth(t))+" "+Ut(ht.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Circle.YesNormal,e.D[t]=ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=ht.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Xa(ht.internal.getWidth(t)/2)+" "+Xa(ht.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ht.internal.Bezier_C).toFixed(5)),A=Number((n*ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xa(ht.internal.getWidth(t)/2)+" "+Xa(ht.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Xa(ht.internal.getWidth(t)/2)+" "+Xa(ht.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xa(ht.internal.getWidth(t)/2)+" "+Xa(ht.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Cross.YesNormal,e.D[t]=ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=oA(t);e.scope=t.scope;var r=[],n=ht.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ut(ht.internal.getWidth(t)-2)+" "+Ut(ht.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ut(n.x1.x)+" "+Ut(n.x1.y)+" m"),r.push(Ut(n.x2.x)+" "+Ut(n.x2.y)+" l"),r.push(Ut(n.x4.x)+" "+Ut(n.x4.y)+" m"),r.push(Ut(n.x3.x)+" "+Ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=ht.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ut(ht.internal.getWidth(t))+" "+Ut(ht.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ut(ht.internal.getWidth(t)-2)+" "+Ut(ht.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ut(r.x1.x)+" "+Ut(r.x1.y)+" m"),n.push(Ut(r.x2.x)+" "+Ut(r.x2.y)+" l"),n.push(Ut(r.x4.x)+" "+Ut(r.x4.y)+" m"),n.push(Ut(r.x3.x)+" "+Ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=oA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ut(ht.internal.getWidth(t))+" "+Ut(ht.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ht.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ht.internal.getWidth(t),r=ht.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ht.internal.getWidth=function(t){var e=0;return ur(t)==="object"&&(e=vC(t.Rect[2])),e},ht.internal.getHeight=function(t){var e=0;return ur(t)==="object"&&(e=vC(t.Rect[3])),e};var tV=Or.addField=function(t){if(eV(this,t),!(t instanceof zi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Or.AcroFormChoiceField=mu,Or.AcroFormListBox=pu,Or.AcroFormComboBox=gu,Or.AcroFormEditBox=lp,Or.AcroFormButton=xn,Or.AcroFormPushButton=cp,Or.AcroFormRadioButton=vu,Or.AcroFormCheckBox=up,Or.AcroFormTextField=Pl,Or.AcroFormPasswordField=dp,Or.AcroFormAppearance=ht,Or.AcroForm={ChoiceField:mu,ListBox:pu,ComboBox:gu,EditBox:lp,Button:xn,PushButton:cp,RadioButton:vu,CheckBox:up,TextField:Pl,PasswordField:dp,Appearance:ht},Ct.AcroForm={ChoiceField:mu,ListBox:pu,ComboBox:gu,EditBox:lp,Button:xn,PushButton:cp,RadioButton:vu,CheckBox:up,TextField:Pl,PasswordField:dp,Appearance:ht};function $S(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(N,F){var j,se,we,de,ve,H=e;if((F=F||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(q(N))for(ve in r)for(we=r[ve],j=0;j<we.length;j+=1){for(de=!0,se=0;se<we[j].length;se+=1)if(we[j][se]!==void 0&&we[j][se]!==N[se]){de=!1;break}if(de===!0){H=ve;break}}else for(ve in r)for(we=r[ve],j=0;j<we.length;j+=1){for(de=!0,se=0;se<we[j].length;se+=1)if(we[j][se]!==void 0&&we[j][se]!==N.charCodeAt(se)){de=!1;break}if(de===!0){H=ve;break}}return H===e&&F!==e&&(H=F),H},s=function N(F){for(var j=this.internal.write,se=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:F.width}),de.push({key:"Height",value:F.height}),F.colorSpace===_.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===_.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var ve="",H=0,ae=F.transparency.length;H<ae;H++)ve+=F.transparency[H]+" "+F.transparency[H]+" ";de.push({key:"Mask",value:"["+ve+"]"})}F.sMask!==void 0&&de.push({key:"SMask",value:F.objectId+1+" 0 R"});var Y=F.filter!==void 0?["/"+F.filter]:void 0;if(se({data:F.data,additionalKeyValues:de,alreadyAppliedFilters:Y,objectId:F.objectId}),j("endobj"),"sMask"in F&&F.sMask!==void 0){var ce="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,Q={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:ce,data:F.sMask};"filter"in F&&(Q.filter=F.filter),N.call(this,Q)}if(F.colorSpace===_.INDEXED){var K=this.internal.newObject();se({data:B(new Uint8Array(F.palette)),objectId:K}),j("endobj")}},i=function(){var N=this.internal.collections.addImage_images;for(var F in N)s.call(this,N[F])},A=function(){var N,F=this.internal.collections.addImage_images,j=this.internal.write;for(var se in F)j("/I"+(N=F[se]).index,N.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",A))},l=function(){var N=this.internal.collections.addImage_images;return o.call(this),N},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(N){return typeof t["process"+N.toUpperCase()]=="function"},f=function(N){return ur(N)==="object"&&N.nodeType===1},p=function(N,F){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var j=""+N.getAttribute("src");if(j.indexOf("data:image/")===0)return hh(unescape(j).split("base64,").pop());var se=t.loadFile(j,!0);if(se!==void 0)return se}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var we;switch(F){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;case"JPEG":case"JPG":default:we="image/jpeg"}return hh(N.toDataURL(we,1).split("base64,").pop())}},g=function(N){var F=this.internal.collections.addImage_images;if(F){for(var j in F)if(N===F[j].alias)return F[j]}},b=function(N,F,j){return N||F||(N=-96,F=-96),N<0&&(N=-1*j.width*72/N/this.internal.scaleFactor),F<0&&(F=-1*j.height*72/F/this.internal.scaleFactor),N===0&&(N=F*j.width/j.height),F===0&&(F=N*j.height/j.width),[N,F]},E=function(N,F,j,se,we,de){var ve=b.call(this,j,se,we),H=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,Y=l.call(this);if(j=ve[0],se=ve[1],Y[we.index]=we,de){de*=Math.PI/180;var ce=Math.cos(de),Q=Math.sin(de),K=function(re){return re.toFixed(4)},X=[K(ce),K(Q),K(-1*Q),K(ce),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,H(N),ae(F+se),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([H(j),"0","0",H(se),"0","0","cm"].join(" "))):this.internal.write([H(j),"0","0",H(se),H(N),ae(F+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(N){var F,j,se=0;if(typeof N=="string")for(j=N.length,F=0;F<j;F++)se=(se<<5)-se+N.charCodeAt(F),se|=0;else if(q(N))for(j=N.byteLength/2,F=0;F<j;F++)se=(se<<5)-se+N[F],se|=0;return se},I=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var F=!0;return N.length===0&&(F=!1),N.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(F=!1),F},L=t.__addimage__.extractImageFromDataUrl=function(N){var F=(N=N||"").split("base64,"),j=null;if(F.length===2){var se=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray(se)&&(j={mimeType:se[1],charset:se[2],data:F[1]})}return j},z=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(N){return z()&&N instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(N){return z()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},U=t.__addimage__.binaryStringToUint8Array=function(N){for(var F=N.length,j=new Uint8Array(F),se=0;se<F;se++)j[se]=N.charCodeAt(se);return j},B=t.__addimage__.arrayBufferToBinaryString=function(N){for(var F="",j=q(N)?N:new Uint8Array(N),se=0;se<j.length;se+=8192)F+=String.fromCharCode.apply(null,j.subarray(se,se+8192));return F};t.addImage=function(){var N,F,j,se,we,de,ve,H,ae;if(typeof arguments[1]=="number"?(F=e,j=arguments[1],se=arguments[2],we=arguments[3],de=arguments[4],ve=arguments[5],H=arguments[6],ae=arguments[7]):(F=arguments[1],j=arguments[2],se=arguments[3],we=arguments[4],de=arguments[5],ve=arguments[6],H=arguments[7],ae=arguments[8]),ur(N=arguments[0])==="object"&&!f(N)&&"imageData"in N){var Y=N;N=Y.imageData,F=Y.format||F||e,j=Y.x||j||0,se=Y.y||se||0,we=Y.w||Y.width||we,de=Y.h||Y.height||de,ve=Y.alias||ve,H=Y.compression||H,ae=Y.rotation||Y.angle||ae}var ce=this.internal.getFilters();if(H===void 0&&ce.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(j)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var Q=k.call(this,N,F,ve,H);return E.call(this,j,se,we,de,Q,ae),this};var k=function(N,F,j,se){var we,de,ve;if(typeof N=="string"&&n(N)===e){N=unescape(N);var H=P(N,!1);(H!==""||(H=t.loadFile(N,!0))!==void 0)&&(N=H)}if(f(N)&&(N=p(N,F)),F=n(N,F),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ve=j)==null||ve.length===0)&&(j=function(ae){return typeof ae=="string"||q(ae)?v(ae):q(ae.data)?v(ae.data):null}(N)),(we=g.call(this,j))||(z()&&(N instanceof Uint8Array||F==="RGBA"||(de=N,N=U(N))),we=this["process"+F.toUpperCase()](N,c.call(this),j,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:w.NONE}(se),de)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},P=t.__addimage__.convertBase64ToBinaryString=function(N,F){var j;F=typeof F!="boolean"||F;var se,we="";if(typeof N=="string"){se=(j=L(N))!==null?j.data:N;try{we=hh(se)}catch(de){if(F)throw I(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return we};t.getImageProperties=function(N){var F,j,se="";if(f(N)&&(N=p(N)),typeof N=="string"&&n(N)===e&&((se=P(N,!1))===""&&(se=t.loadFile(N)||""),N=se),j=n(N),!h(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!z()||N instanceof Uint8Array||(N=U(N)),!(F=this["process"+j.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=j,F}})(Ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,A=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(E.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(w(v))+") >>",E.content=i;var I=E.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+A(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(E.objId,"0 R",_.objId,"0 R");break;case"freetext":s="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var z=this.annotations._nameMap[n.options.name];n.options.pageNumber=z.page,n.options.top=z.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var q=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+q+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,A){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:A,type:"link"})},t.textWithLink=function(r,n,s,i){var A,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;A=Math.ceil(c*h)}else o=l,A=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,o,A,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},o=t.__arabicParser__.isArabicEndLetter=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(E){return A(E)&&s.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(E){var _=0,w=r,v="",I=0;for(_=0;_<E.length;_+=1)w[E.charCodeAt(_)]!==void 0?(I++,typeof(w=w[E.charCodeAt(_)])=="number"&&(v+=String.fromCharCode(w),w=r,I=0),_===E.length-1&&(w=r,v+=E.charAt(_-(I-1)),_-=I-1,I=0)):(w=r,v+=E.charAt(_-I),_-=I,I=0);return v};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(E,_,w){return A(E)?i(E)===!1?-1:!c(E)||!A(_)&&!A(w)||!A(w)&&o(_)||o(E)&&!A(_)||o(E)&&l(_)||o(E)&&o(_)?0:h(E)&&A(_)&&!o(_)&&A(w)&&c(w)?3:o(E)||!A(w)?1:2:-1},g=function(E){var _=0,w=0,v=0,I="",L="",z="",q=(E=E||"").split("\\s+"),U=[];for(_=0;_<q.length;_+=1){for(U.push(""),w=0;w<q[_].length;w+=1)I=q[_][w],L=q[_][w-1],z=q[_][w+1],A(I)?(v=p(I,L,z),U[_]+=v!==-1?String.fromCharCode(e[I.charCodeAt(0)][v]):I):U[_]+=I;U[_]=f(U[_])}return U.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var E,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(_)){var v=0;for(w=[],v=0;v<_.length;v+=1)Array.isArray(_[v])?w.push([g(_[v][0]),_[v][1],_[v][2]]):w.push([g(_[v])]);E=w}else E=g(_);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",b])}(Ct.API),Ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(o){A=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(E){b=E}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,g=0,b=0,E=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,L){return I.concat(_.splitTextToSize(L,w))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)g<(E=this.getStringUnitWidth(l[v],{font:f})*h)&&(g=E);return g!==0&&(b=l.length),{w:g/=p,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,f,p){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,b,E,_,w=[],v=[],I=[],L={},z={},q=[],U=[],B=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,P=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,N=p.margins||Object.assign({width:this.getPageWidth()},e),F=typeof p.padding=="number"?p.padding:3,j=p.headerBackgroundColor||"#c8c8c8",se=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=se,this.setFontSize(P),f==null)v=w=Object.keys(h[0]),I=w.map(function(){return"left"});else if(Array.isArray(f)&&ur(f[0])==="object")for(w=f.map(function(Y){return Y.name}),v=f.map(function(Y){return Y.prompt||Y.name||""}),I=f.map(function(Y){return Y.align||"left"}),g=0;g<f.length;g+=1)z[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(v=w=f,I=w.map(function(){return"left"}));if(B||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<w.length;g+=1){for(L[_=w[g]]=h.map(function(Y){return Y[_]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=L[_],this.setFont(void 0,"normal"),E=0;E<b.length;E+=1)q.push(this.getTextDimensions(b[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[_]=Math.max.apply(null,q)+F+F,q=[]}if(k){var we={};for(g=0;g<w.length;g+=1)we[w[g]]={},we[w[g]].text=v[g],we[w[g]].align=I[g];var de=o.call(this,we,z);U=w.map(function(Y){return new i(l,c,z[Y],de,we[Y].text,void 0,we[Y].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var ve=f.reduce(function(Y,ce){return Y[ce.name]=ce.align,Y},{});for(g=0;g<h.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:h[g]},this);var H=o.call(this,h[g],z);for(E=0;E<w.length;E+=1){var ae=h[g][w[E]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:E,data:ae},this),A.call(this,new i(l,c,z[w[E]],H,ae,g+2,ve[w[E]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(g){var b=l[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/p+h+h},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,h),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var WS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xy=$S(YS),XS=[100,200,300,400,500,600,700,800,900],rV=$S(XS);function Jy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return WS[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Xy[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function yC(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var nV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function sV(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},nV,r.genericFontFamilies||{}),i=null,A=null,o=0;o<e.length;++o)if(s[(i=Jy(e[o])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){A=t[i.family];break}if(!(A=A||t[n]))throw new Error("Could not find a font-family for the rule '"+xC(i)+"' and default family '"+n+"'.");if(A=function(l,c){if(c[l])return c[l];var h=Xy[l],f=h<=Xy.normal?-1:1,p=yC(c,YS,h,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,A),A=function(l,c){if(c[l])return c[l];for(var h=WS[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,A),!(A=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=rV[l],f=yC(c,XS,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,A)))throw new Error("Failed to resolve a font for the rule '"+xC(i)+"'.");return A}function BC(t){return t.trimLeft()}function iV(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function AV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jm,bC,CC,W1=["times"];(function(t){var e,r,n,s,i,A,o,l,c,h=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new A,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new A,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,A=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=Q;Object.defineProperty(this,"pdf",{get:function(){return K}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Z){X=!!Z}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Z){re=!!Z}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Z){isNaN(Z)||(ee=Z)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(Z){isNaN(Z)||(te=Z)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Z){var M;typeof Z=="number"?M=[Z,Z,Z,Z]:((M=new Array(4))[0]=Z[0],M[1]=Z.length>=2?Z[1]:M[0],M[2]=Z.length>=3?Z[2]:M[0],M[3]=Z.length>=4?Z[3]:M[1]),c.margin=M}});var J=!1;Object.defineProperty(this,"autoPaging",{get:function(){return J},set:function(Z){J=Z}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(Z){ie=Z}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(Z){oe=Z}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Z){Z instanceof h&&(c=Z)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Z){c.path=Z}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(Z){me=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var M;M=p(Z),this.ctx.fillStyle=M.style,this.ctx.isFillTransparent=M.a===0,this.ctx.fillOpacity=M.a,this.pdf.setFillColor(M.r,M.g,M.b,{a:M.a}),this.pdf.setTextColor(M.r,M.g,M.b,{a:M.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var M=p(Z);this.ctx.strokeStyle=M.style,this.ctx.isStrokeTransparent=M.a===0,this.ctx.strokeOpacity=M.a,M.a===0?this.pdf.setDrawColor(255,255,255):(M.a,this.pdf.setDrawColor(M.r,M.g,M.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var Ee=null;function Ce(Z,M){if(Ee===null){var Le=function($e){var je=[];return Object.keys($e).forEach(function(qe){$e[qe].forEach(function(Ze){var Je=null;switch(Ze){case"bold":Je={family:qe,weight:"bold"};break;case"italic":Je={family:qe,style:"italic"};break;case"bolditalic":Je={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:qe}}Je!==null&&(Je.ref={name:qe,style:Ze},je.push(Je))})}),je}(Z.getFontList());Ee=function($e){for(var je={},qe=0;qe<$e.length;++qe){var Ze=Jy($e[qe]),Je=Ze.family,dt=Ze.stretch,wt=Ze.style,Et=Ze.weight;je[Je]=je[Je]||{},je[Je][dt]=je[Je][dt]||{},je[Je][dt][wt]=je[Je][dt][wt]||{},je[Je][dt][wt][Et]=Ze}return je}(Le.concat(M))}return Ee}var pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return pe},set:function(Z){Ee=null,pe=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var M;if(this.ctx.font=Z,(M=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Z))!==null){var Le=M[1],$e=(M[2],M[3]),je=M[4],qe=(M[5],M[6]),Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Ze==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Je=function(gt){var Se,Qe,nt=[],be=gt.trim();if(be==="")return W1;if(be in wC)return[wC[be]];for(;be!=="";){switch(Qe=null,Se=(be=BC(be)).charAt(0)){case'"':case"'":Qe=iV(be.substring(1),Se);break;default:Qe=AV(be)}if(Qe===null||(nt.push(Qe[0]),(be=BC(Qe[1]))!==""&&be.charAt(0)!==","))return W1;be=be.replace(/^,/,"")}return nt}(qe);if(this.fontFaces){var dt=sV(Ce(this.pdf,this.fontFaces),Je.map(function(gt){return{family:gt,stretch:"normal",weight:$e,style:Le}}));this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var wt="";($e==="bold"||parseInt($e,10)>=700||Le==="bold")&&(wt="bold"),Le==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Et="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Je.length;vt++){if(this.pdf.internal.getFont(Je[vt],wt,{noFallback:!0,disableWarning:!0})!==void 0){Et=Je[vt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(Je[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=Je[vt],wt="bold";else if(this.pdf.internal.getFont(Je[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=Je[vt],wt="normal";break}}if(Et===""){for(var Rt=0;Rt<Je.length;Rt++)if(mt[Je[Rt]]){Et=mt[Je[Rt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};f.prototype.setLineDash=function(Q){this.lineDash=Q},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){L.call(this,"fill",!1)},f.prototype.stroke=function(){L.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(Q,K){if(isNaN(Q)||isNaN(K))throw vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new A(Q,K));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new A(Q,K)},f.prototype.closePath=function(){var Q=new A(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&ur(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){Q=new A(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(Q.x,Q.y)},f.prototype.lineTo=function(Q,K){if(isNaN(Q)||isNaN(K))throw vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new A(Q,K));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new A(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},f.prototype.quadraticCurveTo=function(Q,K,X,re){if(isNaN(X)||isNaN(re)||isNaN(Q)||isNaN(K))throw vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new A(X,re)),te=this.ctx.transform.applyToPoint(new A(Q,K));this.path.push({type:"qct",x1:te.x,y1:te.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new A(ee.x,ee.y)},f.prototype.bezierCurveTo=function(Q,K,X,re,ee,te){if(isNaN(ee)||isNaN(te)||isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(re))throw vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var J=this.ctx.transform.applyToPoint(new A(ee,te)),ie=this.ctx.transform.applyToPoint(new A(Q,K)),oe=this.ctx.transform.applyToPoint(new A(X,re));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:oe.x,y2:oe.y,x:J.x,y:J.y}),this.ctx.lastPoint=new A(J.x,J.y)},f.prototype.arc=function(Q,K,X,re,ee,te){if(isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(re)||isNaN(ee))throw vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var J=this.ctx.transform.applyToPoint(new A(Q,K));Q=J.x,K=J.y;var ie=this.ctx.transform.applyToPoint(new A(0,X)),oe=this.ctx.transform.applyToPoint(new A(0,0));X=Math.sqrt(Math.pow(ie.x-oe.x,2)+Math.pow(ie.y-oe.y,2))}Math.abs(ee-re)>=2*Math.PI&&(re=0,ee=2*Math.PI),this.path.push({type:"arc",x:Q,y:K,radius:X,startAngle:re,endAngle:ee,counterclockwise:te})},f.prototype.arcTo=function(Q,K,X,re,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function(Q,K,X,re){if(isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(re))throw vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,K),this.lineTo(Q+X,K),this.lineTo(Q+X,K+re),this.lineTo(Q,K+re),this.lineTo(Q,K),this.lineTo(Q+X,K),this.lineTo(Q,K)},f.prototype.fillRect=function(Q,K,X,re){if(isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(re))throw vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,K,X,re),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function(Q,K,X,re){if(isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(re))throw vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(Q,K,X,re),this.stroke())},f.prototype.clearRect=function(Q,K,X,re){if(isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(re))throw vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,K,X,re))},f.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(K),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(Q){var K,X,re,ee;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))K=0,X=0,re=0,ee=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(te!==null)K=parseInt(te[1]),X=parseInt(te[2]),re=parseInt(te[3]),ee=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)K=parseInt(te[1]),X=parseInt(te[2]),re=parseInt(te[3]),ee=parseFloat(te[4]);else{if(ee=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var J=new MS(Q);Q=J.ok?J.toHex():"#000000"}Q.length===4?(K=Q.substring(1,2),K+=K,X=Q.substring(2,3),X+=X,re=Q.substring(3,4),re+=re):(K=Q.substring(1,3),X=Q.substring(3,5),re=Q.substring(5,7)),K=parseInt(K,16),X=parseInt(X,16),re=parseInt(re,16)}}return{r:K,g:X,b:re,a:ee,style:Q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(Q,K,X,re){if(isNaN(K)||isNaN(X)||typeof Q!="string")throw vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!g.call(this)){var ee=H(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;F.call(this,{text:Q,x:K,y:X,scale:te,angle:ee,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(Q,K,X,re){if(isNaN(K)||isNaN(X)||typeof Q!="string")throw vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){re=isNaN(re)?void 0:re;var ee=H(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;F.call(this,{text:Q,x:K,y:X,scale:te,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(Q){if(typeof Q!="string")throw vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,X=this.pdf.internal.scaleFactor,re=K.internal.getFontSize(),ee=K.getStringUnitWidth(Q)*re/K.internal.scaleFactor,te=function(J){var ie=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new te({width:ee*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(Q,K){if(isNaN(Q)||isNaN(K))throw vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(Q,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(Q){if(isNaN(Q))throw vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(Q,K){if(isNaN(Q)||isNaN(K))throw vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,Q,K);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(Q,K,X,re,ee,te){if(isNaN(Q)||isNaN(K)||isNaN(X)||isNaN(re)||isNaN(ee)||isNaN(te))throw vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var J=new l(Q,K,X,re,ee,te);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.setTransform=function(Q,K,X,re,ee,te){Q=isNaN(Q)?1:Q,K=isNaN(K)?0:K,X=isNaN(X)?0:X,re=isNaN(re)?1:re,ee=isNaN(ee)?0:ee,te=isNaN(te)?0:te,this.ctx.transform=new l(Q,K,X,re,ee,te)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(Q,K,X,re,ee,te,J,ie,oe){var me=this.pdf.getImageProperties(Q),Ee=1,Ce=1,pe=1,Z=1;re!==void 0&&ie!==void 0&&(pe=ie/re,Z=oe/ee,Ee=me.width/re*ie/re,Ce=me.height/ee*oe/ee),te===void 0&&(te=K,J=X,K=0,X=0),re!==void 0&&ie===void 0&&(ie=re,oe=ee),re===void 0&&ie===void 0&&(ie=me.width,oe=me.height);for(var M,Le=this.ctx.transform.decompose(),$e=H(Le.rotate.shx),je=new l,qe=(je=(je=(je=je.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new o(te-K*pe,J-X*Z,re*Ee,ee*Ce)),Ze=_.call(this,qe),Je=[],dt=0;dt<Ze.length;dt+=1)Je.indexOf(Ze[dt])===-1&&Je.push(Ze[dt]);if(I(Je),this.autoPaging)for(var wt=Je[0],Et=Je[Je.length-1],mt=wt;mt<Et+1;mt++){this.pdf.setPage(mt);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=mt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=mt===1?0:gt+(mt-2)*Se;if(this.ctx.clip_path.length!==0){var nt=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(M,this.posX+this.margin[3],-Qe+Rt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=nt}var be=JSON.parse(JSON.stringify(qe));be=v([be],this.posX+this.margin[3],-Qe+Rt+this.ctx.prevPageLastElemOffset)[0];var Pe=(mt>wt||mt<Et)&&E.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Se,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",be.x,be.y,be.w,be.h,null,null,$e),Pe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,$e)};var _=function(Q,K,X){var re=[];K=K||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":re.push(Math.floor((Q.y+ee)/X)+1);break;case"arc":re.push(Math.floor((Q.y+ee-Q.radius)/X)+1),re.push(Math.floor((Q.y+ee+Q.radius)/X)+1);break;case"qct":var te=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);re.push(Math.floor((te.y+ee)/X)+1),re.push(Math.floor((te.y+te.h+ee)/X)+1);break;case"bct":var J=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);re.push(Math.floor((J.y+ee)/X)+1),re.push(Math.floor((J.y+J.h+ee)/X)+1);break;case"rect":re.push(Math.floor((Q.y+ee)/X)+1),re.push(Math.floor((Q.y+Q.h+ee)/X)+1)}for(var ie=0;ie<re.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<re[ie];)w.call(this);return re},w=function(){var Q=this.fillStyle,K=this.strokeStyle,X=this.font,re=this.lineCap,ee=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=K,this.font=X,this.lineCap=re,this.lineWidth=ee,this.lineJoin=te},v=function(Q,K,X){for(var re=0;re<Q.length;re++)switch(Q[re].type){case"bct":Q[re].x2+=K,Q[re].y2+=X;case"qct":Q[re].x1+=K,Q[re].y1+=X;case"mt":case"lt":case"arc":default:Q[re].x+=K,Q[re].y+=X}return Q},I=function(Q){return Q.sort(function(K,X){return K-X})},L=function(Q,K){for(var X,re,ee=this.fillStyle,te=this.strokeStyle,J=this.lineCap,ie=this.lineWidth,oe=Math.abs(ie*this.ctx.transform.scaleX),me=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),pe=[],Z=0;Z<Ce.length;Z++)if(Ce[Z].x!==void 0)for(var M=_.call(this,Ce[Z]),Le=0;Le<M.length;Le+=1)pe.indexOf(M[Le])===-1&&pe.push(M[Le]);for(var $e=0;$e<pe.length;$e++)for(;this.pdf.internal.getNumberOfPages()<pe[$e];)w.call(this);if(I(pe),this.autoPaging)for(var je=pe[0],qe=pe[pe.length-1],Ze=je;Ze<qe+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=ee,this.strokeStyle=te,this.lineCap=J,this.lineWidth=oe,this.lineJoin=me;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Ze===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ze===1?0:wt+(Ze-2)*Et;if(this.ctx.clip_path.length!==0){var vt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(X,this.posX+this.margin[3],-mt+dt+this.ctx.prevPageLastElemOffset),z.call(this,Q,!0),this.path=vt}if(re=JSON.parse(JSON.stringify(Ee)),this.path=v(re,this.posX+this.margin[3],-mt+dt+this.ctx.prevPageLastElemOffset),K===!1||Ze===0){var Rt=(Ze>je||Ze<qe)&&E.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Et,null).clip().discardPath()),z.call(this,Q,K),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=oe,z.call(this,Q,K),this.lineWidth=ie;this.path=Ee},z=function(Q,K){if((Q!=="stroke"||K||!b.call(this))&&(Q==="stroke"||K||!g.call(this))){for(var X,re,ee=[],te=this.path,J=0;J<te.length;J++){var ie=te[J];switch(ie.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:ie,deltas:[],abs:[]});break;case"lt":var oe=ee.length;if(te[J-1]&&!isNaN(te[J-1].x)&&(X=[ie.x-te[J-1].x,ie.y-te[J-1].y],oe>0)){for(;oe>=0;oe--)if(ee[oe-1].close!==!0&&ee[oe-1].begin!==!0){ee[oe-1].deltas.push(X),ee[oe-1].abs.push(ie);break}}break;case"bct":X=[ie.x1-te[J-1].x,ie.y1-te[J-1].y,ie.x2-te[J-1].x,ie.y2-te[J-1].y,ie.x-te[J-1].x,ie.y-te[J-1].y],ee[ee.length-1].deltas.push(X);break;case"qct":var me=te[J-1].x+2/3*(ie.x1-te[J-1].x),Ee=te[J-1].y+2/3*(ie.y1-te[J-1].y),Ce=ie.x+2/3*(ie.x1-ie.x),pe=ie.y+2/3*(ie.y1-ie.y),Z=ie.x,M=ie.y;X=[me-te[J-1].x,Ee-te[J-1].y,Ce-te[J-1].x,pe-te[J-1].y,Z-te[J-1].x,M-te[J-1].y],ee[ee.length-1].deltas.push(X);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(ie)}}re=K?null:Q==="stroke"?"stroke":"fill";for(var Le=!1,$e=0;$e<ee.length;$e++)if(ee[$e].arc)for(var je=ee[$e].abs,qe=0;qe<je.length;qe++){var Ze=je[qe];Ze.type==="arc"?B.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,K,!Le):j.call(this,Ze.x,Ze.y),Le=!0}else if(ee[$e].close===!0)this.pdf.internal.out("h"),Le=!1;else if(ee[$e].begin!==!0){var Je=ee[$e].start.x,dt=ee[$e].start.y;se.call(this,ee[$e].deltas,Je,dt),Le=!0}re&&k.call(this,re),K&&P.call(this)}},q=function(Q){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-X;case"top":return Q+K-X;case"hanging":return Q+K-2*X;case"middle":return Q+K/2-X;case"ideographic":return Q;case"alphabetic":default:return Q}},U=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(K,X){this.colorStops.push([K,X])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(Q,K,X,re,ee,te,J,ie,oe){for(var me=de.call(this,X,re,ee,te),Ee=0;Ee<me.length;Ee++){var Ce=me[Ee];Ee===0&&(oe?N.call(this,Ce.x1+Q,Ce.y1+K):j.call(this,Ce.x1+Q,Ce.y1+K)),we.call(this,Q,K,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}ie?P.call(this):k.call(this,J)},k=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(Q,K){this.pdf.internal.out(r(Q)+" "+n(K)+" m")},F=function(Q){var K;switch(Q.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var X=this.pdf.getTextDimensions(Q.text),re=q.call(this,Q.y),ee=U.call(this,re)-X.h,te=this.ctx.transform.applyToPoint(new A(Q.x,re)),J=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(J.translate)).multiply(J.skew)).multiply(J.scale);for(var oe,me,Ee,Ce=this.ctx.transform.applyToRectangle(new o(Q.x,re,X.w,X.h)),pe=ie.applyToRectangle(new o(Q.x,ee,X.w,X.h)),Z=_.call(this,pe),M=[],Le=0;Le<Z.length;Le+=1)M.indexOf(Z[Le])===-1&&M.push(Z[Le]);if(I(M),this.autoPaging)for(var $e=M[0],je=M[M.length-1],qe=$e;qe<je+1;qe++){this.pdf.setPage(qe);var Ze=qe===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],wt=dt-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],mt=Et-this.margin[3],vt=qe===1?0:Je+(qe-2)*wt;if(this.ctx.clip_path.length!==0){var Rt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(oe,this.posX+this.margin[3],-1*vt+Ze),z.call(this,"fill",!0),this.path=Rt}var gt=v([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-vt+Ze+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*Q.scale),Ee=this.lineWidth,this.lineWidth=Ee*Q.scale);var Se=this.autoPaging!=="text";if(Se||gt.y+gt.h<=dt){if(Se||gt.y>=Ze&&gt.x<=Et){var Qe=Se?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Et-gt.x)[0],nt=v([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-vt+Ze+this.ctx.prevPageLastElemOffset)[0],be=Se&&(qe>$e||qe<je)&&E.call(this);be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,wt,null).clip().discardPath()),this.pdf.text(Qe,nt.x,nt.y,{angle:Q.angle,align:K,renderingMode:Q.renderingMode}),be&&this.pdf.restoreGraphicsState()}}else gt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-gt.y);Q.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Ee)}else Q.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*Q.scale),Ee=this.lineWidth,this.lineWidth=Ee*Q.scale),this.pdf.text(Q.text,te.x+this.posX,te.y+this.posY,{angle:Q.angle,align:K,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Ee)},j=function(Q,K,X,re){X=X||0,re=re||0,this.pdf.internal.out(r(Q+X)+" "+n(K+re)+" l")},se=function(Q,K,X){return this.pdf.lines(Q,K,X,null,null)},we=function(Q,K,X,re,ee,te,J,ie){this.pdf.internal.out([e(s(X+Q)),e(i(re+K)),e(s(ee+Q)),e(i(te+K)),e(s(J+Q)),e(i(ie+K)),"c"].join(" "))},de=function(Q,K,X,re){for(var ee=2*Math.PI,te=Math.PI/2;K>X;)K-=ee;var J=Math.abs(X-K);J<ee&&re&&(J=ee-J);for(var ie=[],oe=re?-1:1,me=K;J>1e-5;){var Ee=me+oe*Math.min(J,te);ie.push(ve.call(this,Q,me,Ee)),J-=Math.abs(Ee-me),me=Ee}return ie},ve=function(Q,K,X){var re=(X-K)/2,ee=Q*Math.cos(re),te=Q*Math.sin(re),J=ee,ie=-te,oe=J*J+ie*ie,me=oe+J*ee+ie*te,Ee=4/3*(Math.sqrt(2*oe*me)-me)/(J*te-ie*ee),Ce=J-Ee*ie,pe=ie+Ee*J,Z=Ce,M=-pe,Le=re+K,$e=Math.cos(Le),je=Math.sin(Le);return{x1:Q*Math.cos(K),y1:Q*Math.sin(K),x2:Ce*$e-pe*je,y2:Ce*je+pe*$e,x3:Z*$e-M*je,y3:Z*je+M*$e,x4:Q*Math.cos(X),y4:Q*Math.sin(X)}},H=function(Q){return 180*Q/Math.PI},ae=function(Q,K,X,re,ee,te){var J=Q+.5*(X-Q),ie=K+.5*(re-K),oe=ee+.5*(X-ee),me=te+.5*(re-te),Ee=Math.min(Q,ee,J,oe),Ce=Math.max(Q,ee,J,oe),pe=Math.min(K,te,ie,me),Z=Math.max(K,te,ie,me);return new o(Ee,pe,Ce-Ee,Z-pe)},Y=function(Q,K,X,re,ee,te,J,ie){var oe,me,Ee,Ce,pe,Z,M,Le,$e,je,qe,Ze,Je,dt,wt=X-Q,Et=re-K,mt=ee-X,vt=te-re,Rt=J-ee,gt=ie-te;for(me=0;me<41;me++)$e=(M=(Ee=Q+(oe=me/40)*wt)+oe*((pe=X+oe*mt)-Ee))+oe*(pe+oe*(ee+oe*Rt-pe)-M),je=(Le=(Ce=K+oe*Et)+oe*((Z=re+oe*vt)-Ce))+oe*(Z+oe*(te+oe*gt-Z)-Le),me==0?(qe=$e,Ze=je,Je=$e,dt=je):(qe=Math.min(qe,$e),Ze=Math.min(Ze,je),Je=Math.max(Je,$e),dt=Math.max(dt,je));return new o(Math.round(qe),Math.round(Ze),Math.round(Je-qe),Math.round(dt-Ze))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,K,X=(Q=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:K}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Ct.API),function(t){var e=function(i){var A,o,l,c,h,f,p,g,b,E;for(o=[],l=0,c=(i+=A="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(h=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(E=h%85))/85)-(b=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)%85,o.push(f+33,p+33,g+33,b+33,E+33)):o.push(122);return function(_,w){for(var v=w;v>0;v--)_.pop()}(o,A.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var A,o,l,c,h,f=String,p="length",g=255,b="charCodeAt",E="slice",_="replace";for(i[E](-2),i=i[E](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),l=[],c=0,h=(i+=A="uuuuu"[E](i[p]%5||5))[p];h>c;c+=5)o=52200625*(i[b](c)-33)+614125*(i[b](c+1)-33)+7225*(i[b](c+2)-33)+85*(i[b](c+3)-33)+(i[b](c+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(w,v){for(var I=v;I>0;I--)w.pop()}(l,A[p]),f.fromCharCode.apply(f,l)},n=function(i){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),A.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},s=function(i){for(var A=new Uint8Array(i.length),o=i.length;o--;)A[o]=i.charCodeAt(o);return i=(A=Gy(A)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,A){var o=0,l=i||"",c=[];for(typeof(A=A||[])=="string"&&(A=[A]),o=0;o<A.length;o+=1)switch(A[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ct.API),function(t){t.loadFile=function(e,r,n){return function(s,i,A){i=i!==!1,A=typeof A=="function"?A:function(){};var o=void 0;try{o=function(l,c,h){var f=new XMLHttpRequest,p=0,g=function(b){var E=b.length,_=[],w=String.fromCharCode;for(p=0;p<E;p+=1)_.push(w(255&b.charCodeAt(p)));return _.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return g(f.responseText)}(s,i,A)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Ct.API),function(t){function e(){return(_t.html2canvas?Promise.resolve(_t.html2canvas):Hy(()=>Promise.resolve().then(()=>C9),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(_t.DOMPurify?Promise.resolve(_t.DOMPurify):Hy(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var o=ur(A);return o==="undefined"?"undefined":o==="string"||A instanceof String?"string":o==="number"||A instanceof Number?"number":o==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(A,o){var l=document.createElement(A);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function A(o){var l=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),c=A.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,A,1,[A])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(A,o){return A.__proto__=o||i.prototype,A},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(A,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:A,dompurify:l})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},i.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var g=c[p],b=g.src.find(function(E){return E.format==="truetype"});b&&l.addFont(b.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(A,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(A,o):this.outputPdf(A,o)},i.prototype.outputPdf=function(A,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,o)})},i.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},i.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(A){if(n(A)!=="object")return this;var o=Object.keys(A||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=A[l]};switch(l){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[l]=A[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(A,o){return this.then(function(){var l=A in i.template.prop?this.prop[A]:this.opt[A];return o?o(l):l})},i.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},i.prototype.setPageSize=function(A){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(A=A||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:o(A.inner.width,A.k),height:o(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},i.prototype.setProgress=function(A,o,l,c){return A!=null&&(this.progress.val=A),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(A,o,l,c){return this.setProgress(A?this.progress.val+A:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(A,o){var l=this;return this.thenCore(A,o,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(A,o,l){l=l||Promise.prototype.then,A&&(A=A.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=l.call(c,A,o);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(A,o){return Promise.prototype.then.call(this,A,o)},i.prototype.thenList=function(A){var o=this;return A.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(A){A&&(A=A.bind(this));var o=Promise.prototype.catch.call(this,A);return i.convert(o,this)},i.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},i.prototype.error=function(A){return this.then(function(){throw new Error(A)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ct.getPageSize=function(A,o,l){if(ur(A)==="object"){var c=A;A=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",A=(""+(A||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var g,b=0,E=0;if(p.hasOwnProperty(f))b=p[f][1]/h,E=p[f][0]/h;else try{b=l[1],E=l[0]}catch{throw new Error("Invalid format: "+l)}if(A==="p"||A==="portrait")A="p",E>b&&(g=E,E=b,b=g);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",b>E&&(g=E,E=b,b=g)}return{width:E,height:b,unit:o,k:h,orientation:A}},t.html=function(A,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Jy):null;var l=new i(o);return o.worker?l:l.from(A).doCallback()}}(Ct.API),Ct.API.addJS=function(t){return CC=t,this.internal.events.subscribe("postPutResources",function(){jm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jm!==void 0&&bC!==void 0&&this.internal.out("/Names <</JavaScript "+jm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var A=s[i],o=n.exec(A);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(i=0;i<c;i++){var f=r.internal.newObject();h.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var A={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var A=n.children[i];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var o=this.count=this.count_r({count:0},A);if(o>0&&this.line("/Count "+o),A.options&&A.options.pageNumber){var l=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,A,o){var l,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,g=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,E={width:0,height:0,numcomponents:1},_=4;_<b;_+=2){if(_+=g,e.indexOf(f.charCodeAt(_+1))!==-1){p=256*f.charCodeAt(_+5)+f.charCodeAt(_+6),E={width:256*f.charCodeAt(_+7)+f.charCodeAt(_+8),height:p,numcomponents:f.charCodeAt(_+9)};break}g=256*f.charCodeAt(_+2)+f.charCodeAt(_+3)}return E}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:s}}return h}}(Ct.API);var jc,Lm,EC,_C,IC,aV=function(){var t,e,r;function n(i){var A,o,l,c,h,f,p,g,b,E,_,w,v,I;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(A=this.readUInt32(),b=(function(){var L,z;for(z=[],L=0;L<4;++L)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,A-=4),i=(f!=null?f.data:void 0)||this.imgData,w=0;0<=A?w<A:w>A;0<=A?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((E=l-this.transparency.indexed.length)>0)for(v=0;0<=E?v<E:v>E;0<=E?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":p=(_=this.read(A)).indexOf(0),g=String.fromCharCode.apply(String,_.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,_.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var A,o;for(o=[],A=0;0<=i?A<i:A>i;0<=i?++A:--A)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var A=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*A),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(f,p,g,b){var E,_,w,v,I,L,z,q,U,B,k,P,N,F,j,se,we,de,ve,H,ae,Y=Math.ceil((c.width-f)/g),ce=Math.ceil((c.height-p)/b),Q=c.width==Y&&c.height==ce;for(F=A*Y,P=Q?o:new Uint8Array(F*ce),L=i.length,N=0,_=0;N<ce&&l<L;){switch(i[l++]){case 0:for(v=we=0;we<F;v=we+=1)P[_++]=i[l++];break;case 1:for(v=de=0;de<F;v=de+=1)E=i[l++],I=v<A?0:P[_-A],P[_++]=(E+I)%256;break;case 2:for(v=ve=0;ve<F;v=ve+=1)E=i[l++],w=(v-v%A)/A,j=N&&P[(N-1)*F+w*A+v%A],P[_++]=(j+E)%256;break;case 3:for(v=H=0;H<F;v=H+=1)E=i[l++],w=(v-v%A)/A,I=v<A?0:P[_-A],j=N&&P[(N-1)*F+w*A+v%A],P[_++]=(E+Math.floor((I+j)/2))%256;break;case 4:for(v=ae=0;ae<F;v=ae+=1)E=i[l++],w=(v-v%A)/A,I=v<A?0:P[_-A],N===0?j=se=0:(j=P[(N-1)*F+w*A+v%A],se=w&&P[(N-1)*F+(w-1)*A+v%A]),z=I+j-se,q=Math.abs(z-I),B=Math.abs(z-j),k=Math.abs(z-se),U=q<=B&&q<=k?I:B<=k?j:se,P[_++]=(E+U)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!Q){var K=((p+N*b)*c.width+f)*A,X=N*F;for(v=0;v<Y;v+=1){for(var re=0;re<A;re+=1)o[K++]=P[X++];K+=(g-1)*A}}N++}}return i=R9(i),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var i,A,o,l,c,h,f,p,g;for(o=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+o.length),l=0,i=0,A=f=0,p=o.length;f<p;A=f+=3)c[l++]=o[A],c[l++]=o[A+1],c[l++]=o[A+2],c[l++]=(g=h[i++])!=null?g:255;return c},n.prototype.copyToImageData=function(i,A){var o,l,c,h,f,p,g,b,E,_,w;if(l=this.colors,E=null,o=this.hasAlphaChannel,this.palette.length&&(E=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,o=!0),b=(c=i.data||i).length,f=E||A,h=p=0,l===1)for(;h<b;)g=E?4*A[h/4]:p,_=f[g++],c[h++]=_,c[h++]=_,c[h++]=_,c[h++]=o?f[g++]:255,p=g;else for(;h<b;)g=E?4*A[h/4]:p,c[h++]=f[g++],c[h++]=f[g++],c[h++]=f[g++],c[h++]=o?f[g++]:255,p=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(_t)==="[object Window]"){try{e=_t.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var A;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(A=new Image).src=e.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var A,o,l,c,h,f,p,g;if(this.animation){for(g=[],o=h=0,f=(p=this.animation.frames).length;h<f;o=++h)A=p[o],l=i.createImageData(A.width,A.height),c=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(l,c),A.imageData=l,g.push(A.image=t(l));return g}},n.prototype.renderFrame=function(i,A){var o,l,c;return o=(l=this.animation.frames)[A],c=l[A-1],A===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var A,o,l,c,h,f,p=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(A=function(){var g,b;if(g=o++%c,b=l[g],p.renderFrame(i,g),c>1&&o/c<h)return p.animation._timeout=setTimeout(A,b.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var A,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,A=i.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(o=A.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),A.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function oV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,A=1<<(7&s)+1;t[e++],t[e++];var o=null,l=null;i&&(o=e,l=A,e+=3*A);var c=!0,h=[],f=0,p=null,g=0,b=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],!(1&E)&&(p=null),g=E>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,L=t[e++],z=L>>6&1,q=1<<(7&L)+1,U=o,B=l,k=!1;L>>7&&(k=!0,U=e,B=q,e+=3*q);var P=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}h.push({x:_,y:w,width:v,height:I,has_local_palette:k,palette_offset:U,palette_size:B,data_offset:P,data_length:e-P,transparent_index:p,interlaced:!!z,delay:f,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(F){if(F<0||F>=h.length)throw new Error("Frame index out of range.");return h[F]},this.decodeAndBlitFrameBGRA=function(F,j){var se=this.frameInfo(F),we=se.width*se.height,de=new Uint8Array(we);NC(t,se.data_offset,de,we);var ve=se.palette_offset,H=se.transparent_index;H===null&&(H=256);var ae=se.width,Y=r-ae,ce=ae,Q=4*(se.y*r+se.x),K=4*((se.y+se.height)*r+se.x),X=Q,re=4*Y;se.interlaced===!0&&(re+=4*r*7);for(var ee=8,te=0,J=de.length;te<J;++te){var ie=de[te];if(ce===0&&(ce=ae,(X+=re)>=K&&(re=4*Y+4*r*(ee-1),X=Q+(ae+Y)*(ee<<1),ee>>=1)),ie===H)X+=4;else{var oe=t[ve+3*ie],me=t[ve+3*ie+1],Ee=t[ve+3*ie+2];j[X++]=Ee,j[X++]=me,j[X++]=oe,j[X++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(F,j){var se=this.frameInfo(F),we=se.width*se.height,de=new Uint8Array(we);NC(t,se.data_offset,de,we);var ve=se.palette_offset,H=se.transparent_index;H===null&&(H=256);var ae=se.width,Y=r-ae,ce=ae,Q=4*(se.y*r+se.x),K=4*((se.y+se.height)*r+se.x),X=Q,re=4*Y;se.interlaced===!0&&(re+=4*r*7);for(var ee=8,te=0,J=de.length;te<J;++te){var ie=de[te];if(ce===0&&(ce=ae,(X+=re)>=K&&(re=4*Y+4*r*(ee-1),X=Q+(ae+Y)*(ee<<1),ee>>=1)),ie===H)X+=4;else{var oe=t[ve+3*ie],me=t[ve+3*ie+1],Ee=t[ve+3*ie+2];j[X++]=oe,j[X++]=me,j[X++]=Ee,j[X++]=255}--ce}}}function NC(t,e,r,n){for(var s=t[e++],i=1<<s,A=i+1,o=A+1,l=s+1,c=(1<<l)-1,h=0,f=0,p=0,g=t[e++],b=new Int32Array(4096),E=null;;){for(;h<16&&g!==0;)f|=t[e++]<<h,h+=8,g===1?g=t[e++]:--g;if(h<l)break;var _=f&c;if(f>>=l,h-=l,_!==i){if(_===A)break;for(var w=_<o?_:E,v=0,I=w;I>i;)I=b[I]>>8,++v;var L=I;if(p+v+(w!==_?1:0)>n)return void vr.log("Warning, gif stream longer than expected.");r[p++]=L;var z=p+=v;for(w!==_&&(r[p++]=L),I=w;v--;)I=b[I],r[--z]=255&I,I>>=8;E!==null&&o<4096&&(b[o++]=E<<8|L,o>=c+1&&l<12&&(++l,c=c<<1|1)),E=_}else o=A+1,c=(1<<(l=s+1))-1,E=null}return p!==n&&vr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Y1(t){var e,r,n,s,i,A=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),g=new Array(64),b=new Array(64),E=[],_=0,w=7,v=new Array(64),I=new Array(64),L=new Array(64),z=new Array(256),q=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(Q,K){for(var X=0,re=0,ee=new Array,te=1;te<=16;te++){for(var J=1;J<=Q[te];J++)ee[K[re]]=[],ee[K[re]][0]=X,ee[K[re]][1]=te,re++,X++;X*=2}return ee}function ve(Q){for(var K=Q[0],X=Q[1]-1;X>=0;)K&1<<X&&(_|=1<<w),X--,--w<0&&(_==255?(H(255),H(0)):H(_),w=7,_=0)}function H(Q){E.push(Q)}function ae(Q){H(Q>>8&255),H(255&Q)}function Y(Q,K,X,re,ee){for(var te,J=ee[0],ie=ee[240],oe=function(je,qe){var Ze,Je,dt,wt,Et,mt,vt,Rt,gt,Se,Qe=0;for(gt=0;gt<8;++gt){Ze=je[Qe],Je=je[Qe+1],dt=je[Qe+2],wt=je[Qe+3],Et=je[Qe+4],mt=je[Qe+5],vt=je[Qe+6];var nt=Ze+(Rt=je[Qe+7]),be=Ze-Rt,Pe=Je+vt,ke=Je-vt,Fe=dt+mt,Xe=dt-mt,it=wt+Et,Wt=wt-Et,pt=nt+it,Mt=nt-it,tr=Pe+Fe,xt=Pe-Fe;je[Qe]=pt+tr,je[Qe+4]=pt-tr;var We=.707106781*(xt+Mt);je[Qe+2]=Mt+We,je[Qe+6]=Mt-We;var tt=.382683433*((pt=Wt+Xe)-(xt=ke+be)),bt=.5411961*pt+tt,qt=1.306562965*xt+tt,Ot=.707106781*(tr=Xe+ke),ar=be+Ot,lt=be-Ot;je[Qe+5]=lt+bt,je[Qe+3]=lt-bt,je[Qe+1]=ar+qt,je[Qe+7]=ar-qt,Qe+=8}for(Qe=0,gt=0;gt<8;++gt){Ze=je[Qe],Je=je[Qe+8],dt=je[Qe+16],wt=je[Qe+24],Et=je[Qe+32],mt=je[Qe+40],vt=je[Qe+48];var fs=Ze+(Rt=je[Qe+56]),Pn=Ze-Rt,rn=Je+vt,Kr=Je-vt,Pr=dt+mt,nn=dt-mt,va=wt+Et,pi=wt-Et,Dn=fs+va,ms=fs-va,rs=rn+Pr,ns=rn-Pr;je[Qe]=Dn+rs,je[Qe+32]=Dn-rs;var zr=.707106781*(ns+ms);je[Qe+16]=ms+zr,je[Qe+48]=ms-zr;var Ss=.382683433*((Dn=pi+nn)-(ns=Kr+Pn)),qi=.5411961*Dn+Ss,$i=1.306562965*ns+Ss,Wi=.707106781*(rs=nn+Kr),IA=Pn+Wi,NA=Pn-Wi;je[Qe+40]=NA+qi,je[Qe+24]=NA-qi,je[Qe+8]=IA+$i,je[Qe+56]=IA-$i,Qe++}for(gt=0;gt<64;++gt)Se=je[gt]*qe[gt],g[gt]=Se>0?Se+.5|0:Se-.5|0;return g}(Q,K),me=0;me<64;++me)b[U[me]]=oe[me];var Ee=b[0]-X;X=b[0],Ee==0?ve(re[0]):(ve(re[p[te=32767+Ee]]),ve(f[te]));for(var Ce=63;Ce>0&&b[Ce]==0;)Ce--;if(Ce==0)return ve(J),X;for(var pe,Z=1;Z<=Ce;){for(var M=Z;b[Z]==0&&Z<=Ce;)++Z;var Le=Z-M;if(Le>=16){pe=Le>>4;for(var $e=1;$e<=pe;++$e)ve(ie);Le&=15}te=32767+b[Z],ve(ee[(Le<<4)+p[te]]),ve(f[te]),Z++}return Ce!=63&&ve(J),X}function ce(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&(function(K){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ee=A((X[re]*K+50)/100);ee=Math.min(Math.max(ee,1),255),o[U[re]]=ee}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],J=0;J<64;J++){var ie=A((te[J]*K+50)/100);ie=Math.min(Math.max(ie,1),255),l[U[J]]=ie}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,Ee=0;Ee<8;Ee++)for(var Ce=0;Ce<8;Ce++)c[me]=1/(o[U[me]]*oe[Ee]*oe[Ce]*8),h[me]=1/(l[U[me]]*oe[Ee]*oe[Ce]*8),me++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,K){K&&ce(K),E=new Array,_=0,w=7,ae(65496),ae(65504),ae(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),ae(1),ae(1),H(0),H(0),function(){ae(65499),ae(132),H(0);for(var Je=0;Je<64;Je++)H(o[Je]);H(1);for(var dt=0;dt<64;dt++)H(l[dt])}(),function(Je,dt){ae(65472),ae(17),H(8),ae(dt),ae(Je),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(Q.width,Q.height),function(){ae(65476),ae(418),H(0);for(var Je=0;Je<16;Je++)H(B[Je+1]);for(var dt=0;dt<=11;dt++)H(k[dt]);H(16);for(var wt=0;wt<16;wt++)H(P[wt+1]);for(var Et=0;Et<=161;Et++)H(N[Et]);H(1);for(var mt=0;mt<16;mt++)H(F[mt+1]);for(var vt=0;vt<=11;vt++)H(j[vt]);H(17);for(var Rt=0;Rt<16;Rt++)H(se[Rt+1]);for(var gt=0;gt<=161;gt++)H(we[gt])}(),ae(65498),ae(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var X=0,re=0,ee=0;_=0,w=7,this.encode.displayName="_encode_";for(var te,J,ie,oe,me,Ee,Ce,pe,Z,M=Q.data,Le=Q.width,$e=Q.height,je=4*Le,qe=0;qe<$e;){for(te=0;te<je;){for(me=je*qe+te,Ce=-1,pe=0,Z=0;Z<64;Z++)Ee=me+(pe=Z>>3)*je+(Ce=4*(7&Z)),qe+pe>=$e&&(Ee-=je*(qe+1+pe-$e)),te+Ce>=je&&(Ee-=te+Ce-je+4),J=M[Ee++],ie=M[Ee++],oe=M[Ee++],v[Z]=(q[J]+q[ie+256>>0]+q[oe+512>>0]>>16)-128,I[Z]=(q[J+768>>0]+q[ie+1024>>0]+q[oe+1280>>0]>>16)-128,L[Z]=(q[J+1280>>0]+q[ie+1536>>0]+q[oe+1792>>0]>>16)-128;X=Y(v,c,X,e,n),re=Y(I,h,re,r,s),ee=Y(L,h,ee,r,s),te+=32}qe+=8}if(w>=0){var Ze=[];Ze[1]=w+1,Ze[0]=(1<<w+1)-1,ve(Ze)}return ae(65497),new Uint8Array(E)},t=t||50,function(){for(var Q=String.fromCharCode,K=0;K<256;K++)z[K]=Q(K)}(),e=de(B,k),r=de(F,j),n=de(P,N),s=de(se,we),function(){for(var Q=1,K=2,X=1;X<=15;X++){for(var re=Q;re<K;re++)p[32767+re]=X,f[32767+re]=[],f[32767+re][1]=X,f[32767+re][0]=re;for(var ee=-(K-1);ee<=-Q;ee++)p[32767+ee]=X,f[32767+ee]=[],f[32767+ee][1]=X,f[32767+ee][0]=K-1+ee;Q<<=1,K<<=1}}(),function(){for(var Q=0;Q<256;Q++)q[Q]=19595*Q,q[Q+256>>0]=38470*Q,q[Q+512>>0]=7471*Q+32768,q[Q+768>>0]=-11059*Q,q[Q+1024>>0]=-21709*Q,q[Q+1280>>0]=32768*Q+8421375,q[Q+1536>>0]=-27439*Q,q[Q+1792>>0]=-5329*Q}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Si(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SC(t){function e(B){if(!B)throw Error("assert :P")}function r(B,k,P){for(var N=0;4>N;N++)if(B[k+N]!=P.charCodeAt(N))return!0;return!1}function n(B,k,P,N,F){for(var j=0;j<F;j++)B[k+j]=P[N+j]}function s(B,k,P,N){for(var F=0;F<N;F++)B[k+F]=P}function i(B){return new Int32Array(B)}function A(B,k){for(var P=[],N=0;N<B;N++)P.push(new k);return P}function o(B,k){var P=[];return function N(F,j,se){for(var we=se[j],de=0;de<we&&(F.push(se.length>j+1?[]:new k),!(se.length<j+1));de++)N(F[de],j+1,se)}(P,0,B),P}var l=function(){var B=this;function k(u,m){for(var x=1<<m-1>>>0;u&x;)x>>>=1;return x?(u&x-1)+x:u}function P(u,m,x,S,R){e(!(S%x));do u[m+(S-=x)]=R;while(0<S)}function N(u,m,x,S,R){if(e(2328>=R),512>=R)var O=i(512);else if((O=i(R))==null)return 0;return function(V,$,W,ne,he,_e){var Ie,Be,Oe=$,Te=1<<W,fe=i(16),ge=i(16);for(e(he!=0),e(ne!=null),e(V!=null),e(0<W),Be=0;Be<he;++Be){if(15<ne[Be])return 0;++fe[ne[Be]]}if(fe[0]==he)return 0;for(ge[1]=0,Ie=1;15>Ie;++Ie){if(fe[Ie]>1<<Ie)return 0;ge[Ie+1]=ge[Ie]+fe[Ie]}for(Be=0;Be<he;++Be)Ie=ne[Be],0<ne[Be]&&(_e[ge[Ie]++]=Be);if(ge[15]==1)return(ne=new F).g=0,ne.value=_e[0],P(V,Oe,1,Te,ne),Te;var De,Ve=-1,Re=Te-1,at=0,et=1,Bt=1,st=1<<W;for(Be=0,Ie=1,he=2;Ie<=W;++Ie,he<<=1){if(et+=Bt<<=1,0>(Bt-=fe[Ie]))return 0;for(;0<fe[Ie];--fe[Ie])(ne=new F).g=Ie,ne.value=_e[Be++],P(V,Oe+at,he,st,ne),at=k(at,Ie)}for(Ie=W+1,he=2;15>=Ie;++Ie,he<<=1){if(et+=Bt<<=1,0>(Bt-=fe[Ie]))return 0;for(;0<fe[Ie];--fe[Ie]){if(ne=new F,(at&Re)!=Ve){for(Oe+=st,De=1<<(Ve=Ie)-W;15>Ve&&!(0>=(De-=fe[Ve]));)++Ve,De<<=1;Te+=st=1<<(De=Ve-W),V[$+(Ve=at&Re)].g=De+W,V[$+Ve].value=Oe-$-Ve}ne.g=Ie-W,ne.value=_e[Be++],P(V,Oe+(at>>W),he,st,ne),at=k(at,Ie)}}return et!=2*ge[15]-1?0:Te}(u,m,x,S,R,O)}function F(){this.value=this.g=0}function j(){this.value=this.g=0}function se(){this.G=A(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(_n,j)}function we(u,m,x,S){e(u!=null),e(m!=null),e(2147483648>S),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=m,u.pa=x,u.Jd=m,u.Yc=x+S,u.Zc=4<=S?x+S-4+1:x,te(u)}function de(u,m){for(var x=0;0<m--;)x|=ie(u,128)<<m;return x}function ve(u,m){var x=de(u,m);return J(u)?-x:x}function H(u,m,x,S){var R,O=0;for(e(u!=null),e(m!=null),e(4294967288>S),u.Sb=S,u.Ra=0,u.u=0,u.h=0,4<S&&(S=4),R=0;R<S;++R)O+=m[x+R]<<8*R;u.Ra=O,u.bb=S,u.oa=m,u.pa=x}function ae(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<pc-8>>>0,++u.bb,u.u-=8;X(u)&&(u.h=1,u.u=0)}function Y(u,m){if(e(0<=m),!u.h&&m<=mc){var x=K(u)&fc[m];return u.u+=m,ae(u),x}return u.h=1,u.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(u){return u.Ra>>>(u.u&pc-1)>>>0}function X(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>pc}function re(u,m){u.u=m,u.h=X(u)}function ee(u){u.u>=sd&&(e(u.u>=sd),ae(u))}function te(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function J(u){return de(u,1)}function ie(u,m){var x=u.Ca;0>u.b&&te(u);var S=u.b,R=x*m>>>8,O=(u.I>>>S>R)+0;for(O?(x-=R,u.I-=R+1<<S>>>0):x=R+1,S=x,R=0;256<=S;)R+=8,S>>=8;return S=7^R+gs[S],u.b-=S,u.Ca=(x<<S)-1,O}function oe(u,m,x){u[m+0]=x>>24&255,u[m+1]=x>>16&255,u[m+2]=x>>8&255,u[m+3]=x>>0&255}function me(u,m){return u[m+0]<<0|u[m+1]<<8}function Ee(u,m){return me(u,m)|u[m+2]<<16}function Ce(u,m){return me(u,m)|me(u,m+2)<<16}function pe(u,m){var x=1<<m;return e(u!=null),e(0<m),u.X=i(x),u.X==null?0:(u.Mb=32-m,u.Xa=m,1)}function Z(u,m){e(u!=null),e(m!=null),e(u.Xa==m.Xa),n(m.X,0,u.X,0,1<<m.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function Le(u,m,x,S){e(x!=null),e(S!=null);var R=x[0],O=S[0];return R==0&&(R=(u*O+m/2)/m),O==0&&(O=(m*R+u/2)/u),0>=R||0>=O?0:(x[0]=R,S[0]=O,1)}function $e(u,m){return u+(1<<m)-1>>>m}function je(u,m){return((4278255360&u)+(4278255360&m)>>>0&4278255360)+((16711935&u)+(16711935&m)>>>0&16711935)>>>0}function qe(u,m){B[m]=function(x,S,R,O,V,$,W){var ne;for(ne=0;ne<V;++ne){var he=B[u]($[W+ne-1],R,O+ne);$[W+ne]=je(x[S+ne],he)}}}function Ze(){this.ud=this.hd=this.jd=0}function Je(u,m){return((4278124286&(u^m))>>>1)+(u&m)>>>0}function dt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function wt(u,m){return dt(u+(u-m+.5>>1))}function Et(u,m,x){return Math.abs(m-x)-Math.abs(u-x)}function mt(u,m,x,S,R,O,V){for(S=O[V-1],x=0;x<R;++x)O[V+x]=S=je(u[m+x],S)}function vt(u,m,x,S,R){var O;for(O=0;O<x;++O){var V=u[m+O],$=V>>8&255,W=16711935&(W=(W=16711935&V)+(($<<16)+$));S[R+O]=(4278255360&V)+W>>>0}}function Rt(u,m){m.jd=u>>0&255,m.hd=u>>8&255,m.ud=u>>16&255}function gt(u,m,x,S,R,O){var V;for(V=0;V<S;++V){var $=m[x+V],W=$>>>8,ne=$,he=255&(he=(he=$>>>16)+((u.jd<<24>>24)*(W<<24>>24)>>>5));ne=255&(ne=(ne=ne+((u.hd<<24>>24)*(W<<24>>24)>>>5))+((u.ud<<24>>24)*(he<<24>>24)>>>5)),R[O+V]=(4278255360&$)+(he<<16)+ne}}function Se(u,m,x,S,R){B[m]=function(O,V,$,W,ne,he,_e,Ie,Be){for(W=_e;W<Ie;++W)for(_e=0;_e<Be;++_e)ne[he++]=R($[S(O[V++])])},B[u]=function(O,V,$,W,ne,he,_e){var Ie=8>>O.b,Be=O.Ea,Oe=O.K[0],Te=O.w;if(8>Ie)for(O=(1<<O.b)-1,Te=(1<<Ie)-1;V<$;++V){var fe,ge=0;for(fe=0;fe<Be;++fe)fe&O||(ge=S(W[ne++])),he[_e++]=R(Oe[ge&Te]),ge>>=Ie}else B["VP8LMapColor"+x](W,ne,Oe,Te,he,_e,V,$,Be)}}function Qe(u,m,x,S,R){for(x=m+x;m<x;){var O=u[m++];S[R++]=O>>16&255,S[R++]=O>>8&255,S[R++]=O>>0&255}}function nt(u,m,x,S,R){for(x=m+x;m<x;){var O=u[m++];S[R++]=O>>16&255,S[R++]=O>>8&255,S[R++]=O>>0&255,S[R++]=O>>24&255}}function be(u,m,x,S,R){for(x=m+x;m<x;){var O=(V=u[m++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;S[R++]=O,S[R++]=V}}function Pe(u,m,x,S,R){for(x=m+x;m<x;){var O=(V=u[m++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;S[R++]=O,S[R++]=V}}function ke(u,m,x,S,R){for(x=m+x;m<x;){var O=u[m++];S[R++]=O>>0&255,S[R++]=O>>8&255,S[R++]=O>>16&255}}function Fe(u,m,x,S,R,O){if(O==0)for(x=m+x;m<x;)oe(S,((O=u[m++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),R+=32;else n(S,R,u,m,x)}function Xe(u,m){B[m][0]=B[u+"0"],B[m][1]=B[u+"1"],B[m][2]=B[u+"2"],B[m][3]=B[u+"3"],B[m][4]=B[u+"4"],B[m][5]=B[u+"5"],B[m][6]=B[u+"6"],B[m][7]=B[u+"7"],B[m][8]=B[u+"8"],B[m][9]=B[u+"9"],B[m][10]=B[u+"10"],B[m][11]=B[u+"11"],B[m][12]=B[u+"12"],B[m][13]=B[u+"13"],B[m][14]=B[u+"0"],B[m][15]=B[u+"0"]}function it(u){return u==y0||u==w0||u==_f||u==x0}function Wt(){this.eb=[],this.size=this.A=this.fb=0}function pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wt,this.f.kb=new pt,this.sd=null}function tr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function We(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function tt(u,m){var x=u.T,S=m.ba.f.RGBA,R=S.eb,O=S.fb+u.ka*S.A,V=ei[m.ba.S],$=u.y,W=u.O,ne=u.f,he=u.N,_e=u.ea,Ie=u.W,Be=m.cc,Oe=m.dc,Te=m.Mc,fe=m.Nc,ge=u.ka,De=u.ka+u.T,Ve=u.U,Re=Ve+1>>1;for(ge==0?V($,W,null,null,ne,he,_e,Ie,ne,he,_e,Ie,R,O,null,null,Ve):(V(m.ec,m.fc,$,W,Be,Oe,Te,fe,ne,he,_e,Ie,R,O-S.A,R,O,Ve),++x);ge+2<De;ge+=2)Be=ne,Oe=he,Te=_e,fe=Ie,he+=u.Rc,Ie+=u.Rc,O+=2*S.A,V($,(W+=2*u.fa)-u.fa,$,W,Be,Oe,Te,fe,ne,he,_e,Ie,R,O-S.A,R,O,Ve);return W+=u.fa,u.j+De<u.o?(n(m.ec,m.fc,$,W,Ve),n(m.cc,m.dc,ne,he,Re),n(m.Mc,m.Nc,_e,Ie,Re),x--):1&De||V($,W,null,null,ne,he,_e,Ie,ne,he,_e,Ie,R,O+S.A,null,null,Ve),x}function bt(u,m,x){var S=u.F,R=[u.J];if(S!=null){var O=u.U,V=m.ba.S,$=V==Ef||V==_f;m=m.ba.f.RGBA;var W=[0],ne=u.ka;W[0]=u.T,u.Kb&&(ne==0?--W[0]:(--ne,R[0]-=u.width),u.j+u.ka+u.T==u.o&&(W[0]=u.o-u.j-ne));var he=m.eb;ne=m.fb+ne*m.A,u=wr(S,R[0],u.width,O,W,he,ne+($?0:3),m.A),e(x==W),u&&it(V)&&Js(he,ne,$,O,W,m.A)}return 0}function qt(u){var m=u.ma,x=m.ba.S,S=11>x,R=x==bf||x==Cf||x==Ef||x==v0||x==12||it(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!rd(m.Oa,u,R?11:12))return 0;if(R&&it(x)&&Ke(),u.da)alert("todo:use_scaling");else{if(S){if(m.Ib=We,u.Kb){if(x=u.U+1>>1,m.memory=i(u.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+u.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=tt,Ke()}}else alert("todo:EmitYUV");R&&(m.Jb=bt,S&&xe())}if(S&&!cx){for(u=0;256>u;++u)yF[u]=89858*(u-128)+Nf>>If,BF[u]=-22014*(u-128)+Nf,xF[u]=-45773*(u-128),wF[u]=113618*(u-128)+Nf>>If;for(u=ud;u<C0;++u)m=76283*(u-16)+Nf>>If,bF[u-ud]=ir(m,255),CF[u-ud]=ir(m+8>>4,15);cx=1}return 1}function Ot(u){var m=u.ma,x=u.U,S=u.T;return e(!(1&u.ka)),0>=x||0>=S?0:(x=m.Ib(u,m),m.Jb!=null&&m.Jb(u,m,x),m.Dc+=x,1)}function ar(u){u.ma.memory=null}function lt(u,m,x,S){return Y(u,8)!=47?0:(m[0]=Y(u,14)+1,x[0]=Y(u,14)+1,S[0]=Y(u,1),Y(u,3)!=0?0:!u.h)}function fs(u,m){if(4>u)return u+1;var x=u-2>>1;return(2+(1&u)<<x)+Y(m,x)+1}function Pn(u,m){return 120<m?m-120:1<=(x=((x=iF[m-1])>>4)*u+(8-(15&x)))?x:1;var x}function rn(u,m,x){var S=K(x),R=u[m+=255&S].g-8;return 0<R&&(re(x,x.u+8),S=K(x),m+=u[m].value,m+=S&(1<<R)-1),re(x,x.u+u[m].g),u[m].value}function Kr(u,m,x){return x.g+=u.g,x.value+=u.value<<m>>>0,e(8>=x.g),u.g}function Pr(u,m,x){var S=u.xc;return e((m=S==0?0:u.vc[u.md*(x>>S)+(m>>S)])<u.Wb),u.Ya[m]}function nn(u,m,x,S){var R=u.ab,O=u.c*m,V=u.C;m=V+m;var $=x,W=S;for(S=u.Ta,x=u.Ua;0<R--;){var ne=u.gc[R],he=V,_e=m,Ie=$,Be=W,Oe=(W=S,$=x,ne.Ea);switch(e(he<_e),e(_e<=ne.nc),ne.hc){case 2:pf(Ie,Be,(_e-he)*Oe,W,$);break;case 0:var Te=he,fe=_e,ge=W,De=$,Ve=(st=ne).Ea;Te==0&&(p0(Ie,Be,null,null,1,ge,De),mt(Ie,Be+1,0,0,Ve-1,ge,De+1),Be+=Ve,De+=Ve,++Te);for(var Re=1<<st.b,at=Re-1,et=$e(Ve,st.b),Bt=st.K,st=st.w+(Te>>st.b)*et;Te<fe;){var nr=Bt,lr=st,Jt=1;for(id(Ie,Be,ge,De-Ve,1,ge,De);Jt<Ve;){var Kt=(Jt&~at)+Re;Kt>Ve&&(Kt=Ve),(0,La[nr[lr++]>>8&15])(Ie,Be+ +Jt,ge,De+Jt-Ve,Kt-Jt,ge,De+Jt),Jt=Kt}Be+=Ve,De+=Ve,++Te&at||(st+=et)}_e!=ne.nc&&n(W,$-Oe,W,$+(_e-he-1)*Oe,Oe);break;case 1:for(Oe=Ie,fe=Be,Ve=(Ie=ne.Ea)-(De=Ie&~(ge=(Be=1<<ne.b)-1)),Te=$e(Ie,ne.b),Re=ne.K,ne=ne.w+(he>>ne.b)*Te;he<_e;){for(at=Re,et=ne,Bt=new Ze,st=fe+De,nr=fe+Ie;fe<st;)Rt(at[et++],Bt),fl(Bt,Oe,fe,Be,W,$),fe+=Be,$+=Be;fe<nr&&(Rt(at[et++],Bt),fl(Bt,Oe,fe,Ve,W,$),fe+=Ve,$+=Ve),++he&ge||(ne+=Te)}break;case 3:if(Ie==W&&Be==$&&0<ne.b){for(fe=W,Ie=Oe=$+(_e-he)*Oe-(De=(_e-he)*$e(ne.Ea,ne.b)),Be=W,ge=$,Te=[],De=(Ve=De)-1;0<=De;--De)Te[De]=Be[ge+De];for(De=Ve-1;0<=De;--De)fe[Ie+De]=Te[De];Ws(ne,he,_e,W,Oe,W,$)}else Ws(ne,he,_e,Ie,Be,W,$)}$=S,W=x}W!=x&&n(S,x,$,W,O)}function va(u,m){var x=u.V,S=u.Ba+u.c*u.C,R=m-u.C;if(e(m<=u.l.o),e(16>=R),0<R){var O=u.l,V=u.Ta,$=u.Ua,W=O.width;if(nn(u,R,x,S),R=$=[$],e((x=u.C)<(S=m)),e(O.v<O.va),S>O.o&&(S=O.o),x<O.j){var ne=O.j-x;x=O.j,R[0]+=ne*W}if(x>=S?x=0:(R[0]+=4*O.v,O.ka=x-O.j,O.U=O.va-O.v,O.T=S-x,x=1),x){if($=$[0],11>(x=u.ca).S){var he=x.f.RGBA,_e=(S=x.S,R=O.U,O=O.T,ne=he.eb,he.A),Ie=O;for(he=he.fb+u.Ma*he.A;0<Ie--;){var Be=V,Oe=$,Te=R,fe=ne,ge=he;switch(S){case Bf:vs(Be,Oe,Te,fe,ge);break;case bf:is(Be,Oe,Te,fe,ge);break;case y0:is(Be,Oe,Te,fe,ge),Js(fe,ge,0,Te,1,0);break;case ex:RA(Be,Oe,Te,fe,ge);break;case Cf:Fe(Be,Oe,Te,fe,ge,1);break;case w0:Fe(Be,Oe,Te,fe,ge,1),Js(fe,ge,0,Te,1,0);break;case Ef:Fe(Be,Oe,Te,fe,ge,0);break;case _f:Fe(Be,Oe,Te,fe,ge,0),Js(fe,ge,1,Te,1,0);break;case v0:Pa(Be,Oe,Te,fe,ge);break;case x0:Pa(Be,Oe,Te,fe,ge),yr(fe,ge,Te,1,0);break;case tx:DA(Be,Oe,Te,fe,ge);break;default:e(0)}$+=W,he+=_e}u.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=x.height)}}u.C=m,e(u.C<=u.i)}function pi(u){var m;if(0<u.ua)return 0;for(m=0;m<u.Wb;++m){var x=u.Ya[m].G,S=u.Ya[m].H;if(0<x[1][S[1]+0].g||0<x[2][S[2]+0].g||0<x[3][S[3]+0].g)return 0}return 1}function Dn(u,m,x,S,R,O){if(u.Z!=0){var V=u.qd,$=u.rd;for(e(Ha[u.Z]!=null);m<x;++m)Ha[u.Z](V,$,S,R,S,R,O),V=S,$=R,R+=O;u.qd=V,u.rd=$}}function ms(u,m){var x=u.l.ma,S=x.Z==0||x.Z==1?u.l.j:u.C;if(S=u.C<S?S:u.C,e(m<=u.l.o),m>S){var R=u.l.width,O=x.ca,V=x.tb+R*S,$=u.V,W=u.Ba+u.c*S,ne=u.gc;e(u.ab==1),e(ne[0].hc==3),gf(ne[0],S,m,$,W,O,V),Dn(x,S,m,O,V,R)}u.C=u.Ma=m}function rs(u,m,x,S,R,O,V){var $=u.$/S,W=u.$%S,ne=u.m,he=u.s,_e=x+u.$,Ie=_e;R=x+S*R;var Be=x+S*O,Oe=280+he.ua,Te=u.Pb?$:16777216,fe=0<he.ua?he.Wa:null,ge=he.wc,De=_e<Be?Pr(he,W,$):null;e(u.C<O),e(Be<=R);var Ve=!1;e:for(;;){for(;Ve||_e<Be;){var Re=0;if($>=Te){var at=_e-x;e((Te=u).Pb),Te.wd=Te.m,Te.xd=at,0<Te.s.ua&&Z(Te.s.Wa,Te.s.vb),Te=$+aF}if(W&ge||(De=Pr(he,W,$)),e(De!=null),De.Qb&&(m[_e]=De.qb,Ve=!0),!Ve)if(ee(ne),De.jc){Re=ne,at=m;var et=_e,Bt=De.pd[K(Re)&_n-1];e(De.jc),256>Bt.g?(re(Re,Re.u+Bt.g),at[et]=Bt.value,Re=0):(re(Re,Re.u+Bt.g-256),e(256<=Bt.value),Re=Bt.value),Re==0&&(Ve=!0)}else Re=rn(De.G[0],De.H[0],ne);if(ne.h)break;if(Ve||256>Re){if(!Ve)if(De.nd)m[_e]=(De.qb|Re<<8)>>>0;else{if(ee(ne),Ve=rn(De.G[1],De.H[1],ne),ee(ne),at=rn(De.G[2],De.H[2],ne),et=rn(De.G[3],De.H[3],ne),ne.h)break;m[_e]=(et<<24|Ve<<16|Re<<8|at)>>>0}if(Ve=!1,++_e,++W>=S&&(W=0,++$,V!=null&&$<=O&&!($%16)&&V(u,$),fe!=null))for(;Ie<_e;)Re=m[Ie++],fe.X[(506832829*Re&4294967295)>>>fe.Mb]=Re}else if(280>Re){if(Re=fs(Re-256,ne),at=rn(De.G[4],De.H[4],ne),ee(ne),at=Pn(S,at=fs(at,ne)),ne.h)break;if(_e-x<at||R-_e<Re)break e;for(et=0;et<Re;++et)m[_e+et]=m[_e+et-at];for(_e+=Re,W+=Re;W>=S;)W-=S,++$,V!=null&&$<=O&&!($%16)&&V(u,$);if(e(_e<=R),W&ge&&(De=Pr(he,W,$)),fe!=null)for(;Ie<_e;)Re=m[Ie++],fe.X[(506832829*Re&4294967295)>>>fe.Mb]=Re}else{if(!(Re<Oe))break e;for(Ve=Re-280,e(fe!=null);Ie<_e;)Re=m[Ie++],fe.X[(506832829*Re&4294967295)>>>fe.Mb]=Re;Re=_e,e(!(Ve>>>(at=fe).Xa)),m[Re]=at.X[Ve],Ve=!0}Ve||e(ne.h==X(ne))}if(u.Pb&&ne.h&&_e<R)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Z(u.s.vb,u.s.Wa);else{if(ne.h)break e;V!=null&&V(u,$>O?O:$),u.a=0,u.$=_e-x}return 1}return u.a=3,0}function ns(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var m=u.Wa;m!=null&&(m.X=null),u.vb=null,e(u!=null)}function zr(){var u=new dc;return u==null?null:(u.a=0,u.xb=sx,Xe("Predictor","VP8LPredictors"),Xe("Predictor","VP8LPredictors_C"),Xe("PredictorAdd","VP8LPredictorsAdd"),Xe("PredictorAdd","VP8LPredictorsAdd_C"),pf=vt,fl=gt,vs=Qe,is=nt,Pa=be,DA=Pe,RA=ke,B.VP8LMapColor32b=gc,B.VP8LMapColor8b=vf,u)}function Ss(u,m,x,S,R){var O=1,V=[u],$=[m],W=S.m,ne=S.s,he=null,_e=0;e:for(;;){if(x)for(;O&&Y(W,1);){var Ie=V,Be=$,Oe=S,Te=1,fe=Oe.m,ge=Oe.gc[Oe.ab],De=Y(fe,2);if(Oe.Oc&1<<De)O=0;else{switch(Oe.Oc|=1<<De,ge.hc=De,ge.Ea=Ie[0],ge.nc=Be[0],ge.K=[null],++Oe.ab,e(4>=Oe.ab),De){case 0:case 1:ge.b=Y(fe,3)+2,Te=Ss($e(ge.Ea,ge.b),$e(ge.nc,ge.b),0,Oe,ge.K),ge.K=ge.K[0];break;case 3:var Ve,Re=Y(fe,8)+1,at=16<Re?0:4<Re?1:2<Re?2:3;if(Ie[0]=$e(ge.Ea,at),ge.b=at,Ve=Te=Ss(Re,1,0,Oe,ge.K)){var et,Bt=Re,st=ge,nr=1<<(8>>st.b),lr=i(nr);if(lr==null)Ve=0;else{var Jt=st.K[0],Kt=st.w;for(lr[0]=st.K[0][0],et=1;et<1*Bt;++et)lr[et]=je(Jt[Kt+et],lr[et-1]);for(;et<4*nr;++et)lr[et]=0;st.K[0]=null,st.K[0]=lr,Ve=1}}Te=Ve;break;case 2:break;default:e(0)}O=Te}}if(V=V[0],$=$[0],O&&Y(W,1)&&!(O=1<=(_e=Y(W,4))&&11>=_e)){S.a=3;break e}var gr;if(gr=O)t:{var fr,Pt,sn,ys=S,An=V,ws=$,cr=_e,Qs=x,js=ys.m,pn=ys.s,In=[null],as=1,ti=0,iA=AF[cr];r:for(;;){if(Qs&&Y(js,1)){var gn=Y(js,3)+2,VA=$e(An,gn),yl=$e(ws,gn),Bc=VA*yl;if(!Ss(VA,yl,0,ys,In))break r;for(In=In[0],pn.xc=gn,fr=0;fr<Bc;++fr){var Ma=In[fr]>>8&65535;In[fr]=Ma,Ma>=as&&(as=Ma+1)}}if(js.h)break r;for(Pt=0;5>Pt;++Pt){var Rr=rx[Pt];!Pt&&0<cr&&(Rr+=1<<cr),ti<Rr&&(ti=Rr)}var E0=A(as*iA,F),hx=as,fx=A(hx,se);if(fx==null)var Ff=null;else e(65536>=hx),Ff=fx;var dd=i(ti);if(Ff==null||dd==null||E0==null){ys.a=1;break r}var kf=E0;for(fr=sn=0;fr<as;++fr){var _i=Ff[fr],bc=_i.G,Cc=_i.H,mx=0,Tf=1,px=0;for(Pt=0;5>Pt;++Pt){Rr=rx[Pt],bc[Pt]=kf,Cc[Pt]=sn,!Pt&&0<cr&&(Rr+=1<<cr);s:{var Uf,_0=Rr,Qf=ys,hd=dd,IF=kf,NF=sn,I0=0,Va=Qf.m,SF=Y(Va,1);if(s(hd,0,0,_0),SF){var FF=Y(Va,1)+1,kF=Y(Va,1),gx=Y(Va,kF==0?1:8);hd[gx]=1,FF==2&&(hd[gx=Y(Va,8)]=1);var jf=1}else{var vx=i(19),yx=Y(Va,4)+4;if(19<yx){Qf.a=3;var Lf=0;break s}for(Uf=0;Uf<yx;++Uf)vx[sF[Uf]]=Y(Va,3);var N0=void 0,fd=void 0,wx=Qf,TF=vx,Pf=_0,xx=hd,S0=0,Ka=wx.m,Bx=8,bx=A(128,F);n:for(;N(bx,0,7,TF,19);){if(Y(Ka,1)){var UF=2+2*Y(Ka,3);if((N0=2+Y(Ka,UF))>Pf)break n}else N0=Pf;for(fd=0;fd<Pf&&N0--;){ee(Ka);var Cx=bx[0+(127&K(Ka))];re(Ka,Ka.u+Cx.g);var Ec=Cx.value;if(16>Ec)xx[fd++]=Ec,Ec!=0&&(Bx=Ec);else{var QF=Ec==16,Ex=Ec-16,jF=rF[Ex],_x=Y(Ka,tF[Ex])+jF;if(fd+_x>Pf)break n;for(var LF=QF?Bx:0;0<_x--;)xx[fd++]=LF}}S0=1;break n}S0||(wx.a=3),jf=S0}(jf=jf&&!Va.h)&&(I0=N(IF,NF,8,hd,_0)),jf&&I0!=0?Lf=I0:(Qf.a=3,Lf=0)}if(Lf==0)break r;if(Tf&&nF[Pt]==1&&(Tf=kf[sn].g==0),mx+=kf[sn].g,sn+=Lf,3>=Pt){var md,F0=dd[0];for(md=1;md<Rr;++md)dd[md]>F0&&(F0=dd[md]);px+=F0}}if(_i.nd=Tf,_i.Qb=0,Tf&&(_i.qb=(bc[3][Cc[3]+0].value<<24|bc[1][Cc[1]+0].value<<16|bc[2][Cc[2]+0].value)>>>0,mx==0&&256>bc[0][Cc[0]+0].value&&(_i.Qb=1,_i.qb+=bc[0][Cc[0]+0].value<<8)),_i.jc=!_i.Qb&&6>px,_i.jc){var Df,KA=_i;for(Df=0;Df<_n;++Df){var za=Df,Ga=KA.pd[za],Rf=KA.G[0][KA.H[0]+za];256<=Rf.value?(Ga.g=Rf.g+256,Ga.value=Rf.value):(Ga.g=0,Ga.value=0,za>>=Kr(Rf,8,Ga),za>>=Kr(KA.G[1][KA.H[1]+za],16,Ga),za>>=Kr(KA.G[2][KA.H[2]+za],0,Ga),Kr(KA.G[3][KA.H[3]+za],24,Ga))}}}pn.vc=In,pn.Wb=as,pn.Ya=Ff,pn.yc=E0,gr=1;break t}gr=0}if(!(O=gr)){S.a=3;break e}if(0<_e){if(ne.ua=1<<_e,!pe(ne.Wa,_e)){S.a=1,O=0;break e}}else ne.ua=0;var k0=S,Ix=V,PF=$,T0=k0.s,U0=T0.xc;if(k0.c=Ix,k0.i=PF,T0.md=$e(Ix,U0),T0.wc=U0==0?-1:(1<<U0)-1,x){S.xb=fF;break e}if((he=i(V*$))==null){S.a=1,O=0;break e}O=(O=rs(S,he,0,V,$,$,null))&&!W.h;break e}return O?(R!=null?R[0]=he:(e(he==null),e(x)),S.$=0,x||ns(ne)):ns(ne),O}function qi(u,m){var x=u.c*u.i,S=x+m+16*m;return e(u.c<=m),u.V=i(S),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+x+m,1)}function $i(u,m){var x=u.C,S=m-x,R=u.V,O=u.Ba+u.c*x;for(e(m<=u.l.o);0<S;){var V=16<S?16:S,$=u.l.ma,W=u.l.width,ne=W*V,he=$.ca,_e=$.tb+W*x,Ie=u.Ta,Be=u.Ua;nn(u,V,R,O),qr(Ie,Be,he,_e,ne),Dn($,x,x+V,he,_e,W),S-=V,R+=V*u.c,x+=V}e(x==m),u.C=u.Ma=m}function Wi(){this.ub=this.yd=this.td=this.Rb=0}function IA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function NA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function rc(){this.Yb=function(){var u=[];return function m(x,S,R){for(var O=R[S],V=0;V<O&&(x.push(R.length>S+1?[]:0),!(R.length<S+1));V++)m(x[V],S+1,R)}(u,0,[3,11]),u}()}function ya(){this.jb=i(3),this.Wc=o([4,8],rc),this.Xc=o([4,17],rc)}function nc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Yi(){this.ld=this.La=this.dd=this.tc=0}function Xi(){this.Na=this.la=0}function gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function SA(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ju(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yi),this.Y=0,this.ya=Array(new SA),this.aa=0,this.l=new FA}function el(){this.y=i(16),this.f=i(8),this.ea=i(8)}function sc(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new Wi,this.Kc=new IA,this.ed=new nc,this.Qa=new NA,this.Ic=this.$c=this.Aa=0,this.D=new Ju,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,ce),this.ia=0,this.pb=A(4,gi),this.Pa=new ya,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new el),this.Hd=0,this.rb=Array(new Xi),this.sb=0,this.wa=Array(new Yi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new SA),this.L=this.aa=0,this.gd=o([4,2],Yi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function FA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tl(){var u=new sc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,cd||(cd=ic)),u}function Cr(u,m,x){return u.a==0&&(u.a=m,u.sc=x,u.cb=0),0}function rl(u,m,x){return 3<=x&&u[m+0]==157&&u[m+1]==1&&u[m+2]==42}function nl(u,m){if(u==null)return 0;if(u.a=0,u.sc="OK",m==null)return Cr(u,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,S=m.w,R=m.ha;if(4>R)return Cr(u,7,"Truncated header.");var O=x[S+0]|x[S+1]<<8|x[S+2]<<16,V=u.Od;if(V.Rb=!(1&O),V.td=O>>1&7,V.yd=O>>4&1,V.ub=O>>5,3<V.td)return Cr(u,3,"Incorrect keyframe parameters.");if(!V.yd)return Cr(u,4,"Frame not displayable.");S+=3,R-=3;var $=u.Kc;if(V.Rb){if(7>R)return Cr(u,7,"cannot parse picture header");if(!rl(x,S,R))return Cr(u,3,"Bad code word");$.c=16383&(x[S+4]<<8|x[S+3]),$.Td=x[S+4]>>6,$.i=16383&(x[S+6]<<8|x[S+5]),$.Ud=x[S+6]>>6,S+=7,R-=7,u.za=$.c+15>>4,u.Ub=$.i+15>>4,m.width=$.c,m.height=$.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,s((O=u.Pa).jb,0,255,O.jb.length),e((O=u.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,s(O.Zb,0,0,O.Zb.length),s(O.Lb,0,0,O.Lb)}if(V.ub>R)return Cr(u,7,"bad partition length");we(O=u.m,x,S,V.ub),S+=V.ub,R-=V.ub,V.Rb&&($.Ld=J(O),$.Kd=J(O)),$=u.Qa;var W,ne=u.Pa;if(e(O!=null),e($!=null),$.Cb=J(O),$.Cb){if($.Bb=J(O),J(O)){for($.Fb=J(O),W=0;4>W;++W)$.Zb[W]=J(O)?ve(O,7):0;for(W=0;4>W;++W)$.Lb[W]=J(O)?ve(O,6):0}if($.Bb)for(W=0;3>W;++W)ne.jb[W]=J(O)?de(O,8):255}else $.Bb=0;if(O.Ka)return Cr(u,3,"cannot parse segment header");if(($=u.ed).zd=J(O),$.Tb=de(O,6),$.wb=de(O,3),$.Pc=J(O),$.Pc&&J(O)){for(ne=0;4>ne;++ne)J(O)&&($.vd[ne]=ve(O,6));for(ne=0;4>ne;++ne)J(O)&&($.od[ne]=ve(O,6))}if(u.L=$.Tb==0?0:$.zd?1:2,O.Ka)return Cr(u,3,"cannot parse filter header");var he=R;if(R=W=S,S=W+he,$=he,u.Xb=(1<<de(u.m,2))-1,he<3*(ne=u.Xb))x=7;else{for(W+=3*ne,$-=3*ne,he=0;he<ne;++he){var _e=x[R+0]|x[R+1]<<8|x[R+2]<<16;_e>$&&(_e=$),we(u.Jc[+he],x,W,_e),W+=_e,$-=_e,R+=3}we(u.Jc[+ne],x,W,$),x=W<S?0:5}if(x!=0)return Cr(u,x,"cannot parse partitions");for(x=de(W=u.m,7),R=J(W)?ve(W,4):0,S=J(W)?ve(W,4):0,$=J(W)?ve(W,4):0,ne=J(W)?ve(W,4):0,W=J(W)?ve(W,4):0,he=u.Qa,_e=0;4>_e;++_e){if(he.Cb){var Ie=he.Zb[_e];he.Fb||(Ie+=x)}else{if(0<_e){u.pb[_e]=u.pb[0];continue}Ie=x}var Be=u.pb[_e];Be.Sc[0]=B0[ir(Ie+R,127)],Be.Sc[1]=b0[ir(Ie+0,127)],Be.Eb[0]=2*B0[ir(Ie+S,127)],Be.Eb[1]=101581*b0[ir(Ie+$,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=B0[ir(Ie+ne,117)],Be.Qc[1]=b0[ir(Ie+W,127)],Be.lc=Ie+W}if(!V.Rb)return Cr(u,4,"Not a key frame.");for(J(O),V=u.Pa,x=0;4>x;++x){for(R=0;8>R;++R)for(S=0;3>S;++S)for($=0;11>$;++$)ne=ie(O,dF[x][R][S][$])?de(O,8):cF[x][R][S][$],V.Wc[x][R].Yb[S][$]=ne;for(R=0;17>R;++R)V.Xc[x][R]=V.Wc[x][hF[R]]}return u.kc=J(O),u.kc&&(u.Bd=de(O,8)),u.cb=1}function ic(u,m,x,S,R,O,V){var $=m[R].Yb[x];for(x=0;16>R;++R){if(!ie(u,$[x+0]))return R;for(;!ie(u,$[x+1]);)if($=m[++R].Yb[0],x=0,R==16)return 16;var W=m[R+1].Yb;if(ie(u,$[x+2])){var ne=u,he=0;if(ie(ne,(Ie=$)[(_e=x)+3]))if(ie(ne,Ie[_e+6])){for($=0,_e=2*(he=ie(ne,Ie[_e+8]))+(Ie=ie(ne,Ie[_e+9+he])),he=0,Ie=oF[_e];Ie[$];++$)he+=he+ie(ne,Ie[$]);he+=3+(8<<_e)}else ie(ne,Ie[_e+7])?(he=7+2*ie(ne,165),he+=ie(ne,145)):he=5+ie(ne,159);else he=ie(ne,Ie[_e+4])?3+ie(ne,Ie[_e+5]):2;$=W[2]}else he=1,$=W[1];W=V+lF[R],0>(ne=u).b&&te(ne);var _e,Ie=ne.b,Be=(_e=ne.Ca>>1)-(ne.I>>Ie)>>31;--ne.b,ne.Ca+=Be,ne.Ca|=1,ne.I-=(_e+1&Be)<<Ie,O[W]=((he^Be)-Be)*S[(0<R)+0]}return 16}function sl(u){var m=u.rb[u.sb-1];m.la=0,m.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function Ac(u,m){if(u==null)return 0;if(m==null)return Cr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!nl(u,m))return 0;if(e(u.cb),m.ac==null||m.ac(m)){m.ob&&(u.L=0);var x=Sf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=m.v-x>>4,u.zb=m.j-x>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=m.o+15+x>>4,u.Hb=m.va+15+x>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var S=u.ed;for(x=0;4>x;++x){var R;if(u.Qa.Cb){var O=u.Qa.Lb[x];u.Qa.Fb||(O+=S.Tb)}else O=S.Tb;for(R=0;1>=R;++R){var V=u.gd[x][R],$=O;if(S.Pc&&($+=S.vd[0],R&&($+=S.od[0])),0<($=0>$?0:63<$?63:$)){var W=$;0<S.wb&&(W=4<S.wb?W>>2:W>>1)>9-S.wb&&(W=9-S.wb),1>W&&(W=1),V.dd=W,V.tc=2*$+W,V.ld=40<=$?2:15<=$?1:0}else V.tc=0;V.La=R}}}x=0}else Cr(u,6,"Frame setup failed"),x=u.a;if(x=x==0){if(x){u.$c=0,0<u.Aa||(u.Ic=_F);e:{x=u.Ic,S=4*(W=u.za);var ne=32*W,he=W+1,_e=0<u.L?W*(0<u.Aa?2:1):0,Ie=(u.Aa==2?2:1)*W;if((V=S+832+(R=3*(16*x+Sf[u.L])/2*ne)+(O=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=V)x=0;else{if(V>u.Vb){if(u.Vb=0,u.Ec=i(V),u.Fc=0,u.Ec==null){x=Cr(u,1,"no memory during frame initialization.");break e}u.Vb=V}V=u.Ec,$=u.Fc,u.Ac=V,u.Bc=$,$+=S,u.Gd=A(ne,el),u.Hd=0,u.rb=A(he+1,Xi),u.sb=1,u.wa=_e?A(_e,Yi):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=W),e(!0),u.oc=V,u.pc=$,$+=832,u.ya=A(Ie,SA),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=W),u.R=16*W,u.B=8*W,W=(ne=Sf[u.L])*u.R,ne=ne/2*u.B,u.sa=V,u.ta=$+W,u.qa=u.sa,u.ra=u.ta+16*x*u.R+ne,u.Ha=u.qa,u.Ia=u.ra+8*x*u.B+ne,u.$c=0,$+=R,u.mb=O?V:null,u.nb=O?$:null,e($+O<=u.Fc+u.Vb),sl(u),s(u.Ac,u.Bc,0,S),x=1}}if(x){if(m.ka=0,m.y=u.sa,m.O=u.ta,m.f=u.qa,m.N=u.ra,m.ea=u.Ha,m.Vd=u.Ia,m.fa=u.R,m.Rc=u.B,m.F=null,m.J=0,!wf){for(x=-255;255>=x;++x)dn[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)HA[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)ld[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)xc[255+x]=0>x?0:255<x?255:x;wf=1}vc=UA,OA=xa,Ad=il,As=or,Ys=TA,Gr=kA,yc=Na,yf=Bi,ad=Fa,ml=hl,pl=Sa,Da=jA,gl=ka,wc=tA,vl=QA,Ra=Ts,od=un,Xs=uc,Ei[0]=$s,Ei[1]=Zu,Ei[2]=Zi,Ei[3]=td,Ei[4]=lc,Ei[5]=Ca,Ei[6]=Fs,Ei[7]=al,Ei[8]=_a,Ei[9]=Ea,Oa[0]=Ji,Oa[1]=ed,Oa[2]=yi,Oa[3]=Ba,Oa[4]=Er,Oa[5]=oc,Oa[6]=Al,MA[0]=xi,MA[1]=ac,MA[2]=cc,MA[3]=wi,MA[4]=sr,MA[5]=ol,MA[6]=ll,x=1}else x=0}x&&(x=function(Be,Oe){for(Be.M=0;Be.M<Be.Va;++Be.M){var Te,fe=Be.Jc[Be.M&Be.Xb],ge=Be.m,De=Be;for(Te=0;Te<De.za;++Te){var Ve=ge,Re=De,at=Re.Ac,et=Re.Bc+4*Te,Bt=Re.zc,st=Re.ya[Re.aa+Te];if(Re.Qa.Bb?st.$b=ie(Ve,Re.Pa.jb[0])?2+ie(Ve,Re.Pa.jb[2]):ie(Ve,Re.Pa.jb[1]):st.$b=0,Re.kc&&(st.Ad=ie(Ve,Re.Bd)),st.Za=!ie(Ve,145)+0,st.Za){var nr=st.Ob,lr=0;for(Re=0;4>Re;++Re){var Jt,Kt=Bt[0+Re];for(Jt=0;4>Jt;++Jt){Kt=uF[at[et+Jt]][Kt];for(var gr=nx[ie(Ve,Kt[0])];0<gr;)gr=nx[2*gr+ie(Ve,Kt[gr])];Kt=-gr,at[et+Jt]=Kt}n(nr,lr,at,et,4),lr+=4,Bt[0+Re]=Kt}}else Kt=ie(Ve,156)?ie(Ve,128)?1:3:ie(Ve,163)?2:0,st.Ob[0]=Kt,s(at,et,Kt,4),s(Bt,0,Kt,4);st.Dd=ie(Ve,142)?ie(Ve,114)?ie(Ve,183)?1:3:2:0}if(De.m.Ka)return Cr(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(De=fe,Ve=(ge=Be).rb[ge.sb-1],at=ge.rb[ge.sb+ge.ja],Te=ge.ya[ge.aa+ge.ja],et=ge.kc?Te.Ad:0)Ve.la=at.la=0,Te.Za||(Ve.Na=at.Na=0),Te.Hc=0,Te.Gc=0,Te.ia=0;else{var fr,Pt;if(Ve=at,at=De,et=ge.Pa.Xc,Bt=ge.ya[ge.aa+ge.ja],st=ge.pb[Bt.$b],Re=Bt.ad,nr=0,lr=ge.rb[ge.sb-1],Kt=Jt=0,s(Re,nr,0,384),Bt.Za)var sn=0,ys=et[3];else{gr=i(16);var An=Ve.Na+lr.Na;if(An=cd(at,et[1],An,st.Eb,0,gr,0),Ve.Na=lr.Na=(0<An)+0,1<An)vc(gr,0,Re,nr);else{var ws=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)Re[nr+gr]=ws}sn=1,ys=et[0]}var cr=15&Ve.la,Qs=15&lr.la;for(gr=0;4>gr;++gr){var js=1&Qs;for(ws=Pt=0;4>ws;++ws)cr=cr>>1|(js=(An=cd(at,ys,An=js+(1&cr),st.Sc,sn,Re,nr))>sn)<<7,Pt=Pt<<2|(3<An?3:1<An?2:Re[nr+0]!=0),nr+=16;cr>>=4,Qs=Qs>>1|js<<7,Jt=(Jt<<8|Pt)>>>0}for(ys=cr,sn=Qs>>4,fr=0;4>fr;fr+=2){for(Pt=0,cr=Ve.la>>4+fr,Qs=lr.la>>4+fr,gr=0;2>gr;++gr){for(js=1&Qs,ws=0;2>ws;++ws)An=js+(1&cr),cr=cr>>1|(js=0<(An=cd(at,et[2],An,st.Qc,0,Re,nr)))<<3,Pt=Pt<<2|(3<An?3:1<An?2:Re[nr+0]!=0),nr+=16;cr>>=2,Qs=Qs>>1|js<<5}Kt|=Pt<<4*fr,ys|=cr<<4<<fr,sn|=(240&Qs)<<fr}Ve.la=ys,lr.la=sn,Bt.Hc=Jt,Bt.Gc=Kt,Bt.ia=43690&Kt?0:st.ia,et=!(Jt|Kt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Te.$b][Te.Za],ge.wa[ge.Y+ge.ja].La|=!et),De.Ka)return Cr(Be,7,"Premature end-of-file encountered.")}if(sl(Be),ge=Oe,De=1,Te=(fe=Be).D,Ve=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(Te.M=fe.M,Te.uc=Ve,nA(fe,Te),De=1,Te=(Pt=fe.D).Nb,Ve=(Kt=Sf[fe.L])*fe.R,at=Kt/2*fe.B,gr=16*Te*fe.R,ws=8*Te*fe.B,et=fe.sa,Bt=fe.ta-Ve+gr,st=fe.qa,Re=fe.ra-at+ws,nr=fe.Ha,lr=fe.Ia-at+ws,Qs=(cr=Pt.M)==0,Jt=cr>=fe.Va-1,fe.Aa==2&&nA(fe,Pt),Pt.uc)for(js=(An=fe).D.M,e(An.D.uc),Pt=An.yb;Pt<An.Hb;++Pt){sn=Pt,ys=js;var pn=(In=(Rr=An).D).Nb;fr=Rr.R;var In=In.wa[In.Y+sn],as=Rr.sa,ti=Rr.ta+16*pn*fr+16*sn,iA=In.dd,gn=In.tc;if(gn!=0)if(e(3<=gn),Rr.L==1)0<sn&&Ra(as,ti,fr,gn+4),In.La&&Xs(as,ti,fr,gn),0<ys&&vl(as,ti,fr,gn+4),In.La&&od(as,ti,fr,gn);else{var VA=Rr.B,yl=Rr.qa,Bc=Rr.ra+8*pn*VA+8*sn,Ma=Rr.Ha,Rr=Rr.Ia+8*pn*VA+8*sn;pn=In.ld,0<sn&&(yf(as,ti,fr,gn+4,iA,pn),ml(yl,Bc,Ma,Rr,VA,gn+4,iA,pn)),In.La&&(Da(as,ti,fr,gn,iA,pn),wc(yl,Bc,Ma,Rr,VA,gn,iA,pn)),0<ys&&(yc(as,ti,fr,gn+4,iA,pn),ad(yl,Bc,Ma,Rr,VA,gn+4,iA,pn)),In.La&&(pl(as,ti,fr,gn,iA,pn),gl(yl,Bc,Ma,Rr,VA,gn,iA,pn))}}if(fe.ia&&alert("todo:DitherRow"),ge.put!=null){if(Pt=16*cr,cr=16*(cr+1),Qs?(ge.y=fe.sa,ge.O=fe.ta+gr,ge.f=fe.qa,ge.N=fe.ra+ws,ge.ea=fe.Ha,ge.W=fe.Ia+ws):(Pt-=Kt,ge.y=et,ge.O=Bt,ge.f=st,ge.N=Re,ge.ea=nr,ge.W=lr),Jt||(cr-=Kt),cr>ge.o&&(cr=ge.o),ge.F=null,ge.J=null,fe.Fa!=null&&0<fe.Fa.length&&Pt<cr&&(ge.J=ja(fe,ge,Pt,cr-Pt),ge.F=fe.mb,ge.F==null&&ge.F.length==0)){De=Cr(fe,3,"Could not decode alpha data.");break e}Pt<ge.j&&(Kt=ge.j-Pt,Pt=ge.j,e(!(1&Kt)),ge.O+=fe.R*Kt,ge.N+=fe.B*(Kt>>1),ge.W+=fe.B*(Kt>>1),ge.F!=null&&(ge.J+=ge.width*Kt)),Pt<cr&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Pt-ge.j,ge.U=ge.va-ge.v,ge.T=cr-Pt,De=ge.put(ge))}Te+1!=fe.Ic||Jt||(n(fe.sa,fe.ta-Ve,et,Bt+16*fe.R,Ve),n(fe.qa,fe.ra-at,st,Re+8*fe.B,at),n(fe.Ha,fe.Ia-at,nr,lr+8*fe.B,at))}if(!De)return Cr(Be,6,"Output aborted.")}return 1}(u,m)),m.bc!=null&&m.bc(m),x&=1}return x?(u.cb=0,x):0}function ps(u,m,x,S,R){R=u[m+x+32*S]+(R>>3),u[m+x+32*S]=-256&R?0>R?0:255:R}function wa(u,m,x,S,R,O){ps(u,m,0,x,S+R),ps(u,m,1,x,S+O),ps(u,m,2,x,S-O),ps(u,m,3,x,S-R)}function Dr(u){return(20091*u>>16)+u}function ss(u,m,x,S){var R,O=0,V=i(16);for(R=0;4>R;++R){var $=u[m+0]+u[m+8],W=u[m+0]-u[m+8],ne=(35468*u[m+4]>>16)-Dr(u[m+12]),he=Dr(u[m+4])+(35468*u[m+12]>>16);V[O+0]=$+he,V[O+1]=W+ne,V[O+2]=W-ne,V[O+3]=$-he,O+=4,m++}for(R=O=0;4>R;++R)$=(u=V[O+0]+4)+V[O+8],W=u-V[O+8],ne=(35468*V[O+4]>>16)-Dr(V[O+12]),ps(x,S,0,0,$+(he=Dr(V[O+4])+(35468*V[O+12]>>16))),ps(x,S,1,0,W+ne),ps(x,S,2,0,W-ne),ps(x,S,3,0,$-he),O++,S+=32}function kA(u,m,x,S){var R=u[m+0]+4,O=35468*u[m+4]>>16,V=Dr(u[m+4]),$=35468*u[m+1]>>16;wa(x,S,0,R+V,u=Dr(u[m+1]),$),wa(x,S,1,R+O,u,$),wa(x,S,2,R-O,u,$),wa(x,S,3,R-V,u,$)}function xa(u,m,x,S,R){ss(u,m,x,S),R&&ss(u,m+16,x,S+4)}function il(u,m,x,S){OA(u,m+0,x,S,1),OA(u,m+32,x,S+128,1)}function or(u,m,x,S){var R;for(u=u[m+0]+4,R=0;4>R;++R)for(m=0;4>m;++m)ps(x,S,m,R,u)}function TA(u,m,x,S){u[m+0]&&As(u,m+0,x,S),u[m+16]&&As(u,m+16,x,S+4),u[m+32]&&As(u,m+32,x,S+128),u[m+48]&&As(u,m+48,x,S+128+4)}function UA(u,m,x,S){var R,O=i(16);for(R=0;4>R;++R){var V=u[m+0+R]+u[m+12+R],$=u[m+4+R]+u[m+8+R],W=u[m+4+R]-u[m+8+R],ne=u[m+0+R]-u[m+12+R];O[0+R]=V+$,O[8+R]=V-$,O[4+R]=ne+W,O[12+R]=ne-W}for(R=0;4>R;++R)V=(u=O[0+4*R]+3)+O[3+4*R],$=O[1+4*R]+O[2+4*R],W=O[1+4*R]-O[2+4*R],ne=u-O[3+4*R],x[S+0]=V+$>>3,x[S+16]=ne+W>>3,x[S+32]=V-$>>3,x[S+48]=ne-W>>3,S+=64}function vi(u,m,x){var S,R=m-32,O=Us,V=255-u[R-1];for(S=0;S<x;++S){var $,W=O,ne=V+u[m-1];for($=0;$<x;++$)u[m+$]=W[ne+u[R+$]];m+=32}}function Zu(u,m){vi(u,m,4)}function ac(u,m){vi(u,m,8)}function ed(u,m){vi(u,m,16)}function yi(u,m){var x;for(x=0;16>x;++x)n(u,m+32*x,u,m-32,16)}function Ba(u,m){var x;for(x=16;0<x;--x)s(u,m,u[m-1],16),m+=32}function ba(u,m,x){var S;for(S=0;16>S;++S)s(m,x+32*S,u,16)}function Ji(u,m){var x,S=16;for(x=0;16>x;++x)S+=u[m-1+32*x]+u[m+x-32];ba(S>>5,u,m)}function Er(u,m){var x,S=8;for(x=0;16>x;++x)S+=u[m-1+32*x];ba(S>>4,u,m)}function oc(u,m){var x,S=8;for(x=0;16>x;++x)S+=u[m+x-32];ba(S>>4,u,m)}function Al(u,m){ba(128,u,m)}function It(u,m,x){return u+2*m+x+2>>2}function Zi(u,m){var x,S=m-32;for(S=new Uint8Array([It(u[S-1],u[S+0],u[S+1]),It(u[S+0],u[S+1],u[S+2]),It(u[S+1],u[S+2],u[S+3]),It(u[S+2],u[S+3],u[S+4])]),x=0;4>x;++x)n(u,m+32*x,S,0,S.length)}function td(u,m){var x=u[m-1],S=u[m-1+32],R=u[m-1+64],O=u[m-1+96];oe(u,m+0,16843009*It(u[m-1-32],x,S)),oe(u,m+32,16843009*It(x,S,R)),oe(u,m+64,16843009*It(S,R,O)),oe(u,m+96,16843009*It(R,O,O))}function $s(u,m){var x,S=4;for(x=0;4>x;++x)S+=u[m+x-32]+u[m-1+32*x];for(S>>=3,x=0;4>x;++x)s(u,m+32*x,S,4)}function lc(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1-32],V=u[m+0-32],$=u[m+1-32],W=u[m+2-32],ne=u[m+3-32];u[m+0+96]=It(S,R,u[m-1+96]),u[m+1+96]=u[m+0+64]=It(x,S,R),u[m+2+96]=u[m+1+64]=u[m+0+32]=It(O,x,S),u[m+3+96]=u[m+2+64]=u[m+1+32]=u[m+0+0]=It(V,O,x),u[m+3+64]=u[m+2+32]=u[m+1+0]=It($,V,O),u[m+3+32]=u[m+2+0]=It(W,$,V),u[m+3+0]=It(ne,W,$)}function Fs(u,m){var x=u[m+1-32],S=u[m+2-32],R=u[m+3-32],O=u[m+4-32],V=u[m+5-32],$=u[m+6-32],W=u[m+7-32];u[m+0+0]=It(u[m+0-32],x,S),u[m+1+0]=u[m+0+32]=It(x,S,R),u[m+2+0]=u[m+1+32]=u[m+0+64]=It(S,R,O),u[m+3+0]=u[m+2+32]=u[m+1+64]=u[m+0+96]=It(R,O,V),u[m+3+32]=u[m+2+64]=u[m+1+96]=It(O,V,$),u[m+3+64]=u[m+2+96]=It(V,$,W),u[m+3+96]=It($,W,W)}function Ca(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1-32],V=u[m+0-32],$=u[m+1-32],W=u[m+2-32],ne=u[m+3-32];u[m+0+0]=u[m+1+64]=O+V+1>>1,u[m+1+0]=u[m+2+64]=V+$+1>>1,u[m+2+0]=u[m+3+64]=$+W+1>>1,u[m+3+0]=W+ne+1>>1,u[m+0+96]=It(R,S,x),u[m+0+64]=It(S,x,O),u[m+0+32]=u[m+1+96]=It(x,O,V),u[m+1+32]=u[m+2+96]=It(O,V,$),u[m+2+32]=u[m+3+96]=It(V,$,W),u[m+3+32]=It($,W,ne)}function al(u,m){var x=u[m+0-32],S=u[m+1-32],R=u[m+2-32],O=u[m+3-32],V=u[m+4-32],$=u[m+5-32],W=u[m+6-32],ne=u[m+7-32];u[m+0+0]=x+S+1>>1,u[m+1+0]=u[m+0+64]=S+R+1>>1,u[m+2+0]=u[m+1+64]=R+O+1>>1,u[m+3+0]=u[m+2+64]=O+V+1>>1,u[m+0+32]=It(x,S,R),u[m+1+32]=u[m+0+96]=It(S,R,O),u[m+2+32]=u[m+1+96]=It(R,O,V),u[m+3+32]=u[m+2+96]=It(O,V,$),u[m+3+64]=It(V,$,W),u[m+3+96]=It($,W,ne)}function Ea(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1+96];u[m+0+0]=x+S+1>>1,u[m+2+0]=u[m+0+32]=S+R+1>>1,u[m+2+32]=u[m+0+64]=R+O+1>>1,u[m+1+0]=It(x,S,R),u[m+3+0]=u[m+1+32]=It(S,R,O),u[m+3+32]=u[m+1+64]=It(R,O,O),u[m+3+64]=u[m+2+64]=u[m+0+96]=u[m+1+96]=u[m+2+96]=u[m+3+96]=O}function _a(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1+96],V=u[m-1-32],$=u[m+0-32],W=u[m+1-32],ne=u[m+2-32];u[m+0+0]=u[m+2+32]=x+V+1>>1,u[m+0+32]=u[m+2+64]=S+x+1>>1,u[m+0+64]=u[m+2+96]=R+S+1>>1,u[m+0+96]=O+R+1>>1,u[m+3+0]=It($,W,ne),u[m+2+0]=It(V,$,W),u[m+1+0]=u[m+3+32]=It(x,V,$),u[m+1+32]=u[m+3+64]=It(S,x,V),u[m+1+64]=u[m+3+96]=It(R,S,x),u[m+1+96]=It(O,R,S)}function cc(u,m){var x;for(x=0;8>x;++x)n(u,m+32*x,u,m-32,8)}function wi(u,m){var x;for(x=0;8>x;++x)s(u,m,u[m-1],8),m+=32}function ks(u,m,x){var S;for(S=0;8>S;++S)s(m,x+32*S,u,8)}function xi(u,m){var x,S=8;for(x=0;8>x;++x)S+=u[m+x-32]+u[m-1+32*x];ks(S>>4,u,m)}function ol(u,m){var x,S=4;for(x=0;8>x;++x)S+=u[m+x-32];ks(S>>3,u,m)}function sr(u,m){var x,S=4;for(x=0;8>x;++x)S+=u[m-1+32*x];ks(S>>3,u,m)}function ll(u,m){ks(128,u,m)}function Ia(u,m,x){var S=u[m-x],R=u[m+0],O=3*(R-S)+g0[1020+u[m-2*x]-u[m+x]],V=xf[112+(O+4>>3)];u[m-x]=Us[255+S+xf[112+(O+3>>3)]],u[m+0]=Us[255+R-V]}function cl(u,m,x,S){var R=u[m+0],O=u[m+x];return Zs[255+u[m-2*x]-u[m-x]]>S||Zs[255+O-R]>S}function ul(u,m,x,S){return 4*Zs[255+u[m-x]-u[m+0]]+Zs[255+u[m-2*x]-u[m+x]]<=S}function dl(u,m,x,S,R){var O=u[m-3*x],V=u[m-2*x],$=u[m-x],W=u[m+0],ne=u[m+x],he=u[m+2*x],_e=u[m+3*x];return 4*Zs[255+$-W]+Zs[255+V-ne]>S?0:Zs[255+u[m-4*x]-O]<=R&&Zs[255+O-V]<=R&&Zs[255+V-$]<=R&&Zs[255+_e-he]<=R&&Zs[255+he-ne]<=R&&Zs[255+ne-W]<=R}function QA(u,m,x,S){var R=2*S+1;for(S=0;16>S;++S)ul(u,m+S,x,R)&&Ia(u,m+S,x)}function Ts(u,m,x,S){var R=2*S+1;for(S=0;16>S;++S)ul(u,m+S*x,1,R)&&Ia(u,m+S*x,1)}function un(u,m,x,S){var R;for(R=3;0<R;--R)QA(u,m+=4*x,x,S)}function uc(u,m,x,S){var R;for(R=3;0<R;--R)Ts(u,m+=4,x,S)}function eA(u,m,x,S,R,O,V,$){for(O=2*O+1;0<R--;){if(dl(u,m,x,O,V))if(cl(u,m,x,$))Ia(u,m,x);else{var W=u,ne=m,he=x,_e=W[ne-2*he],Ie=W[ne-he],Be=W[ne+0],Oe=W[ne+he],Te=W[ne+2*he],fe=27*(De=g0[1020+3*(Be-Ie)+g0[1020+_e-Oe]])+63>>7,ge=18*De+63>>7,De=9*De+63>>7;W[ne-3*he]=Us[255+W[ne-3*he]+De],W[ne-2*he]=Us[255+_e+ge],W[ne-he]=Us[255+Ie+fe],W[ne+0]=Us[255+Be-fe],W[ne+he]=Us[255+Oe-ge],W[ne+2*he]=Us[255+Te-De]}m+=S}}function Cn(u,m,x,S,R,O,V,$){for(O=2*O+1;0<R--;){if(dl(u,m,x,O,V))if(cl(u,m,x,$))Ia(u,m,x);else{var W=u,ne=m,he=x,_e=W[ne-he],Ie=W[ne+0],Be=W[ne+he],Oe=xf[112+((Te=3*(Ie-_e))+4>>3)],Te=xf[112+(Te+3>>3)],fe=Oe+1>>1;W[ne-2*he]=Us[255+W[ne-2*he]+fe],W[ne-he]=Us[255+_e+Te],W[ne+0]=Us[255+Ie-Oe],W[ne+he]=Us[255+Be-fe]}m+=S}}function Na(u,m,x,S,R,O){eA(u,m,x,1,16,S,R,O)}function Bi(u,m,x,S,R,O){eA(u,m,1,x,16,S,R,O)}function Sa(u,m,x,S,R,O){var V;for(V=3;0<V;--V)Cn(u,m+=4*x,x,1,16,S,R,O)}function jA(u,m,x,S,R,O){var V;for(V=3;0<V;--V)Cn(u,m+=4,1,x,16,S,R,O)}function Fa(u,m,x,S,R,O,V,$){eA(u,m,R,1,8,O,V,$),eA(x,S,R,1,8,O,V,$)}function hl(u,m,x,S,R,O,V,$){eA(u,m,1,R,8,O,V,$),eA(x,S,1,R,8,O,V,$)}function ka(u,m,x,S,R,O,V,$){Cn(u,m+4*R,R,1,8,O,V,$),Cn(x,S+4*R,R,1,8,O,V,$)}function tA(u,m,x,S,R,O,V,$){Cn(u,m+4,1,R,8,O,V,$),Cn(x,S+4,1,R,8,O,V,$)}function LA(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ta(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function PA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ua(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new F}function dc(){this.xb=this.a=0,this.l=new FA,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ua,this.ab=0,this.gc=A(4,PA),this.Oc=0}function bi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new FA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rA(u,m,x,S,R,O,V){for(u=u==null?0:u[m+0],m=0;m<V;++m)R[O+m]=u+x[S+m]&255,u=R[O+m]}function Qa(u,m,x,S,R,O,V){var $;if(u==null)rA(null,null,x,S,R,O,V);else for($=0;$<V;++$)R[O+$]=u[m+$]+x[S+$]&255}function Rn(u,m,x,S,R,O,V){if(u==null)rA(null,null,x,S,R,O,V);else{var $,W=u[m+0],ne=W,he=W;for($=0;$<V;++$)ne=he+(W=u[m+$])-ne,he=x[S+$]+(-256&ne?0>ne?0:255:ne)&255,ne=W,R[O+$]=he}}function ja(u,m,x,S){var R=m.width,O=m.o;if(e(u!=null&&m!=null),0>x||0>=S||x+S>O)return null;if(!u.Cc){if(u.ga==null){var V;if(u.ga=new bi,(V=u.ga==null)||(V=m.width*m.o,e(u.Gb.length==0),u.Gb=i(V),u.Uc=0,u.Gb==null?V=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,V=1),V=!V),!V){V=u.ga;var $=u.Fa,W=u.P,ne=u.qc,he=u.mb,_e=u.nb,Ie=W+1,Be=ne-1,Oe=V.l;if(e($!=null&&he!=null&&m!=null),Ha[0]=null,Ha[1]=rA,Ha[2]=Qa,Ha[3]=Rn,V.ca=he,V.tb=_e,V.c=m.width,V.i=m.height,e(0<V.c&&0<V.i),1>=ne)m=0;else if(V.$a=$[W+0]>>0&3,V.Z=$[W+0]>>2&3,V.Lc=$[W+0]>>4&3,W=$[W+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||W)m=0;else if(Oe.put=Ot,Oe.ac=qt,Oe.bc=ar,Oe.ma=V,Oe.width=m.width,Oe.height=m.height,Oe.Da=m.Da,Oe.v=m.v,Oe.va=m.va,Oe.j=m.j,Oe.o=m.o,V.$a)e:{e(V.$a==1),m=zr();t:for(;;){if(m==null){m=0;break e}if(e(V!=null),V.mc=m,m.c=V.c,m.i=V.i,m.l=V.l,m.l.ma=V,m.l.width=V.c,m.l.height=V.i,m.a=0,H(m.m,$,Ie,Be),!Ss(V.c,V.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&pi(m.s)?(V.ic=1,$=m.c*m.i,m.Ta=null,m.Ua=0,m.V=i($),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(V.ic=0,m=qi(m,V.c)),!m))break t;m=1;break e}V.mc=null,m=0}else m=Be>=V.c*V.i;V=!m}if(V)return null;u.ga.Lc!=1?u.Ga=0:S=O-x}e(u.ga!=null),e(x+S<=O);e:{if(m=($=u.ga).c,O=$.l.o,$.$a==0){if(Ie=u.rc,Be=u.Vc,Oe=u.Fa,W=u.P+1+x*m,ne=u.mb,he=u.nb+x*m,e(W<=u.P+u.qc),$.Z!=0)for(e(Ha[$.Z]!=null),V=0;V<S;++V)Ha[$.Z](Ie,Be,Oe,W,ne,he,m),Ie=ne,Be=he,he+=m,W+=m;else for(V=0;V<S;++V)n(ne,he,Oe,W,m),Ie=ne,Be=he,he+=m,W+=m;u.rc=Ie,u.Vc=Be}else{if(e($.mc!=null),m=x+S,e((V=$.mc)!=null),e(m<=V.i),V.C>=m)m=1;else if($.ic||xe(),$.ic){$=V.V,Ie=V.Ba,Be=V.c;var Te=V.i,fe=(Oe=1,W=V.$/Be,ne=V.$%Be,he=V.m,_e=V.s,V.$),ge=Be*Te,De=Be*m,Ve=_e.wc,Re=fe<De?Pr(_e,ne,W):null;e(fe<=ge),e(m<=Te),e(pi(_e));t:for(;;){for(;!he.h&&fe<De;){if(ne&Ve||(Re=Pr(_e,ne,W)),e(Re!=null),ee(he),256>(Te=rn(Re.G[0],Re.H[0],he)))$[Ie+fe]=Te,++fe,++ne>=Be&&(ne=0,++W<=m&&!(W%16)&&ms(V,W));else{if(!(280>Te)){Oe=0;break t}Te=fs(Te-256,he);var at,et=rn(Re.G[4],Re.H[4],he);if(ee(he),!(fe>=(et=Pn(Be,et=fs(et,he)))&&ge-fe>=Te)){Oe=0;break t}for(at=0;at<Te;++at)$[Ie+fe+at]=$[Ie+fe+at-et];for(fe+=Te,ne+=Te;ne>=Be;)ne-=Be,++W<=m&&!(W%16)&&ms(V,W);fe<De&&ne&Ve&&(Re=Pr(_e,ne,W))}e(he.h==X(he))}ms(V,W>m?m:W);break t}!Oe||he.h&&fe<ge?(Oe=0,V.a=he.h?5:3):V.$=fe,m=Oe}else m=rs(V,V.V,V.Ba,V.c,V.i,m,$i);if(!m){S=0;break e}}x+S>=O&&(u.Cc=1),S=1}if(!S)return null;if(u.Cc&&((S=u.ga)!=null&&(S.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+x*R}function y(u,m,x,S,R,O){for(;0<R--;){var V,$=u,W=m+(x?1:0),ne=u,he=m+(x?0:3);for(V=0;V<S;++V){var _e=ne[he+4*V];_e!=255&&(_e*=32897,$[W+4*V+0]=$[W+4*V+0]*_e>>23,$[W+4*V+1]=$[W+4*V+1]*_e>>23,$[W+4*V+2]=$[W+4*V+2]*_e>>23)}m+=O}}function D(u,m,x,S,R){for(;0<S--;){var O;for(O=0;O<x;++O){var V=u[m+2*O+0],$=15&(ne=u[m+2*O+1]),W=4369*$,ne=(240&ne|ne>>4)*W>>16;u[m+2*O+0]=(240&V|V>>4)*W>>16&240|(15&V|V<<4)*W>>16>>4&15,u[m+2*O+1]=240&ne|$}m+=R}}function Ae(u,m,x,S,R,O,V,$){var W,ne,he=255;for(ne=0;ne<R;++ne){for(W=0;W<S;++W){var _e=u[m+W];O[V+4*W]=_e,he&=_e}m+=x,V+=$}return he!=255}function ue(u,m,x,S,R){var O;for(O=0;O<R;++O)x[S+O]=u[m+O]>>8}function xe(){Js=y,yr=D,wr=Ae,qr=ue}function Ue(u,m,x){B[u]=function(S,R,O,V,$,W,ne,he,_e,Ie,Be,Oe,Te,fe,ge,De,Ve){var Re,at=Ve-1>>1,et=$[W+0]|ne[he+0]<<16,Bt=_e[Ie+0]|Be[Oe+0]<<16;e(S!=null);var st=3*et+Bt+131074>>2;for(m(S[R+0],255&st,st>>16,Te,fe),O!=null&&(st=3*Bt+et+131074>>2,m(O[V+0],255&st,st>>16,ge,De)),Re=1;Re<=at;++Re){var nr=$[W+Re]|ne[he+Re]<<16,lr=_e[Ie+Re]|Be[Oe+Re]<<16,Jt=et+nr+Bt+lr+524296,Kt=Jt+2*(nr+Bt)>>3;st=Kt+et>>1,et=(Jt=Jt+2*(et+lr)>>3)+nr>>1,m(S[R+2*Re-1],255&st,st>>16,Te,fe+(2*Re-1)*x),m(S[R+2*Re-0],255&et,et>>16,Te,fe+(2*Re-0)*x),O!=null&&(st=Jt+Bt>>1,et=Kt+lr>>1,m(O[V+2*Re-1],255&st,st>>16,ge,De+(2*Re-1)*x),m(O[V+2*Re+0],255&et,et>>16,ge,De+(2*Re+0)*x)),et=nr,Bt=lr}1&Ve||(st=3*et+Bt+131074>>2,m(S[R+Ve-1],255&st,st>>16,Te,fe+(Ve-1)*x),O!=null&&(st=3*Bt+et+131074>>2,m(O[V+Ve-1],255&st,st>>16,ge,De+(Ve-1)*x)))}}function Ke(){ei[Bf]=mF,ei[bf]=ix,ei[ex]=pF,ei[Cf]=Ax,ei[Ef]=ax,ei[v0]=ox,ei[tx]=gF,ei[y0]=ix,ei[w0]=Ax,ei[_f]=ax,ei[x0]=ox}function rt(u){return u&~vF?0>u?0:255:u>>lx}function d(u,m){return rt((19077*u>>8)+(26149*m>>8)-14234)}function C(u,m,x){return rt((19077*u>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function T(u,m){return rt((19077*u>>8)+(33050*m>>8)-17685)}function G(u,m,x,S,R){S[R+0]=d(u,x),S[R+1]=C(u,m,x),S[R+2]=T(u,m)}function ye(u,m,x,S,R){S[R+0]=T(u,m),S[R+1]=C(u,m,x),S[R+2]=d(u,x)}function Ne(u,m,x,S,R){var O=C(u,m,x);m=O<<3&224|T(u,m)>>3,S[R+0]=248&d(u,x)|O>>5,S[R+1]=m}function ze(u,m,x,S,R){var O=240&T(u,m)|15;S[R+0]=240&d(u,x)|C(u,m,x)>>4,S[R+1]=O}function kt(u,m,x,S,R){S[R+0]=255,G(u,m,x,S,R+1)}function Vt(u,m,x,S,R){ye(u,m,x,S,R),S[R+3]=255}function Tt(u,m,x,S,R){G(u,m,x,S,R),S[R+3]=255}function ir(u,m){return 0>u?0:u>m?m:u}function pr(u,m,x){B[u]=function(S,R,O,V,$,W,ne,he,_e){for(var Ie=he+(-2&_e)*x;he!=Ie;)m(S[R+0],O[V+0],$[W+0],ne,he),m(S[R+1],O[V+0],$[W+0],ne,he+x),R+=2,++V,++W,he+=2*x;1&_e&&m(S[R+0],O[V+0],$[W+0],ne,he)}}function Ci(u,m,x){return x==0?u==0?m==0?6:5:m==0?4:0:x}function En(u,m,x,S,R){switch(u>>>30){case 3:OA(m,x,S,R,0);break;case 2:Gr(m,x,S,R);break;case 1:As(m,x,S,R)}}function nA(u,m){var x,S,R=m.M,O=m.Nb,V=u.oc,$=u.pc+40,W=u.oc,ne=u.pc+584,he=u.oc,_e=u.pc+600;for(x=0;16>x;++x)V[$+32*x-1]=129;for(x=0;8>x;++x)W[ne+32*x-1]=129,he[_e+32*x-1]=129;for(0<R?V[$-1-32]=W[ne-1-32]=he[_e-1-32]=129:(s(V,$-32-1,127,21),s(W,ne-32-1,127,9),s(he,_e-32-1,127,9)),S=0;S<u.za;++S){var Ie=m.ya[m.aa+S];if(0<S){for(x=-1;16>x;++x)n(V,$+32*x-4,V,$+32*x+12,4);for(x=-1;8>x;++x)n(W,ne+32*x-4,W,ne+32*x+4,4),n(he,_e+32*x-4,he,_e+32*x+4,4)}var Be=u.Gd,Oe=u.Hd+S,Te=Ie.ad,fe=Ie.Hc;if(0<R&&(n(V,$-32,Be[Oe].y,0,16),n(W,ne-32,Be[Oe].f,0,8),n(he,_e-32,Be[Oe].ea,0,8)),Ie.Za){var ge=V,De=$-32+16;for(0<R&&(S>=u.za-1?s(ge,De,Be[Oe].y[15],4):n(ge,De,Be[Oe+1].y,0,4)),x=0;4>x;x++)ge[De+128+x]=ge[De+256+x]=ge[De+384+x]=ge[De+0+x];for(x=0;16>x;++x,fe<<=2)ge=V,De=$+ux[x],Ei[Ie.Ob[x]](ge,De),En(fe,Te,16*+x,ge,De)}else if(ge=Ci(S,R,Ie.Ob[0]),Oa[ge](V,$),fe!=0)for(x=0;16>x;++x,fe<<=2)En(fe,Te,16*+x,V,$+ux[x]);for(x=Ie.Gc,ge=Ci(S,R,Ie.Dd),MA[ge](W,ne),MA[ge](he,_e),fe=Te,ge=W,De=ne,255&(Ie=x>>0)&&(170&Ie?Ad(fe,256,ge,De):Ys(fe,256,ge,De)),Ie=he,fe=_e,255&(x>>=8)&&(170&x?Ad(Te,320,Ie,fe):Ys(Te,320,Ie,fe)),R<u.Ub-1&&(n(Be[Oe].y,0,V,$+480,16),n(Be[Oe].f,0,W,ne+224,8),n(Be[Oe].ea,0,he,_e+224,8)),x=8*O*u.B,Be=u.sa,Oe=u.ta+16*S+16*O*u.R,Te=u.qa,Ie=u.ra+8*S+x,fe=u.Ha,ge=u.Ia+8*S+x,x=0;16>x;++x)n(Be,Oe+x*u.R,V,$+32*x,16);for(x=0;8>x;++x)n(Te,Ie+x*u.B,W,ne+32*x,8),n(fe,ge+x*u.B,he,_e+32*x,8)}}function sA(u,m,x,S,R,O,V,$,W){var ne=[0],he=[0],_e=0,Ie=W!=null?W.kd:0,Be=W??new Ta;if(u==null||12>x)return 7;Be.data=u,Be.w=m,Be.ha=x,m=[m],x=[x],Be.gb=[Be.gb];e:{var Oe=m,Te=x,fe=Be.gb;if(e(u!=null),e(Te!=null),e(fe!=null),fe[0]=0,12<=Te[0]&&!r(u,Oe[0],"RIFF")){if(r(u,Oe[0]+8,"WEBP")){fe=3;break e}var ge=Ce(u,Oe[0]+4);if(12>ge||4294967286<ge){fe=3;break e}if(Ie&&ge>Te[0]-8){fe=7;break e}fe[0]=ge,Oe[0]+=12,Te[0]-=12}fe=0}if(fe!=0)return fe;for(ge=0<Be.gb[0],x=x[0];;){e:{var De=u;Te=m,fe=x;var Ve=ne,Re=he,at=Oe=[0];if((st=_e=[_e])[0]=0,8>fe[0])fe=7;else{if(!r(De,Te[0],"VP8X")){if(Ce(De,Te[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var et=Ce(De,Te[0]+8),Bt=1+Ee(De,Te[0]+12);if(2147483648<=Bt*(De=1+Ee(De,Te[0]+15))){fe=3;break e}at!=null&&(at[0]=et),Ve!=null&&(Ve[0]=Bt),Re!=null&&(Re[0]=De),Te[0]+=18,fe[0]-=18,st[0]=1}fe=0}}if(_e=_e[0],Oe=Oe[0],fe!=0)return fe;if(Te=!!(2&Oe),!ge&&_e)return 3;if(O!=null&&(O[0]=!!(16&Oe)),V!=null&&(V[0]=Te),$!=null&&($[0]=0),V=ne[0],Oe=he[0],_e&&Te&&W==null){fe=0;break}if(4>x){fe=7;break}if(ge&&_e||!ge&&!_e&&!r(u,m[0],"ALPH")){x=[x],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{et=u,fe=m,ge=x;var st=Be.gb;Ve=Be.na,Re=Be.P,at=Be.Sa,Bt=22,e(et!=null),e(ge!=null),De=fe[0];var nr=ge[0];for(e(Ve!=null),e(at!=null),Ve[0]=null,Re[0]=null,at[0]=0;;){if(fe[0]=De,ge[0]=nr,8>nr){fe=7;break e}var lr=Ce(et,De+4);if(4294967286<lr){fe=3;break e}var Jt=8+lr+1&-2;if(Bt+=Jt,0<st&&Bt>st){fe=3;break e}if(!r(et,De,"VP8 ")||!r(et,De,"VP8L")){fe=0;break e}if(nr[0]<Jt){fe=7;break e}r(et,De,"ALPH")||(Ve[0]=et,Re[0]=De+8,at[0]=lr),De+=Jt,nr-=Jt}}if(x=x[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],fe!=0)break}x=[x],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(st=u,fe=m,ge=x,Ve=Be.gb[0],Re=Be.Ja,at=Be.xa,et=fe[0],De=!r(st,et,"VP8 "),Bt=!r(st,et,"VP8L"),e(st!=null),e(ge!=null),e(Re!=null),e(at!=null),8>ge[0])fe=7;else{if(De||Bt){if(st=Ce(st,et+4),12<=Ve&&st>Ve-12){fe=3;break e}if(Ie&&st>ge[0]-8){fe=7;break e}Re[0]=st,fe[0]+=8,ge[0]-=8,at[0]=Bt}else at[0]=5<=ge[0]&&st[et+0]==47&&!(st[et+4]>>5),Re[0]=ge[0];fe=0}if(x=x[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],m=m[0],fe!=0)break;if(4294967286<Be.Ja)return 3;if($==null||Te||($[0]=Be.xa?2:1),V=[V],Oe=[Oe],Be.xa){if(5>x){fe=7;break}$=V,Ie=Oe,Te=O,u==null||5>x?u=0:5<=x&&u[m+0]==47&&!(u[m+4]>>5)?(ge=[0],st=[0],Ve=[0],H(Re=new Q,u,m,x),lt(Re,ge,st,Ve)?($!=null&&($[0]=ge[0]),Ie!=null&&(Ie[0]=st[0]),Te!=null&&(Te[0]=Ve[0]),u=1):u=0):u=0}else{if(10>x){fe=7;break}$=Oe,u==null||10>x||!rl(u,m+3,x-3)?u=0:(Ie=u[m+0]|u[m+1]<<8|u[m+2]<<16,Te=16383&(u[m+7]<<8|u[m+6]),u=16383&(u[m+9]<<8|u[m+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Be.Ja||!Te||!u?u=0:(V&&(V[0]=Te),$&&($[0]=u),u=1))}if(!u||(V=V[0],Oe=Oe[0],_e&&(ne[0]!=V||he[0]!=Oe)))return 3;W!=null&&(W[0]=Be,W.offset=m-W.w,e(4294967286>m-W.w),e(W.offset==W.ha-x));break}return fe==0||fe==7&&_e&&W==null?(O!=null&&(O[0]|=Be.na!=null&&0<Be.na.length),S!=null&&(S[0]=V),R!=null&&(R[0]=Oe),0):fe}function rd(u,m,x){var S=m.width,R=m.height,O=0,V=0,$=S,W=R;if(m.Da=u!=null&&0<u.Da,m.Da&&($=u.cd,W=u.bd,O=u.v,V=u.j,11>x||(O&=-2,V&=-2),0>O||0>V||0>=$||0>=W||O+$>S||V+W>R))return 0;if(m.v=O,m.j=V,m.va=O+$,m.o=V+W,m.U=$,m.T=W,m.da=u!=null&&0<u.da,m.da){if(!Le($,W,x=[u.ib],O=[u.hb]))return 0;m.ib=x[0],m.hb=O[0]}return m.ob=u!=null&&u.ob,m.Kb=u==null||!u.Sd,m.da&&(m.ob=m.ib<3*S/4&&m.hb<3*R/4,m.Kb=0),1}function nd(u){if(u==null)return 2;if(11>u.S){var m=u.f.RGBA;m.fb+=(u.height-1)*m.A,m.A=-m.A}else m=u.f.kb,u=u.height,m.O+=(u-1)*m.fa,m.fa=-m.fa,m.N+=(u-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(u-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(u-1)*m.lb,m.lb=-m.lb);return 0}function hc(u,m,x,S){if(S==null||0>=u||0>=m)return 2;if(x!=null){if(x.Da){var R=x.cd,O=x.bd,V=-2&x.v,$=-2&x.j;if(0>V||0>$||0>=R||0>=O||V+R>u||$+O>m)return 2;u=R,m=O}if(x.da){if(!Le(u,m,R=[x.ib],O=[x.hb]))return 2;u=R[0],m=O[0]}}S.width=u,S.height=m;e:{var W=S.width,ne=S.height;if(u=S.S,0>=W||0>=ne||!(u>=Bf&&13>u))u=2;else{if(0>=S.Rd&&S.sd==null){V=O=R=m=0;var he=($=W*dx[u])*ne;if(11>u||(O=(ne+1)/2*(m=(W+1)/2),u==12&&(V=(R=W)*ne)),(ne=i(he+2*O+V))==null){u=1;break e}S.sd=ne,11>u?((W=S.f.RGBA).eb=ne,W.fb=0,W.A=$,W.size=he):((W=S.f.kb).y=ne,W.O=0,W.fa=$,W.Fd=he,W.f=ne,W.N=0+he,W.Ab=m,W.Cd=O,W.ea=ne,W.W=0+he+O,W.Db=m,W.Ed=O,u==12&&(W.F=ne,W.J=0+he+2*O),W.Tc=V,W.lb=R)}if(m=1,R=S.S,O=S.width,V=S.height,R>=Bf&&13>R)if(11>R)u=S.f.RGBA,m&=($=Math.abs(u.A))*(V-1)+O<=u.size,m&=$>=O*dx[R],m&=u.eb!=null;else{u=S.f.kb,$=(O+1)/2,he=(V+1)/2,W=Math.abs(u.fa),ne=Math.abs(u.Ab);var _e=Math.abs(u.Db),Ie=Math.abs(u.lb),Be=Ie*(V-1)+O;m&=W*(V-1)+O<=u.Fd,m&=ne*(he-1)+$<=u.Cd,m=(m&=_e*(he-1)+$<=u.Ed)&W>=O&ne>=$&_e>=$,m&=u.y!=null,m&=u.f!=null,m&=u.ea!=null,R==12&&(m&=Ie>=O,m&=Be<=u.Tc,m&=u.F!=null)}else m=0;u=m?0:2}}return u!=0||x!=null&&x.fd&&(u=nd(S)),u}var _n=64,fc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mc=24,pc=32,sd=8,gs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(u){return u},B.Predictor2=function(u,m,x){return m[x+0]},B.Predictor3=function(u,m,x){return m[x+1]},B.Predictor4=function(u,m,x){return m[x-1]},B.Predictor5=function(u,m,x){return Je(Je(u,m[x+1]),m[x+0])},B.Predictor6=function(u,m,x){return Je(u,m[x-1])},B.Predictor7=function(u,m,x){return Je(u,m[x+0])},B.Predictor8=function(u,m,x){return Je(m[x-1],m[x+0])},B.Predictor9=function(u,m,x){return Je(m[x+0],m[x+1])},B.Predictor10=function(u,m,x){return Je(Je(u,m[x-1]),Je(m[x+0],m[x+1]))},B.Predictor11=function(u,m,x){var S=m[x+0];return 0>=Et(S>>24&255,u>>24&255,(m=m[x-1])>>24&255)+Et(S>>16&255,u>>16&255,m>>16&255)+Et(S>>8&255,u>>8&255,m>>8&255)+Et(255&S,255&u,255&m)?S:u},B.Predictor12=function(u,m,x){var S=m[x+0];return(dt((u>>24&255)+(S>>24&255)-((m=m[x-1])>>24&255))<<24|dt((u>>16&255)+(S>>16&255)-(m>>16&255))<<16|dt((u>>8&255)+(S>>8&255)-(m>>8&255))<<8|dt((255&u)+(255&S)-(255&m)))>>>0},B.Predictor13=function(u,m,x){var S=m[x-1];return(wt((u=Je(u,m[x+0]))>>24&255,S>>24&255)<<24|wt(u>>16&255,S>>16&255)<<16|wt(u>>8&255,S>>8&255)<<8|wt(u>>0&255,S>>0&255))>>>0};var p0=B.PredictorAdd0;B.PredictorAdd1=mt,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var id=B.PredictorAdd2;Se("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Se("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var pf,Ws=B.ColorIndexInverseTransform,gc=B.MapARGB,gf=B.VP8LColorIndexInverseTransformAlpha,vf=B.MapAlpha,La=B.VP8LPredictorsAdd=[];La.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var fl,vs,is,Pa,DA,RA,vc,OA,Gr,Ad,As,Ys,yc,yf,ad,ml,pl,Da,gl,wc,vl,Ra,od,Xs,Js,yr,wr,qr,dn=i(511),HA=i(2041),ld=i(225),xc=i(767),wf=0,g0=HA,xf=ld,Us=xc,Zs=dn,Bf=0,bf=1,ex=2,Cf=3,Ef=4,v0=5,tx=6,y0=7,w0=8,_f=9,x0=10,tF=[2,3,7],rF=[3,3,11],rx=[280,256,256,256,40],nF=[0,1,1,1,0],sF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],iF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],AF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],aF=8,B0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],b0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cd=null,oF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],Ei=[],MA=[],fF=1,sx=2,Ha=[],ei=[];Ue("UpsampleRgbLinePair",G,3),Ue("UpsampleBgrLinePair",ye,3),Ue("UpsampleRgbaLinePair",Tt,4),Ue("UpsampleBgraLinePair",Vt,4),Ue("UpsampleArgbLinePair",kt,4),Ue("UpsampleRgba4444LinePair",ze,2),Ue("UpsampleRgb565LinePair",Ne,2);var mF=B.UpsampleRgbLinePair,pF=B.UpsampleBgrLinePair,ix=B.UpsampleRgbaLinePair,Ax=B.UpsampleBgraLinePair,ax=B.UpsampleArgbLinePair,ox=B.UpsampleRgba4444LinePair,gF=B.UpsampleRgb565LinePair,If=16,Nf=1<<If-1,ud=-227,C0=482,lx=6,vF=(256<<lx)-1,cx=0,yF=i(256),wF=i(256),xF=i(256),BF=i(256),bF=i(C0-ud),CF=i(C0-ud);pr("YuvToRgbRow",G,3),pr("YuvToBgrRow",ye,3),pr("YuvToRgbaRow",Tt,4),pr("YuvToBgraRow",Vt,4),pr("YuvToArgbRow",kt,4),pr("YuvToRgba4444Row",ze,2),pr("YuvToRgb565Row",Ne,2);var ux=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sf=[0,2,8],EF=[8,7,6,4,4,2,2,2,1,1,1,1],_F=1;this.WebPDecodeRGBA=function(u,m,x,S,R){var O=bf,V=new LA,$=new Mt;V.ba=$,$.S=O,$.width=[$.width],$.height=[$.height];var W=$.width,ne=$.height,he=new tr;if(he==null||u==null)var _e=2;else e(he!=null),_e=sA(u,m,x,he.width,he.height,he.Pd,he.Qd,he.format,null);if(_e!=0?W=0:(W!=null&&(W[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),W=1),W){$.width=$.width[0],$.height=$.height[0],S!=null&&(S[0]=$.width),R!=null&&(R[0]=$.height);e:{if(S=new FA,(R=new Ta).data=u,R.w=m,R.ha=x,R.kd=1,m=[0],e(R!=null),((u=sA(R.data,R.w,R.ha,null,null,null,m,null,R))==0||u==7)&&m[0]&&(u=4),(m=u)==0){if(e(V!=null),S.data=R.data,S.w=R.w+R.offset,S.ha=R.ha-R.offset,S.put=Ot,S.ac=qt,S.bc=ar,S.ma=V,R.xa){if((u=zr())==null){V=1;break e}if(function(Ie,Be){var Oe=[0],Te=[0],fe=[0];t:for(;;){if(Ie==null)return 0;if(Be==null)return Ie.a=2,0;if(Ie.l=Be,Ie.a=0,H(Ie.m,Be.data,Be.w,Be.ha),!lt(Ie.m,Oe,Te,fe)){Ie.a=3;break t}if(Ie.xb=sx,Be.width=Oe[0],Be.height=Te[0],!Ss(Oe[0],Te[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(u,S)){if(S=(m=hc(S.width,S.height,V.Oa,V.ba))==0){t:{S=u;r:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((x=S.l)!=null),e((R=x.ma)!=null),S.xb!=0){if(S.ca=R.ba,S.tb=R.tb,e(S.ca!=null),!rd(R.Oa,x,Cf)){S.a=2;break r}if(!qi(S,x.width)||x.da)break r;if((x.da||it(S.ca.S))&&xe(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&xe()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!pe(S.s.vb,S.s.Wa.Xa)){S.a=1;break r}S.xb=0}if(!rs(S,S.V,S.Ba,S.c,S.i,x.o,va))break r;R.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(m=u.a)}else m=u.a}else{if((u=new tl)==null){V=1;break e}if(u.Fa=R.na,u.P=R.P,u.qc=R.Sa,nl(u,S)){if((m=hc(S.width,S.height,V.Oa,V.ba))==0){if(u.Aa=0,x=V.Oa,e((R=u)!=null),x!=null){if(0<(W=0>(W=x.Md)?0:100<W?255:255*W/100)){for(ne=he=0;4>ne;++ne)12>(_e=R.pb[ne]).lc&&(_e.ia=W*EF[0>_e.lc?0:_e.lc]>>3),he|=_e.ia;he&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=x.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}Ac(u,S)||(m=u.a)}}else m=u.a}m==0&&V.Oa!=null&&V.Oa.fd&&(m=nd(V.ba))}V=m}O=V!=0?null:11>O?$.f.RGBA.eb:$.f.kb.y}else O=null;return O};var dx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(B,k){for(var P="",N=0;N<4;N++)P+=String.fromCharCode(B[k++]);return P}function h(B,k){return(B[k+0]<<0|B[k+1]<<8|B[k+2]<<16)>>>0}function f(B,k){return(B[k+0]<<0|B[k+1]<<8|B[k+2]<<16|B[k+3]<<24)>>>0}new l;var p=[0],g=[0],b=[],E=new l,_=t,w=function(B,k){var P={},N=0,F=!1,j=0,se=0;if(P.frames=[],!function(K,X,re,ee){for(var te=0;te<ee;te++)if(K[X+te]!=re.charCodeAt(te))return!0;return!1}(B,k,"RIFF",4)){var we,de;for(f(B,k+=4),k+=8;k<B.length;){var ve=c(B,k),H=f(B,k+=4);k+=4;var ae=H+(1&H);switch(ve){case"VP8 ":case"VP8L":P.frames[N]===void 0&&(P.frames[N]={}),(Q=P.frames[N]).src_off=F?se:k-8,Q.src_size=j+H+8,N++,F&&(F=!1,j=0,se=0);break;case"VP8X":(Q=P.header={}).feature_flags=B[k];var Y=k+4;Q.canvas_width=1+h(B,Y),Y+=3,Q.canvas_height=1+h(B,Y),Y+=3;break;case"ALPH":F=!0,j=ae+8,se=k-8;break;case"ANIM":(Q=P.header).bgcolor=f(B,k),Y=k+4,Q.loop_count=(we=B)[(de=Y)+0]<<0|we[de+1]<<8,Y+=2;break;case"ANMF":var ce,Q;(Q=P.frames[N]={}).offset_x=2*h(B,k),k+=3,Q.offset_y=2*h(B,k),k+=3,Q.width=1+h(B,k),k+=3,Q.height=1+h(B,k),k+=3,Q.duration=h(B,k),k+=3,ce=B[k++],Q.dispose=1&ce,Q.blend=ce>>1&1}ve!="ANMF"&&(k+=ae)}return P}}(_,0);w.response=_,w.rgbaoutput=!0,w.dataurl=!1;var v=w.header?w.header:null,I=w.frames?w.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],g=[v.canvas_width];for(var L=0;L<I.length&&I[L].blend!=0;L++);}var z=I[0],q=E.WebPDecodeRGBA(_,z.src_off,z.src_size,g,p);z.rgba=q,z.imgwidth=g[0],z.imgheight=p[0];for(var U=0;U<g[0]*p[0]*4;U++)b[U]=q[U];return this.width=g,this.height=p,this.data=b,this}(function(t){var e=function(){return typeof Gy=="function"},r=function(p,g,b,E){var _=4,w=A;switch(E){case t.image_compression.FAST:_=1,w=i;break;case t.image_compression.MEDIUM:_=6,w=o;break;case t.image_compression.SLOW:_=9,w=l}p=n(p,g,b,w);var v=Gy(p,{level:_});return t.__addimage__.arrayBufferToBinaryString(v)},n=function(p,g,b,E){for(var _,w,v,I=p.length/g,L=new Uint8Array(p.length+I),z=h(),q=0;q<I;q+=1){if(v=q*g,_=p.subarray(v,v+g),E)L.set(E(_,b,w),v+q);else{for(var U,B=z.length,k=[];U<B;U+=1)k[U]=z[U](_,b,w);var P=f(k.concat());L.set(k[P],v+q)}w=_}return L},s=function(p){var g=Array.apply([],p);return g.unshift(0),g},i=function(p,g){var b,E=[],_=p.length;E[0]=1;for(var w=0;w<_;w+=1)b=p[w-g]||0,E[w+1]=p[w]-b+256&255;return E},A=function(p,g,b){var E,_=[],w=p.length;_[0]=2;for(var v=0;v<w;v+=1)E=b&&b[v]||0,_[v+1]=p[v]-E+256&255;return _},o=function(p,g,b){var E,_,w=[],v=p.length;w[0]=3;for(var I=0;I<v;I+=1)E=p[I-g]||0,_=b&&b[I]||0,w[I+1]=p[I]+256-(E+_>>>1)&255;return w},l=function(p,g,b){var E,_,w,v,I=[],L=p.length;I[0]=4;for(var z=0;z<L;z+=1)E=p[z-g]||0,_=b&&b[z]||0,w=b&&b[z-g]||0,v=c(E,_,w),I[z+1]=p[z]-v+256&255;return I},c=function(p,g,b){if(p===g&&g===b)return p;var E=Math.abs(g-b),_=Math.abs(p-b),w=Math.abs(p+g-b-b);return E<=_&&E<=w?p:_<=w?g:b},h=function(){return[s,i,A,o,l]},f=function(p){var g=p.map(function(b){return b.reduce(function(E,_){return E+Math.abs(_)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,b,E){var _,w,v,I,L,z,q,U,B,k,P,N,F,j,se,we=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(v=new aV(p)).imgData,w=v.bits,_=v.colorSpace,L=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){B=(U=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,P=new Uint8Array(B*v.colors),k=new Uint8Array(B);var ve,H=v.pixelBitlength-v.bits;for(j=0,se=0;j<B;j++){for(F=U[j],ve=0;ve<H;)P[se++]=F>>>ve&255,ve+=v.bits;k[j]=F>>>ve&255}}if(v.bits===16){B=(U=new Uint32Array(v.decodePixels().buffer)).length,P=new Uint8Array(B*(32/v.pixelBitlength)*v.colors),k=new Uint8Array(B*(32/v.pixelBitlength)),N=v.colors>1,j=0,se=0;for(var ae=0;j<B;)F=U[j++],P[se++]=F>>>0&255,N&&(P[se++]=F>>>16&255,F=U[j++],P[se++]=F>>>0&255),k[ae++]=F>>>16&255;w=8}E!==t.image_compression.NONE&&e()?(p=r(P,v.width*v.colors,v.colors,E),q=r(k,v.width,1,E)):(p=P,q=k,we=void 0)}if(v.colorType===3&&(_=this.color_spaces.INDEXED,z=v.palette,v.transparency.indexed)){var Y=v.transparency.indexed,ce=0;for(j=0,B=Y.length;j<B;++j)ce+=Y[j];if((ce/=255)===B-1&&Y.indexOf(0)!==-1)I=[Y.indexOf(0)];else if(ce!==B){for(U=v.decodePixels(),k=new Uint8Array(U.length),j=0,B=U.length;j<B;j++)k[j]=Y[U[j]];q=r(k,v.width,1)}}var Q=function(K){var X;switch(K){case t.image_compression.FAST:X=11;break;case t.image_compression.MEDIUM:X=13;break;case t.image_compression.SLOW:X=14;break;default:X=12}return X}(E);return we===this.decode.FLATE_DECODE&&(de="/Predictor "+Q+" "),de+="/Colors "+L+" /BitsPerComponent "+w+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:b,data:p,index:g,filter:we,decodeParameters:de,transparency:I,palette:z,sMask:q,predictor:Q,width:v.width,height:v.height,bitsPerComponent:w,colorSpace:_}}}})(Ct.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new oV(e),A=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:A,height:o},h=new Y1(100).encode(c,100);return t.processJPEG.call(this,h,r,n,s)},t.processGIF87A=t.processGIF89A}(Ct.API),Si.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Si.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){vr.log("bit decode error:"+r)}},Si.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[A+4*o]=l.blue,this.data[A+4*o+1]=l.green,this.data[A+4*o+2]=l.red,this.data[A+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Si.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*s*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[A]=c.blue,this.data[A+1]=c.green,this.data[A+2]=c.red,this.data[A+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[A+4]=c.blue,this.data[A+4+1]=c.green,this.data[A+4+2]=c.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},Si.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var A=this.palette[s];this.data[i]=A.red,this.data[i+1]=A.green,this.data[i+2]=A.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Si.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=A,this.data[h+3]=c}this.pos+=t}},Si.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(A&e)/e*255|0,l=(A>>5&r)/r*255|0,c=(A>>11)/e*255|0,h=s*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Si.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},Si.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=A}},Si.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Si(e,!1),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new Y1(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ct.API),SC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new SC(e),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new Y1(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ct.API),Ct.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),A=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var h=n[c],f=n[c+1],p=n[c+2],g=n[c+3];i[o++]=h,i[o++]=f,i[o++]=p,A[l++]=g}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jc=Ct.API,Lm=jc.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,g=t.length,b=0,E=o[0]||l,_=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?_.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+A*(1e3/i)||0)/1e3):(p=f&&ur(c[n])==="object"&&!isNaN(parseInt(c[n][b],10))?c[n][b]/h:0,_.push((o[n]||E)/l+p)),b=n;return _},EC=jc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return jc.processArabic&&(t=jc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Lm.apply(this,arguments).reduce(function(i,A){return i+A},0)},_C=function(t,e,r,n){for(var s=[],i=0,A=t.length,o=0;i!==A&&o+e[i]<r;)o+=e[i],i++;s.push(t.slice(0,i));var l=i;for(o=0;i!==A;)o+e[i]>n&&(s.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},IC=function(t,e,r){r||(r={});var n,s,i,A,o,l,c,h=[],f=[h],p=r.textIndent||0,g=0,b=0,E=t.split(" "),_=Lm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),v=[];E.map(function(L){(L=L.split(/\s*\n/)).length>1?v=v.concat(L.map(function(z,q){return(q&&z.length?`
`:"")+z})):v.push(L[0])}),E=v,l=EC.apply(this,[w,r])}for(i=0,A=E.length;i<A;i++){var I=0;if(n=E[i],l&&n[0]==`
`&&(n=n.substr(1),I=1),p+g+(b=(s=Lm.apply(this,[n,r])).reduce(function(L,z){return L+z},0))>e||I){if(b>e){for(o=_C.apply(this,[n,s,e-(p+g),e]),h.push(o.shift()),h=[o.pop()];o.length;)f.push([o.shift()]);b=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(L,z){return L+z},0)}else h=[n];f.push(h),p=b+l,g=_}else h.push(n),p+=g+b,g=_}return c=l?function(L,z){return(z?w:"")+L.join(" ")}:function(L){return L.join(" ")},f.map(c)},jc.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(IC.apply(this,[n[o],A,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(f){return"0x"+parseInt(f,10).toString(16)},A=t.__fontmetrics__.compress=function(f){var p,g,b,E,_=["{"];for(var w in f){if(p=f[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=i(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(b=i(p).slice(3),E="-"):(b=i(p).slice(2),E=""),b=E+b.slice(0,-1)+n[b.slice(-1)];else{if(ur(p)!=="object")throw new Error("Don't know what to do with value type "+ur(p)+".");b=A(p)}_.push(g+b)}return _.push("}"),_.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,b,E,_={},w=1,v=_,I=[],L="",z="",q=f.length-1,U=1;U<q;U+=1)(E=f[U])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(E):E=="{"?(I.push([v,b]),v={},b=void 0):E=="}"?((g=I.pop())[0][g[1]]=v,b=void 0,v=g[0]):E=="-"?w=-1:b===void 0?r.hasOwnProperty(E)?(L+=r[E],b=parseInt(L,16)*w,w=1,L=""):L+=E:r.hasOwnProperty(E)?(z+=r[E],v[b]=parseInt(z,16)*w,w=1,b=void 0,z=""):z+=E;return _},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,g=h.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var b=c.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(Ct.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(A,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(hh(o)),A.metadata=t.API.TTFFont.open(o),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(s,n)}}])}(Ct),function(t){function e(){return(_t.canvg?Promise.resolve(_t.canvg):Hy(()=>import("./index.es-CekzPu4d.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ct.API.addSvgAsImage=function(r,n,s,i,A,o,l,c){if(isNaN(n)||isNaN(s))throw vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(A))throw vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=A;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(b){return b.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),n,s,i,A,l,c)})}}(),Ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(A),l=[],c=0,h=0,f=0;function p(b,E){var _,w=!1;for(_=0;_<b.length;_+=1)b[_]===E&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(f=0;f<g;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(ur(t)==="object"){for(s in t)if(i=t[s],p(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(h=0;h<i[c].length;h+=1)typeof i[c][h]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,E=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?E.push("/"+b+" /"+r[b].value):E.push("/"+b+" "+r[b].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+A.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+A+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ct.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,A){for(var o,l=A.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,p=i.length;f<p;++f){if(o=A.metadata.characterToGlyph(i.charCodeAt(f)),A.metadata.glyIdsUsed.push(o),A.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(A.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(c[4-o.length],o)}return h.join("")},n=function(i){var A,o,l,c,h,f,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(i).sort(function(g,b){return g-b})).length;f<p;f++)A=o[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[A]!==void 0&&i[A]!==null&&typeof i[A].toString=="function"&&(c=("0000"+i[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),l.push("<"+A+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,h=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",b=0;b<p.length;b++)g+=String.fromCharCode(p[b]);var E=c();h({data:g,addLength1:!0,objectId:E}),l("endobj");var _=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Mc(o.fontName)),l("/FontFile2 "+E+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Mc(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Mc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,h=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var b=c();h({data:p,addLength1:!0,objectId:b}),l("endobj");var E=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Mc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Mc(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var A,o=i.text||"",l=i.x,c=i.y,h=i.options||{},f=i.mutex||{},p=f.pdfEscape,g=f.activeFontKey,b=f.fonts,E=g,_="",w=0,v="",I=b[E].encoding;if(b[E].encoding!=="Identity-H")return{text:o,x:l,y:c,options:h,mutex:f};for(v=o,E=g,Array.isArray(o)&&(v=o[0]),w=0;w<v.length;w+=1)b[E].metadata.hasOwnProperty("cmap")&&(A=b[E].metadata.cmap.unicode.codeMap[v[w].charCodeAt(0)]),A||v[w].charCodeAt(0)<256&&b[E].metadata.hasOwnProperty("Unicode")?_+=v[w]:_+="";var L="";return parseInt(E.slice(1))<14||I==="WinAnsiEncoding"?L=p(_,E).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(L=r(_,b[E])),f.isHex=!0,{text:L,x:l,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(i){var A=i.text||"",o=[],l={text:A,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(A)){var c=0;for(c=0;c<A.length;c+=1)Array.isArray(A[c])&&A[c].length===3?o.push([s(Object.assign({},l,{text:A[c][0]})).text,A[c][1],A[c][2]]):o.push(s(Object.assign({},l,{text:A[c]})).text);i.text=o}else i.text=s(Object.assign({},l,{text:A})).text}])}(Ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,A,o,l,c,h,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,I=0;this.__bidiEngine__={};var L=function(N){var F=N.charCodeAt(),j=F>>8,se=E[j];return se!==void 0?f[256*se+(255&F)]:j===252||j===253?"AL":w.test(j)?"L":j===8?"R":"N"},z=function(N){for(var F,j=0;j<N.length;j++){if((F=L(N.charAt(j)))==="L")return!1;if(F==="R")return!0}return!1},q=function(N,F,j,se){var we,de,ve,H,ae=F[se];switch(ae){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(ae="AN");break;case"AL":v=!0,ae="R";break;case"WS":ae="N";break;case"CS":se<1||se+1>=F.length||(we=j[se-1])!=="EN"&&we!=="AN"||(de=F[se+1])!=="EN"&&de!=="AN"?ae="N":v&&(de="AN"),ae=de===we?de:"N";break;case"ES":ae=(we=se>0?j[se-1]:"B")==="EN"&&se+1<F.length&&F[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&j[se-1]==="EN"){ae="EN";break}if(v){ae="N";break}for(ve=se+1,H=F.length;ve<H&&F[ve]==="ET";)ve++;ae=ve<H&&F[ve]==="EN"?"EN":"N";break;case"NSM":if(A&&!o){for(H=F.length,ve=se+1;ve<H&&F[ve]==="NSM";)ve++;if(ve<H){var Y=N[se],ce=Y>=1425&&Y<=2303||Y===64286;if(we=F[ve],ce&&(we==="R"||we==="AL")){ae="R";break}}}ae=se<1||(we=F[se-1])==="B"?"N":j[se-1];break;case"B":v=!1,s=!0,ae=I;break;case"S":i=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":ae="N"}return ae},U=function(N,F,j){var se=N.split("");return j&&B(se,j,{hiLevel:I}),se.reverse(),F&&F.reverse(),se.join("")},B=function(N,F,j){var se,we,de,ve,H,ae=-1,Y=N.length,ce=0,Q=[],K=I?g:p,X=[];for(v=!1,s=!1,i=!1,we=0;we<Y;we++)X[we]=L(N[we]);for(de=0;de<Y;de++){if(H=ce,Q[de]=q(N,X,Q,de),se=240&(ce=K[H][b[Q[de]]]),ce&=15,F[de]=ve=K[ce][5],se>0)if(se===16){for(we=ae;we<de;we++)F[we]=1;ae=-1}else ae=-1;if(K[ce][6])ae===-1&&(ae=de);else if(ae>-1){for(we=ae;we<de;we++)F[we]=ve;ae=-1}X[de]==="B"&&(F[de]=0),j.hiLevel|=ve}i&&function(re,ee,te){for(var J=0;J<te;J++)if(re[J]==="S"){ee[J]=I;for(var ie=J-1;ie>=0&&re[ie]==="WS";ie--)ee[ie]=I}}(X,F,Y)},k=function(N,F,j,se,we){if(!(we.hiLevel<N)){if(N===1&&I===1&&!s)return F.reverse(),void(j&&j.reverse());for(var de,ve,H,ae,Y=F.length,ce=0;ce<Y;){if(se[ce]>=N){for(H=ce+1;H<Y&&se[H]>=N;)H++;for(ae=ce,ve=H-1;ae<ve;ae++,ve--)de=F[ae],F[ae]=F[ve],F[ve]=de,j&&(de=j[ae],j[ae]=j[ve],j[ve]=de);ce=H}ce++}}},P=function(N,F,j){var se=N.split(""),we={hiLevel:I};return j||(j=[]),B(se,j,we),function(de,ve,H){if(H.hiLevel!==0&&h)for(var ae,Y=0;Y<de.length;Y++)ve[Y]===1&&(ae=_.indexOf(de[Y]))>=0&&(de[Y]=_[ae+1])}(se,j,we),k(2,se,F,j,we),k(1,se,F,j,we),se.join("")};return this.__bidiEngine__.doBidiReorder=function(N,F,j){if(function(we,de){if(de)for(var ve=0;ve<we.length;ve++)de[ve]=ve;o===void 0&&(o=z(we)),c===void 0&&(c=z(we))}(N,F),A||!l||c)if(A&&l&&o^c)I=o?1:0,N=U(N,F,j);else if(!A&&l&&c)I=o?1:0,N=P(N,F,j),N=U(N,F);else if(!A||o||l||c){if(A&&!l&&o^c)N=U(N,F),o?(I=0,N=P(N,F,j)):(I=1,N=P(N,F,j),N=U(N,F));else if(A&&o&&!l&&c)I=1,N=P(N,F,j),N=U(N,F);else if(!A&&!l&&o^c){var se=h;o?(I=1,N=P(N,F,j),I=0,h=!1,N=P(N,F,j),h=se):(I=0,N=P(N,F,j),N=U(N,F),I=1,h=!1,N=P(N,F,j),h=se,N=U(N,F))}}else I=0,N=P(N,F,j);else I=o?1:0,N=P(N,F,j);return N},this.__bidiEngine__.setOptions=function(N){N&&(A=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,c=N.isOutputRtl,h=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),A=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(A=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?A.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):A.push([r.doBidiReorder(s[o])]);n.text=A}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new zo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new bV(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lV(this.contents),this.head=new uV(this),this.name=new pV(this),this.cmap=new JS(this),this.toUnicode={},this.hhea=new dV(this),this.maxp=new gV(this),this.hmtx=new vV(this),this.post=new fV(this),this.os2=new hV(this),this.loca=new BV(this),this.glyf=new yV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,o,l,c;for(c=[],A=0,o=(l=this.bbox).length;A<o;A++)e=l[A],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,A,o;for(A=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),A+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Gi,zo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,A,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),A=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^A)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*A+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),lV=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,A,o,l,c,h,f,p,g,b,E;for(E in g=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),A=Math.floor(f/l),h=16*g-f,(s=new zo).writeInt(this.scalarType),s.writeShort(g),s.writeShort(f),s.writeShort(A),s.writeShort(h),i=16*g,c=s.pos+i,o=null,b=[],r)for(p=r[E],s.writeString(E),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),b=b.concat(p),E==="head"&&(o=c),c+=p.length;c%4;)b.push(0),c++;return s.write(b),n=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,A;for(r=ZS.call(r);r.length%4;)r.push(0);for(i=new zo(r),s=0,n=0,A=r.length;n<A;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),cV={}.hasOwnProperty,_A=function(t,e){for(var r in e)cV.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Gi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var uV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new zo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),FC=function(){function t(e,r){var n,s,i,A,o,l,c,h,f,p,g,b,E,_,w,v,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,i=function(){var L,z;for(z=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)z.push(e.readUInt16());return z}(),e.pos+=2,E=function(){var L,z;for(z=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)z.push(e.readUInt16());return z}(),c=function(){var L,z;for(z=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)z.push(e.readUInt16());return z}(),h=function(){var L,z;for(z=[],l=L=0;0<=p?L<p:L>p;l=0<=p?++L:--L)z.push(e.readUInt16());return z}(),s=(this.length-e.pos+this.offset)/2,o=function(){var L,z;for(z=[],l=L=0;0<=s?L<s:L>s;l=0<=s?++L:--L)z.push(e.readUInt16());return z}(),l=w=0,I=i.length;w<I;l=++w)for(_=i[l],n=v=b=E[l];b<=_?v<=_:v>=_;n=b<=_?++v:--v)h[l]===0?A=n+c[l]:(A=o[h[l]/2+(n-b)-(p-l)]||0)!==0&&(A+=c[l]),this.codeMap[n]=65535&A}e.pos=f}return t.encode=function(e,r){var n,s,i,A,o,l,c,h,f,p,g,b,E,_,w,v,I,L,z,q,U,B,k,P,N,F,j,se,we,de,ve,H,ae,Y,ce,Q,K,X,re,ee,te,J,ie,oe,me,Ee;switch(se=new zo,A=Object.keys(e).sort(function(Ce,pe){return Ce-pe}),r){case"macroman":for(E=0,_=function(){var Ce=[];for(b=0;b<256;++b)Ce.push(0);return Ce}(),v={0:0},i={},we=0,ae=A.length;we<ae;we++)v[ie=e[s=A[we]]]==null&&(v[ie]=++E),i[s]={old:e[s],new:v[e[s]]},_[s]=v[e[s]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(_),{charMap:i,subtable:se.data,maxGlyphID:E+1};case"unicode":for(F=[],f=[],I=0,v={},n={},w=c=null,de=0,Y=A.length;de<Y;de++)v[z=e[s=A[de]]]==null&&(v[z]=++I),n[s]={old:z,new:v[z]},o=v[z]-s,w!=null&&o===c||(w&&f.push(w),F.push(s),c=o),w=s;for(w&&f.push(w),f.push(65535),F.push(65535),P=2*(k=F.length),B=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(B/2)/Math.LN2,U=2*k-B,l=[],q=[],g=[],b=ve=0,ce=F.length;ve<ce;b=++ve){if(N=F[b],h=f[b],N===65535){l.push(0),q.push(0);break}if(N-(j=n[N].new)>=32768)for(l.push(0),q.push(2*(g.length+k-b)),s=H=N;N<=h?H<=h:H>=h;s=N<=h?++H:--H)g.push(n[s].new);else l.push(j-N),q.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*k+2*g.length),se.writeUInt16(0),se.writeUInt16(P),se.writeUInt16(B),se.writeUInt16(p),se.writeUInt16(U),te=0,Q=f.length;te<Q;te++)s=f[te],se.writeUInt16(s);for(se.writeUInt16(0),J=0,K=F.length;J<K;J++)s=F[J],se.writeUInt16(s);for(oe=0,X=l.length;oe<X;oe++)o=l[oe],se.writeUInt16(o);for(me=0,re=q.length;me<re;me++)L=q[me],se.writeUInt16(L);for(Ee=0,ee=g.length;Ee<ee;Ee++)E=g[Ee],se.writeUInt16(E);return{charMap:n,subtable:se.data,maxGlyphID:I+1}}},t}(),JS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new FC(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=FC.encode(r,n),(i=new zo).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),dV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),hV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),fV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var A;for(s=r.readUInt16(),this.glyphNameIndex=[],A=0;0<=s?A<s:A>s;A=0<=s?++A:--A)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],A=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;A=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},e}(),mV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,A,o,l,c,h,f,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},A=f=0,p=s.length;f<p;A=++f)i=s[A],r.pos=i.offset,h=r.readString(i.length),o=new mV(h,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),gV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),vV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,A,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)f.push(r.readInt16());return f}(),this.widths=(function(){var h,f,p,g;for(g=[],h=0,f=(p=this.metrics).length;h<f;h++)A=p[h],g.push(A.advance);return g}).call(this),s=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),ZS=[].slice,yV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,A,o,l,c,h,f,p;return r in this.cache?this.cache[r]:(A=this.file.loca,n=this.file.contents,s=A.indexOf(r),(i=A.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(l=new zo(n.read(i))).readShort(),h=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new xV(l,h,p,c,f):new wV(l,o,h,p,c,f),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,A,o,l,c;for(o=[],A=[],l=0,c=n.length;l<c;l++)i=r[n[l]],A.push(o.length),i&&(o=o.concat(i.encode(s)));return A.push(o.length),{table:o,offsets:A}},e}(),wV=function(){function t(e,r,n,s,i,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),xV=function(){function t(e,r,n,s,i){var A,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;o=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&o;)A.pos+=1&o?4:2,128&o?A.pos+=8:64&o?A.pos+=4:8&o&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new zo(ZS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),BV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _A(e,Gi),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=2)A.push(2*r.readUInt16());return A}).call(this):(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=4)A.push(r.readUInt32());return A}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,A=0,o=0;o<s.length;++o)if(s[o]=i,A<n.length&&n[A]==o){++A,s[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var h=new Array(4*s.length),f=0;f<s.length;++f)h[4*f+3]=255&s[f],h[4*f+2]=(65280&s[f])>>8,h[4*f+1]=(16711680&s[f])>>16,h[4*f]=(4278190080&s[f])>>24;return h},e}(),bV=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,A,o,l;for(s={},A=0,o=e.length;A<o;A++)s[i=e[A]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,A,o,l,c,h,f,p,g,b,E,_,w;for(s in n=JS.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),g={0:0},w=n.charMap)g[(l=w[s]).old]=l.new;for(b in p=n.maxGlyphID,A)b in g||(g[b]=p++);return h=function(v){var I,L;for(I in L={},v)L[v[I]]=I;return L}(g),f=Object.keys(h).sort(function(v,I){return v-I}),E=function(){var v,I,L;for(L=[],v=0,I=f.length;v<I;v++)o=f[v],L.push(h[o]);return L}(),i=this.font.glyf.encode(A,E,g),c=this.font.loca.encode(i.offsets,E),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();Ct.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,A;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)A=r[s],i.push("/"+s+" "+e.convert(A));return i.push(">>"),i.join(`
`)}return""+r},e}();const eF=({teacher:t,schedule:e,subjects:r,classes:n})=>{const s=(o,l)=>{var f;const c=(f=e.schedule[o])==null?void 0:f[l];return c!=null&&c.classId?{classItem:n.find(p=>p.id===c.classId)}:null},i=(o,l,c)=>{var f;const h=(f=e.schedule[o])==null?void 0:f[l];return!h||h.classId!=="fixed-period"?null:h.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:c==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:h.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:c==="Ortaokul"?"09:15-09:35":"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:h.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:c==="İlkokul"||c==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:h.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},A=o=>{const l=t0(o,t.level);return l?r0(l.startTime,l.endTime):`${o}. Ders`};return a.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[a.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[a.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 4px 0",color:"#000000"},children:t.name}),a.jsxs("p",{style:{fontSize:"14px",margin:0,color:"#000000"},children:[t.branch," - ",t.level]})]}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Dt.map(o=>a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:o.toUpperCase()},o))]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{style:{backgroundColor:"#f0f8ff"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı"}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50"})]}),Dt.map(o=>{const l=i(o,"prep",t.level);return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0f8ff"},children:(l==null?void 0:l.title)||(t.level==="Ortaokul"?"Hazırlık":"Kahvaltı")},`${o}-prep`)})]}),Bn.map((o,l)=>{const c=A(o),h=(t.level==="İlkokul"||t.level==="Anaokulu")&&o==="5"||t.level==="Ortaokul"&&o==="6",f=t.level==="Ortaokul"&&o==="1",p=o==="8";return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{style:{backgroundColor:h?"#f0fff0":l%2===0?"#ffffff":"#f8f9fa"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:h?"#e6ffe6":"#e6f3ff"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:h?"Yemek":`${o}.`}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:h?t.level==="İlkokul"||t.level==="Anaokulu"?"11:50-12:25":"12:30-13:05":c})]}),Dt.map(g=>{var E;if(h)return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0fff0"},children:"Yemek"},`${g}-${o}`);const b=s(g,o);return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:l%2===0?"#ffffff":"#f8f9fa"},children:b?a.jsx("div",{style:{fontWeight:"bold",fontSize:"10px"},children:(E=b.classItem)==null?void 0:E.name}):a.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${g}-${o}`)})]}),f&&a.jsxs("tr",{style:{backgroundColor:"#fff8f0"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#ffe6cc"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"Kahvaltı"}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"09:15-09:35"})]}),Dt.map(g=>{const b=i(g,"breakfast",t.level);return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fff8f0"},children:(b==null?void 0:b.title)||"Kahvaltı"},`${g}-breakfast`)})]}),p&&a.jsxs("tr",{style:{backgroundColor:"#fffbf0"},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#fff3e0"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"İkindi Kahvaltısı"}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"14:35-14:45"})]}),Dt.map(g=>a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fffbf0"},children:"İkindi Kahvaltısı"},`${g}-afternoon-breakfast`))]})]},o)})]})]})]})},CV=()=>{const{data:t}=St("teachers"),{data:e}=St("classes"),{data:r}=St("subjects"),{data:n,remove:s}=St("schedules"),{data:i}=St("schedule-templates"),{success:A,error:o,warning:l}=mi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=pa(),[g,b]=le.useState(""),[E,_]=le.useState(""),[w,v]=le.useState(""),[I,L]=le.useState(""),[z,q]=le.useState(!1),[U,B]=le.useState(!1),k=le.useRef({}),P=[...t].sort((oe,me)=>oe.name.localeCompare(me.name,"tr"));[...e].sort((oe,me)=>oe.name.localeCompare(me.name,"tr"));const N=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],F=[{value:"",label:"Tüm Günler"},...Dt.map(oe=>({value:oe,label:oe}))],j=[{value:"",label:"Tüm Saatler"},...Bn.map(oe=>({value:oe,label:`${oe}. Ders`}))],se=()=>P.filter(oe=>{const me=!g||oe.level===g,Ee=!I||oe.name.toLowerCase().includes(I.toLowerCase())||oe.branch.toLowerCase().includes(I.toLowerCase());return me&&Ee}),we=oe=>n.find(me=>me.teacherId===oe),de=(oe,me,Ee)=>{var M;const Ce=we(oe),pe=(M=Ce==null?void 0:Ce.schedule[me])==null?void 0:M[Ee];return pe!=null&&pe.classId?{classItem:e.find(Le=>Le.id===pe.classId)}:null},ve=(oe,me,Ee,Ce)=>{var M;const pe=we(Ee),Z=(M=pe==null?void 0:pe.schedule[oe])==null?void 0:M[me];return!Z||Z.classId!=="fixed-period"?null:Z.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:Ce==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:Z.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:Z.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:Ce==="İlkokul"||Ce==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:Z.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},H=(oe,me)=>{const Ee={};return n.forEach(Ce=>{var Z;const pe=(Z=Ce.schedule[oe])==null?void 0:Z[me];if(pe!=null&&pe.classId&&pe.classId!=="fixed-period"){const M=t.find(Le=>Le.id===Ce.teacherId);M&&(Ee[pe.classId]={teacher:M})}}),Ee},ae=()=>{const oe=[];return Dt.forEach(me=>{Bn.forEach(Ee=>{const Ce=H(me,Ee),pe=Object.keys(Ce);pe.filter((M,Le)=>pe.indexOf(M)!==Le).forEach(M=>{var $e;const Le=(($e=e.find(je=>je.id===M))==null?void 0:$e.name)||"Bilinmeyen Sınıf";oe.push(`${me} ${Ee}. ders: ${Le} sınıfı çakışıyor`)})})}),[...new Set(oe)]},Y=oe=>{const me=i.find(Ee=>{var Ce,pe,Z;return(Z=(pe=(Ce=Ee.wizardData)==null?void 0:Ce.teachers)==null?void 0:pe.selectedTeachers)==null?void 0:Z.includes(oe)});return me?me.name:null},ce=()=>{const oe=te.filter(me=>n.some(Ee=>Ee.teacherId===me.id));if(oe.length===0){l("⚠️ Silinecek Program Yok","Filtrelenen öğretmenler arasında silinecek program bulunamadı");return}p(`${oe.length} Öğretmen Programı`,async()=>{B(!0);try{let me=0;const Ee=n.filter(Ce=>oe.some(pe=>pe.id===Ce.teacherId));console.log("🗑️ Silinecek öğretmen programları:",{totalSchedules:n.length,schedulesToDelete:Ee.length,teachersWithSchedules:oe.length});for(const Ce of Ee)try{await s(Ce.id),me++,console.log(`✅ Öğretmen programı silindi: ${Ce.id}`)}catch(pe){console.error(`❌ Program silinemedi: ${Ce.id}`,pe)}me>0?A("🗑️ Programlar Silindi",`${me} öğretmen programı başarıyla silindi`):o("❌ Silme Hatası","Hiçbir program silinemedi")}catch(me){console.error("❌ Toplu silme hatası:",me),o("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{B(!1)}})},Q=async(oe,me)=>{const Ee=k.current[oe.id];if(!Ee)return null;try{await new Promise(je=>setTimeout(je,100));const Ce=await Pu(Ee,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:Ee.scrollWidth,height:Ee.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0,onclone:je=>{const qe=je.querySelector('[data-teacher-id="'+oe.id+'"]');qe&&(qe.style.transform="none",qe.style.position="static")}}),pe=new Ct({orientation:"landscape",unit:"mm",format:"a4"}),Z=Ce.toDataURL("image/png",1),M=297,Le=Ce.height*M/Ce.width,$e=Le<210?(210-Le)/2:0;return pe.addImage(Z,"PNG",0,$e,M,Le),pe}catch(Ce){return console.error(`${oe.name} için PDF oluşturma hatası:`,Ce),null}},K=async oe=>{if(!we(oe.id))return;const Ee=await Q(oe);if(Ee){const pe=`${oe.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;Ee.save(pe)}},X=async()=>{const oe=te.filter(me=>n.some(Ee=>Ee.teacherId===me.id));if(oe.length===0){alert("İndirilecek program bulunamadı");return}q(!0);try{let me=null;for(let Ee=0;Ee<oe.length;Ee++){const Ce=oe[Ee],pe=n.find(Z=>Z.teacherId===Ce.id);if(pe){const Z=await Q(Ce,pe);if(Z){if(Ee===0)me=Z;else if(me){me.addPage();const M=k.current[Ce.id];if(M){await new Promise(Je=>setTimeout(Je,100));const Le=await Pu(M,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),$e=Le.toDataURL("image/png",1),je=297,qe=Le.height*je/Le.width,Ze=qe<210?(210-qe)/2:0;me.addImage($e,"PNG",0,Ze,je,qe)}}}}}if(me){const Ee=`Tum_Ders_Programlari_${new Date().getFullYear()}.pdf`;me.save(Ee)}}catch(me){console.error("Toplu PDF oluşturma hatası:",me),alert("PDF oluşturulurken bir hata oluştu")}finally{q(!1)}},re=()=>{L("")},ee=oe=>{oe.key==="Enter"&&(oe.preventDefault(),console.log("🔍 Enter ile öğretmen araması:",I),oe.target.blur()),oe.key==="Escape"&&(re(),oe.target.blur())},te=se(),J=ae(),ie=te.filter(oe=>n.some(me=>me.teacherId===oe.id));return a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmen Ders Programları"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Okuldaki tüm öğretmen programlarını görüntüleyin"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[ie.length>0&&a.jsx(He,{onClick:ce,icon:xr,variant:"danger",disabled:U,className:"w-full sm:w-auto",children:U?"Siliniyor...":`Tüm Programları Sil (${ie.length})`}),a.jsx(He,{onClick:X,icon:Qo,variant:"primary",disabled:ie.length===0||z,className:"w-full sm:w-auto",children:z?"PDF Oluşturuluyor...":`Tüm Programları İndir (${ie.length})`})]})]}),a.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"🔍 Öğretmen Ara"}),a.jsxs("div",{className:"relative",children:[a.jsx(EN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:I,onChange:oe=>L(oe.target.value),onKeyDown:ee,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),I&&a.jsx("button",{onClick:re,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors btn-touch",title:"Aramayı temizle",children:a.jsx(da,{className:"w-5 h-5"})})]}),I&&a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',I,'" için ',te.length," sonuç bulundu"]}),a.jsx("button",{onClick:re,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),a.jsxs("div",{className:"responsive-grid gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:g,onChange:b,options:N}),a.jsx(Xt,{label:"Gün Filtresi",value:E,onChange:_,options:F}),a.jsx(Xt,{label:"Ders Saati",value:w,onChange:v,options:j})]})]}),J.length>0&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(fo,{className:"w-5 h-5 text-red-600 mt-0.5"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Program Çakışmaları Tespit Edildi"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("ul",{className:"list-disc list-inside space-y-1",children:J.map((oe,me)=>a.jsx("li",{children:oe},me))})})]})]})}),a.jsxs("div",{className:"responsive-grid mb-6",children:[a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Öğretmen"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(us,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Hazır Program"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),a.jsx("div",{className:"space-y-6",children:te.map(oe=>{const me=we(oe.id),Ee=Y(oe.id);return a.jsxs("div",{className:"mobile-card overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:oe.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[oe.branch," - ",oe.level]}),Ee&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:Ee})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[me&&a.jsx(He,{onClick:()=>K(oe),icon:Qo,variant:"secondary",size:"sm",className:"flex-1 sm:flex-none",children:"PDF İndir"}),!me&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})]})]})}),me?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"table-responsive schedule-mobile",children:a.jsxs("table",{className:"min-w-full schedule-table",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Saat"}),Dt.map(Ce=>a.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:Ce},Ce))]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{className:"bg-blue-50",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-blue-100 text-sm",children:"Hazırlık"}),Dt.map(Ce=>{const pe=ve(Ce,"prep",oe.id,oe.level);return a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:a.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(pe==null?void 0:pe.title)||"Hazırlık"})})},`${Ce}-prep`)})]}),Bn.map(Ce=>{if(E&&!Dt.includes(E)||w&&Ce!==w)return null;const pe=(oe.level==="İlkokul"||oe.level==="Anaokulu")&&Ce==="5"||oe.level==="Ortaokul"&&Ce==="6",Z=Ce==="8";return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{className:pe?"bg-green-50":"",children:[a.jsx("td",{className:`px-3 py-2 font-medium text-gray-900 text-sm ${pe?"bg-green-100":"bg-gray-50"}`,children:pe?"Yemek":`${Ce}.`}),Dt.map(M=>{var $e;if(E&&M!==E)return null;if(pe)return ve(M,Ce,oe.id,oe.level),a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:a.jsx("div",{className:"font-medium text-green-900 text-sm",children:"Yemek"})})},`${M}-${Ce}`);const Le=de(oe.id,M,Ce);return a.jsx("td",{className:"px-2 py-2",children:Le?a.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:a.jsx("div",{className:"font-medium text-blue-900 text-sm",children:($e=Le.classItem)==null?void 0:$e.name})}):a.jsx("div",{className:"text-center p-2 bg-gray-50 rounded border border-gray-200",children:a.jsx("div",{className:"text-gray-400 text-xs",children:"Boş"})})},`${M}-${Ce}`)})]}),Z&&a.jsxs("tr",{className:"bg-yellow-50",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:"İkindi Kahvaltısı"}),Dt.map(M=>(ve(M,"afternoon-breakfast",oe.id,oe.level),a.jsx("td",{className:"px-2 py-2",children:a.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:a.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${M}-afternoon-breakfast`)))]})]},Ce)})]})]})}),a.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:a.jsx("div",{ref:Ce=>k.current[oe.id]=Ce,"data-teacher-id":oe.id,style:{transform:"none",position:"static"},children:a.jsx(eF,{teacher:oe,schedule:me,subjects:r,classes:e})})})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Vs,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Bu öğretmen için henüz program oluşturulmamış"})]})]},oe.id)})}),te.length===0&&a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Mr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:I?"Arama Sonucu Bulunamadı":"Öğretmen Bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:I?`"${I}" araması için sonuç bulunamadı`:"Seçilen filtrelere uygun öğretmen bulunmuyor"}),(I||g)&&a.jsxs("div",{className:"button-group-mobile",children:[I&&a.jsx(He,{onClick:re,variant:"secondary",children:"Aramayı Temizle"}),g&&a.jsx(He,{onClick:()=>b(""),variant:"secondary",children:"Filtreleri Temizle"})]})]}),a.jsx(ga,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},kC=({classItem:t,schedule:e,teachers:r,subjects:n})=>{const s=c=>{if(c)return n.find(h=>h.branch===c.branch&&h.level===c.level)},i=()=>{let c=0;return e?(Dt.forEach(h=>{e[h]&&Bn.forEach(f=>{const p=e[h][f];p&&!p.isFixed&&c++})}),c):0},A=c=>{const h=t0(c,t.level);return h?r0(h.startTime,h.endTime):`${c}. Ders`},o=c=>{const h=t.level==="Ortaokul"?"6":"5";return c==="prep"?{title:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı",time:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50",isFixed:!0,bg:"#e6f3ff"}:c==="breakfast"?{title:"Kahvaltı",time:"09:15-09:35",isFixed:!0,bg:"#fff8f0"}:c===h?{title:"Yemek",time:A(c),isFixed:!0,bg:"#e6ffe6"}:c==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",time:"14:35-14:45",isFixed:!0,bg:"#fffbf0"}:{title:`${c}.`,time:A(c),isFixed:!1,bg:"#e6f3ff"}},l=["prep","1","2","3","4","5","6","7","8","9","10","breakfast","afternoon-breakfast"].filter(c=>{var h;return((h=e==null?void 0:e[Dt[0]])==null?void 0:h[c])!==void 0}).sort((c,h)=>{const f=p=>p==="prep"?0:isNaN(parseInt(p))?p==="breakfast"?1.5:p==="afternoon-breakfast"?8.5:99:parseInt(p);return f(c)-f(h)});return a.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[a.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[a.jsxs("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:[t.name," Sınıfı Ders Programı"]}),a.jsxs("p",{style:{fontSize:"14px",margin:"4px 0 0 0"},children:[t.level," • Haftalık Toplam: ",i()," ders saati"]})]}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Dt.map(c=>a.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:c.toUpperCase()},c))]})}),a.jsx("tbody",{children:l.map((c,h)=>{const f=o(c),p=f.isFixed?f.bg:h%2===0?"#ffffff":"#f8f9fa";return a.jsxs("tr",{style:{backgroundColor:p},children:[a.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:f.bg},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:f.title}),a.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:f.time})]}),Dt.map(g=>{var w;const b=(w=e==null?void 0:e[g])==null?void 0:w[c];if(!b)return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:a.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"-"})},`${g}-${c}`);if(b.isFixed)return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:f.bg},children:b.subjectId},`${g}-${c}`);const E=r.find(v=>{var I;return v.id===((I=b.teacher)==null?void 0:I.id)}),_=s(E);return a.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:E?a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:E.name}),a.jsx("div",{style:{fontSize:"9px",color:"#666666"},children:(_==null?void 0:_.name)||E.branch})]}):a.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${g}-${c}`)})]},c)})})]}),a.jsxs("div",{style:{marginTop:"10mm",display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666666"},children:[a.jsxs("div",{children:["Haftalık Toplam: ",i()," ders saati"]}),a.jsx("div",{children:"İDE Okulları Ders Programı"})]})]})},EV=()=>{const t=Xo(),{data:e}=St("teachers"),{data:r}=St("classes"),{data:n}=St("subjects"),{data:s,remove:i}=St("schedules"),{success:A,error:o,info:l,warning:c}=mi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmDelete:g}=pa(),[b,E]=le.useState(""),[_,w]=le.useState(""),[v,I]=le.useState(!1),[L,z]=le.useState(!1),[q,U]=le.useState(!1),B=le.useRef({}),k=le.useRef(null);le.useEffect(()=>{const J=new URLSearchParams(t.search).get("classId");J&&r.length>0&&r.find(oe=>oe.id===J)&&(E(J),setTimeout(()=>{var oe;(oe=k.current)==null||oe.scrollIntoView({behavior:"smooth",block:"start"})},500))},[t.search,r]);const P=[...r].sort((te,J)=>te.name.localeCompare(J.name,"tr")),N=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],F=()=>P.filter(te=>!_||te.level===_),j=te=>{const J={};return Dt.forEach(ie=>{J[ie]={},Bn.forEach(oe=>{J[ie][oe]=null,s.forEach(me=>{var Ce;const Ee=(Ce=me.schedule[ie])==null?void 0:Ce[oe];if((Ee==null?void 0:Ee.classId)===te){const pe=e.find(M=>M.id===me.teacherId),Z=n.find(M=>M.id===Ee.subjectId);pe&&(J[ie][oe]={teacher:pe,subject:Z})}})})}),J},se=(te,J,ie)=>J==="prep"||J==="afternoon-breakfast",we=(te,J)=>te==="prep"?{title:"Hazırlık",subtitle:J==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:(J==="İlkokul"||J==="Anaokulu")&&te==="5"?{title:"Yemek",subtitle:"11:50-12:25",color:"bg-green-100 border-green-300 text-green-800"}:J==="Ortaokul"&&te==="6"?{title:"Yemek",subtitle:"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:te==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null,de=te=>{let J=0;const ie=j(te);return Dt.forEach(oe=>{Bn.forEach(me=>{ie[oe][me]&&!se(oe,me)&&J++})}),J},ve=(te,J)=>{let ie=0;const oe=j(te);return Bn.forEach(me=>{oe[J][me]&&!se(J,me)&&ie++}),ie},H=te=>{const J=r.find(ie=>ie.id===te);J&&(console.log("👁️ Sınıf görüntüleme:",{classId:te,className:J.name}),E(te),setTimeout(()=>{var ie;(ie=k.current)==null||ie.scrollIntoView({behavior:"smooth",block:"start"})},100),l("Program Görüntülendi",`${J.name} sınıfının programı yukarıda görüntüleniyor`))},ae=()=>{const te=K.filter(J=>de(J.id)>0);if(te.length===0){c("⚠️ Silinecek Program Yok","Filtrelenen sınıflar arasında silinecek program bulunamadı");return}g(`${te.length} Sınıf Programı`,async()=>{U(!0);try{let J=0;const ie=s.filter(oe=>Object.values(oe.schedule).some(me=>Object.values(me).some(Ee=>(Ee==null?void 0:Ee.classId)&&te.some(Ce=>Ce.id===Ee.classId))));console.log("🗑️ Silinecek programlar:",{totalSchedules:s.length,schedulesToDelete:ie.length,classesWithSchedules:te.length});for(const oe of ie)try{await i(oe.id),J++,console.log(`✅ Program silindi: ${oe.id}`)}catch(me){console.error(`❌ Program silinemedi: ${oe.id}`,me)}J>0?(A("🗑️ Programlar Silindi",`${J} sınıf programı başarıyla silindi`),b&&te.some(oe=>oe.id===b)&&E("")):o("❌ Silme Hatası","Hiçbir program silinemedi")}catch(J){console.error("❌ Toplu silme hatası:",J),o("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{U(!1)}})},Y=async te=>{const J=B.current[te.id];if(!J)return null;try{await new Promise(Z=>setTimeout(Z,200));const ie=await Pu(J,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:J.scrollWidth,height:J.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),oe=new Ct({orientation:"landscape",unit:"mm",format:"a4"}),me=ie.toDataURL("image/png",1),Ee=297,Ce=ie.height*Ee/ie.width,pe=Ce<210?(210-Ce)/2:0;return oe.addImage(me,"PNG",0,pe,Ee,Ce),oe}catch(ie){return console.error(`${te.name} için PDF oluşturma hatası:`,ie),null}},ce=async te=>{I(!0);try{const J=await Y(te);if(J){const oe=`${te.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"_")}_Sinif_Programi_${new Date().getFullYear()}.pdf`;J.save(oe),A("PDF İndirildi",`${te.name} sınıfı programı başarıyla indirildi`)}else o("PDF Hatası","PDF oluşturulurken bir hata oluştu")}catch{o("PDF Hatası","PDF oluşturulurken bir hata oluştu")}finally{I(!1)}},Q=async()=>{const J=F().filter(ie=>de(ie.id)>0);if(J.length===0){o("Program Bulunamadı","İndirilecek sınıf programı bulunamadı");return}z(!0);try{let ie=null;for(let oe=0;oe<J.length;oe++){const me=J[oe],Ee=await Y(me);if(Ee){if(oe===0)ie=Ee;else if(ie){ie.addPage();const Ce=B.current[me.id];if(Ce){await new Promise(je=>setTimeout(je,100));const pe=await Pu(Ce,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),Z=pe.toDataURL("image/png",1),M=297,Le=pe.height*M/pe.width,$e=Le<210?(210-Le)/2:0;ie.addImage(Z,"PNG",0,$e,M,Le)}}}}if(ie){const oe=`Tum_Sinif_Programlari_${new Date().getFullYear()}.pdf`;ie.save(oe),A("Toplu PDF İndirildi",`${J.length} sınıf programı başarıyla indirildi`)}}catch{o("PDF Hatası","Toplu PDF oluşturulurken bir hata oluştu")}finally{z(!1)}},K=F(),X=K.filter(te=>de(te.id)>0),re=r.find(te=>te.id===b),ee=re?de(re.id)>0:!1;return a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(us,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıf Ders Programları"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Sınıf bazında ders programlarını görüntüleyin"})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[X.length>0&&a.jsx(He,{onClick:ae,icon:xr,variant:"danger",disabled:q,className:"w-full sm:w-auto",children:q?"Siliniyor...":`Tüm Programları Sil (${X.length})`}),a.jsx(He,{onClick:Q,icon:Qo,variant:"primary",disabled:X.length===0||L,className:"w-full sm:w-auto",children:L?"PDF Oluşturuluyor...":`Tüm Programları İndir (${X.length})`})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Seviye Filtresi",value:_,onChange:w,options:N}),a.jsx(Xt,{label:"Sınıf Seçin",value:b,onChange:te=>{console.log("🔄 Sınıf değiştirildi:",{oldClass:b,newClass:te}),E(te),te&&r.find(ie=>ie.id===te)&&de(te)>0&&setTimeout(()=>{var ie;(ie=k.current)==null||ie.scrollIntoView({behavior:"smooth",block:"start"})},100)},options:K.map(te=>({value:te.id,label:`${te.name} (${te.level})`}))})]})}),a.jsxs("div",{className:"responsive-grid gap-responsive mb-6",children:[a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(us,{className:"w-8 h-8 text-emerald-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Programlı Sınıf"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:X.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mr,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Öğretmen"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"mobile-card mobile-spacing",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),re&&a.jsxs("div",{ref:k,className:"mobile-card overflow-hidden mb-6 scroll-mt-6",children:[a.jsx("div",{className:"p-4 bg-emerald-50 border-b border-emerald-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-emerald-900 text-lg",children:["📚 ",re.name," Sınıfı Ders Programı"]}),a.jsxs("p",{className:"text-emerald-700 mt-1",children:[a.jsx("span",{className:"font-medium",children:re.level})," •",a.jsxs("span",{className:"ml-2",children:["Haftalık toplam: ",a.jsxs("strong",{children:[de(re.id)," ders saati"]})]})]})]}),ee&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(He,{onClick:()=>ce(re),icon:Qo,variant:"primary",size:"sm",disabled:v,children:v?"PDF Oluşturuluyor...":"PDF İndir"})})]})}),ee?a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-emerald-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-emerald-800 uppercase tracking-wider",children:"Ders Saati"}),Dt.map(te=>a.jsxs("th",{className:"px-4 py-3 text-center text-xs font-bold text-emerald-800 uppercase tracking-wider",children:[a.jsx("div",{className:"font-bold",children:te}),a.jsx("div",{className:"text-xs mt-1 font-normal",children:a.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:[ve(re.id,te)," ders"]})})]},te))]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.jsxs("tr",{className:"bg-blue-50",children:[a.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-blue-100 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full font-bold",children:"H"}),a.jsx("div",{className:"text-xs mt-1",children:"Hazırlık"})]}),Dt.map(te=>{const J=we("prep",re.level);return a.jsx("td",{className:"px-3 py-3",children:a.jsx("div",{className:"text-center p-3 bg-blue-50 rounded-lg border-2 border-blue-200 hover:bg-blue-100 transition-colors",children:a.jsx("div",{className:"font-bold text-blue-900 text-sm",children:(J==null?void 0:J.title)||"Hazırlık"})})},`${te}-prep`)})]}),Bn.map((te,J)=>{const ie=j(re.id),oe=(re.level==="İlkokul"||re.level==="Anaokulu")&&te==="5"||re.level==="Ortaokul"&&te==="6",me=te==="8";return a.jsxs(ui.Fragment,{children:[a.jsxs("tr",{className:oe?"bg-green-50":J%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:`px-4 py-4 font-bold text-gray-900 text-center ${oe?"bg-green-100":"bg-emerald-50"}`,children:oe?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-green-600 text-white rounded-full font-bold",children:"Y"}),a.jsx("div",{className:"text-xs mt-1",children:"Yemek"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-emerald-600 text-white rounded-full font-bold",children:te}),a.jsxs("div",{className:"text-xs mt-1",children:[te,". Ders"]})]})}),Dt.map(Ee=>{if(oe)return we(te,re.level),a.jsx("td",{className:"px-3 py-3",children:a.jsx("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200 hover:bg-green-100 transition-colors",children:a.jsx("div",{className:"font-bold text-green-900 text-sm",children:"Yemek"})})},`${Ee}-${te}`);const Ce=ie[Ee][te];return a.jsx("td",{className:"px-3 py-3",children:Ce?a.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg border-2 border-emerald-200 hover:bg-emerald-100 transition-colors",children:[a.jsx("div",{className:"font-bold text-emerald-900 text-sm",children:Ce.teacher.name.length>20?Ce.teacher.name.substring(0,20)+"...":Ce.teacher.name}),a.jsx("div",{className:"text-emerald-700 text-xs mt-1 font-medium",children:Ce.teacher.branch})]}):a.jsx("div",{className:"text-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:a.jsx("div",{className:"text-gray-400 text-xs font-medium",children:"Boş Ders"})})},`${Ee}-${te}`)})]}),me&&a.jsxs("tr",{className:"bg-yellow-50",children:[a.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-yellow-100 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-yellow-600 text-white rounded-full font-bold",children:"İ"}),a.jsx("div",{className:"text-xs mt-1",children:"İkindi Kahvaltısı"})]}),Dt.map(Ee=>(we("afternoon-breakfast",re.level),a.jsx("td",{className:"px-3 py-3",children:a.jsx("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border-2 border-yellow-200 hover:bg-yellow-100 transition-colors",children:a.jsx("div",{className:"font-bold text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${Ee}-afternoon-breakfast`)))]})]},te)})]})]})}):a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Vs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Program Bulunamadı"}),a.jsx("p",{className:"text-gray-500",children:"Bu sınıf için henüz program oluşturulmamış"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'Program oluşturmak için "Program Oluştur" sayfasını kullanın'})]}),ee&&a.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:a.jsx("div",{ref:te=>B.current[re.id]=te,"data-class-id":re.id,style:{transform:"none",position:"static"},children:a.jsx(kC,{classItem:re,schedule:j(re.id),teachers:e,subjects:n})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx(bR,{className:"w-6 h-6 mr-2 text-emerald-600"}),"Tüm Sınıf Programları"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[K.length," sınıf • ",X.length," programlı"]})]}),K.map(te=>{const J=de(te.id),ie=b===te.id;return a.jsxs("div",{className:`mobile-card mobile-spacing hover:shadow-md transition-shadow ${ie?"ring-2 ring-emerald-500 shadow-lg":""}`,children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${J>0?"bg-emerald-500":"bg-gray-300"}`}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:te.name}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${te.level==="Anaokulu"?"bg-green-100 text-green-800":te.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:te.level}),a.jsx("span",{className:"text-sm text-gray-600",children:J>0?`${J} ders saati`:"Program yok"})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:J>0?a.jsxs(a.Fragment,{children:[a.jsx(He,{onClick:()=>H(te.id),variant:ie?"primary":"secondary",size:"sm",children:ie?"Görüntüleniyor":"Görüntüle"}),a.jsx(He,{onClick:()=>ce(te),icon:Qo,variant:"primary",size:"sm",disabled:v,children:"PDF İndir"})]}):a.jsx("span",{className:"inline-flex px-3 py-2 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})})]})}),J>0&&a.jsx(a.Fragment,{children:a.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:a.jsx("div",{ref:oe=>B.current[te.id]=oe,"data-class-id":te.id,style:{transform:"none",position:"static"},children:a.jsx(kC,{classItem:te,schedule:j(te.id),teachers:e,subjects:n})})})})]},te.id)})]}),K.length===0&&a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(us,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Seçilen filtrelere uygun sınıf bulunmuyor"}),a.jsx(He,{onClick:()=>w(""),variant:"secondary",children:"Filtreleri Temizle"})]}),a.jsx(ga,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},_V=()=>{const{data:t}=St("teachers"),{data:e}=St("classes"),{data:r}=St("subjects"),{data:n}=St("schedules"),[s,i]=le.useState(""),[A,o]=le.useState(!1),[l,c]=le.useState(!1),h=le.useRef(null),f=[...t].sort((_,w)=>_.name.localeCompare(w.name,"tr")),p=async()=>{if(!s||!h.current)return;const _=t.find(v=>v.id===s),w=n.find(v=>v.teacherId===s);if(!_||!w){alert("Seçilen öğretmen için program bulunamadı");return}c(!0);try{const v=A;v||(o(!0),await new Promise(N=>setTimeout(N,200)));const I=await Pu(h.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:h.current.scrollWidth,height:h.current.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),L=new Ct({orientation:"landscape",unit:"mm",format:"a4"}),z=I.toDataURL("image/png",1),q=297,U=I.height*q/I.width,B=U<210?(210-U)/2:0;L.addImage(z,"PNG",0,B,q,U);const P=`${_.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;L.save(P),v||o(!1)}catch(v){console.error("PDF oluşturma hatası:",v),alert("PDF oluşturulurken bir hata oluştu")}finally{c(!1)}},g=f.map(_=>({value:_.id,label:`${_.name} (${_.branch} - ${_.level})`})),b=t.find(_=>_.id===s),E=n.find(_=>_.teacherId===s);return a.jsxs("div",{className:"container-mobile",children:[a.jsx("div",{className:"header-mobile",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fo,{className:"w-8 h-8 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"PDF Çıktı"}),a.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Öğretmen ders programlarını PDF olarak indirin"})]})]})}),a.jsxs("div",{className:"mobile-card mobile-spacing",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-center",children:[a.jsx("div",{className:"lg:col-span-4",children:a.jsx(Xt,{label:"Öğretmen Seçin",value:s,onChange:i,options:g,required:!0})}),a.jsx("div",{className:"lg:col-span-4 flex items-end justify-center",children:b&&E&&a.jsx(He,{onClick:()=>o(!A),icon:Zg,variant:"secondary",className:"w-full",children:A?"Önizlemeyi Gizle":"Önizleme Göster"})}),a.jsx("div",{className:"lg:col-span-4 flex items-end justify-end",children:b&&E&&a.jsx(He,{onClick:p,icon:Qo,variant:"primary",disabled:l,className:"w-full",children:l?"PDF Oluşturuluyor...":"PDF İndir"})})]}),a.jsxs("div",{className:"mt-6",children:[b&&!E&&a.jsx("div",{className:"ide-notification ide-notification-warning",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(fo,{className:"w-5 h-5 text-ide-accent-600 mt-0.5"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-ide-accent-800",children:"Program Bulunamadı"}),a.jsxs("p",{className:"text-sm text-ide-accent-700 mt-1",children:[a.jsx("strong",{children:b.name}),' için henüz program oluşturulmamış. Önce "Program Oluştur\\" bölümünden program oluşturun, sonra PDF olarak indirebilirsiniz.']})]})]})}),b&&E&&a.jsx("div",{className:"ide-notification ide-notification-success",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(fo,{className:"w-5 h-5 text-ide-secondary-600 mt-0.5"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-ide-secondary-800",children:"Program Hazır"}),a.jsxs("p",{className:"text-sm text-ide-secondary-700 mt-1",children:[a.jsx("strong",{children:b.name})," için program hazır. Önizleme gösterip PDF olarak indirebilirsiniz."]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4 text-xs text-ide-secondary-600",children:[a.jsxs("div",{children:[a.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),a.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),a.jsx("p",{children:"✓ Yüksek çözünürlük"}),a.jsx("p",{children:"✓ Renkli görünüm"})]}),a.jsxs("div",{children:[a.jsx("p",{children:"✓ Profesyonel tasarım"}),a.jsx("p",{children:"✓ Yazdırma dostu"}),a.jsx("p",{children:"✓ Okul logosu"}),a.jsx("p",{children:"✓ İmza alanları"})]})]})]})]})})]})]}),!b&&a.jsxs("div",{className:"text-center py-12 mobile-card mt-6",children:[a.jsx(fo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"PDF İndirmek İçin Öğretmen Seçin"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Bir öğretmen seçerek ders programını PDF olarak indirebilirsiniz"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-400 max-w-md mx-auto",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),a.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),a.jsx("p",{children:"✓ Yüksek çözünürlük"}),a.jsx("p",{children:"✓ Renkli görünüm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{children:"✓ Profesyonel tasarım"}),a.jsx("p",{children:"✓ Yazdırma dostu"}),a.jsx("p",{children:"✓ Okul logosu"}),a.jsx("p",{children:"✓ İmza alanları"})]})]})]}),b&&E&&a.jsx("div",{className:`mt-8 ${A?"block":"hidden"}`,children:a.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Program Önizlemesi"}),a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsx("div",{ref:h,children:a.jsx(eF,{teacher:b,schedule:E,subjects:r,classes:e})})})]})})]})},IV=()=>{const t=Mu(),{data:e,remove:r,add:n}=St("teachers"),{data:s,remove:i}=St("classes"),{data:A,remove:o,add:l}=St("subjects"),{data:c,remove:h}=St("schedules"),{data:f,remove:p}=St("schedule-templates"),{data:g,remove:b}=St("classrooms"),{success:E,error:_,warning:w,info:v}=mi(),{confirmation:I,showConfirmation:L,hideConfirmation:z,confirmDelete:q}=pa(),[U,B]=le.useState(!1),[k,P]=le.useState(!1),[N,F]=le.useState(!1),[j,se]=le.useState(!1);le.useState(!1);const[we,de]=le.useState(!1),[ve,H]=le.useState(!1),[ae,Y]=le.useState(!1),[ce,Q]=le.useState(!1),[K,X]=le.useState([]),[re,ee]=le.useState([]),[te,J]=le.useState("İlkokul"),[ie,oe]=le.useState("İlkokul"),[me,Ee]=le.useState("4"),[Ce,pe]=le.useState(!1),[Z,M]=le.useState(!1),Le=le.useRef(null),$e=le.useRef(null),je=()=>{if(e.length===0){w("⚠️ Silinecek Öğretmen Yok","Sistemde silinecek öğretmen bulunamadı");return}q(`${e.length} Öğretmen`,async()=>{B(!0);try{let Se=0;for(const Qe of e)try{await r(Qe.id),Se++}catch(nt){console.error(`❌ Öğretmen silinemedi: ${Qe.name}`,nt)}Se>0?E("🗑️ Öğretmenler Silindi",`${Se} öğretmen başarıyla silindi`):_("❌ Silme Hatası","Hiçbir öğretmen silinemedi")}catch(Se){console.error("❌ Toplu silme hatası:",Se),_("❌ Silme Hatası","Öğretmenler silinirken bir hata oluştu")}finally{B(!1)}})},qe=()=>{if(s.length===0){w("⚠️ Silinecek Sınıf Yok","Sistemde silinecek sınıf bulunamadı");return}q(`${s.length} Sınıf`,async()=>{P(!0);try{let Se=0;for(const Qe of s)try{await i(Qe.id),Se++}catch(nt){console.error(`❌ Sınıf silinemedi: ${Qe.name}`,nt)}Se>0?E("🗑️ Sınıflar Silindi",`${Se} sınıf başarıyla silindi`):_("❌ Silme Hatası","Hiçbir sınıf silinemedi")}catch(Se){console.error("❌ Toplu silme hatası:",Se),_("❌ Silme Hatası","Sınıflar silinirken bir hata oluştu")}finally{P(!1)}})},Ze=()=>{if(A.length===0){w("⚠️ Silinecek Ders Yok","Sistemde silinecek ders bulunamadı");return}q(`${A.length} Ders`,async()=>{F(!0);try{let Se=0;for(const Qe of A)try{await o(Qe.id),Se++}catch(nt){console.error(`❌ Ders silinemedi: ${Qe.name}`,nt)}Se>0?E("🗑️ Dersler Silindi",`${Se} ders başarıyla silindi`):_("❌ Silme Hatası","Hiçbir ders silinemedi")}catch(Se){console.error("❌ Toplu silme hatası:",Se),_("❌ Silme Hatası","Dersler silinirken bir hata oluştu")}finally{F(!1)}})},Je=()=>{if(c.length===0){w("⚠️ Silinecek Program Yok","Sistemde silinecek program bulunamadı");return}q(`${c.length} Program`,async()=>{se(!0);try{let Se=0;for(const Qe of c)try{await h(Qe.id),Se++}catch(nt){console.error(`❌ Program silinemedi: ${Qe.id}`,nt)}Se>0?E("🗑️ Programlar Silindi",`${Se} program başarıyla silindi`):_("❌ Silme Hatası","Hiçbir program silinemedi")}catch(Se){console.error("❌ Toplu silme hatası:",Se),_("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{se(!1)}})},dt=()=>{if(g.length===0){w("⚠️ Silinecek Derslik Yok","Sistemde silinecek derslik bulunamadı");return}q(`${g.length} Derslik`,async()=>{de(!0);try{let Se=0;for(const Qe of g)try{await b(Qe.id),Se++}catch(nt){console.error(`❌ Derslik silinemedi: ${Qe.name}`,nt)}Se>0?E("🗑️ Derslikler Silindi",`${Se} derslik başarıyla silindi`):_("❌ Silme Hatası","Hiçbir derslik silinemedi")}catch(Se){console.error("❌ Toplu silme hatası:",Se),_("❌ Silme Hatası","Derslikler silinirken bir hata oluştu")}finally{de(!1)}})},wt=()=>{const Se=e.length+s.length+A.length+c.length+f.length+g.length;if(Se===0){w("⚠️ Silinecek Veri Yok","Sistemde silinecek veri bulunamadı");return}q(`Tüm Veriler (${Se} öğe)`,async()=>{H(!0);try{let Qe=0;for(const nt of c)try{await h(nt.id),Qe++}catch(be){console.error(`❌ Program silinemedi: ${nt.id}`,be)}for(const nt of f)try{await p(nt.id),Qe++}catch(be){console.error(`❌ Şablon silinemedi: ${nt.name}`,be)}for(const nt of e)try{await r(nt.id),Qe++}catch(be){console.error(`❌ Öğretmen silinemedi: ${nt.name}`,be)}for(const nt of s)try{await i(nt.id),Qe++}catch(be){console.error(`❌ Sınıf silinemedi: ${nt.name}`,be)}for(const nt of A)try{await o(nt.id),Qe++}catch(be){console.error(`❌ Ders silinemedi: ${nt.name}`,be)}for(const nt of g)try{await b(nt.id),Qe++}catch(be){console.error(`❌ Derslik silinemedi: ${nt.name}`,be)}Qe>0?E("🗑️ Tüm Veriler Silindi",`${Qe} öğe başarıyla silindi`):_("❌ Silme Hatası","Hiçbir veri silinemedi")}catch(Qe){console.error("❌ Toplu silme hatası:",Qe),_("❌ Silme Hatası","Veriler silinirken bir hata oluştu")}finally{H(!1)}})},Et=Se=>{var be;const Qe=(be=Se.target.files)==null?void 0:be[0];if(!Qe)return;const nt=new FileReader;nt.onload=Pe=>{var Fe;const ke=(Fe=Pe.target)==null?void 0:Fe.result;if(!ke){_("❌ Dosya Hatası","Dosya içeriği okunamadı");return}try{const Wt=ke.split(`
`).filter(pt=>pt.trim()).slice(1).map(pt=>{const Mt=pt.split(/[,;]/).map(Ot=>Ot.trim().replace(/^"|"$/g,"")),tr=Mt[0]||"",xt=Mt[1]||"",We=Mt[2]||"";let tt=!0,bt="";tr?xt?We&&!Ks.includes(We)&&(tt=!1,bt="Geçersiz eğitim seviyesi"):(tt=!1,bt="Branş boş olamaz"):(tt=!1,bt="Ad Soyad boş olamaz");const qt=e.some(Ot=>Ot.name.toLowerCase()===tr.toLowerCase()&&Ot.branch.toLowerCase()===xt.toLowerCase());return{name:tr,branch:xt,level:We||te,isValid:tt,error:bt,exists:qt}}).filter(pt=>pt.name);X(Wt),Y(!0),Le.current&&(Le.current.value="")}catch(Xe){console.error("CSV parsing error:",Xe),_("❌ CSV Hatası","Dosya işlenirken bir hata oluştu")}},nt.readAsText(Qe)},mt=Se=>{var be;const Qe=(be=Se.target.files)==null?void 0:be[0];if(!Qe)return;const nt=new FileReader;nt.onload=Pe=>{var Fe;const ke=(Fe=Pe.target)==null?void 0:Fe.result;if(!ke){_("❌ Dosya Hatası","Dosya içeriği okunamadı");return}try{const Wt=ke.split(`
`).filter(pt=>pt.trim()).slice(1).map(pt=>{const Mt=pt.split(/[,;]/).map(ar=>ar.trim().replace(/^"|"$/g,"")),tr=Mt[0]||"",xt=Mt[1]||tr,We=Mt[2]||"",tt=parseInt(Mt[3]||me);let bt=!0,qt="";tr?xt?We&&!Ks.includes(We)?(bt=!1,qt="Geçersiz eğitim seviyesi"):(isNaN(tt)||tt<1||tt>30)&&(bt=!1,qt="Ders saati 1-30 arasında olmalıdır"):(bt=!1,qt="Branş boş olamaz"):(bt=!1,qt="Ders adı boş olamaz");const Ot=A.some(ar=>ar.name.toLowerCase()===tr.toLowerCase()&&ar.level===(We||ie));return{name:tr,branch:xt,level:We||ie,weeklyHours:isNaN(tt)?parseInt(me):tt,isValid:bt,error:qt,exists:Ot}}).filter(pt=>pt.name);ee(Wt),Q(!0),$e.current&&($e.current.value="")}catch(Xe){console.error("CSV parsing error:",Xe),_("❌ CSV Hatası","Dosya işlenirken bir hata oluştu")}},nt.readAsText(Qe)},vt=async()=>{pe(!0);try{const Se=K.filter(nt=>nt.isValid&&!nt.exists);if(Se.length===0){w("⚠️ İçe Aktarılacak Veri Yok","Geçerli ve yeni öğretmen bulunamadı"),pe(!1);return}let Qe=0;for(const nt of Se)try{await n({name:nt.name,branch:nt.branch,level:nt.level}),Qe++}catch(be){console.error(`❌ Öğretmen eklenemedi: ${nt.name}`,be)}Qe>0?(E("✅ İçe Aktarma Başarılı",`${Qe} öğretmen başarıyla içe aktarıldı`),Y(!1)):_("❌ İçe Aktarma Hatası","Hiçbir öğretmen içe aktarılamadı")}catch(Se){console.error("❌ İçe aktarma hatası:",Se),_("❌ İçe Aktarma Hatası","Öğretmenler içe aktarılırken bir hata oluştu")}finally{pe(!1)}},Rt=async()=>{M(!0);try{const Se=re.filter(nt=>nt.isValid&&!nt.exists);if(Se.length===0){w("⚠️ İçe Aktarılacak Veri Yok","Geçerli ve yeni ders bulunamadı"),M(!1);return}let Qe=0;for(const nt of Se)try{await l({name:nt.name,branch:nt.branch,level:nt.level,weeklyHours:nt.weeklyHours}),Qe++}catch(be){console.error(`❌ Ders eklenemedi: ${nt.name}`,be)}Qe>0?(E("✅ İçe Aktarma Başarılı",`${Qe} ders başarıyla içe aktarıldı`),Q(!1)):_("❌ İçe Aktarma Hatası","Hiçbir ders içe aktarılamadı")}catch(Se){console.error("❌ İçe aktarma hatası:",Se),_("❌ İçe Aktarma Hatası","Dersler içe aktarılırken bir hata oluştu")}finally{M(!1)}},gt=e.length+s.length+A.length+c.length+f.length+g.length;return[...f].sort((Se,Qe)=>new Date(Qe.updatedAt).getTime()-new Date(Se.updatedAt).getTime()),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ng,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Veri Yönetimi"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Sistem verilerini yönetin ve temizleyin"})]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx(He,{onClick:()=>t("/"),variant:"secondary",children:"Ana Sayfaya Dön"})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(wN,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Veri İstatistikleri"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam ",gt," veri öğesi"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Mr,{className:"w-8 h-8 text-blue-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-blue-900 mb-1",children:"Öğretmenler"}),a.jsx("span",{className:"text-3xl font-extrabold text-blue-700 mb-1",children:e.length}),a.jsx("p",{className:"text-xs text-blue-700",children:"Öğretmen kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(He,{onClick:()=>t("/teachers"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),e.length>0&&a.jsx(He,{onClick:je,icon:xr,variant:"danger",size:"md",disabled:U,className:"w-full",children:U?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(us,{className:"w-8 h-8 text-emerald-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-emerald-900 mb-1",children:"Sınıflar"}),a.jsx("span",{className:"text-3xl font-extrabold text-emerald-700 mb-1",children:s.length}),a.jsx("p",{className:"text-xs text-emerald-700",children:"Sınıf kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(He,{onClick:()=>t("/classes"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),s.length>0&&a.jsx(He,{onClick:qe,icon:xr,variant:"danger",size:"md",disabled:k,className:"w-full",children:k?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 border border-indigo-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-indigo-900 mb-1",children:"Dersler"}),a.jsx("span",{className:"text-3xl font-extrabold text-indigo-700 mb-1",children:A.length}),a.jsx("p",{className:"text-xs text-indigo-700",children:"Ders kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(He,{onClick:()=>t("/subjects"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),A.length>0&&a.jsx(He,{onClick:Ze,icon:xr,variant:"danger",size:"md",disabled:N,className:"w-full",children:N?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-teal-50 rounded-xl p-6 border border-teal-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Kh,{className:"w-8 h-8 text-teal-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-teal-900 mb-1",children:"Derslikler"}),a.jsx("span",{className:"text-3xl font-extrabold text-teal-700 mb-1",children:g.length}),a.jsx("p",{className:"text-xs text-teal-700",children:"Derslik kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-3 mt-auto pt-2",children:[a.jsx(He,{onClick:()=>t("/classrooms"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),g.length>0&&a.jsx(He,{onClick:dt,icon:xr,variant:"danger",size:"md",disabled:we,className:"w-full",children:we?"Siliniyor...":"Tümünü Sil"})]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx(Vs,{className:"w-8 h-8 text-purple-600 mb-2"}),a.jsx("h3",{className:"text-base font-semibold text-purple-900 mb-1",children:"Programlar"}),a.jsx("span",{className:"text-3xl font-extrabold text-purple-700 mb-1",children:c.length}),a.jsx("p",{className:"text-xs text-purple-700",children:"Program kayıtları"})]}),a.jsxs("div",{className:"flex flex-col w-full gap-2 mt-auto",children:[a.jsx(He,{onClick:()=>t("/all-schedules"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"}),c.length>0&&a.jsx(He,{onClick:Je,icon:xr,variant:"danger",size:"md",disabled:j,className:"w-full",children:j?"Siliniyor...":"Tümünü Sil"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fo,{className:"w-6 h-6 text-green-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"CSV İçe Aktarma"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-5 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Mr,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-medium text-blue-900",children:"Öğretmen CSV İçe Aktarma"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:`Excel'den dışa aktardığınız öğretmen verilerini CSV formatında içe aktarın. Format: "Adı Soyadı", "Branşı", "Eğitim Seviyesi"`}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"file",accept:".csv",onChange:Et,ref:Le,className:"hidden",id:"teacher-csv-upload"}),a.jsxs("label",{htmlFor:"teacher-csv-upload",className:"cursor-pointer bg-white hover:bg-blue-50 text-blue-600 font-medium py-2 px-4 border border-blue-300 rounded-lg inline-flex items-center transition-colors",children:[a.jsx(om,{className:"w-4 h-4 mr-2"}),"CSV Dosyası Seç"]})]})]}),a.jsxs("div",{className:"bg-indigo-50 rounded-lg p-5 border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Vi,{className:"w-5 h-5 text-indigo-600 mr-2"}),a.jsx("h3",{className:"font-medium text-indigo-900",children:"Ders CSV İçe Aktarma"})]}),a.jsx("p",{className:"text-sm text-indigo-700 mb-4",children:`Excel'den dışa aktardığınız ders verilerini CSV formatında içe aktarın. Format: "Ders Adı", "Branş", "Eğitim Seviyesi", "Haftalık Saat"`}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"file",accept:".csv",onChange:mt,ref:$e,className:"hidden",id:"subject-csv-upload"}),a.jsxs("label",{htmlFor:"subject-csv-upload",className:"cursor-pointer bg-white hover:bg-indigo-50 text-indigo-600 font-medium py-2 px-4 border border-indigo-300 rounded-lg inline-flex items-center transition-colors",children:[a.jsx(om,{className:"w-4 h-4 mr-2"}),"CSV Dosyası Seç"]})]})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(jo,{className:"w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsx("h4",{className:"font-medium mb-2",children:"CSV İçe Aktarma Rehberi"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Öğretmen CSV Formatı:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsxs("li",{children:["Sütun başlıkları: ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Adı Soyadı"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Branşı"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Eğitim Seviyesi"})]}),a.jsx("li",{children:"Eğitim seviyesi: Anaokulu, İlkokul, Ortaokul"}),a.jsx("li",{children:`Excel'den "CSV UTF-8" formatında kaydedin`}),a.jsx("li",{children:"Türkçe karakter desteği mevcuttur"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Ders CSV Formatı:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[a.jsxs("li",{children:["Sütun başlıkları: ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Ders"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Branş"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Eğitim Seviyesi"}),", ",a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"Ders Saati"})]}),a.jsx("li",{children:"Eğitim seviyesi: Anaokulu, İlkokul, Ortaokul"}),a.jsx("li",{children:"Ders saati: 1-30 arası sayı"}),a.jsx("li",{children:`Excel'den "CSV UTF-8" formatında kaydedin`})]})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ng,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Toplu Veri Yönetimi"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Qo,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-medium text-blue-900",children:"Veri Yedekleme"})]}),a.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Tüm sistem verilerinizi yedekleyin ve dışa aktarın. Bu işlem tüm öğretmen, sınıf, ders ve program verilerinizi içerir."}),a.jsx(He,{variant:"primary",icon:Qo,className:"w-full",disabled:!0,children:"Tüm Verileri Yedekle (Yakında)"})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(om,{className:"w-5 h-5 text-green-600 mr-2"}),a.jsx("h3",{className:"font-medium text-green-900",children:"Veri Geri Yükleme"})]}),a.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Önceden yedeklediğiniz verileri sisteme geri yükleyin. Bu işlem mevcut verilerinizin üzerine yazacaktır."}),a.jsx(He,{variant:"primary",icon:om,className:"w-full",disabled:!0,children:"Verileri Geri Yükle (Yakında)"})]})]})]}),a.jsxs("div",{className:"bg-red-50 rounded-lg shadow-sm border border-red-200 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Ms,{className:"w-6 h-6 text-red-600 mr-2"}),a.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Tehlikeli Bölge"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-white rounded-lg border border-red-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-900",children:"Tüm Verileri Sil"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Bu işlem tüm öğretmen, sınıf, ders, program ve şablon verilerinizi kalıcı olarak silecektir. Bu işlem geri alınamaz!"})]}),a.jsx(He,{onClick:wt,icon:xr,variant:"danger",disabled:ve||gt===0,children:ve?"Siliniyor...":`Tüm Verileri Sil (${gt})`})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[a.jsx(He,{onClick:je,icon:xr,variant:"danger",disabled:U||e.length===0,className:"w-full",children:U?"Siliniyor...":`Öğretmenler (${e.length})`}),a.jsx(He,{onClick:qe,icon:xr,variant:"danger",disabled:k||s.length===0,className:"w-full",children:k?"Siliniyor...":`Sınıflar (${s.length})`}),a.jsx(He,{onClick:Ze,icon:xr,variant:"danger",disabled:N||A.length===0,className:"w-full",children:N?"Siliniyor...":`Dersler (${A.length})`}),a.jsx(He,{onClick:Je,icon:xr,variant:"danger",disabled:j||c.length===0,className:"w-full",children:j?"Siliniyor...":`Programlar (${c.length})`})]})]})]})]}),a.jsx(fi,{isOpen:ae,onClose:()=>Y(!1),title:"Öğretmen CSV İçe Aktarma",size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(jo,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"CSV İçe Aktarma Bilgisi"}),a.jsxs("p",{className:"text-sm text-blue-700",children:[K.length," öğretmen verisi bulundu.",K.filter(Se=>Se.isValid&&!Se.exists).length," yeni öğretmen içe aktarılacak.",K.filter(Se=>Se.exists).length>0&&` ${K.filter(Se=>Se.exists).length} öğretmen zaten mevcut.`,K.filter(Se=>!Se.isValid).length>0&&` ${K.filter(Se=>!Se.isValid).length} geçersiz veri.`]})]})]})}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adı Soyadı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branşı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eğitim Seviyesi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Not"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map((Se,Qe)=>a.jsxs("tr",{className:Se.exists?"bg-yellow-50":Se.isValid?"hover:bg-gray-50":"bg-red-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:Se.exists?a.jsx("div",{className:"text-yellow-500",children:a.jsx(Ms,{size:16})}):Se.isValid?a.jsx("div",{className:"text-green-500",children:a.jsx(Wl,{size:16})}):a.jsx("div",{className:"text-red-500",children:a.jsx(zh,{size:16})})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Se.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Se.level==="Anaokulu"?"bg-green-100 text-green-800":Se.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:Se.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Se.exists?"Zaten mevcut":Se.isValid?"İçe aktarılacak":Se.error})})]},Qe))})]})})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(He,{type:"button",onClick:()=>Y(!1),variant:"secondary",children:"İptal"}),a.jsx(He,{type:"button",onClick:vt,variant:"primary",disabled:Ce||K.filter(Se=>Se.isValid&&!Se.exists).length===0,children:Ce?"İçe Aktarılıyor...":`${K.filter(Se=>Se.isValid&&!Se.exists).length} Öğretmeni İçe Aktar`})]})]})}),a.jsx(fi,{isOpen:ce,onClose:()=>Q(!1),title:"Ders CSV İçe Aktarma",size:"xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(jo,{className:"w-5 h-5 text-indigo-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-indigo-800 mb-1",children:"CSV İçe Aktarma Bilgisi"}),a.jsxs("p",{className:"text-sm text-indigo-700",children:[re.length," ders verisi bulundu.",re.filter(Se=>Se.isValid&&!Se.exists).length," yeni ders içe aktarılacak.",re.filter(Se=>Se.exists).length>0&&` ${re.filter(Se=>Se.exists).length} ders zaten mevcut.`,re.filter(Se=>!Se.isValid).length>0&&` ${re.filter(Se=>!Se.isValid).length} geçersiz veri.`]})]})]})}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ders Adı"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eğitim Seviyesi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Haftalık Saat"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Not"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re.map((Se,Qe)=>a.jsxs("tr",{className:Se.exists?"bg-yellow-50":Se.isValid?"hover:bg-gray-50":"bg-red-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:Se.exists?a.jsx("div",{className:"text-yellow-500",children:a.jsx(Ms,{size:16})}):Se.isValid?a.jsx("div",{className:"text-green-500",children:a.jsx(Wl,{size:16})}):a.jsx("div",{className:"text-red-500",children:a.jsx(zh,{size:16})})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Se.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Se.level==="Anaokulu"?"bg-green-100 text-green-800":Se.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:Se.level})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[Se.weeklyHours," saat"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:Se.exists?"Zaten mevcut":Se.isValid?"İçe aktarılacak":Se.error})})]},Qe))})]})})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(He,{type:"button",onClick:()=>Q(!1),variant:"secondary",children:"İptal"}),a.jsx(He,{type:"button",onClick:Rt,variant:"primary",disabled:Z||re.filter(Se=>Se.isValid&&!Se.exists).length===0,children:Z?"İçe Aktarılıyor...":`${re.filter(Se=>Se.isValid&&!Se.exists).length} Dersi İçe Aktar`})]})]})}),a.jsx(ga,{isOpen:I.isOpen,onClose:z,onConfirm:I.onConfirm,title:I.title,message:I.message,type:I.type,confirmText:I.confirmText,cancelText:I.cancelText,confirmVariant:I.confirmVariant})]})},NV=()=>{const t=Mu(),{data:e,loading:r,add:n,update:s,remove:i}=St("classrooms"),{success:A,error:o,warning:l}=mi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=pa(),[g,b]=le.useState(!1),[E,_]=le.useState(null),[w,v]=le.useState(""),[I,L]=le.useState(""),[z,q]=le.useState(!1),[U,B]=le.useState({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),k=ee=>ee?ee.substring(0,2).toUpperCase():"",P=()=>{const ee=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return ee[Math.floor(Math.random()*ee.length)]},N=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],F=[{id:"projector",label:"Projeksiyon",icon:sg},{id:"computer",label:"Bilgisayar",icon:sg},{id:"wifi",label:"WiFi",icon:NN},{id:"sound",label:"Ses Sistemi",icon:IN}],j=[{value:"Ana Bina",label:"Ana Bina"},{value:"Ek Bina",label:"Ek Bina"},{value:"Spor Kompleksi",label:"Spor Kompleksi"},{value:"Laboratuvar Binası",label:"Laboratuvar Binası"}],we=e.filter(ee=>{const te=!w||ee.type===w,J=!I||ee.building===I;return te&&J}).sort((ee,te)=>ee.name.localeCompare(te.name,"tr")),de=()=>{if(e.length===0){l("⚠️ Silinecek Derslik Yok","Sistemde silinecek derslik bulunamadı");return}p(`${e.length} Derslik`,async()=>{q(!0);try{let ee=0;for(const te of e)try{await i(te.id),ee++}catch(J){console.error(`❌ Derslik silinemedi: ${te.name}`,J)}ee>0?(A("🗑️ Derslikler Silindi",`${ee} derslik başarıyla silindi`),v(""),L("")):o("❌ Silme Hatası","Hiçbir derslik silinemedi")}catch(ee){console.error("❌ Toplu silme hatası:",ee),o("❌ Silme Hatası","Derslikler silinirken bir hata oluştu")}finally{q(!1)}})},ve=async ee=>{ee.preventDefault();const te={name:U.name,type:U.type||"normal",capacity:parseInt(U.capacity)||30,floor:U.floor||"1",building:U.building||"Ana Bina",equipment:U.equipment,shortName:U.shortName||k(U.name),color:U.color||P()};try{E?(await s(E.id,te),A("✅ Güncellendi",`${U.name} başarıyla güncellendi`)):(await n(te),A("✅ Eklendi",`${U.name} başarıyla eklendi`)),H()}catch{o("❌ Hata","Derslik kaydedilirken bir hata oluştu")}},H=()=>{B({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),_(null),b(!1)},ae=ee=>{B({name:ee.name,shortName:ee.shortName||k(ee.name),type:ee.type,capacity:ee.capacity.toString(),floor:ee.floor,building:ee.building,equipment:ee.equipment||[],color:ee.color||P()}),_(ee),b(!0)},Y=async ee=>{const te=e.find(J=>J.id===ee);te&&p(te.name,async()=>{await i(ee),A("🗑️ Derslik Silindi",`${te.name} başarıyla silindi`)})},ce=(ee,te)=>{B(te?J=>({...J,equipment:[...J.equipment,ee]}):J=>({...J,equipment:J.equipment.filter(ie=>ie!==ee)}))};ui.useEffect(()=>{U.name&&!E&&B(ee=>({...ee,shortName:k(ee.name)}))},[U.name,E]),ui.useEffect(()=>{U.name&&!E&&!U.color&&B(ee=>({...ee,color:P()}))},[U.name,E]);const Q=ee=>{var te;return((te=N.find(J=>J.value===ee))==null?void 0:te.label)||ee},K=ee=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[ee]||"bg-gray-100 text-gray-800",X=[{value:"",label:"Tüm Türler"},...N],re=[{value:"",label:"Tüm Binalar"},...j];return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"mobile-loading",children:[a.jsx("div",{className:"mobile-loading-spinner"}),a.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):a.jsxs("div",{className:"container-mobile",children:[a.jsxs("div",{className:"header-mobile",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kh,{className:"w-8 h-8 text-teal-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Derslik Yönetimi"}),a.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," derslik kayıtlı (",we.length," gösteriliyor)"]})]})]}),a.jsxs("div",{className:"button-group-mobile",children:[a.jsx(He,{onClick:()=>t("/data-management"),variant:"secondary",className:"w-full sm:w-auto",children:"Veri Yönetimine Dön"}),e.length>0&&a.jsx(He,{onClick:de,icon:xr,variant:"danger",disabled:z,className:"w-full sm:w-auto",children:z?"Siliniyor...":`Tümünü Sil (${e.length})`}),a.jsx(He,{onClick:()=>b(!0),icon:Ur,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Derslik"})]})]}),a.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:a.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[a.jsx(Xt,{label:"Tür Filtresi",value:w,onChange:v,options:X}),a.jsx(Xt,{label:"Bina Filtresi",value:I,onChange:L,options:re})]})}),we.length===0?a.jsxs("div",{className:"text-center py-12 mobile-card",children:[a.jsx(Kh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz derslik eklenmemiş":"Filtrelere uygun derslik bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk dersliğinizi ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),a.jsx("div",{className:"button-group-mobile",children:e.length===0&&a.jsx(He,{onClick:()=>b(!0),icon:Ur,variant:"primary",children:"Derslik Ekle"})})]}):a.jsx("div",{className:"responsive-grid gap-responsive",children:we.map(ee=>a.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:ee.name}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${K(ee.type)}`,children:Q(ee.type)})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>ae(ee),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:a.jsx(bA,{size:16})}),a.jsx("button",{onClick:()=>Y(ee.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:a.jsx(xr,{size:16})})]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Kapasite:"}),a.jsxs("span",{className:"font-medium",children:[ee.capacity," kişi"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Konum:"}),a.jsxs("span",{className:"font-medium",children:[ee.building," - ",ee.floor,". Kat"]})]}),ee.equipment&&ee.equipment.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ee.equipment.map(te=>{const J=F.find(ie=>ie.id===te);return J?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[a.jsx(J.icon,{size:12,className:"mr-1"}),J.label]},te):null})})]})]})]},ee.id))}),a.jsx(fi,{isOpen:g,onClose:H,title:E?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:a.jsxs("form",{onSubmit:ve,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Zt,{label:"İsim",value:U.name,onChange:ee=>B({...U,name:ee}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),a.jsx(Zt,{label:"Kısaltma",value:U.shortName,onChange:ee=>B({...U,shortName:ee}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Derslik Türü",value:U.type,onChange:ee=>B({...U,type:ee}),options:N}),a.jsx(Zt,{label:"Kapasite",type:"number",value:U.capacity,onChange:ee=>B({...U,capacity:ee}),placeholder:"30",min:"1",max:"100"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xt,{label:"Bina",value:U.building,onChange:ee=>B({...U,building:ee}),options:j}),a.jsx(Zt,{label:"Kat",value:U.floor,onChange:ee=>B({...U,floor:ee}),placeholder:"1"})]}),a.jsx(Zt,{label:"Renk",value:U.color,onChange:ee=>B({...U,color:ee}),placeholder:"Otomatik atanır",disabled:!0}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Ekipmanlar"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:F.map(ee=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:U.equipment.includes(ee.id),onChange:te=>ce(ee.id,te.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx(ee.icon,{size:16,className:"text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:ee.label})]},ee.id))})]}),a.jsxs("div",{className:"button-group-mobile mt-6",children:[a.jsx(He,{type:"button",onClick:H,variant:"secondary",children:"İptal"}),a.jsx(He,{type:"submit",variant:"primary",children:E?"Güncelle":"Kaydet"})]})]})}),a.jsx(ga,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},SV=({id:t,type:e,title:r,message:n,duration:s=5e3,onClose:i})=>{const[A,o]=le.useState(!1),[l,c]=le.useState(!1),[h,f]=le.useState(100);le.useEffect(()=>{const I=setTimeout(()=>{o(!0)},e==="error"?50:100);return()=>clearTimeout(I)},[e]),le.useEffect(()=>{if(s>0){const v=setInterval(()=>{f(L=>{const z=L-100/(s/100);return z<=0?0:z})},100),I=setTimeout(()=>{p()},s);return()=>{clearInterval(v),clearTimeout(I)}}},[s]);const p=()=>{c(!0),setTimeout(()=>{i(t)},300)},g={success:Wl,error:zh,warning:Vh,info:jo},b={success:"bg-ide-secondary-50 border-ide-secondary-500 text-ide-secondary-800",error:"bg-ide-accent-50 border-ide-accent-500 text-ide-accent-800",warning:"bg-ide-orange-50 border-ide-orange-500 text-ide-orange-800",info:"bg-ide-primary-50 border-ide-primary-500 text-ide-primary-800"},E={success:"text-ide-secondary-600",error:"text-ide-accent-600",warning:"text-ide-orange-600",info:"text-ide-primary-600"},_={success:"bg-ide-secondary-500",error:"bg-ide-accent-600",warning:"bg-ide-orange-500",info:"bg-ide-primary-500"},w=g[e];return a.jsxs("div",{className:`
        w-full bg-white pointer-events-auto transform transition-all duration-500 ease-out relative overflow-hidden
        ${b[e]}
        ${A&&!l?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
        ${e==="error"?"ring-8 ring-ide-accent-400 ring-opacity-75 shadow-ide-2xl":"shadow-ide-xl"}
        hover:shadow-ide-2xl hover:scale-105 rounded-xl border-l-8
      `,style:{minHeight:e==="error"?"120px":"90px",maxWidth:"400px",zIndex:2147483647,position:"relative",...e==="error"&&{animation:"shake 0.6s ease-in-out, glow 2s ease-in-out infinite",boxShadow:"0 25px 50px -12px rgba(220, 38, 38, 0.5), 0 0 0 4px rgba(220, 38, 38, 0.2), 0 0 30px rgba(220, 38, 38, 0.4)"}},children:[e==="error"&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-ide-accent-100 via-ide-accent-50 to-ide-accent-100 animate-pulse opacity-60"}),a.jsx("div",{className:"p-6 relative z-10",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(w,{className:`h-8 w-8 ${E[e]} ${e==="error"?"animate-bounce":""}`})}),a.jsxs("div",{className:"ml-4 w-0 flex-1",children:[a.jsx("p",{className:`text-lg font-bold leading-tight ${e==="error"?"text-ide-accent-900":"text-ide-gray-900"}`,children:r}),n&&a.jsx("p",{className:`mt-3 text-sm leading-relaxed whitespace-pre-line ${e==="error"?"text-ide-accent-800 font-semibold":"text-ide-gray-700"}`,children:n})]}),a.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:a.jsx("button",{onClick:p,className:`rounded-full p-2 inline-flex transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="error"?"text-ide-accent-600 hover:text-ide-accent-800 hover:bg-ide-accent-200 focus:ring-ide-accent-500":"text-ide-gray-400 hover:text-ide-gray-600 hover:bg-ide-gray-100 focus:ring-ide-primary-500"}`,children:a.jsx(da,{className:"h-6 w-6"})})})]})}),s>0&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-ide-gray-200 overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ease-linear ${_[e]}`,style:{width:`${h}%`,transition:"width 100ms linear"}})}),e==="error"&&a.jsx("div",{className:"absolute -inset-2 bg-ide-accent-500 rounded-xl blur-sm opacity-20 animate-pulse -z-10"})]})},FV=({toasts:t,onClose:e})=>t.length===0?null:a.jsx("div",{className:"space-y-4 w-full",style:{pointerEvents:"auto",position:"relative",zIndex:2147483647},children:t.map((r,n)=>a.jsx("div",{style:{transform:`translateY(${n*10}px) scale(${1-n*.02})`,zIndex:2147483647-n,position:"relative",opacity:1-n*.1},children:a.jsx(SV,{...r,onClose:e})},r.id))});function kV(){const{user:t,loading:e}=V2(),{toasts:r,removeToast:n}=mi();return e?a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("div",{className:"text-gray-600 font-medium",children:"Yükleniyor..."})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{id:"toast-portal-root",style:{position:"fixed",top:"20px",right:"20px",zIndex:2147483647,pointerEvents:"none",width:"420px",maxWidth:"90vw"},children:a.jsx(FV,{toasts:r,onClose:n})}),t?a.jsx(uU,{children:a.jsx(nU,{children:a.jsxs(Ls,{path:"/",element:a.jsx(NR,{}),children:[a.jsx(Ls,{index:!0,element:a.jsx(FR,{})}),a.jsx(Ls,{path:"teachers",element:a.jsx(QR,{})}),a.jsx(Ls,{path:"classes",element:a.jsx(jR,{})}),a.jsx(Ls,{path:"subjects",element:a.jsx(LR,{})}),a.jsx(Ls,{path:"schedules",element:a.jsx(HR,{})}),a.jsx(Ls,{path:"schedule-wizard",element:a.jsx(ZR,{})}),a.jsx(Ls,{path:"class-schedules",element:a.jsx(EV,{})}),a.jsx(Ls,{path:"all-schedules",element:a.jsx(CV,{})}),a.jsx(Ls,{path:"pdf",element:a.jsx(_V,{})}),a.jsx(Ls,{path:"data-management",element:a.jsx(IV,{})}),a.jsx(Ls,{path:"classrooms",element:a.jsx(NV,{})})]})})}):a.jsx(SR,{})]})}KE(document.getElementById("root")).render(a.jsx(le.StrictMode,{children:a.jsx(kV,{})}));export{ur as _,TV as c,RF as g};
