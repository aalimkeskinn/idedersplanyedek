function MF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var OV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RC={exports:{}},gg={},OC={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=Symbol.for("react.element"),KF=Symbol.for("react.portal"),zF=Symbol.for("react.fragment"),GF=Symbol.for("react.strict_mode"),qF=Symbol.for("react.profiler"),WF=Symbol.for("react.provider"),$F=Symbol.for("react.context"),YF=Symbol.for("react.forward_ref"),JF=Symbol.for("react.suspense"),XF=Symbol.for("react.memo"),ZF=Symbol.for("react.lazy"),Lx=Symbol.iterator;function e3(t){return t===null||typeof t!="object"?null:(t=Lx&&t[Lx]||t["@@iterator"],typeof t=="function"?t:null)}var HC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MC=Object.assign,VC={};function Du(t,e,r){this.props=t,this.context=e,this.refs=VC,this.updater=r||HC}Du.prototype.isReactComponent={};Du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KC(){}KC.prototype=Du.prototype;function nw(t,e,r){this.props=t,this.context=e,this.refs=VC,this.updater=r||HC}var sw=nw.prototype=new KC;sw.constructor=nw;MC(sw,Du.prototype);sw.isPureReactComponent=!0;var jx=Array.isArray,zC=Object.prototype.hasOwnProperty,iw={current:null},GC={key:!0,ref:!0,__self:!0,__source:!0};function qC(t,e,r){var n,s={},i=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)zC.call(e,n)&&!GC.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Wh,type:t,key:i,ref:A,props:s,_owner:iw.current}}function t3(t,e){return{$$typeof:Wh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Aw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wh}function r3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Px=/\/+/g;function D0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?r3(""+t.key):e.toString(36)}function Dm(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Wh:case KF:A=!0}}if(A)return A=t,s=s(A),t=n===""?"."+D0(A,0):n,jx(s)?(r="",t!=null&&(r=t.replace(Px,"$&/")+"/"),Dm(s,e,r,"",function(c){return c})):s!=null&&(Aw(s)&&(s=t3(s,r+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(Px,"$&/")+"/")+t)),e.push(s)),1;if(A=0,n=n===""?".":n+":",jx(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+D0(i,a);A+=Dm(i,e,r,l,s)}else if(l=e3(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+D0(i,a++),A+=Dm(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Of(t,e,r){if(t==null)return t;var n=[],s=0;return Dm(t,n,"","",function(i){return e.call(r,i,s++)}),n}function n3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var us={current:null},Rm={transition:null},s3={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:Rm,ReactCurrentOwner:iw};function WC(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:Of,forEach:function(t,e,r){Of(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Of(t,function(){e++}),e},toArray:function(t){return Of(t,function(e){return e})||[]},only:function(t){if(!Aw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pt.Component=Du;Pt.Fragment=zF;Pt.Profiler=qF;Pt.PureComponent=nw;Pt.StrictMode=GF;Pt.Suspense=JF;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s3;Pt.act=WC;Pt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=MC({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=iw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zC.call(e,l)&&!GC.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Wh,type:t.type,key:s,ref:i,props:n,_owner:A}};Pt.createContext=function(t){return t={$$typeof:$F,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WF,_context:t},t.Consumer=t};Pt.createElement=qC;Pt.createFactory=function(t){var e=qC.bind(null,t);return e.type=t,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(t){return{$$typeof:YF,render:t}};Pt.isValidElement=Aw;Pt.lazy=function(t){return{$$typeof:ZF,_payload:{_status:-1,_result:t},_init:n3}};Pt.memo=function(t,e){return{$$typeof:XF,type:t,compare:e===void 0?null:e}};Pt.startTransition=function(t){var e=Rm.transition;Rm.transition={};try{t()}finally{Rm.transition=e}};Pt.unstable_act=WC;Pt.useCallback=function(t,e){return us.current.useCallback(t,e)};Pt.useContext=function(t){return us.current.useContext(t)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(t){return us.current.useDeferredValue(t)};Pt.useEffect=function(t,e){return us.current.useEffect(t,e)};Pt.useId=function(){return us.current.useId()};Pt.useImperativeHandle=function(t,e,r){return us.current.useImperativeHandle(t,e,r)};Pt.useInsertionEffect=function(t,e){return us.current.useInsertionEffect(t,e)};Pt.useLayoutEffect=function(t,e){return us.current.useLayoutEffect(t,e)};Pt.useMemo=function(t,e){return us.current.useMemo(t,e)};Pt.useReducer=function(t,e,r){return us.current.useReducer(t,e,r)};Pt.useRef=function(t){return us.current.useRef(t)};Pt.useState=function(t){return us.current.useState(t)};Pt.useSyncExternalStore=function(t,e,r){return us.current.useSyncExternalStore(t,e,r)};Pt.useTransition=function(){return us.current.useTransition()};Pt.version="18.3.1";OC.exports=Pt;var ce=OC.exports;const hi=VF(ce),i3=MF({__proto__:null,default:hi},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3=ce,a3=Symbol.for("react.element"),o3=Symbol.for("react.fragment"),l3=Object.prototype.hasOwnProperty,c3=A3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u3={key:!0,ref:!0,__self:!0,__source:!0};function $C(t,e,r){var n,s={},i=null,A=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)l3.call(e,n)&&!u3.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:a3,type:t,key:i,ref:A,props:s,_owner:c3.current}}gg.Fragment=o3;gg.jsx=$C;gg.jsxs=$C;RC.exports=gg;var o=RC.exports,YC={exports:{}},$s={},JC={exports:{}},XC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,le){var Z=V.length;V.push(le);e:for(;0<Z;){var ue=Z-1>>>1,L=V[ue];if(0<s(L,le))V[ue]=le,V[Z]=L,Z=ue;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var le=V[0],Z=V.pop();if(Z!==le){V[0]=Z;e:for(var ue=0,L=V.length,M=L>>>1;ue<M;){var $=2*(ue+1)-1,Y=V[$],X=$+1,ee=V[X];if(0>s(Y,Z))X<L&&0>s(ee,Y)?(V[ue]=ee,V[X]=Z,ue=X):(V[ue]=Y,V[$]=Z,ue=$);else if(X<L&&0>s(ee,Z))V[ue]=ee,V[X]=Z,ue=X;else break e}}return le}function s(V,le){var Z=V.sortIndex-le.sortIndex;return Z!==0?Z:V.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var l=[],c=[],h=1,f=null,p=3,g=!1,B=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var le=r(c);le!==null;){if(le.callback===null)n(c);else if(le.startTime<=V)n(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=r(c)}}function P(V){if(E=!1,_(V),!B)if(r(l)!==null)B=!0,ve(H);else{var le=r(c);le!==null&&ye(P,le.startTime-V)}}function H(V,le){B=!1,E&&(E=!1,w(b),b=-1),g=!0;var Z=p;try{for(_(le),f=r(l);f!==null&&(!(f.expirationTime>le)||V&&!N());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,p=f.priorityLevel;var L=ue(f.expirationTime<=le);le=t.unstable_now(),typeof L=="function"?f.callback=L:f===r(l)&&n(l),_(le)}else n(l);f=r(l)}if(f!==null)var M=!0;else{var $=r(c);$!==null&&ye(P,$.startTime-le),M=!1}return M}finally{f=null,p=Z,g=!1}}var W=!1,T=null,b=-1,k=5,j=-1;function N(){return!(t.unstable_now()-j<k)}function Q(){if(T!==null){var V=t.unstable_now();j=V;var le=!0;try{le=T(!0,V)}finally{le?F():(W=!1,T=null)}}else W=!1}var F;if(typeof y=="function")F=function(){y(Q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,xe=te.port2;te.port1.onmessage=Q,F=function(){xe.postMessage(null)}}else F=function(){I(Q,0)};function ve(V){T=V,W||(W=!0,F())}function ye(V,le){b=I(function(){V(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){B||g||(B=!0,ve(H))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var Z=p;p=le;try{return V()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,le){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=p;p=V;try{return le()}finally{p=Z}},t.unstable_scheduleCallback=function(V,le,Z){var ue=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,V){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Z+L,V={id:h++,callback:le,priorityLevel:V,startTime:Z,expirationTime:L,sortIndex:-1},Z>ue?(V.sortIndex=Z,e(c,V),r(l)===null&&V===r(c)&&(E?(w(b),b=-1):E=!0,ye(P,Z-ue))):(V.sortIndex=L,e(l,V),B||g||(B=!0,ve(H))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var le=p;return function(){var Z=p;p=le;try{return V.apply(this,arguments)}finally{p=Z}}}})(XC);JC.exports=XC;var d3=JC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3=ce,Ws=d3;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZC=new Set,dh={};function $l(t,e){yu(t,e),yu(t+"Capture",e)}function yu(t,e){for(dh[t]=e,t=0;t<e.length;t++)ZC.add(e[t])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ev=Object.prototype.hasOwnProperty,f3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dx={},Rx={};function m3(t){return ev.call(Rx,t)?!0:ev.call(Dx,t)?!1:f3.test(t)?Rx[t]=!0:(Dx[t]=!0,!1)}function p3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function g3(t,e,r,n){if(e===null||typeof e>"u"||p3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ds(t,e,r,n,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new ds(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new ds(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new ds(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new ds(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new ds(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new ds(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new ds(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new ds(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new ds(t,5,!1,t.toLowerCase(),null,!1,!1)});var aw=/[\-:]([a-z])/g;function ow(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aw,ow);Un[e]=new ds(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aw,ow);Un[e]=new ds(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aw,ow);Un[e]=new ds(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new ds(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new ds(t,1,!1,t.toLowerCase(),null,!0,!0)});function lw(t,e,r,n){var s=Un.hasOwnProperty(e)?Un[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(g3(e,r,s,n)&&(r=null),n||s===null?m3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ha=h3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hf=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),Vc=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),tv=Symbol.for("react.profiler"),eE=Symbol.for("react.provider"),tE=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),rv=Symbol.for("react.suspense"),nv=Symbol.for("react.suspense_list"),dw=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),rE=Symbol.for("react.offscreen"),Ox=Symbol.iterator;function fd(t){return t===null||typeof t!="object"?null:(t=Ox&&t[Ox]||t["@@iterator"],typeof t=="function"?t:null)}var Sr=Object.assign,R0;function Sd(t){if(R0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);R0=e&&e[1]||""}return`
`+R0+t}var O0=!1;function H0(t,e){if(!t||O0)return"";O0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var l=`
`+s[A].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=A&&0<=a);break}}}finally{O0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Sd(t):""}function v3(t){switch(t.tag){case 5:return Sd(t.type);case 16:return Sd("Lazy");case 13:return Sd("Suspense");case 19:return Sd("SuspenseList");case 0:case 2:case 15:return t=H0(t.type,!1),t;case 11:return t=H0(t.type.render,!1),t;case 1:return t=H0(t.type,!0),t;default:return""}}function sv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vc:return"Fragment";case Mc:return"Portal";case tv:return"Profiler";case cw:return"StrictMode";case rv:return"Suspense";case nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tE:return(t.displayName||"Context")+".Consumer";case eE:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dw:return e=t.displayName||null,e!==null?e:sv(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return sv(t(e))}catch{}}return null}function y3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sv(e);case 8:return e===cw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w3(t){var e=nE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){n=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mf(t){t._valueTracker||(t._valueTracker=w3(t))}function sE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iv(t,e){var r=e.checked;return Sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Lo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iE(t,e){e=e.checked,e!=null&&lw(t,"checked",e,!1)}function Av(t,e){iE(t,e);var r=Lo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?av(t,e.type,r):e.hasOwnProperty("defaultValue")&&av(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function av(t,e,r){(e!=="number"||hp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fd=Array.isArray;function nu(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Lo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ov(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(qe(92));if(Fd(r)){if(1<r.length)throw Error(qe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Lo(r)}}function AE(t,e){var r=Lo(e.value),n=Lo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Kx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vf,oE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x3=["Webkit","ms","Moz","O"];Object.keys(Gd).forEach(function(t){x3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gd[e]=Gd[t]})});function lE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gd.hasOwnProperty(t)&&Gd[t]?(""+e).trim():e+"px"}function cE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=lE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var B3=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cv(t,e){if(e){if(B3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function uv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dv=null;function hw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hv=null,su=null,iu=null;function zx(t){if(t=Jh(t)){if(typeof hv!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=Bg(e),hv(t.stateNode,t.type,e))}}function uE(t){su?iu?iu.push(t):iu=[t]:su=t}function dE(){if(su){var t=su,e=iu;if(iu=su=null,zx(t),e)for(t=0;t<e.length;t++)zx(e[t])}}function hE(t,e){return t(e)}function fE(){}var M0=!1;function mE(t,e,r){if(M0)return t(e,r);M0=!0;try{return hE(t,e,r)}finally{M0=!1,(su!==null||iu!==null)&&(fE(),dE())}}function fh(t,e){var r=t.stateNode;if(r===null)return null;var n=Bg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(qe(231,e,typeof r));return r}var fv=!1;if(na)try{var md={};Object.defineProperty(md,"passive",{get:function(){fv=!0}}),window.addEventListener("test",md,md),window.removeEventListener("test",md,md)}catch{fv=!1}function b3(t,e,r,n,s,i,A,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var qd=!1,fp=null,mp=!1,mv=null,C3={onError:function(t){qd=!0,fp=t}};function E3(t,e,r,n,s,i,A,a,l){qd=!1,fp=null,b3.apply(C3,arguments)}function _3(t,e,r,n,s,i,A,a,l){if(E3.apply(this,arguments),qd){if(qd){var c=fp;qd=!1,fp=null}else throw Error(qe(198));mp||(mp=!0,mv=c)}}function Yl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function pE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gx(t){if(Yl(t)!==t)throw Error(qe(188))}function I3(t){var e=t.alternate;if(!e){if(e=Yl(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Gx(s),t;if(i===n)return Gx(s),e;i=i.sibling}throw Error(qe(188))}if(r.return!==n.return)r=s,n=i;else{for(var A=!1,a=s.child;a;){if(a===r){A=!0,r=s,n=i;break}if(a===n){A=!0,n=s,r=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===r){A=!0,r=i,n=s;break}if(a===n){A=!0,n=i,r=s;break}a=a.sibling}if(!A)throw Error(qe(189))}}if(r.alternate!==n)throw Error(qe(190))}if(r.tag!==3)throw Error(qe(188));return r.stateNode.current===r?t:e}function gE(t){return t=I3(t),t!==null?vE(t):null}function vE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vE(t);if(e!==null)return e;t=t.sibling}return null}var yE=Ws.unstable_scheduleCallback,qx=Ws.unstable_cancelCallback,N3=Ws.unstable_shouldYield,S3=Ws.unstable_requestPaint,Kr=Ws.unstable_now,F3=Ws.unstable_getCurrentPriorityLevel,fw=Ws.unstable_ImmediatePriority,wE=Ws.unstable_UserBlockingPriority,pp=Ws.unstable_NormalPriority,k3=Ws.unstable_LowPriority,xE=Ws.unstable_IdlePriority,vg=null,fA=null;function T3(t){if(fA&&typeof fA.onCommitFiberRoot=="function")try{fA.onCommitFiberRoot(vg,t,void 0,(t.current.flags&128)===128)}catch{}}var ji=Math.clz32?Math.clz32:L3,U3=Math.log,Q3=Math.LN2;function L3(t){return t>>>=0,t===0?32:31-(U3(t)/Q3|0)|0}var Kf=64,zf=4194304;function kd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,A=r&268435455;if(A!==0){var a=A&~s;a!==0?n=kd(a):(i&=A,i!==0&&(n=kd(i)))}else A=r&~s,A!==0?n=kd(A):i!==0&&(n=kd(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ji(e),s=1<<r,n|=t[r],e&=~s;return n}function j3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-ji(i),a=1<<A,l=s[A];l===-1?(!(a&r)||a&n)&&(s[A]=j3(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function pv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BE(){var t=Kf;return Kf<<=1,!(Kf&4194240)&&(Kf=64),t}function V0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $h(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ji(e),t[e]=r}function D3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ji(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function mw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ji(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ir=0;function bE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CE,pw,EE,_E,IE,gv=!1,Gf=[],vo=null,yo=null,wo=null,mh=new Map,ph=new Map,no=[],R3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wx(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":mh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(e.pointerId)}}function pd(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jh(e),e!==null&&pw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function O3(t,e,r,n,s){switch(e){case"focusin":return vo=pd(vo,t,e,r,n,s),!0;case"dragenter":return yo=pd(yo,t,e,r,n,s),!0;case"mouseover":return wo=pd(wo,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return mh.set(i,pd(mh.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ph.set(i,pd(ph.get(i)||null,t,e,r,n,s)),!0}return!1}function NE(t){var e=_l(t.target);if(e!==null){var r=Yl(e);if(r!==null){if(e=r.tag,e===13){if(e=pE(r),e!==null){t.blockedOn=e,IE(t.priority,function(){EE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Om(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=vv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);dv=n,r.target.dispatchEvent(n),dv=null}else return e=Jh(r),e!==null&&pw(e),t.blockedOn=r,!1;e.shift()}return!0}function $x(t,e,r){Om(t)&&r.delete(e)}function H3(){gv=!1,vo!==null&&Om(vo)&&(vo=null),yo!==null&&Om(yo)&&(yo=null),wo!==null&&Om(wo)&&(wo=null),mh.forEach($x),ph.forEach($x)}function gd(t,e){t.blockedOn===e&&(t.blockedOn=null,gv||(gv=!0,Ws.unstable_scheduleCallback(Ws.unstable_NormalPriority,H3)))}function gh(t){function e(s){return gd(s,t)}if(0<Gf.length){gd(Gf[0],t);for(var r=1;r<Gf.length;r++){var n=Gf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(vo!==null&&gd(vo,t),yo!==null&&gd(yo,t),wo!==null&&gd(wo,t),mh.forEach(e),ph.forEach(e),r=0;r<no.length;r++)n=no[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<no.length&&(r=no[0],r.blockedOn===null);)NE(r),r.blockedOn===null&&no.shift()}var Au=ha.ReactCurrentBatchConfig,vp=!0;function M3(t,e,r,n){var s=ir,i=Au.transition;Au.transition=null;try{ir=1,gw(t,e,r,n)}finally{ir=s,Au.transition=i}}function V3(t,e,r,n){var s=ir,i=Au.transition;Au.transition=null;try{ir=4,gw(t,e,r,n)}finally{ir=s,Au.transition=i}}function gw(t,e,r,n){if(vp){var s=vv(t,e,r,n);if(s===null)Z0(t,e,n,yp,r),Wx(t,n);else if(O3(s,t,e,r,n))n.stopPropagation();else if(Wx(t,n),e&4&&-1<R3.indexOf(t)){for(;s!==null;){var i=Jh(s);if(i!==null&&CE(i),i=vv(t,e,r,n),i===null&&Z0(t,e,n,yp,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Z0(t,e,n,null,r)}}var yp=null;function vv(t,e,r,n){if(yp=null,t=hw(n),t=_l(t),t!==null)if(e=Yl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=pE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yp=t,null}function SE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F3()){case fw:return 1;case wE:return 4;case pp:case k3:return 16;case xE:return 536870912;default:return 16}default:return 16}}var lo=null,vw=null,Hm=null;function FE(){if(Hm)return Hm;var t,e=vw,r=e.length,n,s="value"in lo?lo.value:lo.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===s[i-n];n++);return Hm=s.slice(t,1<n?1-n:void 0)}function Mm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qf(){return!0}function Yx(){return!1}function Ys(t){function e(r,n,s,i,A){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qf:Yx,this.isPropagationStopped=Yx,this}return Sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){},isPersistent:qf}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=Ys(Ru),Yh=Sr({},Ru,{view:0,detail:0}),K3=Ys(Yh),K0,z0,vd,yg=Sr({},Yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ww,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vd&&(vd&&t.type==="mousemove"?(K0=t.screenX-vd.screenX,z0=t.screenY-vd.screenY):z0=K0=0,vd=t),K0)},movementY:function(t){return"movementY"in t?t.movementY:z0}}),Jx=Ys(yg),z3=Sr({},yg,{dataTransfer:0}),G3=Ys(z3),q3=Sr({},Yh,{relatedTarget:0}),G0=Ys(q3),W3=Sr({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),$3=Ys(W3),Y3=Sr({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J3=Ys(Y3),X3=Sr({},Ru,{data:0}),Xx=Ys(X3),Z3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tk[t])?!!e[t]:!1}function ww(){return rk}var nk=Sr({},Yh,{key:function(t){if(t.key){var e=Z3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ek[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ww,charCode:function(t){return t.type==="keypress"?Mm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sk=Ys(nk),ik=Sr({},yg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zx=Ys(ik),Ak=Sr({},Yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ww}),ak=Ys(Ak),ok=Sr({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=Ys(ok),ck=Sr({},yg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uk=Ys(ck),dk=[9,13,27,32],xw=na&&"CompositionEvent"in window,Wd=null;na&&"documentMode"in document&&(Wd=document.documentMode);var hk=na&&"TextEvent"in window&&!Wd,kE=na&&(!xw||Wd&&8<Wd&&11>=Wd),eB=" ",tB=!1;function TE(t,e){switch(t){case"keyup":return dk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kc=!1;function fk(t,e){switch(t){case"compositionend":return UE(e);case"keypress":return e.which!==32?null:(tB=!0,eB);case"textInput":return t=e.data,t===eB&&tB?null:t;default:return null}}function mk(t,e){if(Kc)return t==="compositionend"||!xw&&TE(t,e)?(t=FE(),Hm=vw=lo=null,Kc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kE&&e.locale!=="ko"?null:e.data;default:return null}}var pk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pk[t.type]:e==="textarea"}function QE(t,e,r,n){uE(n),e=wp(e,"onChange"),0<e.length&&(r=new yw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $d=null,vh=null;function gk(t){zE(t,0)}function wg(t){var e=qc(t);if(sE(e))return t}function vk(t,e){if(t==="change")return e}var LE=!1;if(na){var q0;if(na){var W0="oninput"in document;if(!W0){var nB=document.createElement("div");nB.setAttribute("oninput","return;"),W0=typeof nB.oninput=="function"}q0=W0}else q0=!1;LE=q0&&(!document.documentMode||9<document.documentMode)}function sB(){$d&&($d.detachEvent("onpropertychange",jE),vh=$d=null)}function jE(t){if(t.propertyName==="value"&&wg(vh)){var e=[];QE(e,vh,t,hw(t)),mE(gk,e)}}function yk(t,e,r){t==="focusin"?(sB(),$d=e,vh=r,$d.attachEvent("onpropertychange",jE)):t==="focusout"&&sB()}function wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wg(vh)}function xk(t,e){if(t==="click")return wg(e)}function Bk(t,e){if(t==="input"||t==="change")return wg(e)}function bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ri=typeof Object.is=="function"?Object.is:bk;function yh(t,e){if(Ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ev.call(e,s)||!Ri(t[s],e[s]))return!1}return!0}function iB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AB(t,e){var r=iB(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iB(r)}}function PE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DE(){for(var t=window,e=hp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hp(t.document)}return e}function Bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ck(t){var e=DE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&PE(r.ownerDocument.documentElement,r)){if(n!==null&&Bw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=AB(r,i);var A=AB(r,n);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ek=na&&"documentMode"in document&&11>=document.documentMode,zc=null,yv=null,Yd=null,wv=!1;function aB(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wv||zc==null||zc!==hp(n)||(n=zc,"selectionStart"in n&&Bw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yd&&yh(Yd,n)||(Yd=n,n=wp(yv,"onSelect"),0<n.length&&(e=new yw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zc)))}function Wf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gc={animationend:Wf("Animation","AnimationEnd"),animationiteration:Wf("Animation","AnimationIteration"),animationstart:Wf("Animation","AnimationStart"),transitionend:Wf("Transition","TransitionEnd")},$0={},RE={};na&&(RE=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function xg(t){if($0[t])return $0[t];if(!Gc[t])return t;var e=Gc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in RE)return $0[t]=e[r];return t}var OE=xg("animationend"),HE=xg("animationiteration"),ME=xg("animationstart"),VE=xg("transitionend"),KE=new Map,oB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(t,e){KE.set(t,e),$l(e,[t])}for(var Y0=0;Y0<oB.length;Y0++){var J0=oB[Y0],_k=J0.toLowerCase(),Ik=J0[0].toUpperCase()+J0.slice(1);Ko(_k,"on"+Ik)}Ko(OE,"onAnimationEnd");Ko(HE,"onAnimationIteration");Ko(ME,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(VE,"onTransitionEnd");yu("onMouseEnter",["mouseout","mouseover"]);yu("onMouseLeave",["mouseout","mouseover"]);yu("onPointerEnter",["pointerout","pointerover"]);yu("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function lB(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,_3(n,e,void 0,t),t.currentTarget=null}function zE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var A=n.length-1;0<=A;A--){var a=n[A],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lB(s,a,c),i=l}else for(A=0;A<n.length;A++){if(a=n[A],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lB(s,a,c),i=l}}}if(mp)throw t=mv,mp=!1,mv=null,t}function wr(t,e){var r=e[Ev];r===void 0&&(r=e[Ev]=new Set);var n=t+"__bubble";r.has(n)||(GE(e,t,2,!1),r.add(n))}function X0(t,e,r){var n=0;e&&(n|=4),GE(r,t,n,e)}var $f="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[$f]){t[$f]=!0,ZC.forEach(function(r){r!=="selectionchange"&&(Nk.has(r)||X0(r,!1,t),X0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$f]||(e[$f]=!0,X0("selectionchange",!1,e))}}function GE(t,e,r,n){switch(SE(e)){case 1:var s=M3;break;case 4:s=V3;break;default:s=gw}r=s.bind(null,e,r,t),s=void 0,!fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Z0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=n.return;A!==null;){var l=A.tag;if((l===3||l===4)&&(l=A.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;A=A.return}for(;a!==null;){if(A=_l(a),A===null)return;if(l=A.tag,l===5||l===6){n=i=A;continue e}a=a.parentNode}}n=n.return}mE(function(){var c=i,h=hw(r),f=[];e:{var p=KE.get(t);if(p!==void 0){var g=yw,B=t;switch(t){case"keypress":if(Mm(r)===0)break e;case"keydown":case"keyup":g=sk;break;case"focusin":B="focus",g=G0;break;case"focusout":B="blur",g=G0;break;case"beforeblur":case"afterblur":g=G0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=G3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ak;break;case OE:case HE:case ME:g=$3;break;case VE:g=lk;break;case"scroll":g=K3;break;case"wheel":g=uk;break;case"copy":case"cut":case"paste":g=J3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Zx}var E=(e&4)!==0,I=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var y=c,_;y!==null;){_=y;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,w!==null&&(P=fh(y,w),P!=null&&E.push(xh(y,P,_)))),I)break;y=y.return}0<E.length&&(p=new g(p,B,null,r,h),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==dv&&(B=r.relatedTarget||r.fromElement)&&(_l(B)||B[sa]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(B=r.relatedTarget||r.toElement,g=c,B=B?_l(B):null,B!==null&&(I=Yl(B),B!==I||B.tag!==5&&B.tag!==6)&&(B=null)):(g=null,B=c),g!==B)){if(E=Jx,P="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=Zx,P="onPointerLeave",w="onPointerEnter",y="pointer"),I=g==null?p:qc(g),_=B==null?p:qc(B),p=new E(P,y+"leave",g,r,h),p.target=I,p.relatedTarget=_,P=null,_l(h)===c&&(E=new E(w,y+"enter",B,r,h),E.target=_,E.relatedTarget=I,P=E),I=P,g&&B)t:{for(E=g,w=B,y=0,_=E;_;_=_c(_))y++;for(_=0,P=w;P;P=_c(P))_++;for(;0<y-_;)E=_c(E),y--;for(;0<_-y;)w=_c(w),_--;for(;y--;){if(E===w||w!==null&&E===w.alternate)break t;E=_c(E),w=_c(w)}E=null}else E=null;g!==null&&cB(f,p,g,E,!1),B!==null&&I!==null&&cB(f,I,B,E,!0)}}e:{if(p=c?qc(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var H=vk;else if(rB(p))if(LE)H=Bk;else{H=wk;var W=yk}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(H=xk);if(H&&(H=H(t,c))){QE(f,H,r,h);break e}W&&W(t,p,c),t==="focusout"&&(W=p._wrapperState)&&W.controlled&&p.type==="number"&&av(p,"number",p.value)}switch(W=c?qc(c):window,t){case"focusin":(rB(W)||W.contentEditable==="true")&&(zc=W,yv=c,Yd=null);break;case"focusout":Yd=yv=zc=null;break;case"mousedown":wv=!0;break;case"contextmenu":case"mouseup":case"dragend":wv=!1,aB(f,r,h);break;case"selectionchange":if(Ek)break;case"keydown":case"keyup":aB(f,r,h)}var T;if(xw)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kc?TE(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(kE&&r.locale!=="ko"&&(Kc||b!=="onCompositionStart"?b==="onCompositionEnd"&&Kc&&(T=FE()):(lo=h,vw="value"in lo?lo.value:lo.textContent,Kc=!0)),W=wp(c,b),0<W.length&&(b=new Xx(b,t,null,r,h),f.push({event:b,listeners:W}),T?b.data=T:(T=UE(r),T!==null&&(b.data=T)))),(T=hk?fk(t,r):mk(t,r))&&(c=wp(c,"onBeforeInput"),0<c.length&&(h=new Xx("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=T))}zE(f,e)})}function xh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wp(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fh(t,r),i!=null&&n.unshift(xh(t,i,s)),i=fh(t,e),i!=null&&n.push(xh(t,i,s))),t=t.return}return n}function _c(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cB(t,e,r,n,s){for(var i=e._reactName,A=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=fh(r,i),l!=null&&A.unshift(xh(r,l,a))):s||(l=fh(r,i),l!=null&&A.push(xh(r,l,a)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var Sk=/\r\n?/g,Fk=/\u0000|\uFFFD/g;function uB(t){return(typeof t=="string"?t:""+t).replace(Sk,`
`).replace(Fk,"")}function Yf(t,e,r){if(e=uB(e),uB(t)!==e&&r)throw Error(qe(425))}function xp(){}var xv=null,Bv=null;function bv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cv=typeof setTimeout=="function"?setTimeout:void 0,kk=typeof clearTimeout=="function"?clearTimeout:void 0,dB=typeof Promise=="function"?Promise:void 0,Tk=typeof queueMicrotask=="function"?queueMicrotask:typeof dB<"u"?function(t){return dB.resolve(null).then(t).catch(Uk)}:Cv;function Uk(t){setTimeout(function(){throw t})}function e1(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),gh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gh(e)}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ou=Math.random().toString(36).slice(2),uA="__reactFiber$"+Ou,Bh="__reactProps$"+Ou,sa="__reactContainer$"+Ou,Ev="__reactEvents$"+Ou,Qk="__reactListeners$"+Ou,Lk="__reactHandles$"+Ou;function _l(t){var e=t[uA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[sa]||r[uA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hB(t);t!==null;){if(r=t[uA])return r;t=hB(t)}return e}t=r,r=t.parentNode}return null}function Jh(t){return t=t[uA]||t[sa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function Bg(t){return t[Bh]||null}var _v=[],Wc=-1;function zo(t){return{current:t}}function br(t){0>Wc||(t.current=_v[Wc],_v[Wc]=null,Wc--)}function pr(t,e){Wc++,_v[Wc]=t.current,t.current=e}var jo={},Zn=zo(jo),Es=zo(!1),Rl=jo;function wu(t,e){var r=t.type.contextTypes;if(!r)return jo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _s(t){return t=t.childContextTypes,t!=null}function Bp(){br(Es),br(Zn)}function fB(t,e,r){if(Zn.current!==jo)throw Error(qe(168));pr(Zn,e),pr(Es,r)}function qE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(qe(108,y3(t)||"Unknown",s));return Sr({},r,n)}function bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jo,Rl=Zn.current,pr(Zn,t),pr(Es,Es.current),!0}function mB(t,e,r){var n=t.stateNode;if(!n)throw Error(qe(169));r?(t=qE(t,e,Rl),n.__reactInternalMemoizedMergedChildContext=t,br(Es),br(Zn),pr(Zn,t)):br(Es),pr(Es,r)}var qA=null,bg=!1,t1=!1;function WE(t){qA===null?qA=[t]:qA.push(t)}function jk(t){bg=!0,WE(t)}function Go(){if(!t1&&qA!==null){t1=!0;var t=0,e=ir;try{var r=qA;for(ir=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qA=null,bg=!1}catch(s){throw qA!==null&&(qA=qA.slice(t+1)),yE(fw,Go),s}finally{ir=e,t1=!1}}return null}var $c=[],Yc=0,Cp=null,Ep=0,Ai=[],ai=0,Ol=null,$A=1,YA="";function wl(t,e){$c[Yc++]=Ep,$c[Yc++]=Cp,Cp=t,Ep=e}function $E(t,e,r){Ai[ai++]=$A,Ai[ai++]=YA,Ai[ai++]=Ol,Ol=t;var n=$A;t=YA;var s=32-ji(n)-1;n&=~(1<<s),r+=1;var i=32-ji(e)+s;if(30<i){var A=s-s%5;i=(n&(1<<A)-1).toString(32),n>>=A,s-=A,$A=1<<32-ji(e)+s|r<<s|n,YA=i+t}else $A=1<<i|r<<s|n,YA=t}function bw(t){t.return!==null&&(wl(t,1),$E(t,1,0))}function Cw(t){for(;t===Cp;)Cp=$c[--Yc],$c[Yc]=null,Ep=$c[--Yc],$c[Yc]=null;for(;t===Ol;)Ol=Ai[--ai],Ai[ai]=null,YA=Ai[--ai],Ai[ai]=null,$A=Ai[--ai],Ai[ai]=null}var qs=null,Ks=null,Er=!1,Li=null;function YE(t,e){var r=li(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pB(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qs=t,Ks=xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qs=t,Ks=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ol!==null?{id:$A,overflow:YA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=li(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qs=t,Ks=null,!0):!1;default:return!1}}function Iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nv(t){if(Er){var e=Ks;if(e){var r=e;if(!pB(t,e)){if(Iv(t))throw Error(qe(418));e=xo(r.nextSibling);var n=qs;e&&pB(t,e)?YE(n,r):(t.flags=t.flags&-4097|2,Er=!1,qs=t)}}else{if(Iv(t))throw Error(qe(418));t.flags=t.flags&-4097|2,Er=!1,qs=t}}}function gB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qs=t}function Jf(t){if(t!==qs)return!1;if(!Er)return gB(t),Er=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bv(t.type,t.memoizedProps)),e&&(e=Ks)){if(Iv(t))throw JE(),Error(qe(418));for(;e;)YE(t,e),e=xo(e.nextSibling)}if(gB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ks=xo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ks=null}}else Ks=qs?xo(t.stateNode.nextSibling):null;return!0}function JE(){for(var t=Ks;t;)t=xo(t.nextSibling)}function xu(){Ks=qs=null,Er=!1}function Ew(t){Li===null?Li=[t]:Li.push(t)}var Pk=ha.ReactCurrentBatchConfig;function yd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qe(309));var n=r.stateNode}if(!n)throw Error(qe(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(qe(284));if(!r._owner)throw Error(qe(290,t))}return t}function Xf(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vB(t){var e=t._init;return e(t._payload)}function XE(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function r(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Eo(w,y),w.index=0,w.sibling=null,w}function i(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function A(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,_,P){return y===null||y.tag!==6?(y=o1(_,w.mode,P),y.return=w,y):(y=s(y,_),y.return=w,y)}function l(w,y,_,P){var H=_.type;return H===Vc?h(w,y,_.props.children,P,_.key):y!==null&&(y.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===eo&&vB(H)===y.type)?(P=s(y,_.props),P.ref=yd(w,y,_),P.return=w,P):(P=$m(_.type,_.key,_.props,null,w.mode,P),P.ref=yd(w,y,_),P.return=w,P)}function c(w,y,_,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=l1(_,w.mode,P),y.return=w,y):(y=s(y,_.children||[]),y.return=w,y)}function h(w,y,_,P,H){return y===null||y.tag!==7?(y=Ul(_,w.mode,P,H),y.return=w,y):(y=s(y,_),y.return=w,y)}function f(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=o1(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hf:return _=$m(y.type,y.key,y.props,null,w.mode,_),_.ref=yd(w,null,y),_.return=w,_;case Mc:return y=l1(y,w.mode,_),y.return=w,y;case eo:var P=y._init;return f(w,P(y._payload),_)}if(Fd(y)||fd(y))return y=Ul(y,w.mode,_,null),y.return=w,y;Xf(w,y)}return null}function p(w,y,_,P){var H=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return H!==null?null:a(w,y,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hf:return _.key===H?l(w,y,_,P):null;case Mc:return _.key===H?c(w,y,_,P):null;case eo:return H=_._init,p(w,y,H(_._payload),P)}if(Fd(_)||fd(_))return H!==null?null:h(w,y,_,P,null);Xf(w,_)}return null}function g(w,y,_,P,H){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(_)||null,a(y,w,""+P,H);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Hf:return w=w.get(P.key===null?_:P.key)||null,l(y,w,P,H);case Mc:return w=w.get(P.key===null?_:P.key)||null,c(y,w,P,H);case eo:var W=P._init;return g(w,y,_,W(P._payload),H)}if(Fd(P)||fd(P))return w=w.get(_)||null,h(y,w,P,H,null);Xf(y,P)}return null}function B(w,y,_,P){for(var H=null,W=null,T=y,b=y=0,k=null;T!==null&&b<_.length;b++){T.index>b?(k=T,T=null):k=T.sibling;var j=p(w,T,_[b],P);if(j===null){T===null&&(T=k);break}t&&T&&j.alternate===null&&e(w,T),y=i(j,y,b),W===null?H=j:W.sibling=j,W=j,T=k}if(b===_.length)return r(w,T),Er&&wl(w,b),H;if(T===null){for(;b<_.length;b++)T=f(w,_[b],P),T!==null&&(y=i(T,y,b),W===null?H=T:W.sibling=T,W=T);return Er&&wl(w,b),H}for(T=n(w,T);b<_.length;b++)k=g(T,w,b,_[b],P),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?b:k.key),y=i(k,y,b),W===null?H=k:W.sibling=k,W=k);return t&&T.forEach(function(N){return e(w,N)}),Er&&wl(w,b),H}function E(w,y,_,P){var H=fd(_);if(typeof H!="function")throw Error(qe(150));if(_=H.call(_),_==null)throw Error(qe(151));for(var W=H=null,T=y,b=y=0,k=null,j=_.next();T!==null&&!j.done;b++,j=_.next()){T.index>b?(k=T,T=null):k=T.sibling;var N=p(w,T,j.value,P);if(N===null){T===null&&(T=k);break}t&&T&&N.alternate===null&&e(w,T),y=i(N,y,b),W===null?H=N:W.sibling=N,W=N,T=k}if(j.done)return r(w,T),Er&&wl(w,b),H;if(T===null){for(;!j.done;b++,j=_.next())j=f(w,j.value,P),j!==null&&(y=i(j,y,b),W===null?H=j:W.sibling=j,W=j);return Er&&wl(w,b),H}for(T=n(w,T);!j.done;b++,j=_.next())j=g(T,w,b,j.value,P),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?b:j.key),y=i(j,y,b),W===null?H=j:W.sibling=j,W=j);return t&&T.forEach(function(Q){return e(w,Q)}),Er&&wl(w,b),H}function I(w,y,_,P){if(typeof _=="object"&&_!==null&&_.type===Vc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Hf:e:{for(var H=_.key,W=y;W!==null;){if(W.key===H){if(H=_.type,H===Vc){if(W.tag===7){r(w,W.sibling),y=s(W,_.props.children),y.return=w,w=y;break e}}else if(W.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===eo&&vB(H)===W.type){r(w,W.sibling),y=s(W,_.props),y.ref=yd(w,W,_),y.return=w,w=y;break e}r(w,W);break}else e(w,W);W=W.sibling}_.type===Vc?(y=Ul(_.props.children,w.mode,P,_.key),y.return=w,w=y):(P=$m(_.type,_.key,_.props,null,w.mode,P),P.ref=yd(w,y,_),P.return=w,w=P)}return A(w);case Mc:e:{for(W=_.key;y!==null;){if(y.key===W)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){r(w,y.sibling),y=s(y,_.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else e(w,y);y=y.sibling}y=l1(_,w.mode,P),y.return=w,w=y}return A(w);case eo:return W=_._init,I(w,y,W(_._payload),P)}if(Fd(_))return B(w,y,_,P);if(fd(_))return E(w,y,_,P);Xf(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,_),y.return=w,w=y):(r(w,y),y=o1(_,w.mode,P),y.return=w,w=y),A(w)):r(w,y)}return I}var Bu=XE(!0),ZE=XE(!1),_p=zo(null),Ip=null,Jc=null,_w=null;function Iw(){_w=Jc=Ip=null}function Nw(t){var e=_p.current;br(_p),t._currentValue=e}function Sv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function au(t,e){Ip=t,_w=Jc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bs=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(_w!==t)if(t={context:t,memoizedValue:e,next:null},Jc===null){if(Ip===null)throw Error(qe(308));Jc=t,Ip.dependencies={lanes:0,firstContext:t}}else Jc=Jc.next=t;return e}var Il=null;function Sw(t){Il===null?Il=[t]:Il.push(t)}function e4(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Sw(e)):(r.next=s.next,s.next=r),e.interleaved=r,ia(t,n)}function ia(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var to=!1;function Fw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ta(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Wt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ia(t,r)}return s=n.interleaved,s===null?(e.next=e,Sw(n)):(e.next=s.next,s.next=e),n.interleaved=e,ia(t,r)}function Vm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mw(t,r)}}function yB(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=A:i=i.next=A,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Np(t,e,r,n){var s=t.updateQueue;to=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,A===null?i=c:A.next=c,A=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==A&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;A=0,h=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var B=t,E=a;switch(p=e,g=r,E.tag){case 1:if(B=E.payload,typeof B=="function"){f=B.call(g,f,p);break e}f=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=E.payload,p=typeof B=="function"?B.call(g,f,p):B,p==null)break e;f=Sr({},f,p);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,A|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ml|=A,t.lanes=A,t.memoizedState=f}}function wB(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(qe(191,s));s.call(n)}}}var Xh={},mA=zo(Xh),bh=zo(Xh),Ch=zo(Xh);function Nl(t){if(t===Xh)throw Error(qe(174));return t}function kw(t,e){switch(pr(Ch,e),pr(bh,t),pr(mA,Xh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lv(e,t)}br(mA),pr(mA,e)}function bu(){br(mA),br(bh),br(Ch)}function r4(t){Nl(Ch.current);var e=Nl(mA.current),r=lv(e,t.type);e!==r&&(pr(bh,t),pr(mA,r))}function Tw(t){bh.current===t&&(br(mA),br(bh))}var Ir=zo(0);function Sp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r1=[];function Uw(){for(var t=0;t<r1.length;t++)r1[t]._workInProgressVersionPrimary=null;r1.length=0}var Km=ha.ReactCurrentDispatcher,n1=ha.ReactCurrentBatchConfig,Hl=0,Nr=null,ln=null,pn=null,Fp=!1,Jd=!1,Eh=0,Dk=0;function Rn(){throw Error(qe(321))}function Qw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ri(t[r],e[r]))return!1;return!0}function Lw(t,e,r,n,s,i){if(Hl=i,Nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Km.current=t===null||t.memoizedState===null?Mk:Vk,t=r(n,s),Jd){i=0;do{if(Jd=!1,Eh=0,25<=i)throw Error(qe(301));i+=1,pn=ln=null,e.updateQueue=null,Km.current=Kk,t=r(n,s)}while(Jd)}if(Km.current=kp,e=ln!==null&&ln.next!==null,Hl=0,pn=ln=Nr=null,Fp=!1,e)throw Error(qe(300));return t}function jw(){var t=Eh!==0;return Eh=0,t}function cA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Nr.memoizedState=pn=t:pn=pn.next=t,pn}function mi(){if(ln===null){var t=Nr.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=pn===null?Nr.memoizedState:pn.next;if(e!==null)pn=e,ln=t;else{if(t===null)throw Error(qe(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},pn===null?Nr.memoizedState=pn=t:pn=pn.next=t}return pn}function _h(t,e){return typeof e=="function"?e(t):e}function s1(t){var e=mi(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=ln,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=A=null,l=null,c=i;do{var h=c.lane;if((Hl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,A=n):l=l.next=f,Nr.lanes|=h,Ml|=h}c=c.next}while(c!==null&&c!==i);l===null?A=n:l.next=a,Ri(n,e.memoizedState)||(bs=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Nr.lanes|=i,Ml|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function i1(t){var e=mi(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Ri(i,e.memoizedState)||(bs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function n4(){}function s4(t,e){var r=Nr,n=mi(),s=e(),i=!Ri(n.memoizedState,s);if(i&&(n.memoizedState=s,bs=!0),n=n.queue,Pw(a4.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||pn!==null&&pn.memoizedState.tag&1){if(r.flags|=2048,Ih(9,A4.bind(null,r,n,s,e),void 0,null),yn===null)throw Error(qe(349));Hl&30||i4(r,e,s)}return s}function i4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function A4(t,e,r,n){e.value=r,e.getSnapshot=n,o4(e)&&l4(t)}function a4(t,e,r){return r(function(){o4(e)&&l4(t)})}function o4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ri(t,r)}catch{return!0}}function l4(t){var e=ia(t,1);e!==null&&Pi(e,t,1,-1)}function xB(t){var e=cA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},e.queue=t,t=t.dispatch=Hk.bind(null,Nr,t),[e.memoizedState,t]}function Ih(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function c4(){return mi().memoizedState}function zm(t,e,r,n){var s=cA();Nr.flags|=t,s.memoizedState=Ih(1|e,r,void 0,n===void 0?null:n)}function Cg(t,e,r,n){var s=mi();n=n===void 0?null:n;var i=void 0;if(ln!==null){var A=ln.memoizedState;if(i=A.destroy,n!==null&&Qw(n,A.deps)){s.memoizedState=Ih(e,r,i,n);return}}Nr.flags|=t,s.memoizedState=Ih(1|e,r,i,n)}function BB(t,e){return zm(8390656,8,t,e)}function Pw(t,e){return Cg(2048,8,t,e)}function u4(t,e){return Cg(4,2,t,e)}function d4(t,e){return Cg(4,4,t,e)}function h4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f4(t,e,r){return r=r!=null?r.concat([t]):null,Cg(4,4,h4.bind(null,e,t),r)}function Dw(){}function m4(t,e){var r=mi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function p4(t,e){var r=mi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function g4(t,e,r){return Hl&21?(Ri(r,e)||(r=BE(),Nr.lanes|=r,Ml|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=r)}function Rk(t,e){var r=ir;ir=r!==0&&4>r?r:4,t(!0);var n=n1.transition;n1.transition={};try{t(!1),e()}finally{ir=r,n1.transition=n}}function v4(){return mi().memoizedState}function Ok(t,e,r){var n=Co(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},y4(t))w4(e,r);else if(r=e4(t,e,r,n),r!==null){var s=cs();Pi(r,t,n,s),x4(r,e,n)}}function Hk(t,e,r){var n=Co(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(y4(t))w4(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,r);if(s.hasEagerState=!0,s.eagerState=a,Ri(a,A)){var l=e.interleaved;l===null?(s.next=s,Sw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=e4(t,e,s,n),r!==null&&(s=cs(),Pi(r,t,n,s),x4(r,e,n))}}function y4(t){var e=t.alternate;return t===Nr||e!==null&&e===Nr}function w4(t,e){Jd=Fp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function x4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mw(t,r)}}var kp={readContext:fi,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},Mk={readContext:fi,useCallback:function(t,e){return cA().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:BB,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zm(4194308,4,h4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zm(4194308,4,t,e)},useInsertionEffect:function(t,e){return zm(4,2,t,e)},useMemo:function(t,e){var r=cA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=cA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ok.bind(null,Nr,t),[n.memoizedState,t]},useRef:function(t){var e=cA();return t={current:t},e.memoizedState=t},useState:xB,useDebugValue:Dw,useDeferredValue:function(t){return cA().memoizedState=t},useTransition:function(){var t=xB(!1),e=t[0];return t=Rk.bind(null,t[1]),cA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Nr,s=cA();if(Er){if(r===void 0)throw Error(qe(407));r=r()}else{if(r=e(),yn===null)throw Error(qe(349));Hl&30||i4(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,BB(a4.bind(null,n,i,t),[t]),n.flags|=2048,Ih(9,A4.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=cA(),e=yn.identifierPrefix;if(Er){var r=YA,n=$A;r=(n&~(1<<32-ji(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Eh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Dk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vk={readContext:fi,useCallback:m4,useContext:fi,useEffect:Pw,useImperativeHandle:f4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:p4,useReducer:s1,useRef:c4,useState:function(){return s1(_h)},useDebugValue:Dw,useDeferredValue:function(t){var e=mi();return g4(e,ln.memoizedState,t)},useTransition:function(){var t=s1(_h)[0],e=mi().memoizedState;return[t,e]},useMutableSource:n4,useSyncExternalStore:s4,useId:v4,unstable_isNewReconciler:!1},Kk={readContext:fi,useCallback:m4,useContext:fi,useEffect:Pw,useImperativeHandle:f4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:p4,useReducer:i1,useRef:c4,useState:function(){return i1(_h)},useDebugValue:Dw,useDeferredValue:function(t){var e=mi();return ln===null?e.memoizedState=t:g4(e,ln.memoizedState,t)},useTransition:function(){var t=i1(_h)[0],e=mi().memoizedState;return[t,e]},useMutableSource:n4,useSyncExternalStore:s4,useId:v4,unstable_isNewReconciler:!1};function Ti(t,e){if(t&&t.defaultProps){e=Sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Fv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Eg={isMounted:function(t){return(t=t._reactInternals)?Yl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cs(),s=Co(t),i=ta(n,s);i.payload=e,r!=null&&(i.callback=r),e=Bo(t,i,s),e!==null&&(Pi(e,t,s,n),Vm(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cs(),s=Co(t),i=ta(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Bo(t,i,s),e!==null&&(Pi(e,t,s,n),Vm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cs(),n=Co(t),s=ta(r,n);s.tag=2,e!=null&&(s.callback=e),e=Bo(t,s,n),e!==null&&(Pi(e,t,n,r),Vm(e,t,n))}};function bB(t,e,r,n,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,A):e.prototype&&e.prototype.isPureReactComponent?!yh(r,n)||!yh(s,i):!0}function B4(t,e,r){var n=!1,s=jo,i=e.contextType;return typeof i=="object"&&i!==null?i=fi(i):(s=_s(e)?Rl:Zn.current,n=e.contextTypes,i=(n=n!=null)?wu(t,s):jo),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function CB(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Eg.enqueueReplaceState(e,e.state,null)}function kv(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Fw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fi(i):(i=_s(e)?Rl:Zn.current,s.context=wu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fv(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Eg.enqueueReplaceState(s,s.state,null),Np(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Cu(t,e){try{var r="",n=e;do r+=v3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function A1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Tv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var zk=typeof WeakMap=="function"?WeakMap:Map;function b4(t,e,r){r=ta(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Up||(Up=!0,Mv=n),Tv(t,e)},r}function C4(t,e,r){r=ta(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Tv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Tv(t,e),typeof n!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function EB(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new zk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=iT.bind(null,t,e,r),e.then(t,t))}function _B(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IB(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ta(-1,1),e.tag=2,Bo(r,e,1))),r.lanes|=1),t)}var Gk=ha.ReactCurrentOwner,bs=!1;function ls(t,e,r,n){e.child=t===null?ZE(e,null,r,n):Bu(e,t.child,r,n)}function NB(t,e,r,n,s){r=r.render;var i=e.ref;return au(e,s),n=Lw(t,e,r,n,i,s),r=jw(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Aa(t,e,s)):(Er&&r&&bw(e),e.flags|=1,ls(t,e,n,s),e.child)}function SB(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Gw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,E4(t,e,i,n,s)):(t=$m(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(r=r.compare,r=r!==null?r:yh,r(A,n)&&t.ref===e.ref)return Aa(t,e,s)}return e.flags|=1,t=Eo(i,n),t.ref=e.ref,t.return=e,e.child=t}function E4(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(yh(i,n)&&t.ref===e.ref)if(bs=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(bs=!0);else return e.lanes=t.lanes,Aa(t,e,s)}return Uv(t,e,r,n,s)}function _4(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pr(Zc,Ms),Ms|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pr(Zc,Ms),Ms|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pr(Zc,Ms),Ms|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,pr(Zc,Ms),Ms|=n;return ls(t,e,s,r),e.child}function I4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Uv(t,e,r,n,s){var i=_s(r)?Rl:Zn.current;return i=wu(e,i),au(e,s),r=Lw(t,e,r,n,i,s),n=jw(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Aa(t,e,s)):(Er&&n&&bw(e),e.flags|=1,ls(t,e,r,s),e.child)}function FB(t,e,r,n,s){if(_s(r)){var i=!0;bp(e)}else i=!1;if(au(e,s),e.stateNode===null)Gm(t,e),B4(e,r,n),kv(e,r,n,s),n=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var l=A.context,c=r.contextType;typeof c=="object"&&c!==null?c=fi(c):(c=_s(r)?Rl:Zn.current,c=wu(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof A.getSnapshotBeforeUpdate=="function";f||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==n||l!==c)&&CB(e,A,n,c),to=!1;var p=e.memoizedState;A.state=p,Np(e,n,A,s),l=e.memoizedState,a!==n||p!==l||Es.current||to?(typeof h=="function"&&(Fv(e,r,h,n),l=e.memoizedState),(a=to||bB(e,r,a,n,p,l,c))?(f||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),A.props=n,A.state=l,A.context=c,n=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,t4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ti(e.type,a),A.props=c,f=e.pendingProps,p=A.context,l=r.contextType,typeof l=="object"&&l!==null?l=fi(l):(l=_s(r)?Rl:Zn.current,l=wu(e,l));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==f||p!==l)&&CB(e,A,n,l),to=!1,p=e.memoizedState,A.state=p,Np(e,n,A,s);var B=e.memoizedState;a!==f||p!==B||Es.current||to?(typeof g=="function"&&(Fv(e,r,g,n),B=e.memoizedState),(c=to||bB(e,r,c,n,p,B,l)||!1)?(h||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,B,l),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,B,l)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=B),A.props=n,A.state=B,A.context=l,n=c):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Qv(t,e,r,n,i,s)}function Qv(t,e,r,n,s,i){I4(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return s&&mB(e,r,!1),Aa(t,e,i);n=e.stateNode,Gk.current=e;var a=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=Bu(e,t.child,null,i),e.child=Bu(e,null,a,i)):ls(t,e,a,i),e.memoizedState=n.state,s&&mB(e,r,!0),e.child}function N4(t){var e=t.stateNode;e.pendingContext?fB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fB(t,e.context,!1),kw(t,e.containerInfo)}function kB(t,e,r,n,s){return xu(),Ew(s),e.flags|=256,ls(t,e,r,n),e.child}var Lv={dehydrated:null,treeContext:null,retryLane:0};function jv(t){return{baseLanes:t,cachePool:null,transitions:null}}function S4(t,e,r){var n=e.pendingProps,s=Ir.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),pr(Ir,s&1),t===null)return Nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,i?(n=e.mode,i=e.child,A={mode:"hidden",children:A},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=Ng(A,n,0,null),t=Ul(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jv(r),e.memoizedState=Lv,t):Rw(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qk(t,e,A,n,a,s,r);if(i){i=n.fallback,A=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(A&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Eo(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Eo(a,i):(i=Ul(i,A,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,A=t.child.memoizedState,A=A===null?jv(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~r,e.memoizedState=Lv,n}return i=t.child,t=i.sibling,n=Eo(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Rw(t,e){return e=Ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zf(t,e,r,n){return n!==null&&Ew(n),Bu(e,t.child,null,r),t=Rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qk(t,e,r,n,s,i,A){if(r)return e.flags&256?(e.flags&=-257,n=A1(Error(qe(422))),Zf(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ng({mode:"visible",children:n.children},s,0,null),i=Ul(i,s,A,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Bu(e,t.child,null,A),e.child.memoizedState=jv(A),e.memoizedState=Lv,i);if(!(e.mode&1))return Zf(t,e,A,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(qe(419)),n=A1(i,n,void 0),Zf(t,e,A,n)}if(a=(A&t.childLanes)!==0,bs||a){if(n=yn,n!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ia(t,s),Pi(n,t,s,-1))}return zw(),n=A1(Error(qe(421))),Zf(t,e,A,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=AT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ks=xo(s.nextSibling),qs=e,Er=!0,Li=null,t!==null&&(Ai[ai++]=$A,Ai[ai++]=YA,Ai[ai++]=Ol,$A=t.id,YA=t.overflow,Ol=e),e=Rw(e,n.children),e.flags|=4096,e)}function TB(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Sv(t.return,e,r)}function a1(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function F4(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ls(t,e,n.children,r),n=Ir.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TB(t,r,e);else if(t.tag===19)TB(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pr(Ir,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Sp(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),a1(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sp(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}a1(e,!0,r,null,i);break;case"together":a1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Aa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ml|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,r=Eo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Eo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Wk(t,e,r){switch(e.tag){case 3:N4(e),xu();break;case 5:r4(e);break;case 1:_s(e.type)&&bp(e);break;case 4:kw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;pr(_p,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(pr(Ir,Ir.current&1),e.flags|=128,null):r&e.child.childLanes?S4(t,e,r):(pr(Ir,Ir.current&1),t=Aa(t,e,r),t!==null?t.sibling:null);pr(Ir,Ir.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return F4(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pr(Ir,Ir.current),n)break;return null;case 22:case 23:return e.lanes=0,_4(t,e,r)}return Aa(t,e,r)}var k4,Pv,T4,U4;k4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pv=function(){};T4=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Nl(mA.current);var i=null;switch(r){case"input":s=iv(t,s),n=iv(t,n),i=[];break;case"select":s=Sr({},s,{value:void 0}),n=Sr({},n,{value:void 0}),i=[];break;case"textarea":s=ov(t,s),n=ov(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xp)}cv(r,n);var A;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(A in a)a.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(A in a)!a.hasOwnProperty(A)||l&&l.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in l)l.hasOwnProperty(A)&&a[A]!==l[A]&&(r||(r={}),r[A]=l[A])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wr("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};U4=function(t,e,r,n){r!==n&&(e.flags|=4)};function wd(t,e){if(!Er)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $k(t,e,r){var n=e.pendingProps;switch(Cw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return _s(e.type)&&Bp(),On(e),null;case 3:return n=e.stateNode,bu(),br(Es),br(Zn),Uw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Jf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Li!==null&&(zv(Li),Li=null))),Pv(t,e),On(e),null;case 5:Tw(e);var s=Nl(Ch.current);if(r=e.type,t!==null&&e.stateNode!=null)T4(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(qe(166));return On(e),null}if(t=Nl(mA.current),Jf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[uA]=e,n[Bh]=i,t=(e.mode&1)!==0,r){case"dialog":wr("cancel",n),wr("close",n);break;case"iframe":case"object":case"embed":wr("load",n);break;case"video":case"audio":for(s=0;s<Td.length;s++)wr(Td[s],n);break;case"source":wr("error",n);break;case"img":case"image":case"link":wr("error",n),wr("load",n);break;case"details":wr("toggle",n);break;case"input":Hx(n,i),wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},wr("invalid",n);break;case"textarea":Vx(n,i),wr("invalid",n)}cv(r,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yf(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yf(n.textContent,a,t),s=["children",""+a]):dh.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&wr("scroll",n)}switch(r){case"input":Mf(n),Mx(n,i,!0);break;case"textarea":Mf(n),Kx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xp)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[uA]=e,t[Bh]=n,k4(t,e,!1,!1),e.stateNode=t;e:{switch(A=uv(r,n),r){case"dialog":wr("cancel",t),wr("close",t),s=n;break;case"iframe":case"object":case"embed":wr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Td.length;s++)wr(Td[s],t);s=n;break;case"source":wr("error",t),s=n;break;case"img":case"image":case"link":wr("error",t),wr("load",t),s=n;break;case"details":wr("toggle",t),s=n;break;case"input":Hx(t,n),s=iv(t,n),wr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Sr({},n,{value:void 0}),wr("invalid",t);break;case"textarea":Vx(t,n),s=ov(t,n),wr("invalid",t);break;default:s=n}cv(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?cE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oE(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hh(t,l):typeof l=="number"&&hh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&wr("scroll",t):l!=null&&lw(t,i,l,A))}switch(r){case"input":Mf(t),Mx(t,n,!1);break;case"textarea":Mf(t),Kx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Lo(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?nu(t,!!n.multiple,i,!1):n.defaultValue!=null&&nu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)U4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(qe(166));if(r=Nl(Ch.current),Nl(mA.current),Jf(e)){if(n=e.stateNode,r=e.memoizedProps,n[uA]=e,(i=n.nodeValue!==r)&&(t=qs,t!==null))switch(t.tag){case 3:Yf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yf(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[uA]=e,e.stateNode=n}return On(e),null;case 13:if(br(Ir),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Er&&Ks!==null&&e.mode&1&&!(e.flags&128))JE(),xu(),e.flags|=98560,i=!1;else if(i=Jf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(qe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(qe(317));i[uA]=e}else xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),i=!1}else Li!==null&&(zv(Li),Li=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ir.current&1?un===0&&(un=3):zw())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return bu(),Pv(t,e),t===null&&wh(e.stateNode.containerInfo),On(e),null;case 10:return Nw(e.type._context),On(e),null;case 17:return _s(e.type)&&Bp(),On(e),null;case 19:if(br(Ir),i=e.memoizedState,i===null)return On(e),null;if(n=(e.flags&128)!==0,A=i.rendering,A===null)if(n)wd(i,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Sp(t),A!==null){for(e.flags|=128,wd(i,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pr(Ir,Ir.current&1|2),e.child}t=t.sibling}i.tail!==null&&Kr()>Eu&&(e.flags|=128,n=!0,wd(i,!1),e.lanes=4194304)}else{if(!n)if(t=Sp(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!Er)return On(e),null}else 2*Kr()-i.renderingStartTime>Eu&&r!==1073741824&&(e.flags|=128,n=!0,wd(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(r=i.last,r!==null?r.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Kr(),e.sibling=null,r=Ir.current,pr(Ir,n?r&1|2:r&1),e):(On(e),null);case 22:case 23:return Kw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ms&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function Yk(t,e){switch(Cw(e),e.tag){case 1:return _s(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bu(),br(Es),br(Zn),Uw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tw(e),null;case 13:if(br(Ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));xu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return br(Ir),null;case 4:return bu(),null;case 10:return Nw(e.type._context),null;case 22:case 23:return Kw(),null;case 24:return null;default:return null}}var em=!1,$n=!1,Jk=typeof WeakSet=="function"?WeakSet:Set,at=null;function Xc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lr(t,e,n)}else r.current=null}function Dv(t,e,r){try{r()}catch(n){Lr(t,e,n)}}var UB=!1;function Xk(t,e){if(xv=vp,t=DE(),Bw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var A=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(a=A+s),f!==i||n!==0&&f.nodeType!==3||(l=A+n),f.nodeType===3&&(A+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===r&&++c===s&&(a=A),p===i&&++h===n&&(l=A),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bv={focusedElem:t,selectionRange:r},vp=!1,at=e;at!==null;)if(e=at,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,at=t;else for(;at!==null;){e=at;try{var B=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var E=B.memoizedProps,I=B.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:Ti(e.type,E),I);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(P){Lr(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}return B=UB,UB=!1,B}function Xd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dv(e,r,i)}s=s.next}while(s!==n)}}function _g(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Rv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Q4(t){var e=t.alternate;e!==null&&(t.alternate=null,Q4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uA],delete e[Bh],delete e[Ev],delete e[Qk],delete e[Lk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L4(t){return t.tag===5||t.tag===3||t.tag===4}function QB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ov(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xp));else if(n!==4&&(t=t.child,t!==null))for(Ov(t,e,r),t=t.sibling;t!==null;)Ov(t,e,r),t=t.sibling}function Hv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Hv(t,e,r),t=t.sibling;t!==null;)Hv(t,e,r),t=t.sibling}var En=null,Qi=!1;function qa(t,e,r){for(r=r.child;r!==null;)j4(t,e,r),r=r.sibling}function j4(t,e,r){if(fA&&typeof fA.onCommitFiberUnmount=="function")try{fA.onCommitFiberUnmount(vg,r)}catch{}switch(r.tag){case 5:$n||Xc(r,e);case 6:var n=En,s=Qi;En=null,qa(t,e,r),En=n,Qi=s,En!==null&&(Qi?(t=En,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):En.removeChild(r.stateNode));break;case 18:En!==null&&(Qi?(t=En,r=r.stateNode,t.nodeType===8?e1(t.parentNode,r):t.nodeType===1&&e1(t,r),gh(t)):e1(En,r.stateNode));break;case 4:n=En,s=Qi,En=r.stateNode.containerInfo,Qi=!0,qa(t,e,r),En=n,Qi=s;break;case 0:case 11:case 14:case 15:if(!$n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Dv(r,e,A),s=s.next}while(s!==n)}qa(t,e,r);break;case 1:if(!$n&&(Xc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Lr(r,e,a)}qa(t,e,r);break;case 21:qa(t,e,r);break;case 22:r.mode&1?($n=(n=$n)||r.memoizedState!==null,qa(t,e,r),$n=n):qa(t,e,r);break;default:qa(t,e,r)}}function LB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Jk),e.forEach(function(n){var s=aT.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ni(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,Qi=!1;break e;case 3:En=a.stateNode.containerInfo,Qi=!0;break e;case 4:En=a.stateNode.containerInfo,Qi=!0;break e}a=a.return}if(En===null)throw Error(qe(160));j4(i,A,s),En=null,Qi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Lr(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P4(e,t),e=e.sibling}function P4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),aA(t),n&4){try{Xd(3,t,t.return),_g(3,t)}catch(E){Lr(t,t.return,E)}try{Xd(5,t,t.return)}catch(E){Lr(t,t.return,E)}}break;case 1:Ni(e,t),aA(t),n&512&&r!==null&&Xc(r,r.return);break;case 5:if(Ni(e,t),aA(t),n&512&&r!==null&&Xc(r,r.return),t.flags&32){var s=t.stateNode;try{hh(s,"")}catch(E){Lr(t,t.return,E)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iE(s,i),uv(a,A);var c=uv(a,i);for(A=0;A<l.length;A+=2){var h=l[A],f=l[A+1];h==="style"?cE(s,f):h==="dangerouslySetInnerHTML"?oE(s,f):h==="children"?hh(s,f):lw(s,h,f,c)}switch(a){case"input":Av(s,i);break;case"textarea":AE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?nu(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?nu(s,!!i.multiple,i.defaultValue,!0):nu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bh]=i}catch(E){Lr(t,t.return,E)}}break;case 6:if(Ni(e,t),aA(t),n&4){if(t.stateNode===null)throw Error(qe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Lr(t,t.return,E)}}break;case 3:if(Ni(e,t),aA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(E){Lr(t,t.return,E)}break;case 4:Ni(e,t),aA(t);break;case 13:Ni(e,t),aA(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mw=Kr())),n&4&&LB(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?($n=(c=$n)||h,Ni(e,t),$n=c):Ni(e,t),aA(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(at=t,h=t.child;h!==null;){for(f=at=h;at!==null;){switch(p=at,g=p.child,p.tag){case 0:case 11:case 14:case 15:Xd(4,p,p.return);break;case 1:Xc(p,p.return);var B=p.stateNode;if(typeof B.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,B.props=e.memoizedProps,B.state=e.memoizedState,B.componentWillUnmount()}catch(E){Lr(n,r,E)}}break;case 5:Xc(p,p.return);break;case 22:if(p.memoizedState!==null){PB(f);continue}}g!==null?(g.return=p,at=g):PB(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,A=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lE("display",A))}catch(E){Lr(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){Lr(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ni(e,t),aA(t),n&4&&LB(t);break;case 21:break;default:Ni(e,t),aA(t)}}function aA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(L4(r)){var n=r;break e}r=r.return}throw Error(qe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(hh(s,""),n.flags&=-33);var i=QB(t);Hv(t,i,s);break;case 3:case 4:var A=n.stateNode.containerInfo,a=QB(t);Ov(t,a,A);break;default:throw Error(qe(161))}}catch(l){Lr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zk(t,e,r){at=t,D4(t)}function D4(t,e,r){for(var n=(t.mode&1)!==0;at!==null;){var s=at,i=s.child;if(s.tag===22&&n){var A=s.memoizedState!==null||em;if(!A){var a=s.alternate,l=a!==null&&a.memoizedState!==null||$n;a=em;var c=$n;if(em=A,($n=l)&&!c)for(at=s;at!==null;)A=at,l=A.child,A.tag===22&&A.memoizedState!==null?DB(s):l!==null?(l.return=A,at=l):DB(s);for(;i!==null;)at=i,D4(i),i=i.sibling;at=s,em=a,$n=c}jB(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,at=i):jB(t)}}function jB(t){for(;at!==null;){var e=at;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$n||_g(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$n)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ti(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&wB(e,i,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wB(e,A,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&gh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}$n||e.flags&512&&Rv(e)}catch(p){Lr(e,e.return,p)}}if(e===t){at=null;break}if(r=e.sibling,r!==null){r.return=e.return,at=r;break}at=e.return}}function PB(t){for(;at!==null;){var e=at;if(e===t){at=null;break}var r=e.sibling;if(r!==null){r.return=e.return,at=r;break}at=e.return}}function DB(t){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{_g(4,e)}catch(l){Lr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Lr(e,s,l)}}var i=e.return;try{Rv(e)}catch(l){Lr(e,i,l)}break;case 5:var A=e.return;try{Rv(e)}catch(l){Lr(e,A,l)}}}catch(l){Lr(e,e.return,l)}if(e===t){at=null;break}var a=e.sibling;if(a!==null){a.return=e.return,at=a;break}at=e.return}}var eT=Math.ceil,Tp=ha.ReactCurrentDispatcher,Ow=ha.ReactCurrentOwner,di=ha.ReactCurrentBatchConfig,Wt=0,yn=null,nn=null,Fn=0,Ms=0,Zc=zo(0),un=0,Nh=null,Ml=0,Ig=0,Hw=0,Zd=null,xs=null,Mw=0,Eu=1/0,GA=null,Up=!1,Mv=null,bo=null,tm=!1,co=null,Qp=0,eh=0,Vv=null,qm=-1,Wm=0;function cs(){return Wt&6?Kr():qm!==-1?qm:qm=Kr()}function Co(t){return t.mode&1?Wt&2&&Fn!==0?Fn&-Fn:Pk.transition!==null?(Wm===0&&(Wm=BE()),Wm):(t=ir,t!==0||(t=window.event,t=t===void 0?16:SE(t.type)),t):1}function Pi(t,e,r,n){if(50<eh)throw eh=0,Vv=null,Error(qe(185));$h(t,r,n),(!(Wt&2)||t!==yn)&&(t===yn&&(!(Wt&2)&&(Ig|=r),un===4&&so(t,Fn)),Is(t,n),r===1&&Wt===0&&!(e.mode&1)&&(Eu=Kr()+500,bg&&Go()))}function Is(t,e){var r=t.callbackNode;P3(t,e);var n=gp(t,t===yn?Fn:0);if(n===0)r!==null&&qx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&qx(r),e===1)t.tag===0?jk(RB.bind(null,t)):WE(RB.bind(null,t)),Tk(function(){!(Wt&6)&&Go()}),r=null;else{switch(bE(n)){case 1:r=fw;break;case 4:r=wE;break;case 16:r=pp;break;case 536870912:r=xE;break;default:r=pp}r=G4(r,R4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function R4(t,e){if(qm=-1,Wm=0,Wt&6)throw Error(qe(327));var r=t.callbackNode;if(ou()&&t.callbackNode!==r)return null;var n=gp(t,t===yn?Fn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lp(t,n);else{e=n;var s=Wt;Wt|=2;var i=H4();(yn!==t||Fn!==e)&&(GA=null,Eu=Kr()+500,Tl(t,e));do try{nT();break}catch(a){O4(t,a)}while(!0);Iw(),Tp.current=i,Wt=s,nn!==null?e=0:(yn=null,Fn=0,e=un)}if(e!==0){if(e===2&&(s=pv(t),s!==0&&(n=s,e=Kv(t,s))),e===1)throw r=Nh,Tl(t,0),so(t,n),Is(t,Kr()),r;if(e===6)so(t,n);else{if(s=t.current.alternate,!(n&30)&&!tT(s)&&(e=Lp(t,n),e===2&&(i=pv(t),i!==0&&(n=i,e=Kv(t,i))),e===1))throw r=Nh,Tl(t,0),so(t,n),Is(t,Kr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(qe(345));case 2:xl(t,xs,GA);break;case 3:if(so(t,n),(n&130023424)===n&&(e=Mw+500-Kr(),10<e)){if(gp(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){cs(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Cv(xl.bind(null,t,xs,GA),e);break}xl(t,xs,GA);break;case 4:if(so(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var A=31-ji(n);i=1<<A,A=e[A],A>s&&(s=A),n&=~i}if(n=s,n=Kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eT(n/1960))-n,10<n){t.timeoutHandle=Cv(xl.bind(null,t,xs,GA),n);break}xl(t,xs,GA);break;case 5:xl(t,xs,GA);break;default:throw Error(qe(329))}}}return Is(t,Kr()),t.callbackNode===r?R4.bind(null,t):null}function Kv(t,e){var r=Zd;return t.current.memoizedState.isDehydrated&&(Tl(t,e).flags|=256),t=Lp(t,e),t!==2&&(e=xs,xs=r,e!==null&&zv(e)),t}function zv(t){xs===null?xs=t:xs.push.apply(xs,t)}function tT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ri(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~Hw,e&=~Ig,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ji(e),n=1<<r;t[r]=-1,e&=~n}}function RB(t){if(Wt&6)throw Error(qe(327));ou();var e=gp(t,0);if(!(e&1))return Is(t,Kr()),null;var r=Lp(t,e);if(t.tag!==0&&r===2){var n=pv(t);n!==0&&(e=n,r=Kv(t,n))}if(r===1)throw r=Nh,Tl(t,0),so(t,e),Is(t,Kr()),r;if(r===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xl(t,xs,GA),Is(t,Kr()),null}function Vw(t,e){var r=Wt;Wt|=1;try{return t(e)}finally{Wt=r,Wt===0&&(Eu=Kr()+500,bg&&Go())}}function Vl(t){co!==null&&co.tag===0&&!(Wt&6)&&ou();var e=Wt;Wt|=1;var r=di.transition,n=ir;try{if(di.transition=null,ir=1,t)return t()}finally{ir=n,di.transition=r,Wt=e,!(Wt&6)&&Go()}}function Kw(){Ms=Zc.current,br(Zc)}function Tl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,kk(r)),nn!==null)for(r=nn.return;r!==null;){var n=r;switch(Cw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bp();break;case 3:bu(),br(Es),br(Zn),Uw();break;case 5:Tw(n);break;case 4:bu();break;case 13:br(Ir);break;case 19:br(Ir);break;case 10:Nw(n.type._context);break;case 22:case 23:Kw()}r=r.return}if(yn=t,nn=t=Eo(t.current,null),Fn=Ms=e,un=0,Nh=null,Hw=Ig=Ml=0,xs=Zd=null,Il!==null){for(e=0;e<Il.length;e++)if(r=Il[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var A=i.next;i.next=s,n.next=A}r.pending=n}Il=null}return t}function O4(t,e){do{var r=nn;try{if(Iw(),Km.current=kp,Fp){for(var n=Nr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fp=!1}if(Hl=0,pn=ln=Nr=null,Jd=!1,Eh=0,Ow.current=null,r===null||r.return===null){un=1,Nh=e,nn=null;break}e:{var i=t,A=r.return,a=r,l=e;if(e=Fn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=_B(A);if(g!==null){g.flags&=-257,IB(g,A,a,i,e),g.mode&1&&EB(i,c,e),e=g,l=c;var B=e.updateQueue;if(B===null){var E=new Set;E.add(l),e.updateQueue=E}else B.add(l);break e}else{if(!(e&1)){EB(i,c,e),zw();break e}l=Error(qe(426))}}else if(Er&&a.mode&1){var I=_B(A);if(I!==null){!(I.flags&65536)&&(I.flags|=256),IB(I,A,a,i,e),Ew(Cu(l,a));break e}}i=l=Cu(l,a),un!==4&&(un=2),Zd===null?Zd=[i]:Zd.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=b4(i,l,e);yB(i,w);break e;case 1:a=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(bo===null||!bo.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=C4(i,a,e);yB(i,P);break e}}i=i.return}while(i!==null)}V4(r)}catch(H){e=H,nn===r&&r!==null&&(nn=r=r.return);continue}break}while(!0)}function H4(){var t=Tp.current;return Tp.current=kp,t===null?kp:t}function zw(){(un===0||un===3||un===2)&&(un=4),yn===null||!(Ml&268435455)&&!(Ig&268435455)||so(yn,Fn)}function Lp(t,e){var r=Wt;Wt|=2;var n=H4();(yn!==t||Fn!==e)&&(GA=null,Tl(t,e));do try{rT();break}catch(s){O4(t,s)}while(!0);if(Iw(),Wt=r,Tp.current=n,nn!==null)throw Error(qe(261));return yn=null,Fn=0,un}function rT(){for(;nn!==null;)M4(nn)}function nT(){for(;nn!==null&&!N3();)M4(nn)}function M4(t){var e=z4(t.alternate,t,Ms);t.memoizedProps=t.pendingProps,e===null?V4(t):nn=e,Ow.current=null}function V4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Yk(r,e),r!==null){r.flags&=32767,nn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,nn=null;return}}else if(r=$k(r,e,Ms),r!==null){nn=r;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);un===0&&(un=5)}function xl(t,e,r){var n=ir,s=di.transition;try{di.transition=null,ir=1,sT(t,e,r,n)}finally{di.transition=s,ir=n}return null}function sT(t,e,r,n){do ou();while(co!==null);if(Wt&6)throw Error(qe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(D3(t,i),t===yn&&(nn=yn=null,Fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tm||(tm=!0,G4(pp,function(){return ou(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=di.transition,di.transition=null;var A=ir;ir=1;var a=Wt;Wt|=4,Ow.current=null,Xk(t,r),P4(r,t),Ck(Bv),vp=!!xv,Bv=xv=null,t.current=r,Zk(r),S3(),Wt=a,ir=A,di.transition=i}else t.current=r;if(tm&&(tm=!1,co=t,Qp=s),i=t.pendingLanes,i===0&&(bo=null),T3(r.stateNode),Is(t,Kr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Up)throw Up=!1,t=Mv,Mv=null,t;return Qp&1&&t.tag!==0&&ou(),i=t.pendingLanes,i&1?t===Vv?eh++:(eh=0,Vv=t):eh=0,Go(),null}function ou(){if(co!==null){var t=bE(Qp),e=di.transition,r=ir;try{if(di.transition=null,ir=16>t?16:t,co===null)var n=!1;else{if(t=co,co=null,Qp=0,Wt&6)throw Error(qe(331));var s=Wt;for(Wt|=4,at=t.current;at!==null;){var i=at,A=i.child;if(at.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(at=c;at!==null;){var h=at;switch(h.tag){case 0:case 11:case 15:Xd(8,h,i)}var f=h.child;if(f!==null)f.return=h,at=f;else for(;at!==null;){h=at;var p=h.sibling,g=h.return;if(Q4(h),h===c){at=null;break}if(p!==null){p.return=g,at=p;break}at=g}}}var B=i.alternate;if(B!==null){var E=B.child;if(E!==null){B.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}at=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,at=A;else e:for(;at!==null;){if(i=at,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xd(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,at=w;break e}at=i.return}}var y=t.current;for(at=y;at!==null;){A=at;var _=A.child;if(A.subtreeFlags&2064&&_!==null)_.return=A,at=_;else e:for(A=y;at!==null;){if(a=at,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_g(9,a)}}catch(H){Lr(a,a.return,H)}if(a===A){at=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,at=P;break e}at=a.return}}if(Wt=s,Go(),fA&&typeof fA.onPostCommitFiberRoot=="function")try{fA.onPostCommitFiberRoot(vg,t)}catch{}n=!0}return n}finally{ir=r,di.transition=e}}return!1}function OB(t,e,r){e=Cu(r,e),e=b4(t,e,1),t=Bo(t,e,1),e=cs(),t!==null&&($h(t,1,e),Is(t,e))}function Lr(t,e,r){if(t.tag===3)OB(t,t,r);else for(;e!==null;){if(e.tag===3){OB(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n))){t=Cu(r,t),t=C4(e,t,1),e=Bo(e,t,1),t=cs(),e!==null&&($h(e,1,t),Is(e,t));break}}e=e.return}}function iT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cs(),t.pingedLanes|=t.suspendedLanes&r,yn===t&&(Fn&r)===r&&(un===4||un===3&&(Fn&130023424)===Fn&&500>Kr()-Mw?Tl(t,0):Hw|=r),Is(t,e)}function K4(t,e){e===0&&(t.mode&1?(e=zf,zf<<=1,!(zf&130023424)&&(zf=4194304)):e=1);var r=cs();t=ia(t,e),t!==null&&($h(t,e,r),Is(t,r))}function AT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),K4(t,r)}function aT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(qe(314))}n!==null&&n.delete(e),K4(t,r)}var z4;z4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Es.current)bs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return bs=!1,Wk(t,e,r);bs=!!(t.flags&131072)}else bs=!1,Er&&e.flags&1048576&&$E(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gm(t,e),t=e.pendingProps;var s=wu(e,Zn.current);au(e,r),s=Lw(null,e,n,t,s,r);var i=jw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_s(n)?(i=!0,bp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fw(e),s.updater=Eg,e.stateNode=s,s._reactInternals=e,kv(e,n,t,r),e=Qv(null,e,n,!0,i,r)):(e.tag=0,Er&&i&&bw(e),ls(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gm(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=lT(n),t=Ti(n,t),s){case 0:e=Uv(null,e,n,t,r);break e;case 1:e=FB(null,e,n,t,r);break e;case 11:e=NB(null,e,n,t,r);break e;case 14:e=SB(null,e,n,Ti(n.type,t),r);break e}throw Error(qe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),Uv(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),FB(t,e,n,s,r);case 3:e:{if(N4(e),t===null)throw Error(qe(387));n=e.pendingProps,i=e.memoizedState,s=i.element,t4(t,e),Np(e,n,null,r);var A=e.memoizedState;if(n=A.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Cu(Error(qe(423)),e),e=kB(t,e,n,r,s);break e}else if(n!==s){s=Cu(Error(qe(424)),e),e=kB(t,e,n,r,s);break e}else for(Ks=xo(e.stateNode.containerInfo.firstChild),qs=e,Er=!0,Li=null,r=ZE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xu(),n===s){e=Aa(t,e,r);break e}ls(t,e,n,r)}e=e.child}return e;case 5:return r4(e),t===null&&Nv(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,bv(n,s)?A=null:i!==null&&bv(n,i)&&(e.flags|=32),I4(t,e),ls(t,e,A,r),e.child;case 6:return t===null&&Nv(e),null;case 13:return S4(t,e,r);case 4:return kw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Bu(e,null,n,r):ls(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),NB(t,e,n,s,r);case 7:return ls(t,e,e.pendingProps,r),e.child;case 8:return ls(t,e,e.pendingProps.children,r),e.child;case 12:return ls(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,pr(_p,n._currentValue),n._currentValue=A,i!==null)if(Ri(i.value,A)){if(i.children===s.children&&!Es.current){e=Aa(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ta(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Sv(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(qe(341));A.lanes|=r,a=A.alternate,a!==null&&(a.lanes|=r),Sv(A,r,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}ls(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,au(e,r),s=fi(s),n=n(s),e.flags|=1,ls(t,e,n,r),e.child;case 14:return n=e.type,s=Ti(n,e.pendingProps),s=Ti(n.type,s),SB(t,e,n,s,r);case 15:return E4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ti(n,s),Gm(t,e),e.tag=1,_s(n)?(t=!0,bp(e)):t=!1,au(e,r),B4(e,n,s),kv(e,n,s,r),Qv(null,e,n,!0,t,r);case 19:return F4(t,e,r);case 22:return _4(t,e,r)}throw Error(qe(156,e.tag))};function G4(t,e){return yE(t,e)}function oT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(t,e,r,n){return new oT(t,e,r,n)}function Gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lT(t){if(typeof t=="function")return Gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===dw)return 14}return 2}function Eo(t,e){var r=t.alternate;return r===null?(r=li(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $m(t,e,r,n,s,i){var A=2;if(n=t,typeof t=="function")Gw(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Vc:return Ul(r.children,s,i,e);case cw:A=8,s|=8;break;case tv:return t=li(12,r,e,s|2),t.elementType=tv,t.lanes=i,t;case rv:return t=li(13,r,e,s),t.elementType=rv,t.lanes=i,t;case nv:return t=li(19,r,e,s),t.elementType=nv,t.lanes=i,t;case rE:return Ng(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eE:A=10;break e;case tE:A=9;break e;case uw:A=11;break e;case dw:A=14;break e;case eo:A=16,n=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=li(A,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ul(t,e,r,n){return t=li(7,t,n,e),t.lanes=r,t}function Ng(t,e,r,n){return t=li(22,t,n,e),t.elementType=rE,t.lanes=r,t.stateNode={isHidden:!1},t}function o1(t,e,r){return t=li(6,t,null,e),t.lanes=r,t}function l1(t,e,r){return e=li(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cT(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V0(0),this.expirationTimes=V0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qw(t,e,r,n,s,i,A,a,l){return t=new cT(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=li(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fw(i),t}function uT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function q4(t){if(!t)return jo;t=t._reactInternals;e:{if(Yl(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_s(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var r=t.type;if(_s(r))return qE(t,r,e)}return e}function W4(t,e,r,n,s,i,A,a,l){return t=qw(r,n,!0,t,s,i,A,a,l),t.context=q4(null),r=t.current,n=cs(),s=Co(r),i=ta(n,s),i.callback=e??null,Bo(r,i,s),t.current.lanes=s,$h(t,s,n),Is(t,n),t}function Sg(t,e,r,n){var s=e.current,i=cs(),A=Co(s);return r=q4(r),e.context===null?e.context=r:e.pendingContext=r,e=ta(i,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bo(s,e,A),t!==null&&(Pi(t,s,A,i),Vm(t,s,A)),A}function jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ww(t,e){HB(t,e),(t=t.alternate)&&HB(t,e)}function dT(){return null}var $4=typeof reportError=="function"?reportError:function(t){console.error(t)};function $w(t){this._internalRoot=t}Fg.prototype.render=$w.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));Sg(t,e,null,null)};Fg.prototype.unmount=$w.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vl(function(){Sg(null,t,null,null)}),e[sa]=null}};function Fg(t){this._internalRoot=t}Fg.prototype.unstable_scheduleHydration=function(t){if(t){var e=_E();t={blockedOn:null,target:t,priority:e};for(var r=0;r<no.length&&e!==0&&e<no[r].priority;r++);no.splice(r,0,t),r===0&&NE(t)}};function Yw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MB(){}function hT(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=jp(A);i.call(c)}}var A=W4(e,n,t,0,null,!1,!1,"",MB);return t._reactRootContainer=A,t[sa]=A.current,wh(t.nodeType===8?t.parentNode:t),Vl(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=jp(l);a.call(c)}}var l=qw(t,0,!1,null,null,!1,!1,"",MB);return t._reactRootContainer=l,t[sa]=l.current,wh(t.nodeType===8?t.parentNode:t),Vl(function(){Sg(e,l,r,n)}),l}function Tg(t,e,r,n,s){var i=r._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var l=jp(A);a.call(l)}}Sg(e,A,t,s)}else A=hT(r,e,t,s,n);return jp(A)}CE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kd(e.pendingLanes);r!==0&&(mw(e,r|1),Is(e,Kr()),!(Wt&6)&&(Eu=Kr()+500,Go()))}break;case 13:Vl(function(){var n=ia(t,1);if(n!==null){var s=cs();Pi(n,t,1,s)}}),Ww(t,1)}};pw=function(t){if(t.tag===13){var e=ia(t,134217728);if(e!==null){var r=cs();Pi(e,t,134217728,r)}Ww(t,134217728)}};EE=function(t){if(t.tag===13){var e=Co(t),r=ia(t,e);if(r!==null){var n=cs();Pi(r,t,e,n)}Ww(t,e)}};_E=function(){return ir};IE=function(t,e){var r=ir;try{return ir=t,e()}finally{ir=r}};hv=function(t,e,r){switch(e){case"input":if(Av(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Bg(n);if(!s)throw Error(qe(90));sE(n),Av(n,s)}}}break;case"textarea":AE(t,r);break;case"select":e=r.value,e!=null&&nu(t,!!r.multiple,e,!1)}};hE=Vw;fE=Vl;var fT={usingClientEntryPoint:!1,Events:[Jh,qc,Bg,uE,dE,Vw]},xd={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mT={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gE(t),t===null?null:t.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||dT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{vg=rm.inject(mT),fA=rm}catch{}}$s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fT;$s.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yw(e))throw Error(qe(200));return uT(t,e,null,r)};$s.createRoot=function(t,e){if(!Yw(t))throw Error(qe(299));var r=!1,n="",s=$4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qw(t,1,!1,null,null,r,!1,n,s),t[sa]=e.current,wh(t.nodeType===8?t.parentNode:t),new $w(e)};$s.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=gE(e),t=t===null?null:t.stateNode,t};$s.flushSync=function(t){return Vl(t)};$s.hydrate=function(t,e,r){if(!kg(e))throw Error(qe(200));return Tg(null,t,e,!0,r)};$s.hydrateRoot=function(t,e,r){if(!Yw(t))throw Error(qe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",A=$4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=W4(e,null,t,1,r??null,s,!1,i,A),t[sa]=e.current,wh(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Fg(e)};$s.render=function(t,e,r){if(!kg(e))throw Error(qe(200));return Tg(null,t,e,!1,r)};$s.unmountComponentAtNode=function(t){if(!kg(t))throw Error(qe(40));return t._reactRootContainer?(Vl(function(){Tg(null,null,t,!1,function(){t._reactRootContainer=null,t[sa]=null})}),!0):!1};$s.unstable_batchedUpdates=Vw;$s.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kg(r))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return Tg(t,e,r,!1,n)};$s.version="18.3.1-next-f1338f8080-20240426";function Y4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y4)}catch(t){console.error(t)}}Y4(),YC.exports=$s;var pT=YC.exports,J4,VB=pT;J4=VB.createRoot,VB.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sh.apply(this,arguments)}var uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uo||(uo={}));const KB="popstate";function gT(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:A,hash:a}=n.location;return Gv("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pp(s)}return yT(e,r,null,t)}function jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vT(){return Math.random().toString(36).substr(2,8)}function zB(t,e){return{usr:t.state,key:t.key,idx:e}}function Gv(t,e,r,n){return r===void 0&&(r=null),Sh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hu(e):e,{state:r,key:e&&e.key||n||vT()})}function Pp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function yT(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,A=s.history,a=uo.Pop,l=null,c=h();c==null&&(c=0,A.replaceState(Sh({},A.state,{idx:c}),""));function h(){return(A.state||{idx:null}).idx}function f(){a=uo.Pop;let I=h(),w=I==null?null:I-c;c=I,l&&l({action:a,location:E.location,delta:w})}function p(I,w){a=uo.Push;let y=Gv(E.location,I,w);c=h()+1;let _=zB(y,c),P=E.createHref(y);try{A.pushState(_,"",P)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(P)}i&&l&&l({action:a,location:E.location,delta:1})}function g(I,w){a=uo.Replace;let y=Gv(E.location,I,w);c=h();let _=zB(y,c),P=E.createHref(y);A.replaceState(_,"",P),i&&l&&l({action:a,location:E.location,delta:0})}function B(I){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof I=="string"?I:Pp(I);return y=y.replace(/ $/,"%20"),jr(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let E={get action(){return a},get location(){return t(s,A)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(KB,f),l=I,()=>{s.removeEventListener(KB,f),l=null}},createHref(I){return e(s,I)},createURL:B,encodeLocation(I){let w=B(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(I){return A.go(I)}};return E}var GB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(GB||(GB={}));function wT(t,e,r){return r===void 0&&(r="/"),xT(t,e,r,!1)}function xT(t,e,r,n){let s=typeof e=="string"?Hu(e):e,i=_u(s.pathname||"/",r);if(i==null)return null;let A=Z4(t);BT(A);let a=null;for(let l=0;a==null&&l<A.length;++l){let c=UT(i);a=kT(A[l],c,n)}return a}function Z4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,A,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};l.relativePath.startsWith("/")&&(jr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=_o([n,l.relativePath]),h=r.concat(l);i.children&&i.children.length>0&&(jr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Z4(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ST(c,i.index),routesMeta:h})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let l of e_(i.path))s(i,A,l)}),e}function e_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let A=e_(n.join("/")),a=[];return a.push(...A.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...A),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function BT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:FT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const bT=/^:[\w-]+$/,CT=3,ET=2,_T=1,IT=10,NT=-2,qB=t=>t==="*";function ST(t,e){let r=t.split("/"),n=r.length;return r.some(qB)&&(n+=NT),e&&(n+=ET),r.filter(s=>!qB(s)).reduce((s,i)=>s+(bT.test(i)?CT:i===""?_T:IT),n)}function FT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function kT(t,e,r){let{routesMeta:n}=t,s={},i="/",A=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),A.push({params:s,pathname:_o([i,f.pathname]),pathnameBase:PT(_o([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=_o([i,f.pathnameBase]))}return A}function Dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=TT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let E=a[f]||"";A=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const B=a[f];return g&&!B?c[p]=void 0:c[p]=(B||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:t}}function TT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),X4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function UT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _u(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function QT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Hu(t):t;return{pathname:r?r.startsWith("/")?r:LT(r,e):e,search:DT(n),hash:RT(s)}}function LT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function c1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function t_(t,e){let r=jT(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function r_(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Hu(t):(s=Sh({},t),jr(!s.pathname||!s.pathname.includes("?"),c1("?","pathname","search",s)),jr(!s.pathname||!s.pathname.includes("#"),c1("#","pathname","hash",s)),jr(!s.search||!s.search.includes("#"),c1("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=r;else{let f=e.length-1;if(!n&&A.startsWith("..")){let p=A.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=QT(s,a),c=A&&A!=="/"&&A.endsWith("/"),h=(i||A===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const _o=t=>t.join("/").replace(/\/\/+/g,"/"),PT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n_=["post","put","patch","delete"];new Set(n_);const HT=["get",...n_];new Set(HT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fh.apply(this,arguments)}const Ug=ce.createContext(null),s_=ce.createContext(null),qo=ce.createContext(null),Qg=ce.createContext(null),Wo=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),i_=ce.createContext(null);function MT(t,e){let{relative:r}=e===void 0?{}:e;Zh()||jr(!1);let{basename:n,navigator:s}=ce.useContext(qo),{hash:i,pathname:A,search:a}=Lg(t,{relative:r}),l=A;return n!=="/"&&(l=A==="/"?n:_o([n,A])),s.createHref({pathname:l,search:a,hash:i})}function Zh(){return ce.useContext(Qg)!=null}function $o(){return Zh()||jr(!1),ce.useContext(Qg).location}function A_(t){ce.useContext(qo).static||ce.useLayoutEffect(t)}function Jl(){let{isDataRoute:t}=ce.useContext(Wo);return t?nU():VT()}function VT(){Zh()||jr(!1);let t=ce.useContext(Ug),{basename:e,future:r,navigator:n}=ce.useContext(qo),{matches:s}=ce.useContext(Wo),{pathname:i}=$o(),A=JSON.stringify(t_(s,r.v7_relativeSplatPath)),a=ce.useRef(!1);return A_(()=>{a.current=!0}),ce.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=r_(c,JSON.parse(A),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:_o([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,A,i,t])}const KT=ce.createContext(null);function zT(t){let e=ce.useContext(Wo).outlet;return e&&ce.createElement(KT.Provider,{value:t},e)}function Lg(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ce.useContext(qo),{matches:s}=ce.useContext(Wo),{pathname:i}=$o(),A=JSON.stringify(t_(s,n.v7_relativeSplatPath));return ce.useMemo(()=>r_(t,JSON.parse(A),i,r==="path"),[t,A,i,r])}function GT(t,e){return qT(t,e)}function qT(t,e,r,n){Zh()||jr(!1);let{navigator:s}=ce.useContext(qo),{matches:i}=ce.useContext(Wo),A=i[i.length-1],a=A?A.params:{};A&&A.pathname;let l=A?A.pathnameBase:"/";A&&A.route;let c=$o(),h;if(e){var f;let I=typeof e=="string"?Hu(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||jr(!1),h=I}else h=c;let p=h.pathname||"/",g=p;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let B=wT(t,{pathname:g}),E=XT(B&&B.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:_o([l,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:_o([l,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,r,n);return e&&E?ce.createElement(Qg.Provider,{value:{location:Fh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:uo.Pop}},E):E}function WT(){let t=rU(),e=OT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),r?ce.createElement("pre",{style:s},r):null,null)}const $T=ce.createElement(WT,null);class YT extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ce.createElement(Wo.Provider,{value:this.props.routeContext},ce.createElement(i_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JT(t){let{routeContext:e,match:r,children:n}=t,s=ce.useContext(Ug);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),ce.createElement(Wo.Provider,{value:e},n)}function XT(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let A=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let h=A.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||jr(!1),A=A.slice(0,Math.min(A.length,h+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<A.length;h++){let f=A[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=r,B=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||B){l=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((h,f,p)=>{let g,B=!1,E=null,I=null;r&&(g=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||$T,l&&(c<0&&p===0?(B=!0,I=null):c===p&&(B=!0,I=f.route.hydrateFallbackElement||null)));let w=e.concat(A.slice(0,p+1)),y=()=>{let _;return g?_=E:B?_=I:f.route.Component?_=ce.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,ce.createElement(JT,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?ce.createElement(YT,{location:r.location,revalidation:r.revalidation,component:E,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var a_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(a_||{}),Rp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rp||{});function ZT(t){let e=ce.useContext(Ug);return e||jr(!1),e}function eU(t){let e=ce.useContext(s_);return e||jr(!1),e}function tU(t){let e=ce.useContext(Wo);return e||jr(!1),e}function o_(t){let e=tU(),r=e.matches[e.matches.length-1];return r.route.id||jr(!1),r.route.id}function rU(){var t;let e=ce.useContext(i_),r=eU(Rp.UseRouteError),n=o_(Rp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function nU(){let{router:t}=ZT(a_.UseNavigateStable),e=o_(Rp.UseNavigateStable),r=ce.useRef(!1);return A_(()=>{r.current=!0}),ce.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fh({fromRouteId:e},i)))},[t,e])}function sU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function iU(t){return zT(t.context)}function Os(t){jr(!1)}function AU(t){let{basename:e="/",children:r=null,location:n,navigationType:s=uo.Pop,navigator:i,static:A=!1,future:a}=t;Zh()&&jr(!1);let l=e.replace(/^\/*/,"/"),c=ce.useMemo(()=>({basename:l,navigator:i,static:A,future:Fh({v7_relativeSplatPath:!1},a)}),[l,a,i,A]);typeof n=="string"&&(n=Hu(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:B="default"}=n,E=ce.useMemo(()=>{let I=_u(h,l);return I==null?null:{location:{pathname:I,search:f,hash:p,state:g,key:B},navigationType:s}},[l,h,f,p,g,B,s]);return E==null?null:ce.createElement(qo.Provider,{value:c},ce.createElement(Qg.Provider,{children:r,value:E}))}function aU(t){let{children:e,location:r}=t;return GT(qv(e),r)}new Promise(()=>{});function qv(t,e){e===void 0&&(e=[]);let r=[];return ce.Children.forEach(t,(n,s)=>{if(!ce.isValidElement(n))return;let i=[...e,s];if(n.type===ce.Fragment){r.push.apply(r,qv(n.props.children,i));return}n.type!==Os&&jr(!1),!n.props.index||!n.props.children||jr(!1);let A={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=qv(n.props.children,i)),r.push(A)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(this,arguments)}function l_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function oU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lU(t,e){return t.button===0&&(!e||e==="_self")&&!oU(t)}const cU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dU="6";try{window.__reactRouterVersion=dU}catch{}const hU=ce.createContext({isTransitioning:!1}),fU="startTransition",WB=i3[fU];function mU(t){let{basename:e,children:r,future:n,window:s}=t,i=ce.useRef();i.current==null&&(i.current=gT({window:s,v5Compat:!0}));let A=i.current,[a,l]=ce.useState({action:A.action,location:A.location}),{v7_startTransition:c}=n||{},h=ce.useCallback(f=>{c&&WB?WB(()=>l(f)):l(f)},[l,c]);return ce.useLayoutEffect(()=>A.listen(h),[A,h]),ce.useEffect(()=>sU(n),[n]),ce.createElement(AU,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:A,future:n})}const pU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vU=ce.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:A,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=l_(e,cU),{basename:g}=ce.useContext(qo),B,E=!1;if(typeof c=="string"&&gU.test(c)&&(B=c,pU))try{let _=new URL(window.location.href),P=c.startsWith("//")?new URL(_.protocol+c):new URL(c),H=_u(P.pathname,g);P.origin===_.origin&&H!=null?c=H+P.search+P.hash:E=!0}catch{}let I=MT(c,{relative:s}),w=xU(c,{replace:A,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function y(_){n&&n(_),_.defaultPrevented||w(_)}return ce.createElement("a",Op({},p,{href:B||I,onClick:E||i?n:y,ref:r,target:l}))}),yU=ce.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:A=!1,style:a,to:l,viewTransition:c,children:h}=e,f=l_(e,uU),p=Lg(l,{relative:f.relative}),g=$o(),B=ce.useContext(s_),{navigator:E,basename:I}=ce.useContext(qo),w=B!=null&&BU(p)&&c===!0,y=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,_=g.pathname,P=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;s||(_=_.toLowerCase(),P=P?P.toLowerCase():null,y=y.toLowerCase()),P&&I&&(P=_u(P,I)||P);const H=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let W=_===y||!A&&_.startsWith(y)&&_.charAt(H)==="/",T=P!=null&&(P===y||!A&&P.startsWith(y)&&P.charAt(y.length)==="/"),b={isActive:W,isPending:T,isTransitioning:w},k=W?n:void 0,j;typeof i=="function"?j=i(b):j=[i,W?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(b):a;return ce.createElement(vU,Op({},f,{"aria-current":k,className:j,ref:r,style:N,to:l,viewTransition:c}),typeof h=="function"?h(b):h)});var Wv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wv||(Wv={}));var $B;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($B||($B={}));function wU(t){let e=ce.useContext(Ug);return e||jr(!1),e}function xU(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,l=Jl(),c=$o(),h=Lg(t,{relative:A});return ce.useCallback(f=>{if(lU(f,r)){f.preventDefault();let p=n!==void 0?n:Pp(c)===Pp(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[c,l,h,n,s,r,t,i,A,a])}function BU(t,e){e===void 0&&(e={});let r=ce.useContext(hU);r==null&&jr(!1);let{basename:n}=wU(Wv.useViewTransitionState),s=Lg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=_u(r.currentLocation.pathname,n)||r.currentLocation.pathname,A=_u(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dp(s.pathname,A)!=null||Dp(s.pathname,i)!=null}var YB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},bU=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],A=t[r++],a=t[r++],l=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],A=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,A||(p=64)),n.push(r[h],r[f],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const c=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new CU;const p=i<<2|a>>4;if(n.push(p),c!==64){const g=a<<4&240|c>>2;if(n.push(g),f!==64){const B=c<<6&192|f;n.push(B)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EU=function(t){const e=c_(t);return u_.encodeByteArray(e,!0)},Hp=function(t){return EU(t).replace(/\./g,"")},d_=function(t){try{return u_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=()=>_U().__FIREBASE_DEFAULTS__,NU=()=>{if(typeof process>"u"||typeof YB>"u")return;const t=YB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d_(t[1]);return e&&JSON.parse(e)},jg=()=>{try{return IU()||NU()||SU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h_=t=>{var e,r;return(r=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},FU=t=>{const e=h_(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},f_=()=>{var t;return(t=jg())===null||t===void 0?void 0:t.config},m_=t=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hp(JSON.stringify(r)),Hp(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(es())}function QU(){var t;const e=(t=jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DU(){const t=es();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RU(){return!QU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OU(){try{return typeof indexedDB=="object"}catch{return!1}}function HU(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="FirebaseError";class fa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=MU,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?VU(i,n):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new fa(s,a,n)}}function VU(t,e){return t.replace(KU,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const KU=/\{\$([^}]+)}/g;function zU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],A=e[s];if(JB(i)&&JB(A)){if(!Mp(i,A))return!1}else if(i!==A)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function JB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Qd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function GU(t,e){const r=new qU(t,e);return r.subscribe.bind(r)}class qU{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");WU(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=u1),s.error===void 0&&(s.error=u1),s.complete===void 0&&(s.complete=u1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WU(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function u1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class Kl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new kU;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JU(e))try{this.getOrInitializeService({instanceIdentifier:Bl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bl){return this.instances.has(e)}getOptions(e=Bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&A.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:YU(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Bl){return this.component?this.component.multipleInstances?e:Bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YU(t){return t===Bl?void 0:t}function JU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new $U(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const ZU={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},eQ=Mt.INFO,tQ={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},rQ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=tQ[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Jw=class{constructor(e){this.name=e,this._logLevel=eQ,this._logHandler=rQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}};const nQ=(t,e)=>e.some(r=>t instanceof r);let XB,ZB;function sQ(){return XB||(XB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iQ(){return ZB||(ZB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p_=new WeakMap,$v=new WeakMap,g_=new WeakMap,d1=new WeakMap,Xw=new WeakMap;function AQ(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{r(Io(t.result)),s()},A=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&p_.set(r,t)}).catch(()=>{}),Xw.set(e,t),e}function aQ(t){if($v.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{r(),s()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});$v.set(t,e)}let Yv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return $v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g_.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Io(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oQ(t){Yv=t(Yv)}function lQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(h1(this),e,...r);return g_.set(n,e.sort?e.sort():[e]),Io(n)}:iQ().includes(t)?function(...e){return t.apply(h1(this),e),Io(p_.get(this))}:function(...e){return Io(t.apply(h1(this),e))}}function cQ(t){return typeof t=="function"?lQ(t):(t instanceof IDBTransaction&&aQ(t),nQ(t,sQ())?new Proxy(t,Yv):t)}function Io(t){if(t instanceof IDBRequest)return AQ(t);if(d1.has(t))return d1.get(t);const e=cQ(t);return e!==t&&(d1.set(t,e),Xw.set(e,t)),e}const h1=t=>Xw.get(t);function uQ(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=Io(A);return n&&A.addEventListener("upgradeneeded",l=>{n(Io(A.result),l.oldVersion,l.newVersion,Io(A.transaction),l)}),r&&A.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const dQ=["get","getKey","getAll","getAllKeys","count"],hQ=["put","add","delete","clear"],f1=new Map;function eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f1.get(e))return f1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=hQ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||dQ.includes(r)))return;const i=async function(A,...a){const l=this.transaction(A,s?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),s&&l.done]))[0]};return f1.set(e,i),i}oQ(t=>({...t,get:(e,r,n)=>eb(e,r)||t.get(e,r,n),has:(e,r)=>!!eb(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(mQ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function mQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jv="@firebase/app",tb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Jw("@firebase/app"),pQ="@firebase/app-compat",gQ="@firebase/analytics-compat",vQ="@firebase/analytics",yQ="@firebase/app-check-compat",wQ="@firebase/app-check",xQ="@firebase/auth",BQ="@firebase/auth-compat",bQ="@firebase/database",CQ="@firebase/data-connect",EQ="@firebase/database-compat",_Q="@firebase/functions",IQ="@firebase/functions-compat",NQ="@firebase/installations",SQ="@firebase/installations-compat",FQ="@firebase/messaging",kQ="@firebase/messaging-compat",TQ="@firebase/performance",UQ="@firebase/performance-compat",QQ="@firebase/remote-config",LQ="@firebase/remote-config-compat",jQ="@firebase/storage",PQ="@firebase/storage-compat",DQ="@firebase/firestore",RQ="@firebase/vertexai-preview",OQ="@firebase/firestore-compat",HQ="firebase",MQ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="[DEFAULT]",VQ={[Jv]:"fire-core",[pQ]:"fire-core-compat",[vQ]:"fire-analytics",[gQ]:"fire-analytics-compat",[wQ]:"fire-app-check",[yQ]:"fire-app-check-compat",[xQ]:"fire-auth",[BQ]:"fire-auth-compat",[bQ]:"fire-rtdb",[CQ]:"fire-data-connect",[EQ]:"fire-rtdb-compat",[_Q]:"fire-fn",[IQ]:"fire-fn-compat",[NQ]:"fire-iid",[SQ]:"fire-iid-compat",[FQ]:"fire-fcm",[kQ]:"fire-fcm-compat",[TQ]:"fire-perf",[UQ]:"fire-perf-compat",[QQ]:"fire-rc",[LQ]:"fire-rc-compat",[jQ]:"fire-gcs",[PQ]:"fire-gcs-compat",[DQ]:"fire-fst",[OQ]:"fire-fst-compat",[RQ]:"fire-vertex","fire-js":"fire-js",[HQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,KQ=new Map,Zv=new Map;function rb(t,e){try{t.container.addComponent(e)}catch(r){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Iu(t){const e=t.name;if(Zv.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Zv.set(e,t);for(const r of Vp.values())rb(r,t);for(const r of KQ.values())rb(r,t);return!0}function Zw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function JA(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new ef("app","Firebase",zQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=MQ;function v_(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Xv,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw No.create("bad-app-name",{appName:String(s)});if(r||(r=f_()),!r)throw No.create("no-options");const i=Vp.get(s);if(i){if(Mp(r,i.options)&&Mp(n,i.config))return i;throw No.create("duplicate-app",{appName:s})}const A=new XU(s);for(const l of Zv.values())A.addComponent(l);const a=new GQ(r,n,A);return Vp.set(s,a),a}function y_(t=Xv){const e=Vp.get(t);if(!e&&t===Xv&&f_())return v_();if(!e)throw No.create("no-app",{appName:t});return e}function So(t,e,r){var n;let s=(n=VQ[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}Iu(new Kl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ="firebase-heartbeat-database",WQ=1,kh="firebase-heartbeat-store";let m1=null;function w_(){return m1||(m1=uQ(qQ,WQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(r){console.warn(r)}}}}).catch(t=>{throw No.create("idb-open",{originalErrorMessage:t.message})})),m1}async function $Q(t){try{const r=(await w_()).transaction(kh),n=await r.objectStore(kh).get(x_(t));return await r.done,n}catch(e){if(e instanceof fa)aa.warn(e.message);else{const r=No.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(r.message)}}}async function nb(t,e){try{const n=(await w_()).transaction(kh,"readwrite");await n.objectStore(kh).put(e,x_(t)),await n.done}catch(r){if(r instanceof fa)aa.warn(r.message);else{const n=No.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});aa.warn(n.message)}}}function x_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ=1024,JQ=30*24*60*60*1e3;class XQ{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new eL(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=JQ}),this._storage.overwrite(this._heartbeatsCache))}catch(n){aa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=sb(),{heartbeatsToSend:n,unsentEntries:s}=ZQ(this._heartbeatsCache.heartbeats),i=Hp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return aa.warn(r),""}}}function sb(){return new Date().toISOString().substring(0,10)}function ZQ(t,e=YQ){const r=[];let n=t.slice();for(const s of t){const i=r.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),ib(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),ib(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class eL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OU()?HU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await $Q(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ib(t){return Hp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){Iu(new Kl("platform-logger",e=>new fQ(e),"PRIVATE")),Iu(new Kl("heartbeat",e=>new XQ(e),"PRIVATE")),So(Jv,tb,t),So(Jv,tb,"esm2017"),So("fire-js","")}tL("");function e2(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function B_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rL=B_,b_=new ef("auth","Firebase",B_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Jw("@firebase/auth");function nL(t,...e){Kp.logLevel<=Mt.WARN&&Kp.warn(`Auth (${Mu}): ${t}`,...e)}function Ym(t,...e){Kp.logLevel<=Mt.ERROR&&Kp.error(`Auth (${Mu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,...e){throw t2(t,...e)}function pA(t,...e){return t2(t,...e)}function C_(t,e,r){const n=Object.assign(Object.assign({},rL()),{[e]:r});return new ef("auth","Firebase",n).create(e,{appName:t.name})}function Fo(t){return C_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t2(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return b_.create(t,...e)}function wt(t,e,...r){if(!t)throw t2(e,...r)}function XA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ym(e),new Error(e)}function oa(t,e){t||XA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sL(){return Ab()==="http:"||Ab()==="https:"}function Ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sL()||jU()||"connection"in navigator)?navigator.onLine:!0}function AL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r){this.shortDelay=e,this.longDelay=r,oa(r>e,"Short delay should be less than long delay!"),this.isMobile=UU()||PU()}get(){return iL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e){oa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;XA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;XA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;XA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=new rf(3e4,6e4);function Xl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yo(t,e,r,n,s={}){return __(t,s,async()=>{let i={},A={};n&&(e==="GET"?A=n:i={body:JSON.stringify(n)});const a=tf(Object.assign({key:t.config.apiKey},A)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return LU()||(c.referrerPolicy="no-referrer"),E_.fetch()(I_(t,t.config.apiHost,r,a),c)})}async function __(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},aL),e);try{const s=new cL(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw nm(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nm(t,"credential-already-in-use",A);if(l==="EMAIL_EXISTS")throw nm(t,"email-already-in-use",A);if(l==="USER_DISABLED")throw nm(t,"user-disabled",A);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw C_(t,h,c);Oi(t,h)}}catch(s){if(s instanceof fa)throw s;Oi(t,"network-request-failed",{message:String(s)})}}async function Pg(t,e,r,n,s={}){const i=await Yo(t,e,r,n,s);return"mfaPendingCredential"in i&&Oi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function I_(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?r2(t.config,s):`${t.config.apiScheme}://${s}`}function lL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(pA(this.auth,"network-request-failed")),oL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nm(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=pA(t,e,n);return s.customData._tokenResponse=r,s}function ab(t){return t!==void 0&&t.enterprise!==void 0}class uL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return lL(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function dL(t,e){return Yo(t,"GET","/v2/recaptchaConfig",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return Yo(t,"POST","/v1/accounts:delete",e)}async function N_(t,e){return Yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fL(t,e=!1){const r=An(t),n=await r.getIdToken(e),s=n2(n);wt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:th(p1(s.auth_time)),issuedAtTime:th(p1(s.iat)),expirationTime:th(p1(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function p1(t){return Number(t)*1e3}function n2(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ym("JWT malformed, contained fewer than 3 sections"),null;try{const s=d_(r);return s?JSON.parse(s):(Ym("Failed to decode base64 JWT payload"),null)}catch(s){return Ym("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ob(t){const e=n2(t);return wt(e,"internal-error"),wt(typeof e.exp<"u","internal-error"),wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof fa&&mL(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function mL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Th(t,N_(r,{idToken:n}));wt(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?S_(i.providerUserInfo):[],a=vL(t.providerData,A),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ty(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function gL(t){const e=An(t);await zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vL(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function S_(t){return t.map(e=>{var{providerId:r}=e,n=e2(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e){const r=await __(t,{},async()=>{const n=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=I_(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E_.fetch()(A,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function wL(t,e){return Yo(t,"POST","/v2/accounts:revokeToken",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wt(e.idToken,"internal-error"),wt(typeof e.idToken<"u","internal-error"),wt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){wt(e.length!==0,"internal-error");const r=ob(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await yL(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,A=new lu;return n&&(wt(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),s&&(wt(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(wt(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return XA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,e){wt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ZA{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=e2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ty(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Th(this,this.stsTokenManager.getToken(this.auth,e));return wt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return fL(this,e)}reload(){return gL(this)}_assign(e){this!==e&&(wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ZA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await zp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(JA(this.auth.app))return Promise.reject(Fo(this.auth));const e=await this.getIdToken();return await Th(this,hL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,A,a,l,c,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,g=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,B=(A=r.photoURL)!==null&&A!==void 0?A:void 0,E=(a=r.tenantId)!==null&&a!==void 0?a:void 0,I=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=r.createdAt)!==null&&c!==void 0?c:void 0,y=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:P,isAnonymous:H,providerData:W,stsTokenManager:T}=r;wt(_&&T,e,"internal-error");const b=lu.fromJSON(this.name,T);wt(typeof _=="string",e,"internal-error"),Wa(f,e.name),Wa(p,e.name),wt(typeof P=="boolean",e,"internal-error"),wt(typeof H=="boolean",e,"internal-error"),Wa(g,e.name),Wa(B,e.name),Wa(E,e.name),Wa(I,e.name),Wa(w,e.name),Wa(y,e.name);const k=new ZA({uid:_,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:H,photoURL:B,phoneNumber:g,tenantId:E,stsTokenManager:b,createdAt:w,lastLoginAt:y});return W&&Array.isArray(W)&&(k.providerData=W.map(j=>Object.assign({},j))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,r,n=!1){const s=new lu;s.updateFromServerResponse(r);const i=new ZA({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await zp(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];wt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?S_(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new lu;a.updateFromIdToken(n);const l=new ZA({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ty(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function ea(t){oa(t instanceof Function,"Expected a class definition");let e=lb.get(t);return e?(oa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}F_.type="NONE";const cb=F_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e,r){return`firebase:${t}:${e}:${r}`}class cu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Jm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Jm("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ZA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new cu(ea(cb),e,n);const s=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ea(cb);const A=Jm(n,e.config.apiKey,e.name);let a=null;for(const c of r)try{const h=await c._get(A);if(h){const f=ZA._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new cu(i,e,n):(i=l[0],a&&await i._set(A,a.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(A)}catch{}})),new cu(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j_(e))return"Blackberry";if(P_(e))return"Webos";if(T_(e))return"Safari";if((e.includes("chrome/")||U_(e))&&!e.includes("edge/"))return"Chrome";if(L_(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function k_(t=es()){return/firefox\//i.test(t)}function T_(t=es()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U_(t=es()){return/crios\//i.test(t)}function Q_(t=es()){return/iemobile/i.test(t)}function L_(t=es()){return/android/i.test(t)}function j_(t=es()){return/blackberry/i.test(t)}function P_(t=es()){return/webos/i.test(t)}function s2(t=es()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xL(t=es()){var e;return s2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BL(){return DU()&&document.documentMode===10}function D_(t=es()){return s2(t)||L_(t)||P_(t)||j_(t)||/windows phone/i.test(t)||Q_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t,e=[]){let r;switch(t){case"Browser":r=ub(es());break;case"Worker":r=`${ub(es())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Mu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((A,a)=>{try{const l=e(i);A(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e={}){return Yo(t,"GET","/v2/passwordPolicy",Xl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=6;class _L{constructor(e){var r,n,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:EL,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,A,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(A=l.containsNumericCharacter)!==null&&A!==void 0?A:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new db(this),this.idTokenSubscription=new db(this),this.beforeStateQueue=new bL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ea(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await cu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await N_(this,{idToken:e}),n=await ZA._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(JA(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!A||A===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(JA(this.app))return Promise.reject(Fo(this));const r=e?An(e):null;return r&&wt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return JA(this.app)?Promise.reject(Fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return JA(this.app)?Promise.reject(Fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CL(this),r=new _L(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ef("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await wL(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ea(e)||this._popupRedirectResolver;wt(r,this,"argument-error"),this.redirectPersistenceManager=await cu.create(this,[ea(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{A=!0,l()}}else{const l=e.addObserver(r);return()=>{A=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&nL(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Vu(t){return An(t)}class db{constructor(e){this.auth=e,this.observer=null,this.addObserver=GU(r=>this.observer=r)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NL(t){Dg=t}function O_(t){return Dg.loadJS(t)}function SL(){return Dg.recaptchaEnterpriseScript}function FL(){return Dg.gapiScript}function kL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TL="recaptcha-enterprise",UL="NO_RECAPTCHA";class QL{constructor(e){this.type=TL,this.auth=Vu(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,a)=>{dL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new uL(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,A(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,A,a){const l=window.grecaptcha;ab(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{A(c)}).catch(()=>{A(UL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{n(this.auth).then(a=>{if(!r&&ab(window.grecaptcha))s(a,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let l=SL();l.length!==0&&(l+=a),O_(l).then(()=>{s(a,i,A)}).catch(c=>{A(c)})}}).catch(a=>{A(a)})})}}async function hb(t,e,r,n=!1){const s=new QL(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const A=Object.assign({},e);return n?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function fb(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await hb(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await hb(t,e,r,r==="getOobCode");return n(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t,e){const r=Zw(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Mp(i,e??{}))return s;Oi(s,"already-initialized")}return r.initialize({options:e})}function jL(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ea);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function PL(t,e,r){const n=Vu(t);wt(n._canInitEmulator,n,"emulator-config-failed"),wt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=H_(e),{host:A,port:a}=DL(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${A}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),RL()}function H_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DL(t){const e=H_(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:mb(n.substr(i.length+1))}}else{const[i,A]=n.split(":");return{host:i,port:mb(A)}}}function mb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RL(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return XA("not implemented")}_getIdTokenResponse(e){return XA("not implemented")}_linkToIdToken(e,r){return XA("not implemented")}_getReauthenticationResolver(e){return XA("not implemented")}}async function OL(t,e){return Yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){return Pg(t,"POST","/v1/accounts:signInWithPassword",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e){return Pg(t,"POST","/v1/accounts:signInWithEmailLink",Xl(t,e))}async function VL(t,e){return Pg(t,"POST","/v1/accounts:signInWithEmailLink",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends i2{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Uh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Uh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fb(e,r,"signInWithPassword",HL);case"emailLink":return ML(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fb(e,n,"signUpPassword",OL);case"emailLink":return VL(e,{idToken:r,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e){return Pg(t,"POST","/v1/accounts:signInWithIdp",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="http://localhost";class zl extends i2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Oi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=e2(r,["providerId","signInMethod"]);if(!n||!s)return null;const A=new zl(n,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return uu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,uu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,uu(e,r)}buildRequest(){const e={requestUri:KL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=tf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GL(t){const e=Ud(Qd(t)).link,r=e?Ud(Qd(e)).deep_link_id:null,n=Ud(Qd(t)).deep_link_id;return(n?Ud(Qd(n)).link:null)||n||r||e||t}class A2{constructor(e){var r,n,s,i,A,a;const l=Ud(Qd(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=zL((s=l.mode)!==null&&s!==void 0?s:null);wt(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=l.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=GL(e);try{return new A2(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.providerId=Ku.PROVIDER_ID}static credential(e,r){return Uh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=A2.parseLink(r);return wt(n,"argument-error"),Uh._fromEmailAndCode(e,n.code,n.tenantId)}}Ku.PROVIDER_ID="password";Ku.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ku.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends M_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends nf{constructor(){super("facebook.com")}static credential(e){return zl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return zl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ao.credential(r,n)}catch{return null}}}Ao.GOOGLE_SIGN_IN_METHOD="google.com";Ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends nf{constructor(){super("github.com")}static credential(e){return zl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends nf{constructor(){super("twitter.com")}static credential(e,r){return zl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return oo.credential(r,n)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ZA._fromIdTokenResponse(e,n,s),A=pb(n);return new Nu({user:i,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=pb(n);return new Nu({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends fa{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Gp(e,r,n,s)}}function V_(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,i,e,n):i})}async function qL(t,e,r=!1){const n=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Nu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,r=!1){const{auth:n}=t;if(JA(n.app))return Promise.reject(Fo(n));const s="reauthenticate";try{const i=await Th(t,V_(n,s,e,t),r);wt(i.idToken,n,"internal-error");const A=n2(i.idToken);wt(A,n,"internal-error");const{sub:a}=A;return wt(t.uid===a,n,"user-mismatch"),Nu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Oi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_(t,e,r=!1){if(JA(t.app))return Promise.reject(Fo(t));const n="signIn",s=await V_(t,n,e),i=await Nu._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function $L(t,e){return K_(Vu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t){const e=Vu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function JL(t,e,r){return JA(t.app)?Promise.reject(Fo(t)):$L(An(t),Ku.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&YL(t),n})}function XL(t,e,r,n){return An(t).onIdTokenChanged(e,r,n)}function ZL(t,e,r){return An(t).beforeAuthStateChanged(e,r)}function ej(t,e,r,n){return An(t).onAuthStateChanged(e,r,n)}function tj(t){return An(t).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=1e3,nj=10;class G_ extends z_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,a,l)=>{this.notifyListeners(A,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},i=this.storage.getItem(n);BL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nj):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}G_.type="LOCAL";const sj=G_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends z_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}q_.type="SESSION";const W_=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Rg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(A).map(async c=>c(r.origin,i)),l=await ij(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,l)=>{const c=a2("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);A={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return window}function aj(t){gA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){return typeof gA().WorkerGlobalScope<"u"&&typeof gA().importScripts=="function"}async function oj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cj(){return $_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="firebaseLocalStorageDb",uj=1,Wp="firebaseLocalStorage",J_="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Og(t,e){return t.transaction([Wp],e?"readwrite":"readonly").objectStore(Wp)}function dj(){const t=indexedDB.deleteDatabase(Y_);return new sf(t).toPromise()}function ry(){const t=indexedDB.open(Y_,uj);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Wp,{keyPath:J_})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Wp)?e(n):(n.close(),await dj(),e(await ry()))})})}async function gb(t,e,r){const n=Og(t,!0).put({[J_]:e,value:r});return new sf(n).toPromise()}async function hj(t,e){const r=Og(t,!1).get(e),n=await new sf(r).toPromise();return n===void 0?null:n.value}function vb(t,e){const r=Og(t,!0).delete(e);return new sf(r).toPromise()}const fj=800,mj=3;class X_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>mj)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rg._getInstance(cj()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await oj(),!this.activeServiceWorker)return;this.sender=new Aj(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await gb(e,qp,"1"),await vb(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>gb(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>hj(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>vb(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Og(s,!1).getAll();return new sf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X_.type="LOCAL";const pj=X_;new rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e){return e?ea(e):(wt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2 extends i2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return uu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function vj(t){return K_(t.auth,new o2(t),t.bypassAuthState)}function yj(t){const{auth:e,user:r}=t;return wt(r,e,"internal-error"),WL(r,new o2(t),t.bypassAuthState)}async function wj(t){const{auth:e,user:r}=t;return wt(r,e,"internal-error"),qL(r,new o2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vj;case"linkViaPopup":case"linkViaRedirect":return wj;case"reauthViaPopup":case"reauthViaRedirect":return yj;default:Oi(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=new rf(2e3,1e4);class eu extends Z_{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,eu.currentPopupAction&&eu.currentPopupAction.cancel(),eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wt(e,this.auth,"internal-error"),e}async onExecution(){oa(this.filter.length===1,"Popup operations only handle one event");const e=a2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(pA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xj.get())};e()}}eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="pendingRedirect",Xm=new Map;class bj extends Z_{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Xm.get(this.auth._key());if(!e){try{const n=await Cj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Xm.set(this.auth._key(),e)}return this.bypassAuthState||Xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cj(t,e){const r=Ij(e),n=_j(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function Ej(t,e){Xm.set(t._key(),e)}function _j(t){return ea(t._redirectPersistence)}function Ij(t){return Jm(Bj,t.config.apiKey,t.name)}async function Nj(t,e,r=!1){if(JA(t.app))return Promise.reject(Fo(t));const n=Vu(t),s=gj(n,e),A=await new bj(n,s,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=10*60*1e3;class Fj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kj(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!eI(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(pA(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sj&&this.cachedEventUids.clear(),this.cachedEventUids.has(yb(e))}saveEventToCache(e){this.cachedEventUids.add(yb(e)),this.lastProcessedEventTime=Date.now()}}function yb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e={}){return Yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qj=/^https?/;async function Lj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tj(t);for(const r of e)try{if(jj(r))return}catch{}Oi(t,"unauthorized-domain")}function jj(t){const e=ey(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!Qj.test(r))return!1;if(Uj.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new rf(3e4,6e4);function wb(){const t=gA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Dj(t){return new Promise((e,r)=>{var n,s,i;function A(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),r(pA(t,"network-request-failed"))},timeout:Pj.get()})}if(!((s=(n=gA().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=gA().gapi)===null||i===void 0)&&i.load)A();else{const a=kL("iframefcb");return gA()[a]=()=>{gapi.load?A():r(pA(t,"network-request-failed"))},O_(`${FL()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw Zm=null,e})}let Zm=null;function Rj(t){return Zm=Zm||Dj(t),Zm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new rf(5e3,15e3),Hj="__/auth/iframe",Mj="emulator/auth/iframe",Vj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zj(t){const e=t.config;wt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?r2(e,Mj):`https://${t.config.authDomain}/${Hj}`,n={apiKey:e.apiKey,appName:t.name,v:Mu},s=Kj.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${tf(n).slice(1)}`}async function Gj(t){const e=await Rj(t),r=gA().gapi;return wt(r,t,"internal-error"),e.open({where:document.body,url:zj(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vj,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const A=pA(t,"network-request-failed"),a=gA().setTimeout(()=>{i(A)},Oj.get());function l(){gA().clearTimeout(a),s(n)}n.ping(l).then(l,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wj=500,$j=600,Yj="_blank",Jj="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xj(t,e,r,n=Wj,s=$j){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qj),{width:n.toString(),height:s.toString(),top:i,left:A}),c=es().toLowerCase();r&&(a=U_(c)?Yj:r),k_(c)&&(e=e||Jj,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,B])=>`${p}${g}=${B},`,"");if(xL(c)&&a!=="_self")return Zj(e||"",a),new xb(null);const f=window.open(e||"",a,h);wt(f,t,"popup-blocked");try{f.focus()}catch{}return new xb(f)}function Zj(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="__/auth/handler",t6="emulator/auth/handler",r6=encodeURIComponent("fac");async function Bb(t,e,r,n,s,i){wt(t.config.authDomain,t,"auth-domain-config-required"),wt(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Mu,eventId:s};if(e instanceof M_){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",zU(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))A[h]=f}if(e instanceof nf){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(A.scopes=h.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${r6}=${encodeURIComponent(l)}`:"";return`${n6(t)}?${tf(a).slice(1)}${c}`}function n6({config:t}){return t.emulator?r2(t,t6):`https://${t.authDomain}/${e6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="webStorageSupport";class s6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W_,this._completeRedirectFn=Nj,this._overrideRedirectResult=Ej}async _openPopup(e,r,n,s){var i;oa((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await Bb(e,r,n,ey(),s);return Xj(e,A,a2())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await Bb(e,r,n,ey(),s);return aj(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(oa(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Gj(e),n=new Fj(e);return r.register("authEvent",s=>(wt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(g1,{type:g1},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[g1];A!==void 0&&r(!!A),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Lj(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return D_()||T_()||s2()}}const i6=s6;var bb="@firebase/auth",Cb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o6(t){Iu(new Kl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=n.options;wt(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R_(t)},c=new IL(n,s,i,l);return jL(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Iu(new Kl("auth-internal",e=>{const r=Vu(e.getProvider("auth").getImmediate());return(n=>new A6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),So(bb,Cb,a6(t)),So(bb,Cb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=5*60,c6=m_("authIdTokenMaxAge")||l6;let Eb=null;const u6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>c6)return;const s=r==null?void 0:r.token;Eb!==s&&(Eb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function d6(t=y_()){const e=Zw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=LL(t,{popupRedirectResolver:i6,persistence:[pj,sj,W_]}),n=m_("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const A=u6(i.toString());ZL(r,A,()=>A(r.currentUser)),XL(r,a=>A(a))}}const s=h_("auth");return s&&PL(r,`http://${s}`),r}function h6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NL({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=pA("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",h6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o6("Browser");var f6="firebase",m6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(f6,m6,"app");var _b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ql,tI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function k(){}k.prototype=b.prototype,T.D=b.prototype,T.prototype=new k,T.prototype.constructor=T,T.C=function(j,N,Q){for(var F=Array(arguments.length-2),te=2;te<arguments.length;te++)F[te-2]=arguments[te];return b.prototype[N].apply(j,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,b,k){k||(k=0);var j=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)j[N]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(N=0;16>N;++N)j[N]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=T.g[0],k=T.g[1],N=T.g[2];var Q=T.g[3],F=b+(Q^k&(N^Q))+j[0]+3614090360&4294967295;b=k+(F<<7&4294967295|F>>>25),F=Q+(N^b&(k^N))+j[1]+3905402710&4294967295,Q=b+(F<<12&4294967295|F>>>20),F=N+(k^Q&(b^k))+j[2]+606105819&4294967295,N=Q+(F<<17&4294967295|F>>>15),F=k+(b^N&(Q^b))+j[3]+3250441966&4294967295,k=N+(F<<22&4294967295|F>>>10),F=b+(Q^k&(N^Q))+j[4]+4118548399&4294967295,b=k+(F<<7&4294967295|F>>>25),F=Q+(N^b&(k^N))+j[5]+1200080426&4294967295,Q=b+(F<<12&4294967295|F>>>20),F=N+(k^Q&(b^k))+j[6]+2821735955&4294967295,N=Q+(F<<17&4294967295|F>>>15),F=k+(b^N&(Q^b))+j[7]+4249261313&4294967295,k=N+(F<<22&4294967295|F>>>10),F=b+(Q^k&(N^Q))+j[8]+1770035416&4294967295,b=k+(F<<7&4294967295|F>>>25),F=Q+(N^b&(k^N))+j[9]+2336552879&4294967295,Q=b+(F<<12&4294967295|F>>>20),F=N+(k^Q&(b^k))+j[10]+4294925233&4294967295,N=Q+(F<<17&4294967295|F>>>15),F=k+(b^N&(Q^b))+j[11]+2304563134&4294967295,k=N+(F<<22&4294967295|F>>>10),F=b+(Q^k&(N^Q))+j[12]+1804603682&4294967295,b=k+(F<<7&4294967295|F>>>25),F=Q+(N^b&(k^N))+j[13]+4254626195&4294967295,Q=b+(F<<12&4294967295|F>>>20),F=N+(k^Q&(b^k))+j[14]+2792965006&4294967295,N=Q+(F<<17&4294967295|F>>>15),F=k+(b^N&(Q^b))+j[15]+1236535329&4294967295,k=N+(F<<22&4294967295|F>>>10),F=b+(N^Q&(k^N))+j[1]+4129170786&4294967295,b=k+(F<<5&4294967295|F>>>27),F=Q+(k^N&(b^k))+j[6]+3225465664&4294967295,Q=b+(F<<9&4294967295|F>>>23),F=N+(b^k&(Q^b))+j[11]+643717713&4294967295,N=Q+(F<<14&4294967295|F>>>18),F=k+(Q^b&(N^Q))+j[0]+3921069994&4294967295,k=N+(F<<20&4294967295|F>>>12),F=b+(N^Q&(k^N))+j[5]+3593408605&4294967295,b=k+(F<<5&4294967295|F>>>27),F=Q+(k^N&(b^k))+j[10]+38016083&4294967295,Q=b+(F<<9&4294967295|F>>>23),F=N+(b^k&(Q^b))+j[15]+3634488961&4294967295,N=Q+(F<<14&4294967295|F>>>18),F=k+(Q^b&(N^Q))+j[4]+3889429448&4294967295,k=N+(F<<20&4294967295|F>>>12),F=b+(N^Q&(k^N))+j[9]+568446438&4294967295,b=k+(F<<5&4294967295|F>>>27),F=Q+(k^N&(b^k))+j[14]+3275163606&4294967295,Q=b+(F<<9&4294967295|F>>>23),F=N+(b^k&(Q^b))+j[3]+4107603335&4294967295,N=Q+(F<<14&4294967295|F>>>18),F=k+(Q^b&(N^Q))+j[8]+1163531501&4294967295,k=N+(F<<20&4294967295|F>>>12),F=b+(N^Q&(k^N))+j[13]+2850285829&4294967295,b=k+(F<<5&4294967295|F>>>27),F=Q+(k^N&(b^k))+j[2]+4243563512&4294967295,Q=b+(F<<9&4294967295|F>>>23),F=N+(b^k&(Q^b))+j[7]+1735328473&4294967295,N=Q+(F<<14&4294967295|F>>>18),F=k+(Q^b&(N^Q))+j[12]+2368359562&4294967295,k=N+(F<<20&4294967295|F>>>12),F=b+(k^N^Q)+j[5]+4294588738&4294967295,b=k+(F<<4&4294967295|F>>>28),F=Q+(b^k^N)+j[8]+2272392833&4294967295,Q=b+(F<<11&4294967295|F>>>21),F=N+(Q^b^k)+j[11]+1839030562&4294967295,N=Q+(F<<16&4294967295|F>>>16),F=k+(N^Q^b)+j[14]+4259657740&4294967295,k=N+(F<<23&4294967295|F>>>9),F=b+(k^N^Q)+j[1]+2763975236&4294967295,b=k+(F<<4&4294967295|F>>>28),F=Q+(b^k^N)+j[4]+1272893353&4294967295,Q=b+(F<<11&4294967295|F>>>21),F=N+(Q^b^k)+j[7]+4139469664&4294967295,N=Q+(F<<16&4294967295|F>>>16),F=k+(N^Q^b)+j[10]+3200236656&4294967295,k=N+(F<<23&4294967295|F>>>9),F=b+(k^N^Q)+j[13]+681279174&4294967295,b=k+(F<<4&4294967295|F>>>28),F=Q+(b^k^N)+j[0]+3936430074&4294967295,Q=b+(F<<11&4294967295|F>>>21),F=N+(Q^b^k)+j[3]+3572445317&4294967295,N=Q+(F<<16&4294967295|F>>>16),F=k+(N^Q^b)+j[6]+76029189&4294967295,k=N+(F<<23&4294967295|F>>>9),F=b+(k^N^Q)+j[9]+3654602809&4294967295,b=k+(F<<4&4294967295|F>>>28),F=Q+(b^k^N)+j[12]+3873151461&4294967295,Q=b+(F<<11&4294967295|F>>>21),F=N+(Q^b^k)+j[15]+530742520&4294967295,N=Q+(F<<16&4294967295|F>>>16),F=k+(N^Q^b)+j[2]+3299628645&4294967295,k=N+(F<<23&4294967295|F>>>9),F=b+(N^(k|~Q))+j[0]+4096336452&4294967295,b=k+(F<<6&4294967295|F>>>26),F=Q+(k^(b|~N))+j[7]+1126891415&4294967295,Q=b+(F<<10&4294967295|F>>>22),F=N+(b^(Q|~k))+j[14]+2878612391&4294967295,N=Q+(F<<15&4294967295|F>>>17),F=k+(Q^(N|~b))+j[5]+4237533241&4294967295,k=N+(F<<21&4294967295|F>>>11),F=b+(N^(k|~Q))+j[12]+1700485571&4294967295,b=k+(F<<6&4294967295|F>>>26),F=Q+(k^(b|~N))+j[3]+2399980690&4294967295,Q=b+(F<<10&4294967295|F>>>22),F=N+(b^(Q|~k))+j[10]+4293915773&4294967295,N=Q+(F<<15&4294967295|F>>>17),F=k+(Q^(N|~b))+j[1]+2240044497&4294967295,k=N+(F<<21&4294967295|F>>>11),F=b+(N^(k|~Q))+j[8]+1873313359&4294967295,b=k+(F<<6&4294967295|F>>>26),F=Q+(k^(b|~N))+j[15]+4264355552&4294967295,Q=b+(F<<10&4294967295|F>>>22),F=N+(b^(Q|~k))+j[6]+2734768916&4294967295,N=Q+(F<<15&4294967295|F>>>17),F=k+(Q^(N|~b))+j[13]+1309151649&4294967295,k=N+(F<<21&4294967295|F>>>11),F=b+(N^(k|~Q))+j[4]+4149444226&4294967295,b=k+(F<<6&4294967295|F>>>26),F=Q+(k^(b|~N))+j[11]+3174756917&4294967295,Q=b+(F<<10&4294967295|F>>>22),F=N+(b^(Q|~k))+j[2]+718787259&4294967295,N=Q+(F<<15&4294967295|F>>>17),F=k+(Q^(N|~b))+j[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(N+(F<<21&4294967295|F>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+Q&4294967295}n.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var k=b-this.blockSize,j=this.B,N=this.h,Q=0;Q<b;){if(N==0)for(;Q<=k;)s(this,T,Q),Q+=this.blockSize;if(typeof T=="string"){for(;Q<b;)if(j[N++]=T.charCodeAt(Q++),N==this.blockSize){s(this,j),N=0;break}}else for(;Q<b;)if(j[N++]=T[Q++],N==this.blockSize){s(this,j),N=0;break}}this.h=N,this.o+=b},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var k=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=k&255,k/=256;for(this.u(T),T=Array(16),b=k=0;4>b;++b)for(var j=0;32>j;j+=8)T[k++]=this.g[b]>>>j&255;return T};function i(T,b){var k=a;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=b(T)}function A(T,b){this.h=b;for(var k=[],j=!0,N=T.length-1;0<=N;N--){var Q=T[N]|0;j&&Q==b||(k[N]=Q,j=!1)}this.g=k}var a={};function l(T){return-128<=T&&128>T?i(T,function(b){return new A([b|0],0>b?-1:0)}):new A([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return I(c(-T));for(var b=[],k=1,j=0;T>=k;j++)b[j]=T/k|0,k*=4294967296;return new A(b,0)}function h(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return I(h(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(b,8)),j=f,N=0;N<T.length;N+=8){var Q=Math.min(8,T.length-N),F=parseInt(T.substring(N,N+Q),b);8>Q?(Q=c(Math.pow(b,Q)),j=j.j(Q).add(c(F))):(j=j.j(k),j=j.add(c(F)))}return j}var f=l(0),p=l(1),g=l(16777216);t=A.prototype,t.m=function(){if(E(this))return-I(this).m();for(var T=0,b=1,k=0;k<this.g.length;k++){var j=this.i(k);T+=(0<=j?j:4294967296+j)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(B(this))return"0";if(E(this))return"-"+I(this).toString(T);for(var b=c(Math.pow(T,6)),k=this,j="";;){var N=P(k,b).g;k=w(k,N.j(b));var Q=((0<k.g.length?k.g[0]:k.h)>>>0).toString(T);if(k=N,B(k))return Q+j;for(;6>Q.length;)Q="0"+Q;j=Q+j}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function B(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=w(this,T),E(T)?-1:B(T)?0:1};function I(T){for(var b=T.g.length,k=[],j=0;j<b;j++)k[j]=~T.g[j];return new A(k,~T.h).add(p)}t.abs=function(){return E(this)?I(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),k=[],j=0,N=0;N<=b;N++){var Q=j+(this.i(N)&65535)+(T.i(N)&65535),F=(Q>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);j=F>>>16,Q&=65535,F&=65535,k[N]=F<<16|Q}return new A(k,k[k.length-1]&-2147483648?-1:0)};function w(T,b){return T.add(I(b))}t.j=function(T){if(B(this)||B(T))return f;if(E(this))return E(T)?I(this).j(I(T)):I(I(this).j(T));if(E(T))return I(this.j(I(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var b=this.g.length+T.g.length,k=[],j=0;j<2*b;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(var N=0;N<T.g.length;N++){var Q=this.i(j)>>>16,F=this.i(j)&65535,te=T.i(N)>>>16,xe=T.i(N)&65535;k[2*j+2*N]+=F*xe,y(k,2*j+2*N),k[2*j+2*N+1]+=Q*xe,y(k,2*j+2*N+1),k[2*j+2*N+1]+=F*te,y(k,2*j+2*N+1),k[2*j+2*N+2]+=Q*te,y(k,2*j+2*N+2)}for(j=0;j<b;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=b;j<2*b;j++)k[j]=0;return new A(k,0)};function y(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function _(T,b){this.g=T,this.h=b}function P(T,b){if(B(b))throw Error("division by zero");if(B(T))return new _(f,f);if(E(T))return b=P(I(T),b),new _(I(b.g),I(b.h));if(E(b))return b=P(T,I(b)),new _(I(b.g),b.h);if(30<T.g.length){if(E(T)||E(b))throw Error("slowDivide_ only works with positive integers.");for(var k=p,j=b;0>=j.l(T);)k=H(k),j=H(j);var N=W(k,1),Q=W(j,1);for(j=W(j,2),k=W(k,2);!B(j);){var F=Q.add(j);0>=F.l(T)&&(N=N.add(k),Q=F),j=W(j,1),k=W(k,1)}return b=w(T,N.j(b)),new _(N,b)}for(N=f;0<=T.l(b);){for(k=Math.max(1,Math.floor(T.m()/b.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),Q=c(k),F=Q.j(b);E(F)||0<F.l(T);)k-=j,Q=c(k),F=Q.j(b);B(Q)&&(Q=p),N=N.add(Q),T=w(T,F)}return new _(N,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),k=[],j=0;j<b;j++)k[j]=this.i(j)&T.i(j);return new A(k,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),k=[],j=0;j<b;j++)k[j]=this.i(j)|T.i(j);return new A(k,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),k=[],j=0;j<b;j++)k[j]=this.i(j)^T.i(j);return new A(k,this.h^T.h)};function H(T){for(var b=T.g.length+1,k=[],j=0;j<b;j++)k[j]=T.i(j)<<1|T.i(j-1)>>>31;return new A(k,T.h)}function W(T,b){var k=b>>5;b%=32;for(var j=T.g.length-k,N=[],Q=0;Q<j;Q++)N[Q]=0<b?T.i(Q+k)>>>b|T.i(Q+k+1)<<32-b:T.i(Q+k);return new A(N,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,tI=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=c,A.fromString=h,Ql=A}).apply(typeof _b<"u"?_b:typeof self<"u"?self:typeof window<"u"?window:{});var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rI,Ld,nI,ep,ny,sI,iI,AI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,C,U){return d==Array.prototype||d==Object.prototype||(d[C]=U.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sm=="object"&&sm];for(var C=0;C<d.length;++C){var U=d[C];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var n=r(this);function s(d,C){if(C)e:{var U=n;d=d.split(".");for(var z=0;z<d.length-1;z++){var Be=d[z];if(!(Be in U))break e;U=U[Be]}d=d[d.length-1],z=U[d],C=C(z),C!=z&&C!=null&&e(U,d,{configurable:!0,writable:!0,value:C})}}function i(d,C){d instanceof String&&(d+="");var U=0,z=!1,Be={next:function(){if(!z&&U<d.length){var Fe=U++;return{value:C(Fe,d[Fe]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}s("Array.prototype.values",function(d){return d||function(){return i(this,function(C,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function l(d){var C=typeof d;return C=C!="object"?C:d?Array.isArray(d)?"array":C:"null",C=="array"||C=="object"&&typeof d.length=="number"}function c(d){var C=typeof d;return C=="object"&&d!=null||C=="function"}function h(d,C,U){return d.call.apply(d.bind,arguments)}function f(d,C,U){if(!d)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,z),d.apply(C,Be)}}return function(){return d.apply(C,arguments)}}function p(d,C,U){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(d,C){var U=Array.prototype.slice.call(arguments,1);return function(){var z=U.slice();return z.push.apply(z,arguments),d.apply(this,z)}}function B(d,C){function U(){}U.prototype=C.prototype,d.aa=C.prototype,d.prototype=new U,d.prototype.constructor=d,d.Qb=function(z,Be,Fe){for(var He=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)He[Ct-2]=arguments[Ct];return C.prototype[Be].apply(z,He)}}function E(d){const C=d.length;if(0<C){const U=Array(C);for(let z=0;z<C;z++)U[z]=d[z];return U}return[]}function I(d,C){for(let U=1;U<arguments.length;U++){const z=arguments[U];if(l(z)){const Be=d.length||0,Fe=z.length||0;d.length=Be+Fe;for(let He=0;He<Fe;He++)d[Be+He]=z[He]}else d.push(z)}}class w{constructor(C,U){this.i=C,this.j=U,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function y(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var H=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function W(d,C,U){for(const z in d)C.call(U,d[z],z,d)}function T(d,C){for(const U in d)C.call(void 0,d[U],U,d)}function b(d){const C={};for(const U in d)C[U]=d[U];return C}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,C){let U,z;for(let Be=1;Be<arguments.length;Be++){z=arguments[Be];for(U in z)d[U]=z[U];for(let Fe=0;Fe<k.length;Fe++)U=k[Fe],Object.prototype.hasOwnProperty.call(z,U)&&(d[U]=z[U])}}function N(d){var C=1;d=d.split(":");const U=[];for(;0<C&&d.length;)U.push(d.shift()),C--;return d.length&&U.push(d.join(":")),U}function Q(d){a.setTimeout(()=>{throw d},0)}function F(){var d=le;let C=null;return d.g&&(C=d.g,d.g=d.g.next,d.g||(d.h=null),C.next=null),C}class te{constructor(){this.h=this.g=null}add(C,U){const z=xe.get();z.set(C,U),this.h?this.h.next=z:this.g=z,this.h=z}}var xe=new w(()=>new ve,d=>d.reset());class ve{constructor(){this.next=this.g=this.h=null}set(C,U){this.h=C,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,V=!1,le=new te,Z=()=>{const d=a.Promise.resolve(void 0);ye=()=>{d.then(ue)}};var ue=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(U){Q(U)}var C=xe;C.j(d),100>C.h&&(C.h++,d.next=C.g,C.g=d)}V=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,C){this.type=d,this.g=this.target=C,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,C=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const U=()=>{};a.addEventListener("test",U,C),a.removeEventListener("test",U,C)}catch{}return d}();function Y(d,C){if(M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var U=this.type=d.type,z=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=C,C=d.relatedTarget){if(H){e:{try{P(C.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(C=null)}}else U=="mouseover"?C=d.fromElement:U=="mouseout"&&(C=d.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:X[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Y.aa.h.call(this)}}B(Y,M);var X={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(d,C,U,z,Be){this.listener=d,this.proxy=null,this.src=C,this.type=U,this.capture=!!z,this.ha=Be,this.key=++ie,this.da=this.fa=!1}function G(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function se(d){this.src=d,this.g={},this.h=0}se.prototype.add=function(d,C,U,z,Be){var Fe=d.toString();d=this.g[Fe],d||(d=this.g[Fe]=[],this.h++);var He=_e(d,C,z,Be);return-1<He?(C=d[He],U||(C.fa=!1)):(C=new oe(C,this.src,Fe,!!z,Be),C.fa=U,d.push(C)),C};function ge(d,C){var U=C.type;if(U in d.g){var z=d.g[U],Be=Array.prototype.indexOf.call(z,C,void 0),Fe;(Fe=0<=Be)&&Array.prototype.splice.call(z,Be,1),Fe&&(G(C),d.g[U].length==0&&(delete d.g[U],d.h--))}}function _e(d,C,U,z){for(var Be=0;Be<d.length;++Be){var Fe=d[Be];if(!Fe.da&&Fe.listener==C&&Fe.capture==!!U&&Fe.ha==z)return Be}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),be={};function re(d,C,U,z,Be){if(Array.isArray(C)){for(var Fe=0;Fe<C.length;Fe++)re(d,C[Fe],U,z,Be);return null}return U=Bt(U),d&&d[ee]?d.K(C,U,c(z)?!!z.capture:!!z,Be):me(d,C,U,!1,z,Be)}function me(d,C,U,z,Be,Fe){if(!C)throw Error("Invalid event type");var He=c(Be)?!!Be.capture:!!Be,Ct=et(d);if(Ct||(d[ke]=Ct=new se(d)),U=Ct.add(C,U,z,He,Fe),U.proxy)return U;if(z=ae(),U.proxy=z,z.src=d,z.listener=U,d.addEventListener)$||(Be=He),Be===void 0&&(Be=!1),d.addEventListener(C.toString(),z,Be);else if(d.attachEvent)d.attachEvent(Ke(C.toString()),z);else if(d.addListener&&d.removeListener)d.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return U}function ae(){function d(U){return C.call(d.src,d.listener,U)}const C=Ge;return d}function he(d,C,U,z,Be){if(Array.isArray(C))for(var Fe=0;Fe<C.length;Fe++)he(d,C[Fe],U,z,Be);else z=c(z)?!!z.capture:!!z,U=Bt(U),d&&d[ee]?(d=d.i,C=String(C).toString(),C in d.g&&(Fe=d.g[C],U=_e(Fe,U,z,Be),-1<U&&(G(Fe[U]),Array.prototype.splice.call(Fe,U,1),Fe.length==0&&(delete d.g[C],d.h--)))):d&&(d=et(d))&&(C=d.g[C.toString()],d=-1,C&&(d=_e(C,U,z,Be)),(U=-1<d?C[d]:null)&&Ie(U))}function Ie(d){if(typeof d!="number"&&d&&!d.da){var C=d.src;if(C&&C[ee])ge(C.i,d);else{var U=d.type,z=d.proxy;C.removeEventListener?C.removeEventListener(U,z,d.capture):C.detachEvent?C.detachEvent(Ke(U),z):C.addListener&&C.removeListener&&C.removeListener(z),(U=et(C))?(ge(U,d),U.h==0&&(U.src=null,C[ke]=null)):G(d)}}}function Ke(d){return d in be?be[d]:be[d]="on"+d}function Ge(d,C){if(d.da)d=!0;else{C=new Y(C,this);var U=d.listener,z=d.ha||d.src;d.fa&&Ie(d),d=U.call(z,C)}return d}function et(d){return d=d[ke],d instanceof se?d:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(d){return typeof d=="function"?d:(d[dt]||(d[dt]=function(C){return d.handleEvent(C)}),d[dt])}function ut(){L.call(this),this.i=new se(this),this.M=this,this.F=null}B(ut,L),ut.prototype[ee]=!0,ut.prototype.removeEventListener=function(d,C,U,z){he(this,d,C,U,z)};function pt(d,C){var U,z=d.F;if(z)for(U=[];z;z=z.F)U.push(z);if(d=d.M,z=C.type||C,typeof C=="string")C=new M(C,d);else if(C instanceof M)C.target=C.target||d;else{var Be=C;C=new M(z,d),j(C,Be)}if(Be=!0,U)for(var Fe=U.length-1;0<=Fe;Fe--){var He=C.g=U[Fe];Be=Lt(He,z,!0,C)&&Be}if(He=C.g=d,Be=Lt(He,z,!0,C)&&Be,Be=Lt(He,z,!1,C)&&Be,U)for(Fe=0;Fe<U.length;Fe++)He=C.g=U[Fe],Be=Lt(He,z,!1,C)&&Be}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var d=this.i,C;for(C in d.g){for(var U=d.g[C],z=0;z<U.length;z++)G(U[z]);delete d.g[C],d.h--}}this.F=null},ut.prototype.K=function(d,C,U,z){return this.i.add(String(d),C,!1,U,z)},ut.prototype.L=function(d,C,U,z){return this.i.add(String(d),C,!0,U,z)};function Lt(d,C,U,z){if(C=d.i.g[String(C)],!C)return!0;C=C.concat();for(var Be=!0,Fe=0;Fe<C.length;++Fe){var He=C[Fe];if(He&&!He.da&&He.capture==U){var Ct=He.listener,Dt=He.ha||He.src;He.fa&&ge(d.i,He),Be=Ct.call(Dt,z)!==!1&&Be}}return Be&&!z.defaultPrevented}function ft(d,C,U){if(typeof d=="function")U&&(d=p(d,U));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(d,C||0)}function Ft(d){d.g=ft(()=>{d.g=null,d.i&&(d.i=!1,Ft(d))},d.l);const C=d.h;d.h=null,d.m.apply(null,C)}class Je extends L{constructor(C,U){super(),this.m=C,this.l=U,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Ft(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(d){L.call(this),this.h=d,this.g={}}B(gr,L);var Qt=[];function wn(d){W(d.g,function(C,U){this.g.hasOwnProperty(U)&&Ie(C)},d),d.g={}}gr.prototype.N=function(){gr.aa.N.call(this),wn(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=a.JSON.stringify,er=a.JSON.parse,ts=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function jt(){}jt.prototype.h=null;function Ts(d){return d.h||(d.h=d.i())}function Te(){}var We={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tt(){M.call(this,"d")}B(tt,M);function ct(){M.call(this,"c")}B(ct,M);var ze={},it=null;function Ut(){return it=it||new ut}ze.La="serverreachability";function lr(d){M.call(this,ze.La,d)}B(lr,M);function _r(d){const C=Ut();pt(C,new lr(C))}ze.STAT_EVENT="statevent";function Ln(d,C){M.call(this,ze.STAT_EVENT,d),this.stat=C}B(Ln,M);function nt(d){const C=Ut();pt(C,new Ln(C,d))}ze.Ma="timingevent";function hs(d,C){M.call(this,ze.Ma,d),this.size=C}B(hs,M);function jn(d,C){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},C)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Pr(d,C,U,z,Be,Fe){d.info(function(){if(d.g)if(Fe)for(var He="",Ct=Fe.split("&"),Dt=0;Dt<Ct.length;Dt++){var Et=Ct[Dt].split("=");if(1<Et.length){var Xt=Et[0];Et=Et[1];var cr=Xt.split("_");He=2<=cr.length&&cr[1]=="type"?He+(Xt+"="+Et+"&"):He+(Xt+"=redacted&")}}else He=null;else He=Fe;return"XMLHTTP REQ ("+z+") [attempt "+Be+"]: "+C+`
`+U+`
`+He})}function kr(d,C,U,z,Be,Fe,He){d.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Be+"]: "+C+`
`+U+`
`+Fe+" "+He})}function Xr(d,C,U,z){d.info(function(){return"XMLHTTP TEXT ("+C+"): "+gi(d,U)+(z?" "+z:"")})}function va(d,C){d.info(function(){return"TIMEOUT: "+C})}Jr.prototype.info=function(){};function gi(d,C){if(!d.g)return C;if(!C)return null;try{var U=JSON.parse(C);if(U){for(d=0;d<U.length;d++)if(Array.isArray(U[d])){var z=U[d];if(!(2>z.length)){var Be=z[1];if(Array.isArray(Be)&&!(1>Be.length)){var Fe=Be[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(var He=1;He<Be.length;He++)Be[He]=""}}}}return Kt(U)}catch{return C}}var Pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function ns(){}B(ns,jt),ns.prototype.g=function(){return new XMLHttpRequest},ns.prototype.i=function(){return{}},rs=new ns;function Dr(d,C,U,z){this.j=d,this.i=C,this.l=U,this.R=z||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}var Wi={},$i={};function Yi(d,C,U){d.L=1,d.v=FA(ss(C)),d.m=U,d.P=!0,EA(d,null)}function EA(d,C){d.F=Date.now(),ya(d),d.A=ss(d.v);var U=d.A,z=d.R;Array.isArray(z)||(z=[String(z)]),yt(U.i,"t",z),d.C=0,U=d.j.J,d.h=new Us,d.g=D(d.j,U?C:null,!d.m),0<d.O&&(d.M=new Je(p(d.Y,d,d.g),d.O)),C=d.U,U=d.g,z=d.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(Qt[0]=Be.toString()),Be=Qt);for(var Fe=0;Fe<Be.length;Fe++){var He=re(U,Be[Fe],z||C.handleEvent,!1,C.h||C);if(!He)break;C.g[He.key]=He}C=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,C)):(d.u="GET",d.g.ea(d.A,d.u,null,C)),_r(),Pr(d.i,d.u,d.A,d.l,d.R,d.m)}Dr.prototype.ca=function(d){d=d.target;const C=this.M;C&&an(d)==3?C.j():this.Y(d)},Dr.prototype.Y=function(d){try{if(d==this.g)e:{const cr=an(this.g);var C=this.g.Ba();const Ei=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||uc(this.g)))){this.J||cr!=4||C==7||(C==8||0>=Ei?_r(3):_r(2)),Ji(this);var U=this.g.Z();this.X=U;t:if(_A(this)){var z=uc(this.g);d="";var Be=z.length,Fe=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),Xi(this);var He="";break t}this.h.i=new a.TextDecoder}for(C=0;C<Be;C++)this.h.h=!0,d+=this.h.i.decode(z[C],{stream:!(Fe&&C==Be-1)});z.length=0,this.h.g+=d,this.C=0,He=this.h.g}else He=this.g.oa();if(this.o=U==200,kr(this.i,this.u,this.A,this.l,this.R,cr,U),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,Dt=this.g;if((Ct=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ct)){var Et=Ct;break t}}Et=null}if(U=Et)Xr(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IA(this,U);else{this.o=!1,this.s=3,nt(12),vi(this),Xi(this);break e}}if(this.P){U=!0;let Bn;for(;!this.J&&this.C<He.length;)if(Bn=rc(this,He),Bn==$i){cr==4&&(this.s=4,nt(14),U=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Wi){this.s=4,nt(15),Xr(this.i,this.l,He,"[Invalid Chunk]"),U=!1;break}else Xr(this.i,this.l,Bn,null),IA(this,Bn);if(_A(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||He.length!=0||this.h.h||(this.s=1,nt(16),U=!1),this.o=this.o&&U,!U)Xr(this.i,this.l,He,"[Invalid Chunked Response]"),vi(this),Xi(this);else if(0<He.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+He.length),Ua(Xt),Xt.M=!0,nt(11))}}else Xr(this.i,this.l,He,null),IA(this,He);cr==4&&vi(this),this.o&&!this.J&&(cr==4?nA(this.j,this):(this.o=!1,ya(this)))}else tA(this.g),U==400&&0<He.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),vi(this),Xi(this)}}}catch{}finally{}};function _A(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function rc(d,C){var U=d.C,z=C.indexOf(`
`,U);return z==-1?$i:(U=Number(C.substring(U,z)),isNaN(U)?Wi:(z+=1,z+U>C.length?$i:(C=C.slice(z,z+U),d.C=z+U,C)))}Dr.prototype.cancel=function(){this.J=!0,vi(this)};function ya(d){d.S=Date.now()+d.I,nc(d,d.I)}function nc(d,C){if(d.B!=null)throw Error("WatchDog timer not null");d.B=jn(p(d.ba,d),C)}function Ji(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Dr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(va(this.i,this.A),this.L!=2&&(_r(),nt(17)),vi(this),this.s=2,Xi(this)):nc(this,this.S-d)};function Xi(d){d.j.G==0||d.J||nA(d.j,d)}function vi(d){Ji(d);var C=d.M;C&&typeof C.ma=="function"&&C.ma(),d.M=null,wn(d.U),d.g&&(C=d.g,d.g=null,C.abort(),C.ma())}function IA(d,C){try{var U=d.j;if(U.G!=0&&(U.g==d||el(U.h,d))){if(!d.K&&el(U.h,d)&&U.G==3){try{var z=U.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Be=z;if(Be[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<d.F)Ci(U),Sa(U);else break e;LA(U),nt(18)}}else U.za=Be[1],0<U.za-U.T&&37500>Be[2]&&U.F&&U.v==0&&!U.C&&(U.C=jn(p(U.Za,U),6e3));if(1>=NA(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else Dn(U,11)}else if((d.K||U.g==d)&&Ci(U),!y(C))for(Be=U.Da.g.parse(C),C=0;C<Be.length;C++){let Et=Be[C];if(U.T=Et[0],Et=Et[1],U.G==2)if(Et[0]=="c"){U.K=Et[1],U.ia=Et[2];const Xt=Et[3];Xt!=null&&(U.la=Xt,U.j.info("VER="+U.la));const cr=Et[4];cr!=null&&(U.Aa=cr,U.j.info("SVER="+U.Aa));const Ei=Et[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(z=1.5*Ei,U.L=z,U.j.info("backChannelRequestTimeoutMs_="+z)),z=U;const Bn=d.g;if(Bn){const sA=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sA){var Fe=z.h;Fe.g||sA.indexOf("spdy")==-1&&sA.indexOf("quic")==-1&&sA.indexOf("h2")==-1||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(vr(Fe,Fe.h),Fe.h=null))}if(z.D){const iA=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;iA&&(z.ya=iA,tr(z.I,z.D,iA))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-d.F,U.j.info("Handshake RTT: "+U.R+"ms")),z=U;var He=d;if(z.qa=v(z,z.J?z.ia:null,z.W),He.K){tl(z.h,He);var Ct=He,Dt=z.L;Dt&&(Ct.I=Dt),Ct.B&&(Ji(Ct),ya(Ct)),z.g=He}else Ta(z);0<U.i.length&&Fa(U)}else Et[0]!="stop"&&Et[0]!="close"||Dn(U,7);else U.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Dn(U,7):bi(U):Et[0]!="noop"&&U.l&&U.l.ta(Et),U.v=0)}}_r(4)}catch{}}var Yu=class{constructor(d,C){this.g=d,this.map=C}};function Zo(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function NA(d){return d.h?1:d.g?d.g.size:0}function el(d,C){return d.h?d.h==C:d.g?d.g.has(C):!1}function vr(d,C){d.g?d.g.add(C):d.h=C}function tl(d,C){d.h&&d.h==C?d.h=null:d.g&&d.g.has(C)&&d.g.delete(C)}Zo.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function rl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let C=d.i;for(const U of d.g.values())C=C.concat(U.D);return C}return E(d.i)}function ic(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var C=[],U=d.length,z=0;z<U;z++)C.push(d[z]);return C}C=[],U=0;for(z in d)C[U++]=d[z];return C}function nl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var C=[];d=d.length;for(var U=0;U<d;U++)C.push(U);return C}C=[],U=0;for(const z in d)C[U++]=z;return C}}}function Ac(d,C){if(d.forEach&&typeof d.forEach=="function")d.forEach(C,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,C,void 0);else for(var U=nl(d),z=ic(d),Be=z.length,Fe=0;Fe<Be;Fe++)C.call(void 0,z[Fe],U&&U[Fe],d)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(d,C){if(d){d=d.split("&");for(var U=0;U<d.length;U++){var z=d[U].indexOf("="),Be=null;if(0<=z){var Fe=d[U].substring(0,z);Be=d[U].substring(z+1)}else Fe=d[U];C(Fe,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}function Tr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Tr){this.h=d.h,SA(this,d.j),this.o=d.o,this.g=d.g,xa(this,d.s),this.l=d.l;var C=d.i,U=new Zi;U.i=C.i,C.g&&(U.g=new Map(C.g),U.h=C.h),sl(this,U),this.m=d.m}else d&&(C=String(d).match(ms))?(this.h=!1,SA(this,C[1]||"",!0),this.o=kA(C[2]||""),this.g=kA(C[3]||"",!0),xa(this,C[4]),this.l=kA(C[5]||"",!0),sl(this,C[6]||"",!0),this.m=kA(C[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Tr.prototype.toString=function(){var d=[],C=this.j;C&&d.push(yi(C,ac,!0),":");var U=this.g;return(U||C=="file")&&(d.push("//"),(C=this.o)&&d.push(yi(C,ac,!0),"@"),d.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&d.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&d.push("/"),d.push(yi(U,U.charAt(0)=="/"?wi:Xu,!0))),(U=this.i.toString())&&d.push("?",U),(U=this.m)&&d.push("#",yi(U,ba)),d.join("")};function ss(d){return new Tr(d)}function SA(d,C,U){d.j=U?kA(C,!0):C,d.j&&(d.j=d.j.replace(/:$/,""))}function xa(d,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);d.s=C}else d.s=null}function sl(d,C,U){C instanceof Zi?(d.i=C,Zu(d.i,d.h)):(U||(C=yi(C,Ba)),d.i=new Zi(C,d.h))}function tr(d,C,U){d.i.set(C,U)}function FA(d){return tr(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function kA(d,C){return d?C?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function yi(d,C,U){return typeof d=="string"?(d=encodeURI(d).replace(C,Ju),U&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ju(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ac=/[#\/\?@]/g,Xu=/[#\?:]/g,wi=/[#\?]/g,Ba=/[#\?@]/g,ba=/#/g;function Zi(d,C){this.h=this.g=null,this.i=d||null,this.j=!!C}function yr(d){d.g||(d.g=new Map,d.h=0,d.i&&wa(d.i,function(C,U){d.add(decodeURIComponent(C.replace(/\+/g," ")),U)}))}t=Zi.prototype,t.add=function(d,C){yr(this),this.i=null,d=eA(this,d);var U=this.g.get(d);return U||this.g.set(d,U=[]),U.push(C),this.h+=1,this};function oc(d,C){yr(d),C=eA(d,C),d.g.has(C)&&(d.i=null,d.h-=d.g.get(C).length,d.g.delete(C))}function il(d,C){return yr(d),C=eA(d,C),d.g.has(C)}t.forEach=function(d,C){yr(this),this.g.forEach(function(U,z){U.forEach(function(Be){d.call(C,Be,z,this)},this)},this)},t.na=function(){yr(this);const d=Array.from(this.g.values()),C=Array.from(this.g.keys()),U=[];for(let z=0;z<C.length;z++){const Be=d[z];for(let Fe=0;Fe<Be.length;Fe++)U.push(C[z])}return U},t.V=function(d){yr(this);let C=[];if(typeof d=="string")il(this,d)&&(C=C.concat(this.g.get(eA(this,d))));else{d=Array.from(this.g.values());for(let U=0;U<d.length;U++)C=C.concat(d[U])}return C},t.set=function(d,C){return yr(this),this.i=null,d=eA(this,d),il(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[C]),this.h+=1,this},t.get=function(d,C){return d?(d=this.V(d),0<d.length?String(d[0]):C):C};function yt(d,C,U){oc(d,C),0<U.length&&(d.i=null,d.g.set(eA(d,C),E(U)),d.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],C=Array.from(this.g.keys());for(var U=0;U<C.length;U++){var z=C[U];const Fe=encodeURIComponent(String(z)),He=this.V(z);for(z=0;z<He.length;z++){var Be=Fe;He[z]!==""&&(Be+="="+encodeURIComponent(String(He[z]))),d.push(Be)}}return this.i=d.join("&")};function eA(d,C){return C=String(C),d.j&&(C=C.toLowerCase()),C}function Zu(d,C){C&&!d.j&&(yr(d),d.i=null,d.g.forEach(function(U,z){var Be=z.toLowerCase();z!=Be&&(oc(this,z),yt(this,Be,U))},d)),d.j=C}function Js(d,C){const U=new Jr;if(a.Image){const z=new Image;z.onload=g(Qs,U,"TestLoadImage: loaded",!0,C,z),z.onerror=g(Qs,U,"TestLoadImage: error",!1,C,z),z.onabort=g(Qs,U,"TestLoadImage: abort",!1,C,z),z.ontimeout=g(Qs,U,"TestLoadImage: timeout",!1,C,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=d}else C(!1)}function lc(d,C){const U=new Jr,z=new AbortController,Be=setTimeout(()=>{z.abort(),Qs(U,"TestPingServer: timeout",!1,C)},1e4);fetch(d,{signal:z.signal}).then(Fe=>{clearTimeout(Be),Fe.ok?Qs(U,"TestPingServer: ok",!0,C):Qs(U,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Be),Qs(U,"TestPingServer: error",!1,C)})}function Qs(d,C,U,z,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),z(U)}catch{}}function Ca(){this.g=new ts}function Al(d,C,U){const z=U||"";try{Ac(d,function(Be,Fe){let He=Be;c(Be)&&(He=Kt(Be)),C.push(z+Fe+"="+encodeURIComponent(He))})}catch(Be){throw C.push(z+"type="+encodeURIComponent("_badmap")),Be}}function Ea(d){this.l=d.Ub||null,this.j=d.eb||!1}B(Ea,jt),Ea.prototype.g=function(){return new _a(this.l,this.j)},Ea.prototype.i=function(d){return function(){return d}}({});function _a(d,C){ut.call(this),this.D=d,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(_a,ut),t=_a.prototype,t.open=function(d,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=C,this.readyState=1,Ls(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(C.body=d),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var C=d.value?d.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!d.done}))&&(this.response=this.responseText+=C)}d.done?xi(this):Ls(this),this.readyState==3&&cc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,xi(this))},t.Qa=function(d){this.g&&(this.response=d,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ls(d)}t.setRequestHeader=function(d,C){this.u.append(d,C)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],C=this.h.entries();for(var U=C.next();!U.done;)U=U.value,d.push(U[0]+": "+U[1]),U=C.next();return d.join(`\r
`)};function Ls(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bi(d){let C="";return W(d,function(U,z){C+=z,C+=":",C+=U,C+=`\r
`}),C}function al(d,C,U){e:{for(z in U){var z=!1;break e}z=!0}z||(U=Bi(U),typeof d=="string"?U!=null&&encodeURIComponent(String(U)):tr(d,C,U))}function Jt(d){ut.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Jt,ut);var ol=/^https?$/i,Ia=["POST","PUT"];t=Jt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,C,U,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);C=C?C.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?Ts(this.o):Ts(rs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(d),!0),this.B=!1}catch(Fe){ll(this,Fe);return}if(d=U||"",U=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Be in z)U.set(Be,z[Be]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const Fe of z.keys())U.set(Fe,z.get(Fe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(U.keys()).find(Fe=>Fe.toLowerCase()=="content-type"),Be=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ia,C,void 0))||z||Be||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,He]of U)this.g.setRequestHeader(Fe,He);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(d),this.u=!1}catch(Fe){ll(this,Fe)}};function ll(d,C){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=C,d.m=5,cl(d),TA(d)}function cl(d){d.A||(d.A=!0,pt(d,"complete"),pt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,pt(this,"complete"),pt(this,"abort"),TA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),TA(this,!0)),Jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},t.bb=function(){ul(this)};function ul(d){if(d.h&&typeof A<"u"&&(!d.v[1]||an(d)!=4||d.Z()!=2)){if(d.u&&an(d)==4)ft(d.Ea,0,d);else if(pt(d,"readystatechange"),an(d)==4){d.h=!1;try{const He=d.Z();e:switch(He){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var U;if(!(U=C)){var z;if(z=He===0){var Be=String(d.D).match(ms)[1]||null;!Be&&a.self&&a.self.location&&(Be=a.self.location.protocol.slice(0,-1)),z=!ol.test(Be?Be.toLowerCase():"")}U=z}if(U)pt(d,"complete"),pt(d,"success");else{d.m=6;try{var Fe=2<an(d)?d.g.statusText:""}catch{Fe=""}d.l=Fe+" ["+d.Z()+"]",cl(d)}}finally{TA(d)}}}}function TA(d,C){if(d.g){js(d);const U=d.g,z=d.v[0]?()=>{}:null;d.g=null,d.v=null,C||pt(d,"ready");try{U.onreadystatechange=z}catch{}}}function js(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function an(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var C=this.g.responseText;return d&&C.indexOf(d)==0&&(C=C.substring(d.length)),er(C)}};function uc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tA(d){const C={};d=(d.g&&2<=an(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<d.length;z++){if(y(d[z]))continue;var U=N(d[z]);const Be=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Fe=C[Be]||[];C[Be]=Fe,Fe.push(U)}T(C,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xn(d,C,U){return U&&U.internalChannelParams&&U.internalChannelParams[d]||C}function Na(d){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xn("baseRetryDelayMs",5e3,d),this.cb=xn("retryDelaySeedMs",1e4,d),this.Wa=xn("forwardChannelMaxRetries",2,d),this.wa=xn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Zo(d&&d.concurrentRequestLimit),this.Da=new Ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Na.prototype,t.la=8,t.G=1,t.connect=function(d,C,U,z){nt(0),this.W=d,this.H=C||{},U&&z!==void 0&&(this.H.OSID=U,this.H.OAID=z),this.F=this.X,this.I=v(this,null,this.W),Fa(this)};function bi(d){if(UA(d),d.G==3){var C=d.U++,U=ss(d.I);if(tr(U,"SID",d.K),tr(U,"RID",C),tr(U,"TYPE","terminate"),rA(d,U),C=new Dr(d,d.j,C),C.L=2,C.v=FA(ss(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!U&&a.Image&&(new Image().src=C.v,U=!0),U||(C.g=D(C.j,null),C.g.ea(C.v)),C.F=Date.now(),ya(C)}La(d)}function Sa(d){d.g&&(Ua(d),d.g.cancel(),d.g=null)}function UA(d){Sa(d),d.u&&(a.clearTimeout(d.u),d.u=null),Ci(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Fa(d){if(!sc(d.h)&&!d.s){d.s=!0;var C=d.Ga;ye||Z(),V||(ye(),V=!0),le.add(C,d),d.B=0}}function dl(d,C){return NA(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=C.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=jn(p(d.Ga,d,C),Qa(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Be=new Dr(this,this.j,d);let Fe=this.o;if(this.S&&(Fe?(Fe=b(Fe),j(Fe,this.S)):Fe=this.S),this.m!==null||this.O||(Be.H=Fe,Fe=null),this.P)e:{for(var C=0,U=0;U<this.i.length;U++){t:{var z=this.i[U];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=U;break e}if(C===4096||U===this.i.length-1){C=U+1;break e}}C=1e3}else C=1e3;C=QA(this,Be,C),U=ss(this.I),tr(U,"RID",d),tr(U,"CVER",22),this.D&&tr(U,"X-HTTP-Session-Id",this.D),rA(this,U),Fe&&(this.O?C="headers="+encodeURIComponent(String(Bi(Fe)))+"&"+C:this.m&&al(U,this.m,Fe)),vr(this.h,Be),this.Ua&&tr(U,"TYPE","init"),this.P?(tr(U,"$req",C),tr(U,"SID","null"),Be.T=!0,Yi(Be,U,null)):Yi(Be,U,C),this.G=2}}else this.G==3&&(d?ka(this,d):this.i.length==0||sc(this.h)||ka(this))};function ka(d,C){var U;C?U=C.l:U=d.U++;const z=ss(d.I);tr(z,"SID",d.K),tr(z,"RID",U),tr(z,"AID",d.T),rA(d,z),d.m&&d.o&&al(z,d.m,d.o),U=new Dr(d,d.j,U,d.B+1),d.m===null&&(U.H=d.o),C&&(d.i=C.D.concat(d.i)),C=QA(d,U,1e3),U.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),vr(d.h,U),Yi(U,z,C)}function rA(d,C){d.H&&W(d.H,function(U,z){tr(C,z,U)}),d.l&&Ac({},function(U,z){tr(C,z,U)})}function QA(d,C,U){U=Math.min(d.i.length,U);var z=d.l?p(d.l.Na,d.l,d):null;e:{var Be=d.i;let Fe=-1;for(;;){const He=["count="+U];Fe==-1?0<U?(Fe=Be[0].g,He.push("ofs="+Fe)):Fe=0:He.push("ofs="+Fe);let Ct=!0;for(let Dt=0;Dt<U;Dt++){let Et=Be[Dt].g;const Xt=Be[Dt].map;if(Et-=Fe,0>Et)Fe=Math.max(0,Be[Dt].g-100),Ct=!1;else try{Al(Xt,He,"req"+Et+"_")}catch{z&&z(Xt)}}if(Ct){z=He.join("&");break e}}}return d=d.i.splice(0,U),C.D=d,z}function Ta(d){if(!d.g&&!d.u){d.Y=1;var C=d.Fa;ye||Z(),V||(ye(),V=!0),le.add(C,d),d.v=0}}function LA(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=jn(p(d.Fa,d),Qa(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=jn(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Sa(this),dc(this))};function Ua(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function dc(d){d.g=new Dr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var C=ss(d.qa);tr(C,"RID","rpc"),tr(C,"SID",d.K),tr(C,"AID",d.T),tr(C,"CI",d.F?"0":"1"),!d.F&&d.ja&&tr(C,"TO",d.ja),tr(C,"TYPE","xmlhttp"),rA(d,C),d.m&&d.o&&al(C,d.m,d.o),d.L&&(d.g.I=d.L);var U=d.g;d=d.ia,U.L=1,U.v=FA(ss(C)),U.m=null,U.P=!0,EA(U,d)}t.Za=function(){this.C!=null&&(this.C=null,Sa(this),LA(this),nt(19))};function Ci(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function nA(d,C){var U=null;if(d.g==C){Ci(d),Ua(d),d.g=null;var z=2}else if(el(d.h,C))U=C.D,tl(d.h,C),z=1;else return;if(d.G!=0){if(C.o)if(z==1){U=C.m?C.m.length:0,C=Date.now()-C.F;var Be=d.B;z=Ut(),pt(z,new hs(z,U)),Fa(d)}else Ta(d);else if(Be=C.s,Be==3||Be==0&&0<C.X||!(z==1&&dl(d,C)||z==2&&LA(d)))switch(U&&0<U.length&&(C=d.h,C.i=C.i.concat(U)),Be){case 1:Dn(d,5);break;case 4:Dn(d,10);break;case 3:Dn(d,6);break;default:Dn(d,2)}}}function Qa(d,C){let U=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(U*=2),U*C}function Dn(d,C){if(d.j.info("Error code "+C),C==2){var U=p(d.fb,d),z=d.Xa;const Be=!z;z=new Tr(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||SA(z,"https"),FA(z),Be?Js(z.toString(),U):lc(z.toString(),U)}else nt(2);d.G=0,d.l&&d.l.sa(C),La(d),UA(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function La(d){if(d.G=0,d.ka=[],d.l){const C=rl(d.h);(C.length!=0||d.i.length!=0)&&(I(d.ka,C),I(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function v(d,C,U){var z=U instanceof Tr?ss(U):new Tr(U);if(z.g!="")C&&(z.g=C+"."+z.g),xa(z,z.s);else{var Be=a.location;z=Be.protocol,C=C?C+"."+Be.hostname:Be.hostname,Be=+Be.port;var Fe=new Tr(null);z&&SA(Fe,z),C&&(Fe.g=C),Be&&xa(Fe,Be),U&&(Fe.l=U),z=Fe}return U=d.D,C=d.ya,U&&C&&tr(z,U,C),tr(z,"VER",d.la),rA(d,z),z}function D(d,C,U){if(C&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=d.Ca&&!d.pa?new Jt(new Ea({eb:U})):new Jt(d.pa),C.Ha(d.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}t=Ae.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function de(){}de.prototype.g=function(d,C){return new Ce(d,C)};function Ce(d,C){ut.call(this),this.g=new Na(C),this.l=d,this.h=C&&C.messageUrlParams||null,d=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(d?d["X-WebChannel-Content-Type"]=C.messageContentType:d={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(d?d["X-WebChannel-Client-Profile"]=C.va:d={"X-WebChannel-Client-Profile":C.va}),this.g.S=d,(d=C&&C.Sb)&&!y(d)&&(this.g.m=d),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!y(C)&&(this.g.D=C,d=this.h,d!==null&&C in d&&(d=this.h,C in d&&delete d[C])),this.j=new Ye(this)}B(Ce,ut),Ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){bi(this.g)},Ce.prototype.o=function(d){var C=this.g;if(typeof d=="string"){var U={};U.__data__=d,d=U}else this.u&&(U={},U.__data__=Kt(d),d=U);C.i.push(new Yu(C.Ya++,d)),C.G==3&&Fa(C)},Ce.prototype.N=function(){this.g.l=null,delete this.j,bi(this.g),delete this.g,Ce.aa.N.call(this)};function Qe(d){tt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var C=d.__sm__;if(C){e:{for(const U in C){d=U;break e}d=void 0}(this.i=d)&&(d=this.i,C=C!==null&&d in C?C[d]:void 0),this.data=C}else this.data=d}B(Qe,tt);function Oe(){ct.call(this),this.status=1}B(Oe,ct);function Ye(d){this.g=d}B(Ye,Ae),Ye.prototype.ua=function(){pt(this.g,"a")},Ye.prototype.ta=function(d){pt(this.g,new Qe(d))},Ye.prototype.sa=function(d){pt(this.g,new Oe)},Ye.prototype.ra=function(){pt(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,AI=function(){return new de},iI=function(){return Ut()},sI=ze,ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,ep=Pn,fs.COMPLETE="complete",nI=fs,Te.EventType=We,We.OPEN="a",We.CLOSE="b",We.ERROR="c",We.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ld=Te,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,rI=Jt}).apply(typeof sm<"u"?sm:typeof self<"u"?self:typeof window<"u"?window:{});const Ib="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Jw("@firebase/firestore");function Bd(){return Gl.logLevel}function lt(t,...e){if(Gl.logLevel<=Mt.DEBUG){const r=e.map(l2);Gl.debug(`Firestore (${zu}): ${t}`,...r)}}function la(t,...e){if(Gl.logLevel<=Mt.ERROR){const r=e.map(l2);Gl.error(`Firestore (${zu}): ${t}`,...r)}}function Su(t,...e){if(Gl.logLevel<=Mt.WARN){const r=e.map(l2);Gl.warn(`Firestore (${zu}): ${t}`,...r)}}function l2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t="Unexpected state"){const e=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: `+t;throw la(e),new Error(e)}function Ar(t,e){t||bt()}function Nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends fa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(qn.UNAUTHENTICATED))}shutdown(){}}class g6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class v6{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ar(this.o===void 0);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ko,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ko)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ar(typeof n.accessToken=="string"),new aI(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ar(e===null||typeof e=="string"),new qn(e)}}class y6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new y6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ar(this.o===void 0);const n=i=>{i.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,lt("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ar(typeof r.token=="string"),this.R=r.token,new x6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=b6(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function $t(t,e){return t<e?-1:t>e?1:0}function Fu(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new At(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new At(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new At(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Yr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Yr(0,0))}static max(){return new It(new Yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,r,n){r===void 0?r=0:r>e.length&&bt(),n===void 0?n=e.length-r:n>e.length-r&&bt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),A=r.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xr extends Qh{construct(e,r,n){return new xr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new At(De.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new xr(r)}static emptyPath(){return new xr([])}}const C6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Qh{construct(e,r,n){return new Nn(e,r,n)}static isValidIdentifier(e){return C6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new At(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new At(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new At(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(n+=a,s++):(i(),s++)}if(i(),A)throw new At(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(r)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(xr.fromString(e))}static fromName(e){return new ht(xr.fromString(e).popFirst(5))}static empty(){return new ht(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new xr(e.slice()))}}function E6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=It.fromTimestamp(n===1e9?new Yr(r+1,0):new Yr(r,n));return new Po(s,ht.empty(),e)}function _6(t){return new Po(t.readTime,t.key,-1)}class Po{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Po(It.min(),ht.empty(),-1)}static max(){return new Po(It.max(),ht.empty(),-1)}}function I6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ht.comparator(t.documentKey,e.documentKey),r!==0?r:$t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(t){if(t.code!==De.FAILED_PRECONDITION||t.message!==N6)throw t;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ve((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ve?r:Ve.resolve(r)}catch(r){return Ve.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ve.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ve.reject(r)}static resolve(e){return new Ve((r,n)=>{r(e)})}static reject(e){return new Ve((r,n)=>{n(e)})}static waitFor(e){return new Ve((r,n)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&r()},l=>n(l))}),A=!0,i===s&&r()})}static or(e){let r=Ve.resolve(!1);for(const n of e)r=r.next(s=>s?Ve.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new Ve((n,s)=>{const i=e.length,A=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;r(e[c]).next(h=>{A[c]=h,++a,a===i&&n(A)},h=>s(h))}})}static doWhile(e,r){return new Ve((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function F6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}c2.oe=-1;function Hg(t){return t==null}function $p(t){return t===0&&1/t==-1/0}function k6(t){return typeof t=="number"&&Number.isInteger(t)&&!$p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Zl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function lI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,r){this.comparator=e,this.root=r||In.EMPTY}insert(e,r){return new Fr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??In.RED,this.left=s??In.EMPTY,this.right=i??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new In(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,r,n,s,i){return this}insert(e,r,n){return new In(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new kn(this.comparator);return r.data=e,r}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new zs([])}unionWith(e){let r=new kn(Nn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new zs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cI("Invalid base64 string: "+i):i}}(e);return new Qn(r)}static fromUint8Array(e){const r=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new Qn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const T6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(Ar(!!t),typeof t=="string"){let e=0;const r=T6.exec(t);if(Ar(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vr(t.seconds),nanos:Vr(t.nanos)}}function Vr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ql(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function d2(t){const e=t.mapValue.fields.__previous_value__;return u2(e)?d2(e):e}function Lh(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Yr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,r,n,s,i,A,a,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class jh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new jh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u2(t)?4:L6(t)?9007199254740991:Q6(t)?10:11:bt()}function xA(t,e){if(t===e)return!0;const r=Wl(t);if(r!==Wl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lh(t).isEqual(Lh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Do(s.timestampValue),a=Do(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ql(s.bytesValue).isEqual(ql(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vr(s.geoPointValue.latitude)===Vr(i.geoPointValue.latitude)&&Vr(s.geoPointValue.longitude)===Vr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vr(s.integerValue)===Vr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=Vr(s.doubleValue),a=Vr(i.doubleValue);return A===a?$p(A)===$p(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],xA);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Nb(A)!==Nb(a))return!1;for(const l in A)if(A.hasOwnProperty(l)&&(a[l]===void 0||!xA(A[l],a[l])))return!1;return!0}(t,e);default:return bt()}}function Ph(t,e){return(t.values||[]).find(r=>xA(r,e))!==void 0}function ku(t,e){if(t===e)return 0;const r=Wl(t),n=Wl(e);if(r!==n)return $t(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return $t(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=Vr(i.integerValue||i.doubleValue),l=Vr(A.integerValue||A.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Fb(t.timestampValue,e.timestampValue);case 4:return Fb(Lh(t),Lh(e));case 5:return $t(t.stringValue,e.stringValue);case 6:return function(i,A){const a=ql(i),l=ql(A);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),l=A.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=$t(a[c],l[c]);if(h!==0)return h}return $t(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=$t(Vr(i.latitude),Vr(A.latitude));return a!==0?a:$t(Vr(i.longitude),Vr(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kb(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,l,c,h;const f=i.fields||{},p=A.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,B=(l=p.value)===null||l===void 0?void 0:l.arrayValue,E=$t(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=B==null?void 0:B.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:kb(g,B)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===Am.mapValue&&A===Am.mapValue)return 0;if(i===Am.mapValue)return 1;if(A===Am.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=A.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=$t(l[f],h[f]);if(p!==0)return p;const g=ku(a[l[f]],c[h[f]]);if(g!==0)return g}return $t(l.length,h.length)}(t.mapValue,e.mapValue);default:throw bt()}}function Fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $t(t,e);const r=Do(t),n=Do(e),s=$t(r.seconds,n.seconds);return s!==0?s:$t(r.nanos,n.nanos)}function kb(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=ku(r[s],n[s]);if(i)return i}return $t(r.length,n.length)}function Tu(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Do(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ql(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ht.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=sy(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const A of n)i?i=!1:s+=",",s+=`${A}:${sy(r.fields[A])}`;return s+"}"}(t.mapValue):bt()}function Tb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iy(t){return!!t&&"integerValue"in t}function h2(t){return!!t&&"arrayValue"in t}function Ub(t){return!!t&&"nullValue"in t}function Qb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tp(t){return!!t&&"mapValue"in t}function Q6(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function rh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=rh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rh(t.arrayValue.values[r]);return e}return Object.assign({},t)}function L6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.value=e}static empty(){return new Bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(r)}setAll(e){let r=Nn.emptyPath(),n={},s=[];e.forEach((A,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=a.popLast()}A?n[a.lastSegment()]=rh(A):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return xA(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];tp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Zl(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new Bs(rh(this.value))}}function uI(t){const e=[];return Zl(t.fields,(r,n)=>{const s=new Nn([r]);if(tp(n)){const i=uI(n.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new zs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,r,n,s,i,A,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Yn(e,0,It.min(),It.min(),It.min(),Bs.empty(),0)}static newFoundDocument(e,r,n,s){return new Yn(e,1,r,It.min(),n,s,0)}static newNoDocument(e,r){return new Yn(e,2,r,It.min(),It.min(),Bs.empty(),0)}static newUnknownDocument(e,r){return new Yn(e,3,r,It.min(),It.min(),Bs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,r){this.position=e,this.inclusive=r}}function Lb(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?n=ht.comparator(ht.fromName(A.referenceValue),r.key):n=ku(A,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function jb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!xA(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,r="asc"){this.field=e,this.dir=r}}function j6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dI=class{};class sn extends dI{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new D6(e,r,n):r==="array-contains"?new H6(e,n):r==="in"?new M6(e,n):r==="not-in"?new V6(e,n):r==="array-contains-any"?new K6(e,n):new sn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new R6(e,n):new O6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ku(r,this.value)):r!==null&&Wl(this.value)===Wl(r)&&this.matchesComparison(ku(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends dI{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Hi(e,r)}matches(e){return hI(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hI(t){return t.op==="and"}function fI(t){return P6(t)&&hI(t)}function P6(t){for(const e of t.filters)if(e instanceof Hi)return!1;return!0}function Ay(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(fI(t))return t.filters.map(e=>Ay(e)).join(",");{const e=t.filters.map(r=>Ay(r)).join(",");return`${t.op}(${e})`}}function mI(t,e){return t instanceof sn?function(n,s){return s instanceof sn&&n.op===s.op&&n.field.isEqual(s.field)&&xA(n.value,s.value)}(t,e):t instanceof Hi?function(n,s){return s instanceof Hi&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,A,a)=>i&&mI(A,s.filters[a]),!0):!1}(t,e):void bt()}function pI(t){return t instanceof sn?function(r){return`${r.field.canonicalString()} ${r.op} ${Tu(r.value)}`}(t):t instanceof Hi?function(r){return r.op.toString()+" {"+r.getFilters().map(pI).join(" ,")+"}"}(t):"Filter"}class D6 extends sn{constructor(e,r,n){super(e,r,n),this.key=ht.fromName(n.referenceValue)}matches(e){const r=ht.comparator(e.key,this.key);return this.matchesComparison(r)}}class R6 extends sn{constructor(e,r){super(e,"in",r),this.keys=gI("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class O6 extends sn{constructor(e,r){super(e,"not-in",r),this.keys=gI("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function gI(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ht.fromName(n.referenceValue))}class H6 extends sn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return h2(r)&&Ph(r.arrayValue,this.value)}}class M6 extends sn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ph(this.value.arrayValue,r)}}class V6 extends sn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ph(this.value.arrayValue,r)}}class K6 extends sn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!h2(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ph(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,r=null,n=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function Pb(t,e=null,r=[],n=[],s=null,i=null,A=null){return new z6(t,e,r,n,s,i,A)}function f2(t){const e=Nt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ay(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Hg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tu(n)).join(",")),e.ue=r}return e.ue}function m2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!j6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!mI(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jb(t.startAt,e.startAt)&&jb(t.endAt,e.endAt)}function ay(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,r=null,n=[],s=[],i=null,A="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function G6(t,e,r,n,s,i,A,a){return new Gu(t,e,r,n,s,i,A,a)}function p2(t){return new Gu(t)}function Db(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vI(t){return t.collectionGroup!==null}function nh(t){const e=Nt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new kn(Nn.comparator);return A.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dh(i,n))}),r.has(Nn.keyField().canonicalString())||e.ce.push(new Dh(Nn.keyField(),n))}return e.ce}function vA(t){const e=Nt(t);return e.le||(e.le=q6(e,nh(t))),e.le}function q6(t,e){if(t.limitType==="F")return Pb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dh(s.field,i)});const r=t.endAt?new Yp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Yp(t.startAt.position,t.startAt.inclusive):null;return Pb(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function oy(t,e){const r=t.filters.concat([e]);return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ly(t,e,r){return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Mg(t,e){return m2(vA(t),vA(e))&&t.limitType===e.limitType}function yI(t){return`${f2(vA(t))}|lt:${t.limitType}`}function Lc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>pI(s)).join(", ")}]`),Hg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Tu(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Tu(s)).join(",")),`Target(${n})`}(vA(t))}; limitType=${t.limitType})`}function Vg(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ht.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of nh(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(A,a,l){const c=Lb(A,a,l);return A.inclusive?c<=0:c<0}(n.startAt,nh(n),s)||n.endAt&&!function(A,a,l){const c=Lb(A,a,l);return A.inclusive?c>=0:c>0}(n.endAt,nh(n),s))}(t,e)}function W6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wI(t){return(e,r)=>{let n=!1;for(const s of nh(t)){const i=$6(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function $6(t,e,r){const n=t.field.isKeyField()?ht.comparator(e.key,r.key):function(i,A,a){const l=A.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ku(l,c):bt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zl(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return lI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new Fr(ht.comparator);function ca(){return Y6}const xI=new Fr(ht.comparator);function jd(...t){let e=xI;for(const r of t)e=e.insert(r.key,r);return e}function BI(t){let e=xI;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Sl(){return sh()}function bI(){return sh()}function sh(){return new qu(t=>t.toString(),(t,e)=>t.isEqual(e))}const J6=new Fr(ht.comparator),X6=new kn(ht.comparator);function Ht(...t){let e=X6;for(const r of t)e=e.add(r);return e}const Z6=new kn($t);function eP(){return Z6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(e)?"-0":e}}function CI(t){return{integerValue:""+t}}function tP(t,e){return k6(e)?CI(e):g2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this._=void 0}}function rP(t,e,r){return t instanceof Jp?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&u2(i)&&(i=d2(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(r,e):t instanceof Rh?_I(t,e):t instanceof Oh?II(t,e):function(s,i){const A=EI(s,i),a=Rb(A)+Rb(s.Pe);return iy(A)&&iy(s.Pe)?CI(a):g2(s.serializer,a)}(t,e)}function nP(t,e,r){return t instanceof Rh?_I(t,e):t instanceof Oh?II(t,e):r}function EI(t,e){return t instanceof Xp?function(n){return iy(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Jp extends Kg{}class Rh extends Kg{constructor(e){super(),this.elements=e}}function _I(t,e){const r=NI(e);for(const n of t.elements)r.some(s=>xA(s,n))||r.push(n);return{arrayValue:{values:r}}}class Oh extends Kg{constructor(e){super(),this.elements=e}}function II(t,e){let r=NI(e);for(const n of t.elements)r=r.filter(s=>!xA(s,n));return{arrayValue:{values:r}}}class Xp extends Kg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Rb(t){return Vr(t.integerValue||t.doubleValue)}function NI(t){return h2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sP(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Rh&&s instanceof Rh||n instanceof Oh&&s instanceof Oh?Fu(n.elements,s.elements,xA):n instanceof Xp&&s instanceof Xp?xA(n.Pe,s.Pe):n instanceof Jp&&s instanceof Jp}(t.transform,e.transform)}class iP{constructor(e,r){this.version=e,this.transformResults=r}}class Ns{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ns}static exists(e){return new Ns(void 0,e)}static updateTime(e){return new Ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zg{}function SI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gg(t.key,Ns.none()):new of(t.key,t.data,Ns.none());{const r=t.data,n=Bs.empty();let s=new kn(Nn.comparator);for(let i of e.fields)if(!s.has(i)){let A=r.field(i);A===null&&i.length>1&&(i=i.popLast(),A=r.field(i)),A===null?n.delete(i):n.set(i,A),s=s.add(i)}return new Jo(t.key,n,new zs(s.toArray()),Ns.none())}}function AP(t,e,r){t instanceof of?function(s,i,A){const a=s.value.clone(),l=Hb(s.fieldTransforms,i,A.transformResults);a.setAll(l),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Jo?function(s,i,A){if(!rp(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=Hb(s.fieldTransforms,i,A.transformResults),l=i.data;l.setAll(FI(s)),l.setAll(a),i.convertToFoundDocument(A.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,r)}function ih(t,e,r,n){return t instanceof of?function(i,A,a,l){if(!rp(i.precondition,A))return a;const c=i.value.clone(),h=Mb(i.fieldTransforms,l,A);return c.setAll(h),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Jo?function(i,A,a,l){if(!rp(i.precondition,A))return a;const c=Mb(i.fieldTransforms,l,A),h=A.data;return h.setAll(FI(i)),h.setAll(c),A.convertToFoundDocument(A.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,A,a){return rp(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,r)}function aP(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=EI(n.transform,s||null);i!=null&&(r===null&&(r=Bs.empty()),r.set(n.field,i))}return r||null}function Ob(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Fu(n,s,(i,A)=>sP(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class of extends zg{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Jo extends zg{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function FI(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Hb(t,e,r){const n=new Map;Ar(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);n.set(i.field,nP(A,a,r[s]))}return n}function Mb(t,e,r){const n=new Map;for(const s of t){const i=s.transform,A=r.data.field(s.field);n.set(s.field,rP(i,A,e))}return n}class Gg extends zg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oP extends zg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&AP(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ih(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ih(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=bI();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=r.has(s.key)?null:a;const l=SI(A,a);l!==null&&n.set(s.key,l),A.isValidDocument()||A.convertToNoDocument(It.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,(r,n)=>Ob(r,n))&&Fu(this.baseMutations,e.baseMutations,(r,n)=>Ob(r,n))}}class v2{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Ar(e.mutations.length===n.length);let s=function(){return J6}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,n[A].version);return new v2(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,zt;function dP(t){switch(t){default:return bt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function kI(t){if(t===void 0)return la("GRPC error has no .code"),De.UNKNOWN;switch(t){case tn.OK:return De.OK;case tn.CANCELLED:return De.CANCELLED;case tn.UNKNOWN:return De.UNKNOWN;case tn.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case tn.INTERNAL:return De.INTERNAL;case tn.UNAVAILABLE:return De.UNAVAILABLE;case tn.UNAUTHENTICATED:return De.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case tn.NOT_FOUND:return De.NOT_FOUND;case tn.ALREADY_EXISTS:return De.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return De.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case tn.ABORTED:return De.ABORTED;case tn.OUT_OF_RANGE:return De.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return De.UNIMPLEMENTED;case tn.DATA_LOSS:return De.DATA_LOSS;default:return bt()}}(zt=tn||(tn={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Ql([4294967295,4294967295],0);function Vb(t){const e=hP().encode(t),r=new tI;return r.update(e),new Uint8Array(r.digest())}function Kb(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ql([r,n],0),new Ql([s,i],0)]}class y2{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Pd(`Invalid padding: ${r}`);if(n<0)throw new Pd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Pd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Pd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ql.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(Ql.fromNumber(n)));return s.compare(fP)===1&&(s=new Ql([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Vb(e),[n,s]=Kb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);if(!this.de(A))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new y2(i,s,r);return n.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const r=Vb(e),[n,s]=Kb(r);for(let i=0;i<this.hashCount;i++){const A=this.Ee(n,s,i);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new qg(It.min(),s,new Fr($t),ca(),Ht())}}class lf{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new lf(n,r,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class TI{constructor(e,r){this.targetId=e,this.me=r}}class UI{constructor(e,r,n=Qn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class zb{constructor(){this.fe=0,this.ge=qb(),this.pe=Qn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ht(),r=Ht(),n=Ht();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:bt()}}),new lf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=qb()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ar(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mP{constructor(e){this.Le=e,this.Be=new Map,this.ke=ca(),this.qe=Gb(),this.Qe=new Fr($t)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:bt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(ay(i))if(n===0){const A=new ht(i.path);this.Ue(r,A,Yn.newNoDocument(A,It.min()))}else Ar(n===1);else{const A=this.Ye(r);if(A!==n){const a=this.Ze(e),l=a?this.Xe(a,e,A):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let A,a;try{A=ql(n).toUint8Array()}catch(l){if(l instanceof cI)return Su("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new y2(A,s,i)}catch(l){return Su(l instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&ay(a.target)){const l=new ht(a.target.path);this.ke.get(l)!==null||this.it(A,l)||this.Ue(A,l,Yn.newNoDocument(l,e))}i.be&&(r.set(A,i.ve()),i.Ce())}});let n=Ht();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new qg(e,r,this.Qe,this.ke,n);return this.ke=ca(),this.qe=Gb(),this.Qe=new Fr($t),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new zb,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new kn($t),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||lt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zb),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Gb(){return new Fr(ht.comparator)}function qb(){return new Fr(ht.comparator)}const pP={asc:"ASCENDING",desc:"DESCENDING"},gP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vP={and:"AND",or:"OR"};class yP{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function cy(t,e){return t.useProto3Json||Hg(e)?e:{value:e}}function Zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wP(t,e){return Zp(t,e.toTimestamp())}function yA(t){return Ar(!!t),It.fromTimestamp(function(r){const n=Do(r);return new Yr(n.seconds,n.nanos)}(t))}function w2(t,e){return uy(t,e).canonicalString()}function uy(t,e){const r=function(s){return new xr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function LI(t){const e=xr.fromString(t);return Ar(OI(e)),e}function dy(t,e){return w2(t.databaseId,e.path)}function v1(t,e){const r=LI(e);if(r.get(1)!==t.databaseId.projectId)throw new At(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new At(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ht(PI(r))}function jI(t,e){return w2(t.databaseId,e)}function xP(t){const e=LI(t);return e.length===4?xr.emptyPath():PI(e)}function hy(t){return new xr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return Ar(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wb(t,e,r){return{name:dy(t,e),fields:r.value.mapValue.fields}}function BP(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ar(h===void 0||typeof h=="string"),Qn.fromBase64String(h||"")):(Ar(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Qn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(c){const h=c.code===void 0?De.UNKNOWN:kI(c.code);return new At(h,c.message||"")}(A);r=new UI(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=v1(t,n.document.name),i=yA(n.document.updateTime),A=n.document.createTime?yA(n.document.createTime):It.min(),a=new Bs({mapValue:{fields:n.document.fields}}),l=Yn.newFoundDocument(s,i,A,a),c=n.targetIds||[],h=n.removedTargetIds||[];r=new np(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=v1(t,n.document),i=n.readTime?yA(n.readTime):It.min(),A=Yn.newNoDocument(s,i),a=n.removedTargetIds||[];r=new np([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=v1(t,n.document),i=n.removedTargetIds||[];r=new np([],i,s,null)}else{if(!("filter"in e))return bt();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,A=new uP(s,i),a=n.targetId;r=new TI(a,A)}}return r}function bP(t,e){let r;if(e instanceof of)r={update:Wb(t,e.key,e.value)};else if(e instanceof Gg)r={delete:dy(t,e.key)};else if(e instanceof Jo)r={update:Wb(t,e.key,e.data),updateMask:TP(e.fieldMask)};else{if(!(e instanceof oP))return bt();r={verify:dy(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,A){const a=A.transform;if(a instanceof Jp)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rh)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oh)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xp)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw bt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:wP(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:bt()}(t,e.precondition)),r}function CP(t,e){return t&&t.length>0?(Ar(e!==void 0),t.map(r=>function(s,i){let A=s.updateTime?yA(s.updateTime):yA(i);return A.isEqual(It.min())&&(A=yA(i)),new iP(A,s.transformResults||[])}(r,e))):[]}function EP(t,e){return{documents:[jI(t,e.path)]}}function _P(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=jI(t,s);const i=function(c){if(c.length!==0)return RI(Hi.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const A=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:jc(p.field),direction:SP(p.dir)}}(h))}(e.orderBy);A&&(r.structuredQuery.orderBy=A);const a=cy(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:s}}function IP(t){let e=xP(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Ar(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const p=DI(f);return p instanceof Hi&&fI(p)?p.getFilters():[p]}(r.where));let A=[];r.orderBy&&(A=function(f){return f.map(p=>function(B){return new Dh(Pc(B.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Hg(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Yp(g,p)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Yp(g,p)}(r.endAt)),G6(e,s,A,i,a,"F",l,c)}function NP(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function DI(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Pc(r.unaryFilter.field);return sn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Pc(r.unaryFilter.field);return sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pc(r.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Pc(r.unaryFilter.field);return sn.create(A,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(t):t.fieldFilter!==void 0?function(r){return sn.create(Pc(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Hi.create(r.compositeFilter.filters.map(n=>DI(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return bt()}}(r.compositeFilter.op))}(t):bt()}function SP(t){return pP[t]}function FP(t){return gP[t]}function kP(t){return vP[t]}function jc(t){return{fieldPath:t.canonicalString()}}function Pc(t){return Nn.fromServerFormat(t.fieldPath)}function RI(t){return t instanceof sn?function(r){if(r.op==="=="){if(Qb(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NAN"}};if(Ub(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Qb(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NOT_NAN"}};if(Ub(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(r.field),op:FP(r.op),value:r.value}}}(t):t instanceof Hi?function(r){const n=r.getFilters().map(s=>RI(s));return n.length===1?n[0]:{compositeFilter:{op:kP(r.op),filters:n}}}(t):bt()}function TP(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function OI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,r,n,s,i=It.min(),A=It.min(),a=Qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.ct=e}}function QP(t){const e=IP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.un=new jP}addToCollectionParentIndex(e,r){return this.un.add(r),Ve.resolve()}getCollectionParents(e,r){return Ve.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ve.resolve()}deleteFieldIndex(e,r){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,r){return Ve.resolve()}getDocumentsMatchingTarget(e,r){return Ve.resolve(null)}getIndexType(e,r){return Ve.resolve(0)}getFieldIndexes(e,r){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,r){return Ve.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,r){return Ve.resolve(Po.min())}updateCollectionGroup(e,r,n){return Ve.resolve()}updateIndexEntries(e,r){return Ve.resolve()}}class jP{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new kn(xr.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new kn(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uu(0)}static kn(){return new Uu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.changes=new qu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ve.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&ih(n.mutation,s,zs.empty(),Yr.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ht()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ht()){const s=Sl();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let A=jd();return i.forEach((a,l)=>{A=A.insert(a,l.overlayedDocument)}),A}))}getOverlayedDocuments(e,r){const n=Sl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ht()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{r.set(A,a)})})}computeViews(e,r,n,s){let i=ca();const A=sh(),a=function(){return sh()}();return r.forEach((l,c)=>{const h=n.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Jo)?i=i.insert(c.key,c):h!==void 0?(A.set(c.key,h.mutation.getFieldMask()),ih(h.mutation,c,h.mutation.getFieldMask(),Yr.now())):A.set(c.key,zs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>A.set(c,h)),r.forEach((c,h)=>{var f;return a.set(c,new DP(h,(f=A.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=sh();let s=new Fr((A,a)=>A-a),i=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(A=>{for(const a of A)a.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let h=n.get(l)||zs.empty();h=a.applyToLocalView(c,h),n.set(l,h);const f=(s.get(a.batchId)||Ht()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=bI();h.forEach(p=>{if(!i.has(p)){const g=SI(r.get(p),n.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),A.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ve.waitFor(A)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(A){return ht.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):vI(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):Ve.resolve(Sl());let a=-1,l=i;return A.next(c=>Ve.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?Ve.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ht())).next(h=>({batchId:a,changes:BI(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ht(r)).next(n=>{let s=jd();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let A=jd();return this.indexManager.getCollectionParents(e,i).next(a=>Ve.forEach(a,l=>{const c=function(f,p){return new Gu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,s).next(h=>{h.forEach((f,p)=>{A=A.insert(f,p)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(A=>{i.forEach((l,c)=>{const h=c.getKey();A.get(h)===null&&(A=A.insert(h,Yn.newInvalidDocument(h)))});let a=jd();return A.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ih(h.mutation,c,zs.empty(),Yr.now()),Vg(r,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ve.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:yA(s.createTime)}}(r)),Ve.resolve()}getNamedQuery(e,r){return Ve.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:QP(s.bundledQuery),readTime:yA(s.readTime)}}(r)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.overlays=new Fr(ht.comparator),this.Ir=new Map}getOverlay(e,r){return Ve.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Sl();return Ve.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),Ve.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),Ve.resolve()}getOverlaysForCollection(e,r,n){const s=Sl(),i=r.length+1,A=new ht(r.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return Ve.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Fr((c,h)=>c-h);const A=this.overlays.getIterator();for(;A.hasNext();){const c=A.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let h=i.get(c.largestBatchId);h===null&&(h=Sl(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Sl(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return Ve.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new cP(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ht(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Tr=new kn(mn.Er),this.dr=new kn(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new mn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new mn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ht(new xr([])),n=new mn(r,e),s=new mn(r,e+1),i=[];return this.dr.forEachInRange([n,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ht(new xr([])),n=new mn(r,e),s=new mn(r,e+1);let i=Ht();return this.dr.forEachInRange([n,s],A=>{i=i.add(A.key)}),i}containsKey(e){const r=new mn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class mn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ht.comparator(e.key,r.key)||$t(e.wr,r.wr)}static Ar(e,r){return $t(e.wr,r.wr)||ht.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new kn(mn.Er)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new lP(i,r,n,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new mn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ve.resolve(A)}lookupMutationBatch(e,r){return Ve.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return Ve.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new mn(r,0),s=new mn(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],A=>{const a=this.Dr(A.wr);i.push(a)}),Ve.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new kn($t);return r.forEach(s=>{const i=new mn(s,0),A=new mn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{n=n.add(a.wr)})}),Ve.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;ht.isDocumentKey(i)||(i=i.child(""));const A=new mn(new ht(i),0);let a=new kn($t);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},A),Ve.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Ar(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ve.forEach(r.mutations,s=>{const i=new mn(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new mn(r,0),s=this.br.firstAfterOrEqual(n);return Ve.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.Mr=e,this.docs=function(){return new Fr(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ve.resolve(n?n.document.mutableCopy():Yn.newInvalidDocument(r))}getEntries(e,r){let n=ca();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Yn.newInvalidDocument(s))}),Ve.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=ca();const A=r.path,a=new ht(A.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!A.isPrefixOf(c.path))break;c.path.length>A.length+1||I6(_6(h),n)<=0||(s.has(h.key)||Vg(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Ve.resolve(i)}getAllFromCollectionGroup(e,r,n,s){bt()}Or(e,r){return Ve.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new zP(this)}getSize(e){return Ve.resolve(this.size)}}class zP extends PP{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),Ve.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.persistence=e,this.Nr=new qu(r=>f2(r),m2),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new x2,this.targetCount=0,this.kr=Uu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ve.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Uu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ve.resolve()}updateTargetData(e,r){return this.Kn(r),Ve.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Ve.waitFor(i).next(()=>s)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ve.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ve.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),Ve.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ve.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ve.resolve(n)}containsKey(e,r){return Ve.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,r){this.qr={},this.overlays={},this.Qr=new c2(0),this.Kr=!1,this.Kr=!0,this.$r=new MP,this.referenceDelegate=e(this),this.Ur=new GP(this),this.indexManager=new LP,this.remoteDocumentCache=function(s){return new KP(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new UP(r),this.Gr=new OP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new HP,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new VP(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){lt("MemoryPersistence","Starting transaction:",e);const s=new WP(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return Ve.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class WP extends S6{constructor(e){super(),this.currentSequenceNumber=e}}class B2{constructor(e){this.persistence=e,this.Jr=new x2,this.Yr=null}static Zr(e){return new B2(e)}get Xr(){if(this.Yr)return this.Yr;throw bt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ve.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ve.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ve.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.Xr,n=>{const s=ht.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,It.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ve.or([()=>Ve.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ht(),s=Ht();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new b2(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RU()?8:F6(es())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new $P;return this.Xi(e,r,A).next(a=>{if(i.result=a,this.zi)return this.es(e,r,A,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Bd()<=Mt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Lc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ve.resolve()):(Bd()<=Mt.DEBUG&&lt("QueryEngine","Query:",Lc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Bd()<=Mt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Lc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vA(r))):Ve.resolve())}Yi(e,r){if(Db(r))return Ve.resolve(null);let n=vA(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=ly(r,null,"F"),n=vA(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const A=Ht(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,a);return this.ns(r,c,A,l.readTime)?this.Yi(e,ly(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,s){return Db(r)||s.isEqual(It.min())?Ve.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const A=this.ts(r,i);return this.ns(r,A,n,s)?Ve.resolve(null):(Bd()<=Mt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lc(r)),this.rs(e,A,r,E6(s,-1)).next(a=>a))})}ts(e,r){let n=new kn(wI(e));return r.forEach((s,i)=>{Vg(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Bd()<=Mt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Lc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Po.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Fr($t),this._s=new qu(i=>f2(i),m2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function XP(t,e,r,n){return new JP(t,e,r,n)}async function HI(t,e){const r=Nt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const A=[],a=[];let l=Ht();for(const c of s){A.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:A,addedBatchIds:a}))})})}function ZP(t,e){const r=Nt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let g=Ve.resolve();return p.forEach(B=>{g=g.next(()=>h.getEntry(l,B)).next(E=>{const I=c.docVersions.get(B);Ar(I!==null),E.version.compareTo(I)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function MI(t){const e=Nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function eD(t,e){const r=Nt(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Qn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,n)),s=s.insert(f,g),function(E,I,w){return E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&a.push(r.Ur.updateTargetData(i,g))});let l=ca(),c=Ht();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(tD(i,A,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!n.isEqual(It.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(h)}return Ve.waitFor(a).next(()=>A.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.os=s,i))}function tD(t,e,r){let n=Ht(),s=Ht();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let A=ca();return r.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(a,l.readTime),A=A.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),A=A.insert(a,l)):lt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:A,Is:s}})}function rD(t,e){const r=Nt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function nD(t,e){const r=Nt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,Ve.resolve(s)):r.Ur.allocateTargetId(n).next(A=>(s=new ho(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function fy(t,e,r){const n=Nt(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,A=>n.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!af(A))throw A;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function $b(t,e,r){const n=Nt(t);let s=It.min(),i=Ht();return n.persistence.runTransaction("Execute query","readwrite",A=>function(l,c,h){const f=Nt(l),p=f._s.get(h);return p!==void 0?Ve.resolve(f.os.get(p)):f.Ur.getTargetData(c,h)}(n,A,vA(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,a.targetId).next(l=>{i=l})}).next(()=>n.ss.getDocumentsMatchingQuery(A,e,r?s:It.min(),r?i:Ht())).next(a=>(sD(n,W6(e),a),{documents:a,Ts:i})))}function sD(t,e,r){let n=t.us.get(e)||It.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class Yb{constructor(){this.activeTargetIds=eP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iD{constructor(){this.so=new Yb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yb,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am=null;function y1(){return am===null?am=function(){return 268435456+Math.round(2147483648*Math.random())}():am++,"0x"+am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class lD extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,A){const a=y1(),l=this.xo(r,n.toUriEncodedString());lt("RestConnection",`Sending RPC '${r}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,A),this.No(r,l,c,s).then(h=>(lt("RestConnection",`Received RPC '${r}' ${a}: `,h),h),h=>{throw Su("RestConnection",`RPC '${r}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(r,n,s,i,A,a){return this.Mo(r,n,s,i,A)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,A)=>r[A]=i),s&&s.headers.forEach((i,A)=>r[A]=i)}xo(r,n){const s=aD[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=y1();return new Promise((A,a)=>{const l=new rI;l.setWithCredentials(!0),l.listenOnce(nI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ep.NO_ERROR:const h=l.getResponseJson();lt(Hn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),A(h);break;case ep.TIMEOUT:lt(Hn,`RPC '${e}' ${i} timed out`),a(new At(De.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const f=l.getStatus();if(lt(Hn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const B=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(w)>=0?w:De.UNKNOWN}(g.status);a(new At(B,g.message))}else a(new At(De.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new At(De.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{lt(Hn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);lt(Hn,`RPC '${e}' ${i} sending request:`,s),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const s=y1(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=AI(),a=iI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=i.join("");lt(Hn,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=A.createWebChannel(h,l);let p=!1,g=!1;const B=new oD({Io:I=>{g?lt(Hn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(lt(Hn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),lt(Hn,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},To:()=>f.close()}),E=(I,w,y)=>{I.listen(w,_=>{try{y(_)}catch(P){setTimeout(()=>{throw P},0)}})};return E(f,Ld.EventType.OPEN,()=>{g||(lt(Hn,`RPC '${e}' stream ${s} transport opened.`),B.yo())}),E(f,Ld.EventType.CLOSE,()=>{g||(g=!0,lt(Hn,`RPC '${e}' stream ${s} transport closed`),B.So())}),E(f,Ld.EventType.ERROR,I=>{g||(g=!0,Su(Hn,`RPC '${e}' stream ${s} transport errored:`,I),B.So(new At(De.UNAVAILABLE,"The operation could not be completed")))}),E(f,Ld.EventType.MESSAGE,I=>{var w;if(!g){const y=I.data[0];Ar(!!y);const _=y,P=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(P){lt(Hn,`RPC '${e}' stream ${s} received error:`,P);const H=P.status;let W=function(k){const j=tn[k];if(j!==void 0)return kI(j)}(H),T=P.message;W===void 0&&(W=De.INTERNAL,T="Unknown error status: "+H+" with message "+P.message),g=!0,B.So(new At(W,T)),f.close()}else lt(Hn,`RPC '${e}' stream ${s} received:`,y),B.bo(y)}}),E(a,sI.STAT_EVENT,I=>{I.stat===ny.PROXY?lt(Hn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===ny.NOPROXY&&lt(Hn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{B.wo()},0),B}}function w1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){return new yP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&lt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,r,n,s,i,A,a,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VI(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===De.RESOURCE_EXHAUSTED?(la(r.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new At(De.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cD extends KI{constructor(e,r,n,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=BP(this.serializer,e),n=function(i){if(!("targetChange"in i))return It.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?It.min():A.readTime?yA(A.readTime):It.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=hy(this.serializer),r.addTarget=function(i,A){let a;const l=A.target;if(a=ay(l)?{documents:EP(i,l)}:{query:_P(i,l)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=QI(i,A.resumeToken);const c=cy(i,A.expectedCount);c!==null&&(a.expectedCount=c)}else if(A.snapshotVersion.compareTo(It.min())>0){a.readTime=Zp(i,A.snapshotVersion.toTimestamp());const c=cy(i,A.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const n=NP(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=hy(this.serializer),r.removeTarget=e,this.a_(r)}}class uD extends KI{constructor(e,r,n,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Ar(!!e.streamToken),this.lastStreamToken=e.streamToken,Ar(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ar(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=CP(e.writeResults,e.commitTime),n=yA(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=hy(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>bP(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new At(De.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,uy(r,n),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new At(De.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,uy(r,n),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new At(De.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(la(r),this.D_=!1):lt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{n.enqueueAndForget(async()=>{ec(this)&&(lt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Nt(l);c.L_.add(4),await cf(c),c.q_.set("Unknown"),c.L_.delete(4),await $g(c)}(this))})}),this.q_=new hD(n,s)}}async function $g(t){if(ec(t))for(const e of t.B_)await e(!0)}async function cf(t){for(const e of t.B_)await e(!1)}function zI(t,e){const r=Nt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),I2(r)?_2(r):Wu(r).r_()&&E2(r,e))}function C2(t,e){const r=Nt(t),n=Wu(r);r.N_.delete(e),n.r_()&&GI(r,e),r.N_.size===0&&(n.r_()?n.o_():ec(r)&&r.q_.set("Unknown"))}function E2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wu(t).A_(e)}function GI(t,e){t.Q_.xe(e),Wu(t).R_(e)}function _2(t){t.Q_=new mP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wu(t).start(),t.q_.v_()}function I2(t){return ec(t)&&!Wu(t).n_()&&t.N_.size>0}function ec(t){return Nt(t).L_.size===0}function qI(t){t.Q_=void 0}async function mD(t){t.q_.set("Online")}async function pD(t){t.N_.forEach((e,r)=>{E2(t,e)})}async function gD(t,e){qI(t),I2(t)?(t.q_.M_(e),_2(t)):t.q_.set("Unknown")}async function vD(t,e,r){if(t.q_.set("Online"),e instanceof UI&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await eg(t,n)}else if(e instanceof np?t.Q_.Ke(e):e instanceof TI?t.Q_.He(e):t.Q_.We(e),!r.isEqual(It.min()))try{const n=await MI(t.localStore);r.compareTo(n)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,A))}}),a.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Qn.EMPTY_BYTE_STRING,h.snapshotVersion)),GI(i,l);const f=new ho(h.target,l,c,h.sequenceNumber);E2(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){lt("RemoteStore","Failed to raise snapshot:",n),await eg(t,n)}}async function eg(t,e,r){if(!af(e))throw e;t.L_.add(1),await cf(t),t.q_.set("Offline"),r||(r=()=>MI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{lt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await $g(t)})}function WI(t,e){return e().catch(r=>eg(t,r,e))}async function Yg(t){const e=Nt(t),r=Ro(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yD(e);)try{const s=await rD(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,wD(e,s)}catch(s){await eg(e,s)}$I(e)&&YI(e)}function yD(t){return ec(t)&&t.O_.length<10}function wD(t,e){t.O_.push(e);const r=Ro(t);r.r_()&&r.V_&&r.m_(e.mutations)}function $I(t){return ec(t)&&!Ro(t).n_()&&t.O_.length>0}function YI(t){Ro(t).start()}async function xD(t){Ro(t).p_()}async function BD(t){const e=Ro(t);for(const r of t.O_)e.m_(r.mutations)}async function bD(t,e,r){const n=t.O_.shift(),s=v2.from(n,e,r);await WI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yg(t)}async function CD(t,e){e&&Ro(t).V_&&await async function(n,s){if(function(A){return dP(A)&&A!==De.ABORTED}(s.code)){const i=n.O_.shift();Ro(n).s_(),await WI(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yg(n)}}(t,e),$I(t)&&YI(t)}async function Xb(t,e){const r=Nt(t);r.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const n=ec(r);r.L_.add(3),await cf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await $g(r)}async function ED(t,e){const r=Nt(t);e?(r.L_.delete(2),await $g(r)):e||(r.L_.add(2),await cf(r),r.q_.set("Unknown"))}function Wu(t){return t.K_||(t.K_=function(r,n,s){const i=Nt(r);return i.w_(),new cD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:mD.bind(null,t),Ro:pD.bind(null,t),mo:gD.bind(null,t),d_:vD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),I2(t)?_2(t):t.q_.set("Unknown")):(await t.K_.stop(),qI(t))})),t.K_}function Ro(t){return t.U_||(t.U_=function(r,n,s){const i=Nt(r);return i.w_(),new uD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xD.bind(null,t),mo:CD.bind(null,t),f_:BD.bind(null,t),g_:bD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yg(t)):(await t.U_.stop(),t.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const A=Date.now()+n,a=new N2(e,r,A,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S2(t,e){if(la("AsyncQueue",`${e}: ${t}`),af(t))return new At(De.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ht.comparator(r.key,n.key):(r,n)=>ht.comparator(r.key,n.key),this.keyedMap=jd(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new du(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new du;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.W_=new Fr(ht.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):bt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Qu{constructor(e,r,n,s,i,A,a,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,s,i){const A=[];return r.forEach(a=>{A.push({type:0,doc:a})}),new Qu(e,r,du.emptySet(r),A,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ID{constructor(){this.queries=e5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=Nt(r),i=s.queries;s.queries=e5(),i.forEach((A,a)=>{for(const l of a.j_)l.onError(n)})})(this,new At(De.ABORTED,"Firestore shutting down"))}}function e5(){return new qu(t=>yI(t),Mg)}async function JI(t,e){const r=Nt(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new _D,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(A){const a=S2(A,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&F2(r)}async function XI(t,e){const r=Nt(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function ND(t,e){const r=Nt(t);let n=!1;for(const s of e){const i=s.query,A=r.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(n=!0);A.z_=s}}n&&F2(r)}function SD(t,e,r){const n=Nt(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function F2(t){t.Y_.forEach(e=>{e.next()})}var my,t5;(t5=my||(my={})).ea="default",t5.Cache="cache";class ZI{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Qu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.key=e}}class tN{constructor(e){this.key=e}}class FD{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ht(),this.mutatedKeys=Ht(),this.Aa=wI(e),this.Ra=new du(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Zb,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,A=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Vg(this.query,f)?f:null,B=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?B!==E&&(n.track({type:3,doc:g}),I=!0):this.ga(p,g)||(n.track({type:2,doc:g}),I=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(n.track({type:0,doc:g}),I=!0):p&&!g&&(n.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(g?(A=A.add(g),i=E?i.add(h):i.delete(h)):(A=A.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const h=this.query.limitType==="F"?A.last():A.first();A=A.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:A,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((h,f)=>function(g,B){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return E(g)-E(B)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,A.length!==0||c?{snapshot:new Qu(this.query,e.Ra,i,A,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ht(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new tN(n))}),this.da.forEach(n=>{e.has(n)||r.push(new eN(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ht();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Qu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kD{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class TD{constructor(e){this.key=e,this.va=!1}}class UD{constructor(e,r,n,s,i,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new qu(a=>yI(a),Mg),this.Ma=new Map,this.xa=new Set,this.Oa=new Fr(ht.comparator),this.Na=new Map,this.La=new x2,this.Ba={},this.ka=new Map,this.qa=Uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QD(t,e,r=!0){const n=aN(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await rN(n,e,r,!0),s}async function LD(t,e){const r=aN(t);await rN(r,e,!0,!1)}async function rN(t,e,r,n){const s=await nD(t.localStore,vA(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await jD(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&r&&zI(t.remoteStore,s),a}async function jD(t,e,r,n,s){t.Ka=(f,p,g)=>async function(E,I,w,y){let _=I.view.ma(w);_.ns&&(_=await $b(E.localStore,I.query,!1).then(({documents:T})=>I.view.ma(T,_)));const P=y&&y.targetChanges.get(I.targetId),H=y&&y.targetMismatches.get(I.targetId)!=null,W=I.view.applyChanges(_,E.isPrimaryClient,P,H);return n5(E,I.targetId,W.wa),W.snapshot}(t,f,p,g);const i=await $b(t.localStore,e,!0),A=new FD(e,i.Ts),a=A.ma(i.documents),l=lf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),c=A.applyChanges(a,t.isPrimaryClient,l);n5(t,r,c.wa);const h=new kD(e,r,A);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function PD(t,e,r){const n=Nt(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(A=>!Mg(A,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await fy(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&C2(n.remoteStore,s.targetId),py(n,s.targetId)}).catch(Af)):(py(n,s.targetId),await fy(n.localStore,s.targetId,!0))}async function DD(t,e){const r=Nt(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),C2(r.remoteStore,n.targetId))}async function RD(t,e,r){const n=GD(t);try{const s=await function(A,a){const l=Nt(A),c=Yr.now(),h=a.reduce((g,B)=>g.add(B.key),Ht());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let B=ca(),E=Ht();return l.cs.getEntries(g,h).next(I=>{B=I,B.forEach((w,y)=>{y.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,B)).next(I=>{f=I;const w=[];for(const y of a){const _=aP(y,f.get(y.key).overlayedDocument);_!=null&&w.push(new Jo(y.key,_,uI(_.value.mapValue),Ns.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(I=>{p=I;const w=I.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(g,I.batchId,w)})}).then(()=>({batchId:p.batchId,changes:BI(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(A,a,l){let c=A.Ba[A.currentUser.toKey()];c||(c=new Fr($t)),c=c.insert(a,l),A.Ba[A.currentUser.toKey()]=c}(n,s.batchId,r),await uf(n,s.changes),await Yg(n.remoteStore)}catch(s){const i=S2(s,"Failed to persist write");r.reject(i)}}async function nN(t,e){const r=Nt(t);try{const n=await eD(r.localStore,e);e.targetChanges.forEach((s,i)=>{const A=r.Na.get(i);A&&(Ar(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?Ar(A.va):s.removedDocuments.size>0&&(Ar(A.va),A.va=!1))}),await uf(r,n,e)}catch(n){await Af(n)}}function r5(t,e,r){const n=Nt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const l=Nt(A);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&F2(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function OD(t,e,r){const n=Nt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let A=new Fr(ht.comparator);A=A.insert(i,Yn.newNoDocument(i,It.min()));const a=Ht().add(i),l=new qg(It.min(),new Map,new Fr($t),A,a);await nN(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),k2(n)}else await fy(n.localStore,e,!1).then(()=>py(n,e,r)).catch(Af)}async function HD(t,e){const r=Nt(t),n=e.batch.batchId;try{const s=await ZP(r.localStore,e);iN(r,n,null),sN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await uf(r,s)}catch(s){await Af(s)}}async function MD(t,e,r){const n=Nt(t);try{const s=await function(A,a){const l=Nt(A);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ar(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(n.localStore,e);iN(n,e,r),sN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await uf(n,s)}catch(s){await Af(s)}}function sN(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function iN(t,e,r){const n=Nt(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function py(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||AN(t,n)})}function AN(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(C2(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),k2(t))}function n5(t,e,r){for(const n of r)n instanceof eN?(t.La.addReference(n.key,e),VD(t,n)):n instanceof tN?(lt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||AN(t,n.key)):bt()}function VD(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(lt("SyncEngine","New document in limbo: "+r),t.xa.add(n),k2(t))}function k2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ht(xr.fromString(e)),n=t.qa.next();t.Na.set(n,new TD(r)),t.Oa=t.Oa.insert(r,n),zI(t.remoteStore,new ho(vA(p2(r.path)),n,"TargetPurposeLimboResolution",c2.oe))}}async function uf(t,e,r){const n=Nt(t),s=[],i=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{A.push(n.Ka(l,e,r).then(c=>{var h;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=b2.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(A),n.Ca.d_(s),await async function(l,c){const h=Nt(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ve.forEach(c,p=>Ve.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>Ve.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!af(f))throw f;lt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),B=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(B);h.os=h.os.insert(p,E)}}}(n.localStore,i))}async function KD(t,e){const r=Nt(t);if(!r.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const n=await HI(r.localStore,e);r.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new At(De.CANCELLED,A))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await uf(r,n.hs)}}function zD(t,e){const r=Nt(t),n=r.Na.get(e);if(n&&n.va)return Ht().add(n.key);{let s=Ht();const i=r.Ma.get(e);if(!i)return s;for(const A of i){const a=r.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function aN(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.Ca.d_=ND.bind(null,e.eventManager),e.Ca.$a=SD.bind(null,e.eventManager),e}function GD(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,e),e}class tg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return XP(this.persistence,new YP,e.initialUser,this.serializer)}Ga(e){return new qP(B2.Zr,this.serializer)}Wa(e){return new iD}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tg.provider={build:()=>new tg};class gy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>r5(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=KD.bind(null,this.syncEngine),await ED(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ID}()}createDatastore(e){const r=Wg(e.databaseInfo.databaseId),n=function(i){return new lD(i)}(e.databaseInfo);return function(i,A,a,l){return new dD(i,A,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,A,a){return new fD(n,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,r=>r5(this.syncEngine,r,0),function(){return Jb.D()?new Jb:new AD}())}createSyncEngine(e,r){return function(s,i,A,a,l,c,h){const f=new UD(s,i,A,a,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=Nt(s);lt("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await cf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}gy.provider={build:()=>new gy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=qn.UNAUTHENTICATED,this.clientId=oI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async A=>{lt("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(n,A=>(lt("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=S2(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function x1(t,e){t.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await HI(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s5(t,e){t.asyncQueue.verifyOperationInProgress();const r=await WD(t);lt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Xb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>Xb(e.remoteStore,s)),t._onlineComponents=e}async function WD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{await x1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===De.FAILED_PRECONDITION||s.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Su("Error using user provided cache. Falling back to memory cache: "+r),await x1(t,new tg)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),await x1(t,new tg);return t._offlineComponents}async function lN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),await s5(t,t._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),await s5(t,new gy))),t._onlineComponents}function $D(t){return lN(t).then(e=>e.syncEngine)}async function vy(t){const e=await lN(t),r=e.eventManager;return r.onListen=QD.bind(null,e.syncEngine),r.onUnlisten=PD.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=LD.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=DD.bind(null,e.syncEngine),r}function YD(t,e,r={}){const n=new ko;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,l,c){const h=new oN({next:p=>{h.Za(),A.enqueueAndForget(()=>XI(i,f)),p.fromCache&&l.source==="server"?c.reject(new At(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new ZI(a,h,{includeMetadataChanges:!0,_a:!0});return JI(i,f)}(await vy(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e,r){if(!r)throw new At(De.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JD(t,e,r,n){if(e===!0&&n===!0)throw new At(De.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function A5(t){if(!ht.isDocumentKey(t))throw new At(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a5(t){if(ht.isDocumentKey(t))throw new At(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":bt()}function Di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new At(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jg(t);throw new At(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new At(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new At(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cN((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new At(De.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new At(De.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new At(De.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o5(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new p6;switch(n.type){case"firstParty":return new w6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new At(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=i5.get(r);n&&(lt("ComponentProvider","Removing Datastore"),i5.delete(r),n.terminate())}(this),Promise.resolve()}}function XD(t,e,r,n={}){var s;const i=(t=Di(t,Xg))._getSettings(),A=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=qn.MOCK_USER;else{a=TU(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new At(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qn(c)}t._authCredentials=new g6(new aI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Ss{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class To extends Xo{constructor(e,r,n){super(e,r,p2(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new ht(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function hu(t,e,...r){if(t=An(t),uN("collection","path",e),t instanceof Xg){const n=xr.fromString(e,...r);return a5(n),new To(t,null,n)}{if(!(t instanceof Ss||t instanceof To))throw new At(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return a5(n),new To(t.firestore,null,n)}}function WA(t,e,...r){if(t=An(t),arguments.length===1&&(e=oI.newId()),uN("doc","path",e),t instanceof Xg){const n=xr.fromString(e,...r);return A5(n),new Ss(t,null,new ht(n))}{if(!(t instanceof Ss||t instanceof To))throw new At(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return A5(n),new Ss(t.firestore,t instanceof To?t.converter:null,new ht(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VI(this,"async_queue_retry"),this.Vu=()=>{const n=w1();n&&lt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=w1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=w1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!af(e))throw e;lt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(n);throw la("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=N2.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&bt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function c5(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Oo extends Xg{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new l5,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l5(e),this._firestoreClient=void 0,await e}}}function ZD(t,e){const r=typeof t=="object"?t:y_(),n=typeof t=="string"?t:"(default)",s=Zw(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=FU("firestore");i&&XD(s,...i)}return s}function Zg(t){if(t._terminated)throw new At(De.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eR(t),t._firestoreClient}function eR(t){var e,r,n;const s=t._freezeSettings(),i=function(a,l,c,h){return new U6(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cN(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new qD(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lu(Qn.fromBase64String(e))}catch(r){throw new At(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Lu(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new At(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new At(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new At(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=/^__.*__$/;class rR{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,r,this.fieldTransforms):new of(e,this.data,r,this.fieldTransforms)}}class dN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Jo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function hN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class L2{constructor(e,r,n,s,i,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new L2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hN(this.Cu)&&tR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nR{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Wg(e)}Qu(e,r,n,s=!1){return new L2({Cu:e,methodName:r,qu:n,path:Nn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t0(t){const e=t._freezeSettings(),r=Wg(t._databaseId);return new nR(t._databaseId,!!e.ignoreUndefinedProperties,r)}function j2(t,e,r,n,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);P2("Data must be an object, but it was:",A,n);const a=fN(n,A);let l,c;if(i.merge)l=new zs(A.fieldMask),c=A.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=yy(e,f,r);if(!A.contains(p))throw new At(De.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pN(h,p)||h.push(p)}l=new zs(h),c=A.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=A.fieldTransforms;return new rR(new Bs(a),l,c)}class r0 extends T2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}function sR(t,e,r,n){const s=t.Qu(1,e,r);P2("Data must be an object, but it was:",s,n);const i=[],A=Bs.empty();Zl(n,(l,c)=>{const h=D2(e,l,r);c=An(c);const f=s.Nu(h);if(c instanceof r0)i.push(h);else{const p=df(c,f);p!=null&&(i.push(h),A.set(h,p))}});const a=new zs(i);return new dN(A,a,s.fieldTransforms)}function iR(t,e,r,n,s,i){const A=t.Qu(1,e,r),a=[yy(e,n,r)],l=[s];if(i.length%2!=0)throw new At(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(yy(e,i[p])),l.push(i[p+1]);const c=[],h=Bs.empty();for(let p=a.length-1;p>=0;--p)if(!pN(c,a[p])){const g=a[p];let B=l[p];B=An(B);const E=A.Nu(g);if(B instanceof r0)c.push(g);else{const I=df(B,E);I!=null&&(c.push(g),h.set(g,I))}}const f=new zs(c);return new dN(h,f,A.fieldTransforms)}function AR(t,e,r,n=!1){return df(r,t.Qu(n?4:3,e))}function df(t,e){if(mN(t=An(t)))return P2("Unsupported field value:",e,t),fN(t,e);if(t instanceof T2)return function(n,s){if(!hN(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let A=0;for(const a of n){let l=df(a,s.Lu(A));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),A++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=An(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tP(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Yr.fromDate(n);return{timestampValue:Zp(s.serializer,i)}}if(n instanceof Yr){const i=new Yr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zp(s.serializer,i)}}if(n instanceof U2)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lu)return{bytesValue:QI(s.serializer,n._byteString)};if(n instanceof Ss){const i=s.databaseId,A=n.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:w2(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Q2)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return g2(a.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Jg(n)}`)}(t,e)}function fN(t,e){const r={};return lI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zl(t,(n,s)=>{const i=df(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function mN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yr||t instanceof U2||t instanceof Lu||t instanceof Ss||t instanceof T2||t instanceof Q2)}function P2(t,e,r){if(!mN(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Jg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function yy(t,e,r){if((e=An(e))instanceof e0)return e._internalPath;if(typeof e=="string")return D2(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,r)}const aR=new RegExp("[~\\*/\\[\\]]");function D2(t,e,r){if(e.search(aR)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new e0(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function rg(t,e,r,n,s){const i=n&&!n.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||A)&&(l+=" (found",i&&(l+=` in field ${n}`),A&&(l+=` in document ${s}`),l+=")"),new At(De.INVALID_ARGUMENT,a+t+l)}function pN(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(R2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class oR extends gN{data(){return super.data()}}function R2(t,e){return typeof e=="string"?D2(t,e):e instanceof e0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new At(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O2{}class yN extends O2{}function u5(t,e,...r){let n=[];e instanceof O2&&n.push(e),n=n.concat(r),function(i){const A=i.filter(l=>l instanceof M2).length,a=i.filter(l=>l instanceof H2).length;if(A>1||A>0&&a>0)throw new At(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class H2 extends yN{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new H2(e,r,n)}_apply(e){const r=this._parse(e);return wN(e._query,r),new Xo(e.firestore,e.converter,oy(e._query,r))}_parse(e){const r=t0(e.firestore);return function(i,A,a,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new At(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){h5(f,h);const g=[];for(const B of f)g.push(d5(l,i,B));p={arrayValue:{values:g}}}else p=d5(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||h5(f,h),p=AR(a,A,f,h==="in"||h==="not-in");return sn.create(c,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class M2 extends O2{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new M2(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Hi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const l of a)wN(A,l),A=oy(A,l)}(e._query,r),new Xo(e.firestore,e.converter,oy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class V2 extends yN{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new V2(e,r)}_apply(e){const r=function(s,i,A){if(s.startAt!==null)throw new At(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new At(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(i,A)}(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new Gu(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function lR(t,e="asc"){const r=e,n=R2("orderBy",t);return V2._create(n,r)}function d5(t,e,r){if(typeof(r=An(r))=="string"){if(r==="")throw new At(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vI(e)&&r.indexOf("/")!==-1)throw new At(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xr.fromString(r));if(!ht.isDocumentKey(n))throw new At(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Tb(t,new ht(n))}if(r instanceof Ss)return Tb(t,r._key);throw new At(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jg(r)}.`)}function h5(t,e){if(!Array.isArray(t)||t.length===0)throw new At(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wN(t,e){const r=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new At(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new At(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class cR{convertValue(e,r="none"){switch(Wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw bt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Zl(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(A=>Vr(A.doubleValue));return new Q2(i)}convertGeoPoint(e){return new U2(Vr(e.latitude),Vr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=d2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}convertTimestamp(e){const r=Do(e);return new Yr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xr.fromString(e);Ar(OI(n));const s=new jh(n.get(1),n.get(3)),i=new ht(n.popFirst(5));return s.isEqual(r)||la(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xN extends gN{constructor(e,r,n,s,i,A){super(e,r,n,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(R2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class sp extends xN{data(e={}){return super.data(e)}}class BN{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Dd(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new sp(this._firestore,this._userDataWriter,n.key,n,new Dd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new At(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const l=new sp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Dd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new sp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Dd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),h=A.indexOf(a.doc.key)),{type:uR(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function uR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}class z2 extends cR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,r)}}function dR(t){t=Di(t,Xo);const e=Di(t.firestore,Oo),r=Zg(e),n=new z2(e);return vN(t._query),YD(r,t._query).then(s=>new BN(e,n,t,s))}function hR(t,e,r){t=Di(t,Ss);const n=Di(t.firestore,Oo),s=K2(t.converter,e,r);return n0(n,[j2(t0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Ns.none())])}function fR(t){return n0(Di(t.firestore,Oo),[new Gg(t._key,Ns.none())])}function mR(t,e){const r=Di(t.firestore,Oo),n=WA(t),s=K2(t.converter,e);return n0(r,[j2(t0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Ns.exists(!1))]).then(()=>n)}function pR(t,...e){var r,n,s;t=An(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||c5(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(c5(e[A])){const f=e[A];e[A]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[A+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[A+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,h;if(t instanceof Ss)c=Di(t.firestore,Oo),h=p2(t._key.path),l={next:f=>{e[A]&&e[A](gR(c,t,f))},error:e[A+1],complete:e[A+2]};else{const f=Di(t,Xo);c=Di(f.firestore,Oo),h=f._query;const p=new z2(c);l={next:g=>{e[A]&&e[A](new BN(c,p,f,g))},error:e[A+1],complete:e[A+2]},vN(t._query)}return function(p,g,B,E){const I=new oN(E),w=new ZI(g,I,B);return p.asyncQueue.enqueueAndForget(async()=>JI(await vy(p),w)),()=>{I.Za(),p.asyncQueue.enqueueAndForget(async()=>XI(await vy(p),w))}}(Zg(c),h,a,l)}function n0(t,e){return function(n,s){const i=new ko;return n.asyncQueue.enqueueAndForget(async()=>RD(await $D(n),s,i)),i.promise}(Zg(t),e)}function gR(t,e,r){const n=r.docs.get(e._key),s=new z2(t);return new xN(t,s,e._key,n,new Dd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=t0(e)}set(e,r,n){this._verifyNotCommitted();const s=B1(e,this._firestore),i=K2(s.converter,r,n),A=j2(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(A.toMutation(s._key,Ns.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const i=B1(e,this._firestore);let A;return A=typeof(r=An(r))=="string"||r instanceof e0?iR(this._dataReader,"WriteBatch.update",i._key,r,n,s):sR(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(A.toMutation(i._key,Ns.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=B1(e,this._firestore);return this._mutations=this._mutations.concat(new Gg(r._key,Ns.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new At(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function B1(t,e){if((t=An(t)).firestore!==e)throw new At(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){return Zg(t=Di(t,Oo)),new vR(t,e=>n0(t,e))}(function(e,r=!0){(function(s){zu=s})(Mu),Iu(new Kl("firestore",(n,{instanceIdentifier:s,options:i})=>{const A=n.getProvider("app").getImmediate(),a=new Oo(new v6(n.getProvider("auth-internal")),new B6(n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new At(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(c.options.projectId,h)}(A,s),A);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),So(Ib,"4.7.3",e),So(Ib,"4.7.3","esm2017")})();const yR={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",VITE_FIREBASE_APP_ID:"1:618593686607:web:d1e2b85108b464a250863a",VITE_FIREBASE_AUTH_DOMAIN:"idedersplan.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"618593686607",VITE_FIREBASE_PROJECT_ID:"idedersplan",VITE_FIREBASE_STORAGE_BUCKET:"idedersplan.firebasestorage.app"},wR={apiKey:"AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4",authDomain:"idedersplan.firebaseapp.com",projectId:"idedersplan",storageBucket:"idedersplan.firebasestorage.app",messagingSenderId:"618593686607",appId:"1:618593686607:web:d1e2b85108b464a250863a"},xR=()=>{const e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(n=>!yR[n]);if(e.length>0)throw console.error("🔒 SECURITY ERROR: Missing Firebase environment variables:",e),new Error(`Missing required environment variables: ${e.join(", ")}`);const r="AIzaSyD1mANvTNcEZm6APEgYJdgHKggUy43q7i4";if(!r.startsWith("AIza")||r.length<30)throw console.error("🔒 SECURITY ERROR: Invalid Firebase API key format"),new Error("Invalid Firebase API key format");console.log("✅ Firebase configuration validated successfully")};xR();const bN=v_(wR),b1=d6(bN),Vs=ZD(bN);console.log("🔥 Firebase initialized for project:","idedersplan");const G2=()=>{const[t,e]=ce.useState(null),[r,n]=ce.useState(!0);return ce.useEffect(()=>ej(b1,a=>{e(a),n(!1)}),[]),{user:t,loading:r,login:async(A,a)=>{try{return await JL(b1,A,a),{success:!0}}catch(l){return{success:!1,error:l.message}}},logout:async()=>{try{return await tj(b1),{success:!0}}catch(A){return{success:!1,error:A.message}}}}},pi=()=>{const[t,e]=ce.useState([]),r=ce.useCallback(l=>{const c=Math.random().toString(36).substr(2,9),h={id:c,...l,onClose:n};return console.log("🍞 Toast ekleniyor:",h),l.type==="error"?(e(f=>f.filter(p=>p.type!=="error")),e(f=>{const p=[h,...f.slice(0,2)];return console.log("🍞 Error toast eklendi, güncel liste:",p),p})):e(f=>{const p=[h,...f.slice(0,3)];return console.log("🍞 Güncel toast listesi:",p),p}),c},[]),n=ce.useCallback(l=>{console.log("🗑️ Toast siliniyor:",l),e(c=>{const h=c.filter(f=>f.id!==l);return console.log("🍞 Toast silindikten sonra liste:",h),h})},[]),s=ce.useCallback((l,c)=>(console.log("✅ Success toast çağrıldı:",{title:l,message:c}),r({type:"success",title:l,message:c,duration:4e3})),[r]),i=ce.useCallback((l,c)=>(console.log("❌ Error toast çağrıldı:",{title:l,message:c}),r({type:"error",title:l,message:c,duration:12e3})),[r]),A=ce.useCallback((l,c)=>(console.log("⚠️ Warning toast çağrıldı:",{title:l,message:c}),r({type:"warning",title:l,message:c,duration:6e3})),[r]),a=ce.useCallback((l,c)=>(console.log("ℹ️ Info toast çağrıldı:",{title:l,message:c}),r({type:"info",title:l,message:c,duration:5e3})),[r]);return console.log("🍞 useToast hook - mevcut toast sayısı:",t.length),{toasts:t,addToast:r,removeToast:n,success:s,error:i,warning:A,info:a}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),St=(t,e)=>{const r=ce.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:l,...c},h)=>ce.createElement("svg",{ref:h,...BR,width:s,height:s,stroke:n,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bR(t)}`,a].join(" "),...c},[...e.map(([f,p])=>ce.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=St("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=St("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=St("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=St("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=St("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=St("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=St("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=St("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=St("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=St("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=St("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=St("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=St("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=St("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=St("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=St("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=St("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=St("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=St("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=St("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=St("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=St("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=St("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=St("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=St("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=St("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=St("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=St("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=St("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=St("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),TR=()=>{const{logout:t}=G2(),[e,r]=ce.useState(!1),n=async()=>{await t()},s=[{to:"/",icon:IR,label:"Anasayfa",color:"ide-primary",description:"Ana kontrol paneli"},{to:"/schedule-wizard",icon:hf,label:"Program Sihirbazı",color:"ide-accent",description:"Otomatik program oluştur"},{to:"/schedules",icon:Xn,label:"Manuel Program",color:"ide-accent",description:"Manuel program oluştur"},{to:"/class-schedules",icon:IN,label:"Sınıf Programları",color:"ide-secondary",description:"Sınıf bazlı görünüm"},{to:"/all-schedules",icon:s0,label:"Öğretmen Programları",color:"ide-primary",description:"Öğretmen bazlı görünüm"},{to:"/data-management",icon:q2,label:"Veri Yönetimi",color:"ide-primary",description:"Sistem verilerini yönet"},{to:"/pdf",icon:Xn,label:"PDF Çıktı",color:"ide-orange",description:"Rapor ve çıktılar"}],i=()=>{r(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50 safe-top safe-left",children:o.jsx("button",{onClick:()=>r(!e),className:"p-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-ide-primary-500 focus:ring-offset-2 transition-all duration-300 btn-touch touch-enhanced group","aria-label":"Menüyü aç/kapat",children:e?o.jsx(ua,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"}):o.jsx(FR,{size:24,className:"text-ide-gray-700 group-hover:text-ide-primary-600 transition-colors"})})}),e&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-60 z-40 transition-opacity duration-300 backdrop-blur-sm",onClick:i}),o.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-40 bg-white shadow-2xl lg:shadow-xl h-screen flex flex-col
        transform transition-all duration-500 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        
        /* PROFESSIONAL DESIGN */
        w-80 lg:w-72 xl:w-80
        safe-top safe-bottom safe-left
        border-r border-gray-200
      `,children:[o.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-ide-primary-600 via-ide-primary-700 to-ide-primary-800 border-b border-ide-primary-500",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between lg:justify-start",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center flex-shrink-0",children:o.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-8 h-8 object-contain",onError:A=>{const a=A.target;a.style.display="none";const l=a.parentElement;l&&(l.innerHTML='<div class="w-8 h-8 text-ide-primary-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white leading-tight",children:"İDE Okulları"}),o.jsx("p",{className:"text-sm text-ide-primary-100 font-medium",children:"Ders Programı Sistemi"})]})]}),o.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-lg hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 transition-all duration-200 btn-touch touch-enhanced","aria-label":"Menüyü kapat",children:o.jsx(ua,{size:20,className:"text-white"})})]})]}),o.jsx("nav",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:o.jsx("div",{className:"space-y-2",children:s.map(({to:A,icon:a,label:l,color:c,description:h})=>o.jsx(yU,{to:A,onClick:i,className:({isActive:f})=>`group relative flex items-center p-4 rounded-xl transition-all duration-300 ${f?"bg-ide-primary-50 text-ide-primary-700 shadow-lg border-2 border-ide-primary-200 transform scale-[1.02]":"text-ide-gray-700 hover:bg-white hover:text-ide-primary-600 hover:shadow-md border-2 border-transparent hover:border-ide-primary-100"}`,children:({isActive:f})=>o.jsxs(o.Fragment,{children:[f&&o.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-ide-primary-600 rounded-r-full"}),o.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300 ${f?"bg-ide-primary-100 text-ide-primary-600":"bg-gray-100 text-gray-500 group-hover:bg-ide-primary-100 group-hover:text-ide-primary-600"}`,children:o.jsx(a,{size:24,className:"transition-transform duration-300 group-hover:scale-110"})}),o.jsx("div",{className:"flex-1 ml-4 min-w-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:`font-semibold text-base leading-tight transition-colors duration-300 ${f?"text-ide-primary-700":"text-gray-900 group-hover:text-ide-primary-600"}`,children:l}),o.jsx("p",{className:`text-sm mt-1 transition-colors duration-300 ${f?"text-ide-primary-600":"text-gray-500 group-hover:text-ide-primary-500"}`,children:h})]}),o.jsx(wy,{size:18,className:`flex-shrink-0 transition-all duration-300 ${f?"text-ide-primary-600 transform translate-x-1":"text-gray-400 group-hover:text-ide-primary-500 group-hover:transform group-hover:translate-x-1"}`})]})})]})},A))})}),o.jsx("div",{className:"p-4 border-t border-gray-200 bg-white safe-bottom",children:o.jsxs("button",{onClick:n,className:"w-full group flex items-center p-4 rounded-xl text-ide-gray-700 hover:bg-ide-accent-50 hover:text-ide-accent-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ide-accent-500 focus:ring-offset-2 border-2 border-transparent hover:border-ide-accent-200",children:[o.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-gray-100 group-hover:bg-ide-accent-100 flex items-center justify-center transition-all duration-300",children:o.jsx(SR,{size:24,className:"text-gray-500 group-hover:text-ide-accent-600 transition-all duration-300 group-hover:scale-110"})}),o.jsxs("div",{className:"flex-1 ml-4 text-left",children:[o.jsx("p",{className:"font-semibold text-base text-gray-900 group-hover:text-ide-accent-700 transition-colors duration-300",children:"Güvenli Çıkış"}),o.jsx("p",{className:"text-sm text-gray-500 group-hover:text-ide-accent-600 transition-colors duration-300 mt-1",children:"Oturumu sonlandır"})]}),o.jsx(wy,{size:18,className:"flex-shrink-0 text-gray-400 group-hover:text-ide-accent-500 group-hover:transform group-hover:translate-x-1 transition-all duration-300"})]})})]})]})},UR=()=>o.jsxs("div",{className:"flex h-screen bg-gray-50",children:[o.jsx(TR,{}),o.jsx("main",{className:"flex-1 overflow-auto lg:ml-0",children:o.jsx("div",{className:"pt-20 lg:pt-0",children:o.jsx(iU,{})})})]}),qt=({label:t,type:e="text",value:r,onChange:n,placeholder:s,required:i=!1,error:A,disabled:a=!1})=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",i&&o.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:e,value:r,onChange:l=>n(l.target.value),placeholder:s,required:i,disabled:a,className:`ide-input w-full ${A?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900 placeholder-ide-accent-400":a?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 bg-white focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 placeholder-ide-gray-500 hover:border-ide-gray-400"}`}),A&&o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx(Hh,{className:"h-5 w-5 text-ide-accent-500"})})]}),A&&o.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[o.jsx(Hh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:A})]})]}),Me=({children:t,onClick:e,type:r="button",variant:n="primary",size:s="md",disabled:i=!1,icon:A,className:a=""})=>{const l="inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none transform hover:scale-[1.02] active:scale-[0.98] focus-enhanced",c={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300 hover:border-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md","ide-primary":"btn-ide-primary","ide-secondary":"btn-ide-secondary","ide-accent":"btn-ide-accent"},h={sm:"px-4 py-3 text-sm min-h-[44px] btn-touch",md:"px-5 py-3.5 text-sm min-h-[48px] btn-touch",lg:"px-6 py-4 text-base min-h-[52px] btn-touch"};return o.jsxs("button",{type:r,onClick:e,disabled:i,className:`${l} ${c[n]} ${h[s]} ${a} touch-enhanced`,children:[A&&o.jsx(A,{size:s==="sm"?18:s==="lg"?22:20,className:"mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:t})]})},QR=()=>{const[t,e]=ce.useState(""),[r,n]=ce.useState(""),[s,i]=ce.useState(""),[A,a]=ce.useState(!1),{login:l}=G2(),c=async h=>{h.preventDefault(),a(!0),i(""),(await l(t,r)).success||i("Giriş başarısız. Lütfen bilgilerinizi kontrol edin."),a(!1)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ide-gray-50 to-ide-primary-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-ide-2xl p-8 border border-ide-gray-200",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"p-4 bg-white rounded-full shadow-ide-lg border border-gray-100",children:o.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-16 h-16 object-contain",onError:h=>{const f=h.target;f.style.display="none";const p=f.parentElement;p&&(p.innerHTML='<div class="w-12 h-12 text-blue-600 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),o.jsx("h1",{className:"text-2xl font-bold text-ide-gray-900 mb-2",children:"İDE Okulları"}),o.jsx("h2",{className:"text-xl font-semibold text-ide-primary-600 mb-2",children:"Ders Planlama Sistemi"}),o.jsx("p",{className:"text-ide-gray-600",children:"Yönetici Girişi"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsx(qt,{label:"E-posta",type:"email",value:t,onChange:e,placeholder:"email@ide.k12.tr",required:!0}),o.jsx(qt,{label:"Şifre",type:"password",value:r,onChange:n,placeholder:"••••••••",required:!0}),s&&o.jsx("div",{className:"p-4 bg-ide-accent-50 border border-ide-accent-200 rounded-lg",children:o.jsx("p",{className:"text-ide-accent-800 text-sm font-medium",children:s})}),o.jsx(Me,{type:"submit",variant:"ide-primary",size:"lg",disabled:A,className:"w-full",children:A?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"ide-loading w-5 h-5 mr-3"}),"Giriş yapılıyor..."]}):"Giriş Yap"})]}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-xs text-ide-gray-500",children:"Firebase Authentication ile güvenli giriş"})})]})})},xt=t=>{const[e,r]=ce.useState([]),[n,s]=ce.useState(!0),[i,A]=ce.useState(null);return ce.useEffect(()=>{const f=u5(hu(Vs,t),lR("createdAt","desc"));return pR(f,g=>{const B=g.docs.map(E=>{var I,w;return{id:E.id,...E.data(),createdAt:((w=(I=E.data().createdAt)==null?void 0:I.toDate)==null?void 0:w.call(I))||new Date}});r(B),s(!1),A(null)},g=>{A(g.message),s(!1)})},[t]),{data:e,loading:n,error:i,add:async f=>{try{console.log("🔥 Firebase ADD işlemi başlatıldı:",{collectionName:t,item:f});const p=await mR(hu(Vs,t),{...f,createdAt:Yr.now()});return console.log("✅ Firebase ADD başarılı:",{docId:p.id}),{success:!0,id:p.id}}catch(p){return console.error("❌ Firebase ADD hatası:",p),{success:!1,error:p.message}}},update:async(f,p)=>{try{if(console.log("🔥 Firebase UPDATE işlemi başlatıldı:",{collectionName:t,id:f,updates:p,updateKeys:Object.keys(p)}),!f)throw new Error("Document ID is required for update");const g=WA(Vs,t,f),B={...p,updatedAt:Yr.now()};return console.log("🔥 Firebase setDoc çağrılıyor:",{docRef:g.path,updateData:B}),await hR(g,B,{merge:!0}),console.log("✅ Firebase UPDATE başarılı:",{id:f,updatedFields:Object.keys(p)}),{success:!0}}catch(g){return console.error("❌ Firebase UPDATE hatası:",{error:g,message:g.message,code:g.code,id:f,collectionName:t}),{success:!1,error:g.message}}},remove:async f=>{try{if(console.log("🔥 Firebase DELETE işlemi başlatıldı:",{collectionName:t,id:f}),!f)throw new Error("Document ID is required for delete");return await fR(WA(Vs,t,f)),console.log("✅ Firebase DELETE başarılı:",{id:f}),{success:!0}}catch(p){return console.error("❌ Firebase DELETE hatası:",p),{success:!1,error:p.message}}},exists:async f=>{try{const p=WA(Vs,t,f);return(await dR(u5(hu(Vs,t)))).docs.some(B=>B.id===f)}catch(p){return console.error("❌ Firebase EXISTS check hatası:",p),!1}}}},pa=()=>{const[t,e]=ce.useState({isOpen:!1,title:"",message:"",type:"warning",confirmText:"Onayla",cancelText:"İptal",confirmVariant:"primary",onConfirm:()=>{}}),r=ce.useCallback((l,c)=>new Promise(h=>{e({...l,isOpen:!0,onConfirm:()=>{c(),h(!0)}})}),[]),n=ce.useCallback(()=>{e(l=>({...l,isOpen:!1}))},[]),s=ce.useCallback((l,c)=>r({title:"🗑️ Silme Onayı",message:`"${l}" öğesini silmek istediğinizden emin misiniz?

Bu işlem geri alınamaz.`,type:"danger",confirmText:"Sil",cancelText:"İptal",confirmVariant:"danger"},c),[r]),i=ce.useCallback(l=>r({title:"🔄 Sıfırlama Onayı",message:`Tüm değişiklikleri sıfırlamak istediğinizden emin misiniz?

Kaydedilmemiş tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Sıfırla",cancelText:"İptal",confirmVariant:"danger"},l),[r]),A=ce.useCallback(l=>r({title:"⚠️ Kaydedilmemiş Değişiklikler",message:`Kaydedilmemiş değişiklikler var. Devam etmek istediğinizden emin misiniz?

Tüm değişiklikler kaybolacak.`,type:"warning",confirmText:"Devam Et",cancelText:"İptal",confirmVariant:"danger"},l),[r]),a=ce.useCallback((l,c)=>r({title:"⚠️ Çakışma Uyarısı",message:`Aşağıdaki çakışmalar tespit edildi:

${l.join(`
`)}

Yine de kaydetmek istediğinizden emin misiniz?`,type:"warning",confirmText:"Yine de Kaydet",cancelText:"İptal",confirmVariant:"danger"},c),[r]);return{confirmation:t,showConfirmation:r,hideConfirmation:n,confirmDelete:s,confirmReset:i,confirmUnsavedChanges:A,confirmConflictOverride:a}},ga=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,type:i="warning",confirmText:A="Onayla",cancelText:a="İptal",confirmVariant:l="primary"})=>{if(!t)return null;const c={warning:Mi,danger:Y2,success:Mh,info:W2},h={warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",title:"text-yellow-900"},danger:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",title:"text-red-900"},success:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",title:"text-green-900"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-600",title:"text-blue-900"}},f=c[i],p=h[i],g=()=>{r(),e()};return o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),o.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full mx-4 sm:mx-0",children:[o.jsx("div",{className:`${p.bg} ${p.border} border-b px-6 pt-6 pb-4`,children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(f,{className:`h-8 w-8 ${p.icon}`})}),o.jsx("div",{className:"ml-4 flex-1",children:o.jsx("h3",{className:`text-lg font-bold ${p.title}`,children:n})}),o.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200","aria-label":"Modalı kapat",children:o.jsx(ua,{size:20})})]})}),o.jsx("div",{className:"bg-white px-6 py-6",children:o.jsx("div",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-line",children:s})}),o.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[o.jsx(Me,{onClick:e,variant:"secondary",size:"md",children:a}),o.jsx(Me,{onClick:g,variant:l,size:"md",children:A})]})]})]})})},LR=()=>{const t=Jl(),{data:e}=xt("teachers"),{data:r}=xt("classes"),{data:n}=xt("subjects"),{data:s}=xt("schedules"),{data:i,remove:A}=xt("schedule-templates"),{success:a,error:l,warning:c}=pi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmDelete:g}=pa(),B=[{icon:Vi,title:"Dersler",description:"Dersleri branş ve seviyelerine göre organize edin",color:"text-indigo-600",bgColor:"bg-indigo-50",path:"/subjects"},{icon:Wr,title:"Öğretmenler",description:"Öğretmenleri ekleyin ve branşlarına göre yönetin",color:"text-blue-600",bgColor:"bg-blue-50",path:"/teachers"},{icon:Fs,title:"Sınıflar",description:"Sınıfları seviyelerine göre kategorize edin",color:"text-emerald-600",bgColor:"bg-emerald-50",path:"/classes"},{icon:hf,title:"Program Sihirbazı",description:"Adım adım otomatik program oluşturun",color:"text-orange-600",bgColor:"bg-orange-50",path:"/schedule-wizard"},{icon:Xn,title:"Manuel Program",description:"Öğretmen veya sınıf bazlı manuel program oluşturun",color:"text-purple-600",bgColor:"bg-purple-50",path:"/schedules"},{icon:s0,title:"Programları Görüntüle",description:"Oluşturulan programları görüntüleyin ve inceleyin",color:"text-pink-600",bgColor:"bg-pink-50",path:"/all-schedules"},{icon:Fl,title:"PDF İndir",description:"Programları profesyonel PDF formatında indirin",color:"text-orange-600",bgColor:"bg-orange-50",path:"/pdf"},{icon:q2,title:"Veri Yönetimi",description:"Sistem verilerini yönetin ve temizleyin",color:"text-purple-600",bgColor:"bg-purple-50",path:"/data-management"}],E=y=>{t(`/schedule-wizard?templateId=${y}`)},I=y=>{g(y.name,async()=>{try{await A(y.id),a("🗑️ Program Silindi",`${y.name} başarıyla silindi`)}catch{l("❌ Silme Hatası","Program silinirken bir hata oluştu")}})},w=[...i].sort((y,_)=>new Date(_.updatedAt).getTime()-new Date(y.updatedAt).getTime());return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:o.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:o.jsx("img",{src:"https://cv.ide.k12.tr/images/ideokullari_logo.png",alt:"İDE Okulları Logo",className:"w-12 h-12 object-contain",onError:y=>{const _=y.target;_.style.display="none";const P=_.parentElement;P&&(P.innerHTML='<div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg></div>')}})})}),o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"İDE Okulları Ders Programı Sistemi"}),o.jsx("p",{className:"text-sm md:text-base text-gray-600 mb-4 max-w-2xl mx-auto",children:"Sihirbaz ile otomatik program oluşturun veya manuel olarak düzenleyin. Çakışma kontrolü, zaman kısıtlamaları ve profesyonel PDF çıktıları."})]})}),i.length>0&&o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsxs("div",{className:"bg-gradient-to-br from-ide-primary-50 via-white to-ide-secondary-50 rounded-2xl shadow-lg border border-ide-primary-100 p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-extrabold text-ide-primary-800 flex items-center tracking-tight",children:"Oluşturulan Programlar"}),o.jsxs("p",{className:"text-sm text-ide-primary-600 mt-1 font-medium",children:[i.length," program • Düzenlemek için tıklayın"]})]}),o.jsx(Me,{onClick:()=>t("/schedule-wizard"),icon:$r,variant:"primary",size:"md",className:"shadow-md",children:"Yeni Program"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(y=>o.jsxs("div",{className:"group bg-white rounded-2xl p-6 border border-ide-primary-100 shadow-sm hover:shadow-lg hover:border-ide-primary-300 transition-all duration-200 cursor-pointer relative flex flex-col min-h-[210px]",onClick:()=>E(y.id),children:[o.jsx("span",{className:`absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold shadow-sm border
                    ${y.status==="published"?"bg-emerald-50 text-emerald-700 border-emerald-200":y.status==="draft"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:y.status==="published"?"Yayınlandı":y.status==="draft"?"Taslak":"Arşivlendi"}),o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Xn,{className:"w-6 h-6 text-ide-primary-600 flex-shrink-0"}),o.jsx("h3",{className:"font-bold text-lg text-ide-primary-900 truncate group-hover:text-ide-primary-700 transition-colors",children:y.name})]}),o.jsxs("p",{className:"text-xs text-ide-primary-500 mb-1 font-medium",children:[y.academicYear," ",y.semester," Dönemi"]}),y.description&&o.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:y.description}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-gray-100",children:[o.jsx("span",{className:"text-xs text-gray-400 flex items-center",children:(()=>{const _=new Date(y.updatedAt);return isNaN(_.getTime())?null:o.jsxs(o.Fragment,{children:[o.jsx(dA,{className:"w-4 h-4 mr-1"}),_.toLocaleDateString("tr-TR")]})})()}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:_=>{_.stopPropagation(),E(y.id)},className:"p-2 rounded-lg bg-ide-primary-50 hover:bg-ide-primary-100 text-ide-primary-700 hover:text-ide-primary-900 shadow-sm border border-transparent hover:border-ide-primary-200 transition",title:"Düzenle",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:_=>{_.stopPropagation(),I(y)},className:"p-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-800 shadow-sm border border-transparent hover:border-red-200 transition",title:"Sil",children:o.jsx(Tn,{size:18})})]})]})]},y.id))})]})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:B.map((y,_)=>o.jsxs("div",{onClick:()=>t(y.path),className:"group cursor-pointer bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 hover:border-gray-200",children:[o.jsx("div",{className:`${y.bgColor} w-10 h-10 rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform duration-200`,children:o.jsx(y.icon,{className:`w-5 h-5 ${y.color}`})}),o.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:y.title}),o.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-3",children:y.description}),o.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-medium group-hover:translate-x-1 transition-transform duration-200",children:["Başla ",o.jsx(CR,{className:"ml-1 w-3 h-3"})]})]},_))})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-blue-600",children:e.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Öğretmen"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-emerald-600",children:r.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Sınıf"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-indigo-600",children:n.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Ders"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-purple-600",children:s.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Program"})]})]})})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Sihirbaz Sistemi"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Adım adım otomatik oluşturma"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Zaman Kısıtlamaları"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Esnek kısıtlama yönetimi"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-gray-900",children:"Çakışma Kontrolü"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Otomatik çakışma tespiti"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-gray-900",children:"PDF Çıktı"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Profesyonel görünüm"})]})]})})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"Sihirbaz tabanlı otomatik program oluşturma sistemi"})})}),o.jsx(ga,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},Tt=["Pazartesi","Salı","Çarşamba","Perşembe","Cuma"],vn=["1","2","3","4","5","6","7","8","9","10"],Cs=["Anaokulu","İlkokul","Ortaokul"],p5=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],jR=[{period:"prep",startTime:"08:30",endTime:"08:40",isBreak:!0,breakType:"prep",breakDuration:10},{period:"1",startTime:"08:40",endTime:"09:15"},{period:"breakfast",startTime:"09:15",endTime:"09:35",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break1",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break2",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break3",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"break4",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"prep",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],PR=[{period:"breakfast1",startTime:"08:30",endTime:"08:50",isBreak:!0,breakType:"breakfast",breakDuration:20},{period:"1",startTime:"08:50",endTime:"09:25"},{period:"break1",startTime:"09:25",endTime:"09:35",isBreak:!0,breakType:"prep",breakDuration:10},{period:"2",startTime:"09:35",endTime:"10:10"},{period:"break2",startTime:"10:10",endTime:"10:20",isBreak:!0,breakType:"prep",breakDuration:10},{period:"3",startTime:"10:20",endTime:"10:55"},{period:"break3",startTime:"10:55",endTime:"11:05",isBreak:!0,breakType:"prep",breakDuration:10},{period:"4",startTime:"11:05",endTime:"11:40"},{period:"break4",startTime:"11:40",endTime:"11:50",isBreak:!0,breakType:"prep",breakDuration:10},{period:"5",startTime:"11:50",endTime:"12:25"},{period:"lunch",startTime:"12:25",endTime:"12:30",isBreak:!0,breakType:"lunch",breakDuration:5},{period:"6",startTime:"12:30",endTime:"13:05"},{period:"break5",startTime:"13:05",endTime:"13:15",isBreak:!0,breakType:"prep",breakDuration:10},{period:"7",startTime:"13:15",endTime:"13:50"},{period:"break6",startTime:"13:50",endTime:"14:00",isBreak:!0,breakType:"prep",breakDuration:10},{period:"8",startTime:"14:00",endTime:"14:35"},{period:"breakfast2",startTime:"14:35",endTime:"14:45",isBreak:!0,breakType:"breakfast",breakDuration:10},{period:"9",startTime:"14:45",endTime:"15:20"},{period:"break7",startTime:"15:20",endTime:"15:25",isBreak:!0,breakType:"prep",breakDuration:5},{period:"10",startTime:"15:25",endTime:"16:00"}],DR=t=>{switch(t){case"İlkokul":return p5;case"Ortaokul":return jR;case"Anaokulu":return PR;default:return p5}},i0=(t,e)=>DR(e).find(n=>n.period===t&&!n.isBreak),A0=(t,e)=>`${t} - ${e}`,Ki=({isOpen:t,onClose:e,title:r,children:n,size:s="md"})=>{if(ce.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),ce.useEffect(()=>{const A=a=>{a.key==="Escape"&&t&&e()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[t,e]),!t)return null;const i={sm:"sm:max-w-md",md:"sm:max-w-lg",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl"};return o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-end sm:items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:e,"aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),o.jsxs("div",{className:`
          inline-block align-bottom bg-white text-left overflow-hidden shadow-2xl transform transition-all 
          sm:my-8 sm:align-middle sm:w-full ${i[s]}
          
          /* MOBILE OPTIMIZATIONS */
          w-full max-w-none mx-0 mb-0
          sm:mx-4 sm:mb-4 sm:max-w-lg
          
          /* MOBILE: Full width with rounded top corners */
          rounded-t-2xl sm:rounded-xl
          
          /* MOBILE: Better height management */
          max-h-[95vh] sm:max-h-[90vh]
          
          /* MOBILE: Ensure proper positioning */
          modal-mobile
        `,children:[o.jsx("div",{className:"bg-white px-4 sm:px-6 pt-5 sm:pt-6 pb-4 border-b border-gray-200 sticky top-0 z-10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 pr-4 truncate",children:r}),o.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 btn-touch flex-shrink-0","aria-label":"Modalı kapat",children:o.jsx(ua,{size:24})})]})}),o.jsx("div",{className:"bg-white px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:o.jsx("div",{className:"form-mobile",children:n})})]})]})})},Vt=({label:t,value:e,onChange:r,options:n,required:s=!1,error:i,disabled:A=!1})=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-semibold text-ide-gray-800 mb-2",children:[t," ",s&&o.jsx("span",{className:"text-ide-accent-600 ml-1",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e,onChange:a=>r(a.target.value),required:s,disabled:A,className:`ide-input w-full appearance-none bg-white ${i?"border-ide-accent-400 bg-ide-accent-50 focus:border-ide-accent-500 focus:ring-ide-accent-200 text-ide-accent-900":A?"border-ide-gray-200 bg-ide-gray-50 text-ide-gray-500 cursor-not-allowed":"border-ide-gray-300 focus:border-ide-primary-500 focus:ring-ide-primary-200 text-ide-gray-900 hover:border-ide-gray-400"}`,children:[o.jsx("option",{value:"",className:"text-ide-gray-500",children:"Seçiniz..."}),n.map(a=>o.jsx("option",{value:a.value,className:"text-ide-gray-900",children:a.label},a.value))]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i?o.jsx(Hh,{className:"h-5 w-5 text-ide-accent-500"}):o.jsx(ER,{className:`h-5 w-5 ${A?"text-ide-gray-400":"text-ide-gray-500"}`})})]}),i&&o.jsxs("div",{className:"mt-2 flex items-start space-x-2",children:[o.jsx(Hh,{className:"h-4 w-4 text-ide-accent-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm font-medium text-ide-accent-700",children:i})]})]}),RR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=xt("teachers"),{data:i}=xt("subjects"),{success:A,error:a,warning:l}=pi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=pa(),[g,B]=ce.useState(!1),[E,I]=ce.useState(!1),[w,y]=ce.useState(null),[_,P]=ce.useState(""),[H,W]=ce.useState(""),[T,b]=ce.useState(""),[k,j]=ce.useState(!1),[N,Q]=ce.useState([{name:"",branch:"",level:""}]),[F,te]=ce.useState({name:"",branch:"",levels:[],subjectIds:[]});ce.useEffect(()=>{if(F.subjectIds.length>0){const ae=F.subjectIds.filter(he=>{const Ie=i.find(Ge=>Ge.id===he);return Ie?(Ie.levels||[Ie.level]).some(Ge=>F.levels.includes(Ge)):!1});ae.length<F.subjectIds.length&&te(he=>({...he,subjectIds:ae}))}},[F.levels,i,F.subjectIds]);const xe=()=>[...new Set(i.map(he=>he.branch))].sort((he,Ie)=>he.localeCompare(Ie,"tr")),ye=t.filter(ae=>{const he=ae.levels||[ae.level],Ie=ae.branches||ae.branch.split(",").map(dt=>dt.trim()),Ke=!_||he.includes(_),Ge=!H||Ie.includes(H),et=!T||ae.name.toLowerCase().includes(T.toLowerCase())||se(ae).toLowerCase().includes(T.toLowerCase());return Ke&&Ge&&et}).sort((ae,he)=>ae.name.localeCompare(he.name,"tr")),V=()=>{if(t.length===0){l("⚠️ Silinecek Öğretmen Yok","Sistemde silinecek öğretmen bulunamadı");return}p(`${t.length} Öğretmen`,async()=>{j(!0);try{for(const ae of t)await s(ae.id);A("🗑️ Öğretmenler Silindi",`${t.length} öğretmen başarıyla silindi`),P(""),W(""),b("")}catch{a("❌ Silme Hatası","Öğretmenler silinirken bir hata oluştu")}finally{j(!1)}})},le=async ae=>{if(ae.preventDefault(),!F.branch){a("❌ Branş Seçimi Gerekli","Lütfen bir branş seçin.");return}if(F.levels.length===0){a("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz.");return}try{const he={name:F.name,branch:F.branch,branches:[F.branch],level:F.levels[0],levels:F.levels,subjectIds:F.subjectIds};w?(await n(w.id,he),A("✅ Öğretmen Güncellendi",`${F.name} başarıyla güncellendi.`)):(await r(he),A("✅ Öğretmen Eklendi",`${F.name} başarıyla eklendi.`)),ue()}catch{a("❌ Hata","Öğretmen kaydedilirken bir hata oluştu.")}},Z=async ae=>{ae.preventDefault();const he=N.filter(Ie=>Ie.name&&Ie.branch&&Ie.level);if(he.length===0){a("Hata","Lütfen en az bir geçerli öğretmen bilgisi girin.");return}try{for(const Ie of he)Cs.includes(Ie.level)&&await r({name:Ie.name,branch:Ie.branch,level:Ie.level,branches:[Ie.branch],levels:[Ie.level]});Q([{name:"",branch:"",level:""}]),I(!1),A("✅ Öğretmenler Eklendi",`${he.length} öğretmen başarıyla eklendi`)}catch{a("❌ Hata","Toplu öğretmen eklenirken bir hata oluştu.")}},ue=()=>{te({name:"",branch:"",levels:[],subjectIds:[]}),y(null),B(!1)},L=ae=>{const he=ae.levels||[ae.level];te({name:ae.name,branch:ae.branch,levels:he,subjectIds:ae.subjectIds||[]}),y(ae),B(!0)},M=async ae=>{const he=t.find(Ie=>Ie.id===ae);he&&p(he.name,async()=>{await s(ae),A("🗑️ Öğretmen Silindi",`${he.name} başarıyla silindi`)})},$=ae=>{te(he=>({...he,levels:he.levels.includes(ae)?he.levels.filter(Ie=>Ie!==ae):[...he.levels,ae]}))},Y=ae=>{te(he=>({...he,subjectIds:he.subjectIds.includes(ae)?he.subjectIds.filter(Ie=>Ie!==ae):[...he.subjectIds,ae]}))},X=()=>Q([...N,{name:"",branch:"",level:""}]),ee=ae=>{N.length>1&&Q(N.filter((he,Ie)=>Ie!==ae))},ie=(ae,he,Ie)=>{const Ke=[...N];Ke[ae]={...Ke[ae],[he]:Ie},Q(Ke)},oe=()=>b(""),G=ae=>{ae.key==="Enter"&&ae.currentTarget.blur(),ae.key==="Escape"&&oe()},se=ae=>ae.branch,ge=ae=>ae.levels||[ae.level],_e=i.filter(ae=>F.levels.length===0?!1:(ae.levels||[ae.level]).some(Ie=>F.levels.includes(Ie))).sort((ae,he)=>ae.name.localeCompare(he.name,"tr")),ke=Cs.map(ae=>({value:ae,label:ae})),be=[{value:"",label:"Branş Seçin..."},...xe().map(ae=>({value:ae,label:ae}))],re=[{value:"",label:"Tüm Seviyeler"},...ke],me=[{value:"",label:"Tüm Branşlar"},...xe().map(ae=>({value:ae,label:ae}))];return e?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"mobile-loading",children:[o.jsx("div",{className:"mobile-loading-spinner"}),o.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):o.jsxs("div",{className:"container-mobile",children:[o.jsxs("div",{className:"header-mobile",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wr,{className:"w-8 h-8 text-blue-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmenler"}),o.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," öğretmen kayıtlı (",ye.length," gösteriliyor)"]})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[t.length>0&&o.jsx(Me,{onClick:V,icon:Tn,variant:"danger",disabled:k,className:"w-full sm:w-auto",children:k?"Siliniyor...":`Tümünü Sil (${t.length})`}),o.jsx(Me,{onClick:()=>I(!0),icon:$r,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),o.jsx(Me,{onClick:()=>B(!0),icon:$r,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Öğretmen"})]})]}),o.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[o.jsxs("div",{className:"mobile-form-group",children:[o.jsx("label",{className:"mobile-form-label",children:"🔍 Öğretmen Ara"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(FN,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",value:T,onChange:ae=>b(ae.target.value),onKeyDown:G,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"block w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),T&&o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("button",{onClick:oe,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Aramayı temizle",children:o.jsx(ua,{className:"w-5 w-5"})})})]}),T&&o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',T,'" için ',ye.length," sonuç bulundu"]}),o.jsx("button",{onClick:oe,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),o.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[o.jsx(Vt,{label:"Seviye Filtresi",value:_,onChange:P,options:re}),o.jsx(Vt,{label:"Branş Filtresi",value:H,onChange:W,options:me})]})]}),ye.length===0?o.jsxs("div",{className:"text-center py-12 mobile-card",children:[o.jsx(Wr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"Henüz öğretmen eklenmemiş":T?"Arama sonucu bulunamadı":"Filtrelere uygun öğretmen bulunamadı"}),o.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"İlk öğretmeninizi ekleyerek başlayın":T?`"${T}" araması için sonuç bulunamadı`:"Farklı filtre kriterleri deneyin"})]}):o.jsx("div",{className:"mobile-card overflow-hidden",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ad Soyad"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seviye"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.map(ae=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-500",children:se(ae)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:ge(ae).map((he,Ie)=>o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he==="Anaokulu"?"bg-green-100 text-green-800":he==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:he},Ie))})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(Me,{onClick:()=>L(ae),icon:ma,size:"sm",variant:"secondary",children:"Düzenle"}),o.jsx(Me,{onClick:()=>M(ae.id),icon:Tn,size:"sm",variant:"danger",children:"Sil"})]})})]},ae.id))})]})})}),o.jsx(Ki,{isOpen:g,onClose:ue,title:w?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",size:"lg",children:o.jsxs("form",{onSubmit:le,children:[o.jsx(qt,{label:"Ad Soyad",value:F.name,onChange:ae=>te({...F,name:ae}),placeholder:"Örn: Ahmet Yılmaz",required:!0}),o.jsx(Vt,{label:"Branş",value:F.branch,onChange:ae=>te({...F,branch:ae}),options:be,required:!0}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Cs.map(ae=>o.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${F.levels.includes(ae)?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx("input",{type:"checkbox",checked:F.levels.includes(ae),onChange:()=>$(ae),className:"sr-only"}),o.jsx("span",{className:"text-sm font-medium",children:ae}),F.levels.includes(ae)&&o.jsx("span",{className:"ml-2 text-blue-600",children:"✓"})]},ae))}),F.levels.length>0&&o.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["✨ Seçilen seviyeler: ",F.levels.join(", ")]})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[o.jsx(Vi,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Dersler"]}),o.jsxs("div",{className:"space-y-2 p-3 border border-gray-300 rounded-lg bg-gray-50 max-h-60 overflow-y-auto",children:[_e.map(ae=>o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-2 hover:bg-gray-100 rounded-md",children:[o.jsx("input",{type:"checkbox",checked:F.subjectIds.includes(ae.id),onChange:()=>Y(ae.id),className:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500"}),o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[ae.name,o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",ae.branch," - ",(ae.levels||[ae.level]).join(", "),")"]})]})]},ae.id)),F.levels.length>0&&_e.length===0&&o.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Seçilen seviyelere uygun ders bulunamadı."}),F.levels.length===0&&o.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Dersleri görmek için lütfen önce eğitim seviyesi seçin."})]}),F.subjectIds.length>0&&o.jsxs("p",{className:"text-xs text-indigo-600 mt-2",children:["✨ ",F.subjectIds.length," ders seçildi."]})]}),o.jsxs("div",{className:"button-group-mobile mt-6",children:[o.jsx(Me,{type:"button",onClick:ue,variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"submit",variant:"primary",disabled:!F.branch||F.levels.length===0,children:w?"Güncelle":"Kaydet"})]})]})}),o.jsx(Ki,{isOpen:E,onClose:()=>I(!1),title:"Toplu Öğretmen Ekleme",children:o.jsxs("form",{onSubmit:Z,children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Öğretmen Listesi"}),o.jsx(Me,{type:"button",onClick:X,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:N.map((ae,he)=>o.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-gray-50 rounded-lg",children:[o.jsx("input",{type:"text",placeholder:"Ad Soyad",value:ae.name,onChange:Ie=>ie(he,"name",Ie.target.value),className:"col-span-2 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),o.jsxs("select",{value:ae.branch,onChange:Ie=>ie(he,"branch",Ie.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Branş Seç"}),xe().map(Ie=>o.jsx("option",{value:Ie,children:Ie},Ie))]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsxs("select",{value:ae.level,onChange:Ie=>ie(he,"level",Ie.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Seviye"}),Cs.map(Ie=>o.jsx("option",{value:Ie,children:Ie},Ie))]}),o.jsx("button",{type:"button",onClick:()=>ee(he),className:"p-1.5 bg-red-100 text-red-600 rounded hover:bg-red-200 disabled:opacity-50",disabled:N.length===1,children:o.jsx(Tn,{size:14})})]})]},he))})]}),o.jsxs("div",{className:"button-group-mobile mt-4",children:[o.jsx(Me,{type:"button",onClick:()=>I(!1),variant:"secondary",children:"İptal"}),o.jsxs(Me,{type:"submit",variant:"primary",children:["Toplu Ekle (",N.filter(ae=>ae.name&&ae.branch&&ae.level).length," öğretmen)"]})]})]})}),o.jsx(ga,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},OR=()=>{const t=Jl(),{data:e,loading:r,add:n,update:s,remove:i}=xt("classes"),{data:A}=xt("schedules"),{data:a}=xt("teachers"),{success:l,error:c,warning:h}=pi(),{confirmation:f,showConfirmation:p,hideConfirmation:g,confirmDelete:B}=pa(),[E,I]=ce.useState(!1),[w,y]=ce.useState(!1),[_,P]=ce.useState(null),[H,W]=ce.useState(""),[T,b]=ce.useState(!1),[k,j]=ce.useState([{name:"",level:""}]),[N,Q]=ce.useState({name:"",levels:[],teacherIds:[],classTeacherId:""}),F=me=>A.some(ae=>Object.values(ae.schedule).some(he=>Object.values(he).some(Ie=>(Ie==null?void 0:Ie.classId)===me))),te=me=>{let ae=0;return A.forEach(he=>{Object.values(he.schedule).forEach(Ie=>{Object.values(Ie).forEach(Ke=>{(Ke==null?void 0:Ke.classId)===me&&ae++})})}),ae},xe=me=>{t(`/class-schedules?classId=${me}`)},ve=me=>{t(`/schedules?mode=class&classId=${me}`)},V=e.filter(me=>!H||me.level===H||me.levels&&me.levels.includes(H)).sort((me,ae)=>me.name.localeCompare(ae.name,"tr")),le=()=>{if(e.length===0){h("⚠️ Silinecek Sınıf Yok","Sistemde silinecek sınıf bulunamadı");return}B(`${e.length} Sınıf`,async()=>{b(!0);try{let me=0;console.log("🗑️ Tüm sınıflar siliniyor:",{totalClasses:e.length});for(const ae of e)try{await i(ae.id),me++,console.log(`✅ Sınıf silindi: ${ae.name}`)}catch(he){console.error(`❌ Sınıf silinemedi: ${ae.name}`,he)}me>0?(l("🗑️ Sınıflar Silindi",`${me} sınıf başarıyla silindi`),W("")):c("❌ Silme Hatası","Hiçbir sınıf silinemedi")}catch(me){console.error("❌ Toplu silme hatası:",me),c("❌ Silme Hatası","Sınıflar silinirken bir hata oluştu")}finally{b(!1)}})},Z=async me=>{if(me.preventDefault(),N.levels.length===0){c("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz");return}const ae={name:N.name,level:N.levels[0],levels:N.levels,teacherIds:N.teacherIds,classTeacherId:N.classTeacherId};try{_?(await s(_.id,ae),l("✅ Sınıf Güncellendi",`${N.name} sınıfı başarıyla güncellendi`)):(await n(ae),l("✅ Sınıf Eklendi",`${N.name} sınıfı başarıyla eklendi`)),L()}catch{c("❌ Hata","Sınıf kaydedilirken bir hata oluştu")}},ue=async me=>{me.preventDefault();for(const ae of k)ae.name&&ae.level&&Cs.includes(ae.level)&&await n({name:ae.name,level:ae.level,levels:[ae.level],teacherIds:[]});j([{name:"",level:""}]),y(!1),l("✅ Sınıflar Eklendi",`${k.filter(ae=>ae.name&&ae.level).length} sınıf başarıyla eklendi`)},L=()=>{Q({name:"",levels:[],teacherIds:[],classTeacherId:""}),P(null),I(!1)},M=me=>{const ae=me.levels||[me.level];Q({name:me.name,levels:ae,teacherIds:me.teacherIds||[],classTeacherId:me.classTeacherId||""}),P(me),I(!0)},$=async me=>{const ae=e.find(he=>he.id===me);ae&&B(ae.name,async()=>{await i(me),l("🗑️ Sınıf Silindi",`${ae.name} başarıyla silindi`)})},Y=()=>{j([...k,{name:"",level:""}])},X=me=>{k.length>1&&j(k.filter((ae,he)=>he!==me))},ee=(me,ae,he)=>{const Ie=[...k];Ie[me]={...Ie[me],[ae]:he},j(Ie)},ie=me=>{Q(ae=>{if(ae.teacherIds.includes(me)){const Ie=ae.teacherIds.filter(Ge=>Ge!==me),Ke=ae.classTeacherId===me?"":ae.classTeacherId;return{...ae,teacherIds:Ie,classTeacherId:Ke}}else return{...ae,teacherIds:[...ae.teacherIds,me]}})},oe=me=>{Q(ae=>{const he=ae.teacherIds.includes(me)?ae.teacherIds:[...ae.teacherIds,me];return{...ae,teacherIds:he,classTeacherId:me}})},G=me=>{Q(ae=>ae.levels.includes(me)?{...ae,levels:ae.levels.filter(Ie=>Ie!==me)}:{...ae,levels:[...ae.levels,me]})},se=()=>N.levels.length===0?[]:a.filter(me=>N.levels.some(ae=>me.level===ae||me.levels&&me.levels.includes(ae))).sort((me,ae)=>me.name.localeCompare(ae.name,"tr")),ge=me=>{if(!me)return"";const ae=a.find(he=>he.id===me);return ae?ae.name:""},_e=me=>!me||me.length===0?"":a.filter(he=>me.includes(he.id)).map(he=>he.name).join(", "),ke=me=>me.levels&&me.levels.length>0?me.levels:[me.level],be=Cs.map(me=>({value:me,label:me})),re=[{value:"",label:"Tüm Seviyeler"},...be];return r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"mobile-loading",children:[o.jsx("div",{className:"mobile-loading-spinner"}),o.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):o.jsxs("div",{className:"container-mobile",children:[o.jsxs("div",{className:"header-mobile",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fs,{className:"w-8 h-8 text-emerald-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıflar"}),o.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," sınıf kayıtlı (",V.length," gösteriliyor)"]})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[e.length>0&&o.jsx(Me,{onClick:le,icon:Tn,variant:"danger",disabled:T,className:"w-full sm:w-auto",children:T?"Siliniyor...":`Tümünü Sil (${e.length})`}),o.jsx(Me,{onClick:()=>y(!0),icon:$r,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),o.jsx(Me,{onClick:()=>I(!0),icon:$r,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Sınıf"})]})]}),o.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:o.jsx("div",{className:"responsive-grid-1 gap-responsive",children:o.jsx(Vt,{label:"Seviye Filtresi",value:H,onChange:W,options:re})})}),V.length===0?o.jsxs("div",{className:"text-center py-12 mobile-card",children:[o.jsx(Fs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz sınıf eklenmemiş":"Filtrelere uygun sınıf bulunamadı"}),o.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk sınıfınızı ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),o.jsx("div",{className:"button-group-mobile",children:e.length===0&&o.jsxs(o.Fragment,{children:[o.jsx(Me,{onClick:()=>y(!0),icon:$r,variant:"secondary",children:"Toplu Ekle"}),o.jsx(Me,{onClick:()=>I(!0),icon:$r,variant:"primary",children:"Sınıf Ekle"})]})})]}):o.jsx("div",{className:"responsive-grid gap-responsive",children:V.map(me=>{const ae=F(me.id),he=te(me.id),Ie=ge(me.classTeacherId),Ke=_e(me.teacherIds),Ge=ke(me);return o.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:me.name}),o.jsx("div",{className:"flex flex-wrap gap-1",children:Ge.map((et,dt)=>o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${et==="Anaokulu"?"bg-green-100 text-green-800":et==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:et},dt))})]}),(Ie||Ke)&&o.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wr,{className:"w-4 h-4 text-blue-600 mr-2"}),o.jsxs("div",{children:[Ie&&o.jsxs("p",{className:"text-sm font-medium text-blue-700",children:[o.jsx("span",{className:"font-bold",children:"Sınıf öğretmeni:"})," ",Ie]}),Ke&&o.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[o.jsx("span",{className:"font-medium",children:"Öğretmenler:"})," ",Ke]})]})]})}),o.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Program Durumu"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${ae?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:`text-sm ${ae?"text-green-700":"text-gray-500"}`,children:ae?`${he} ders saati`:"Program yok"})]})]}),ae&&o.jsx("button",{onClick:()=>xe(me.id),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Programı Görüntüle","aria-label":`${me.name} sınıfının programını görüntüle`,children:o.jsx(s0,{size:18})})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>M(me),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",title:"Sınıfı Düzenle","aria-label":`${me.name} sınıfını düzenle`,children:o.jsx(ma,{size:16})}),o.jsx("button",{onClick:()=>$(me.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",title:"Sınıfı Sil","aria-label":`${me.name} sınıfını sil`,children:o.jsx(Tn,{size:16})})]}),o.jsx("button",{onClick:()=>ve(me.id),className:"p-2 text-emerald-600 hover:text-emerald-800 hover:bg-emerald-50 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",title:ae?"Programı Düzenle":"Program Oluştur","aria-label":`${me.name} sınıfı için ${ae?"programı düzenle":"program oluştur"}`,children:o.jsx(Xn,{size:18})})]})]},me.id)})}),o.jsx(Ki,{isOpen:E,onClose:L,title:_?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:o.jsxs("form",{onSubmit:Z,children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Bilgileri"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(qt,{label:"Sınıf Adı",value:N.name,onChange:me=>Q({...N,name:me}),placeholder:"Örn: 5A, 7B",required:!0}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Cs.map(me=>o.jsxs("label",{className:`
                          flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all
                          ${N.levels.includes(me)?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}
                        `,children:[o.jsx("input",{type:"checkbox",checked:N.levels.includes(me),onChange:()=>G(me),className:"sr-only"}),o.jsx("span",{className:"text-sm font-medium",children:me}),N.levels.includes(me)&&o.jsx("span",{className:"ml-2 text-emerald-600",children:"✓"})]},me))}),N.levels.length>0&&o.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:["✨ Seçilen seviyeler: ",N.levels.join(", ")]})]})]})]}),N.levels.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[o.jsx(Wr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Sınıf Öğretmenleri"]}),se().length===0?o.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[o.jsx(Wr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"Seçilen seviyelerde öğretmen bulunamadı"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Önce öğretmen ekleyin veya farklı seviyeler seçin"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Öğretmeni"}),o.jsxs("select",{value:N.classTeacherId,onChange:me=>oe(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Sınıf öğretmeni seçin..."}),se().map(me=>o.jsxs("option",{value:me.id,children:[me.name," (",me.branch,")"]},me.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıfta Ders Verecek Öğretmenler"}),o.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:o.jsx("div",{className:"divide-y divide-gray-200",children:se().map(me=>{const ae=N.teacherIds.includes(me.id),he=N.classTeacherId===me.id;return o.jsxs("div",{className:`p-3 flex items-center justify-between hover:bg-gray-50 transition-colors ${he?"bg-blue-50":""}`,children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`teacher-${me.id}`,checked:ae,onChange:()=>ie(me.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsxs("label",{htmlFor:`teacher-${me.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:[me.name,o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",me.branch,")"]}),he&&o.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Sınıf Öğretmeni"})]})]}),!he&&ae&&o.jsx("button",{type:"button",onClick:()=>oe(me.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Sınıf öğretmeni yap"})]},me.id)})})}),o.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[o.jsx(Wr,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{children:[N.teacherIds.length," öğretmen seçildi"]})]})]})]})]})]}),o.jsxs("div",{className:"button-group-mobile mt-6",children:[o.jsx(Me,{type:"button",onClick:L,variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"submit",variant:"primary",disabled:N.levels.length===0,children:_?"Güncelle":"Kaydet"})]})]})}),o.jsx(Ki,{isOpen:w,onClose:()=>y(!1),title:"Toplu Sınıf Ekleme",children:o.jsxs("form",{onSubmit:ue,children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Sınıf Listesi",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Me,{type:"button",onClick:Y,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:k.map((me,ae)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 p-3 bg-gray-50 rounded-lg",children:[o.jsx("input",{type:"text",placeholder:"Sınıf Adı",value:me.name,onChange:he=>ee(ae,"name",he.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),o.jsxs("select",{value:me.level,onChange:he=>ee(ae,"level",he.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Seviye"}),Cs.map(he=>o.jsx("option",{value:he,children:he},he))]}),o.jsx("button",{type:"button",onClick:()=>X(ae),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:k.length===1,children:"Sil"})]},ae))})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Sınıflar:"}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[o.jsx("p",{children:"• 5A - İlkokul"}),o.jsx("p",{children:"• 7B - Ortaokul"}),o.jsx("p",{children:"• Papatya - Anaokulu"})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[o.jsx(Me,{type:"button",onClick:()=>y(!1),variant:"secondary",children:"İptal"}),o.jsxs(Me,{type:"submit",variant:"primary",children:["Toplu Ekle (",k.filter(me=>me.name&&me.level).length," sınıf)"]})]})]})}),o.jsx(ga,{isOpen:f.isOpen,onClose:g,onConfirm:f.onConfirm,title:f.title,message:f.message,type:f.type,confirmText:f.confirmText,cancelText:f.cancelText,confirmVariant:f.confirmVariant})]})},HR=()=>{const{data:t,loading:e,add:r,update:n,remove:s}=xt("subjects"),{success:i,error:A,warning:a}=pi(),{confirmation:l,showConfirmation:c,hideConfirmation:h,confirmDelete:f}=pa(),[p,g]=ce.useState(!1),[B,E]=ce.useState(!1),[I,w]=ce.useState(null),[y,_]=ce.useState(""),[P,H]=ce.useState(""),[W,T]=ce.useState(!1),[b,k]=ce.useState([{name:"",branch:"",level:"",weeklyHours:""}]),[j,N]=ce.useState({name:"",branch:"",levels:[],weeklyHours:""}),Q=()=>[...new Set(t.map(se=>se.branch))].sort((se,ge)=>se.localeCompare(ge,"tr")),te=t.filter(G=>{const se=!y||G.level===y||G.levels&&G.levels.includes(y),ge=!P||G.branch===P;return se&&ge}).sort((G,se)=>G.name.localeCompare(se.name,"tr")),xe=()=>{if(t.length===0){a("⚠️ Silinecek Ders Yok","Sistemde silinecek ders bulunamadı");return}f(`${t.length} Ders`,async()=>{T(!0);try{let G=0;console.log("🗑️ Tüm dersler siliniyor:",{totalSubjects:t.length});for(const se of t)try{await s(se.id),G++,console.log(`✅ Ders silindi: ${se.name}`)}catch(ge){console.error(`❌ Ders silinemedi: ${se.name}`,ge)}G>0?(i("🗑️ Dersler Silindi",`${G} ders başarıyla silindi`),_(""),H("")):A("❌ Silme Hatası","Hiçbir ders silinemedi")}catch(G){console.error("❌ Toplu silme hatası:",G),A("❌ Silme Hatası","Dersler silinirken bir hata oluştu")}finally{T(!1)}})},ve=async G=>{if(G.preventDefault(),j.levels.length===0){A("❌ Eğitim Seviyesi Gerekli","En az bir eğitim seviyesi seçmelisiniz");return}const se={name:j.name,branch:j.branch,level:j.levels[0],levels:j.levels,weeklyHours:parseInt(j.weeklyHours)};try{I?(await n(I.id,se),i("✅ Ders Güncellendi",`${j.name} başarıyla güncellendi`)):(await r(se),i("✅ Ders Eklendi",`${j.name} başarıyla eklendi`)),V()}catch{A("❌ Hata","Ders kaydedilirken bir hata oluştu")}},ye=async G=>{G.preventDefault();for(const se of b)se.name&&se.branch&&se.level&&se.weeklyHours&&Cs.includes(se.level)&&!isNaN(parseInt(se.weeklyHours))&&await r({name:se.name,branch:se.branch,level:se.level,levels:[se.level],weeklyHours:parseInt(se.weeklyHours)});k([{name:"",branch:"",level:"",weeklyHours:""}]),E(!1),i("✅ Dersler Eklendi",`${b.filter(se=>se.name&&se.branch&&se.level&&se.weeklyHours).length} ders başarıyla eklendi`)},V=()=>{N({name:"",branch:"",levels:[],weeklyHours:""}),w(null),g(!1)},le=G=>{const se=G.levels||[G.level];N({name:G.name,branch:G.branch,levels:se,weeklyHours:G.weeklyHours.toString()}),w(G),g(!0)},Z=async G=>{const se=t.find(ge=>ge.id===G);se&&f(se.name,async()=>{await s(G),i("🗑️ Ders Silindi",`${se.name} başarıyla silindi`)})},ue=G=>{N(se=>se.levels.includes(G)?{...se,levels:se.levels.filter(_e=>_e!==G)}:{...se,levels:[...se.levels,G]})},L=()=>{k([...b,{name:"",branch:"",level:"",weeklyHours:""}])},M=G=>{b.length>1&&k(b.filter((se,ge)=>ge!==G))},$=(G,se,ge)=>{const _e=[...b];_e[G]={..._e[G],[se]:ge},k(_e)},Y=G=>G.levels&&G.levels.length>0?G.levels:[G.level],X=Cs.map(G=>({value:G,label:G})),ee=Q().map(G=>({value:G,label:G})),ie=[{value:"",label:"Tüm Seviyeler"},...X],oe=[{value:"",label:"Tüm Branşlar"},...ee];return e?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"mobile-loading",children:[o.jsx("div",{className:"mobile-loading-spinner"}),o.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):o.jsxs("div",{className:"container-mobile",children:[o.jsxs("div",{className:"header-mobile",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Dersler"}),o.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[t.length," ders kayıtlı (",te.length," gösteriliyor)"]})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[t.length>0&&o.jsx(Me,{onClick:xe,icon:Tn,variant:"danger",disabled:W,className:"w-full sm:w-auto",children:W?"Siliniyor...":`Tümünü Sil (${t.length})`}),o.jsx(Me,{onClick:()=>E(!0),icon:$r,variant:"secondary",className:"w-full sm:w-auto",children:"Toplu Ekle"}),o.jsx(Me,{onClick:()=>g(!0),icon:$r,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Ders"})]})]}),o.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:o.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[o.jsx(Vt,{label:"Seviye Filtresi",value:y,onChange:_,options:ie}),o.jsx(Vt,{label:"Branş Filtresi",value:P,onChange:H,options:oe})]})}),te.length===0?o.jsxs("div",{className:"text-center py-12 mobile-card",children:[o.jsx(Vi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.length===0?"Henüz ders eklenmemiş":"Filtrelere uygun ders bulunamadı"}),o.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"İlk dersinizi ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),o.jsx("div",{className:"button-group-mobile",children:t.length===0&&o.jsxs(o.Fragment,{children:[o.jsx(Me,{onClick:()=>E(!0),icon:$r,variant:"secondary",children:"Toplu Ekle"}),o.jsx(Me,{onClick:()=>g(!0),icon:$r,variant:"primary",children:"Ders Ekle"})]})})]}):o.jsx("div",{className:"mobile-card overflow-hidden",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ders Adı"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branş"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seviye"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Haftalık Saat"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(G=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-500",children:G.branch})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:Y(G).map((se,ge)=>o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${se==="Anaokulu"?"bg-green-100 text-green-800":se==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:se},ge))})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm text-gray-900",children:[G.weeklyHours," saat"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(Me,{onClick:()=>le(G),icon:ma,size:"sm",variant:"secondary",children:"Düzenle"}),o.jsx(Me,{onClick:()=>Z(G.id),icon:Tn,size:"sm",variant:"danger",children:"Sil"})]})})]},G.id))})]})})}),o.jsx(Ki,{isOpen:p,onClose:V,title:I?"Ders Düzenle":"Yeni Ders Ekle",children:o.jsxs("form",{onSubmit:ve,children:[o.jsx(qt,{label:"Ders Adı",value:j.name,onChange:G=>N({...j,name:G}),placeholder:"Örn: Matematik",required:!0}),o.jsx(qt,{label:"Branş",value:j.branch,onChange:G=>N({...j,branch:G}),placeholder:"Örn: Fen Bilimleri",required:!0}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Eğitim Seviyeleri ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Cs.map(G=>o.jsxs("label",{className:`
                    flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all
                    ${j.levels.includes(G)?"bg-indigo-50 border-indigo-500 text-indigo-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}
                  `,children:[o.jsx("input",{type:"checkbox",checked:j.levels.includes(G),onChange:()=>ue(G),className:"sr-only"}),o.jsx("span",{className:"text-sm font-medium",children:G}),j.levels.includes(G)&&o.jsx("span",{className:"ml-2 text-indigo-600",children:"✓"})]},G))}),j.levels.length>0&&o.jsxs("p",{className:"text-xs text-indigo-600 mt-2",children:["✨ Seçilen seviyeler: ",j.levels.join(", ")]})]}),o.jsx(qt,{label:"Haftalık Ders Saati",type:"number",value:j.weeklyHours,onChange:G=>N({...j,weeklyHours:G}),placeholder:"Örn: 4",required:!0}),o.jsxs("div",{className:"button-group-mobile mt-6",children:[o.jsx(Me,{type:"button",onClick:V,variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"submit",variant:"primary",disabled:j.levels.length===0,children:I?"Güncelle":"Kaydet"})]})]})}),o.jsx(Ki,{isOpen:B,onClose:()=>E(!1),title:"Toplu Ders Ekleme",children:o.jsxs("form",{onSubmit:ye,children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Ders Listesi",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Me,{type:"button",onClick:L,variant:"secondary",size:"sm",children:"+ Satır Ekle"})]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:b.map((G,se)=>o.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 bg-gray-50 rounded-lg",children:[o.jsx("input",{type:"text",placeholder:"Ders Adı",value:G.name,onChange:ge=>$(se,"name",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),o.jsx("input",{type:"text",placeholder:"Branş",value:G.branch,onChange:ge=>$(se,"branch",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0}),o.jsxs("select",{value:G.level,onChange:ge=>$(se,"level",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Seviye"}),Cs.map(ge=>o.jsx("option",{value:ge,children:ge},ge))]}),o.jsx("input",{type:"number",placeholder:"Saat",value:G.weeklyHours,onChange:ge=>$(se,"weeklyHours",ge.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1",max:"10",required:!0}),o.jsx("button",{type:"button",onClick:()=>M(se),className:"px-2 py-1 bg-red-100 text-red-600 rounded text-sm hover:bg-red-200 disabled:opacity-50",disabled:b.length===1,children:"Sil"})]},se))})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Örnek Dersler:"}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[o.jsx("p",{children:"• Matematik - Matematik - İlkokul - 5 saat"}),o.jsx("p",{children:"• Türkçe - Türkçe - Ortaokul - 6 saat"}),o.jsx("p",{children:"• Fen Bilimleri - Fen Bilimleri - İlkokul - 3 saat"})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[o.jsx(Me,{type:"button",onClick:()=>E(!1),variant:"secondary",children:"İptal"}),o.jsxs(Me,{type:"submit",variant:"primary",children:["Toplu Ekle (",b.filter(G=>G.name&&G.branch&&G.level&&G.weeklyHours).length," ders)"]})]})]})}),o.jsx(ga,{isOpen:l.isOpen,onClose:h,onConfirm:l.onConfirm,title:l.title,message:l.message,type:l.type,confirmText:l.confirmText,cancelText:l.cancelText,confirmVariant:l.confirmVariant})]})},MR=()=>{const[t,e]=ce.useState({isOpen:!1,title:"",message:""}),r=ce.useCallback((s,i)=>{console.log("🚨 ERROR MODAL AÇILIYOR:",{title:s,message:i}),e({isOpen:!0,title:s,message:i})},[]),n=ce.useCallback(()=>{console.log("✅ ERROR MODAL KAPATILIYOR"),e(s=>({...s,isOpen:!1}))},[]);return{errorModal:t,showError:r,hideError:n}},g5=(t,e,r,n,s,i,A,a)=>{var h;if(!e||!r||!n||!s)return{hasConflict:!0,message:"Geçersiz parametre"};const l=e,c=r;if(!Tt.includes(l)||!vn.includes(c))return{hasConflict:!0,message:"Geçersiz gün veya ders saati"};if(console.log("🔍 IMPROVED Çakışma kontrolü başlatıldı:",{mode:t,day:l,period:c,targetId:n,currentEntityId:s,schedulesCount:i.length}),t==="teacher"){const f=i.filter(p=>{var E;if(p.teacherId===s)return!1;const g=(E=p.schedule[l])==null?void 0:E[c],B=(g==null?void 0:g.classId)===n&&g.classId!=="fixed-period";return B&&console.log("⚠️ Teacher mode çakışma bulundu:",{conflictingTeacherId:p.teacherId,currentTeacherId:s,classId:n,slot:g}),B});if(f.length>0){const p=f[0],g=A.find(I=>I.id===p.teacherId),B=a.find(I=>I.id===n),E=`${(B==null?void 0:B.name)||"Sınıf"} ${l} günü ${c}. ders saatinde ${(g==null?void 0:g.name)||"başka bir öğretmen"} ile çakışıyor`;return console.log("❌ Teacher mode çakışma mesajı:",E),{hasConflict:!0,message:E}}}else{const f=i.find(p=>p.teacherId===n);if(console.log("🔍 Class mode - öğretmen programı kontrol ediliyor:",{teacherId:n,teacherScheduleFound:!!f,currentClassId:s}),f){const p=(h=f.schedule[l])==null?void 0:h[c];if(console.log("🔍 Mevcut slot kontrol ediliyor:",{day:l,period:c,existingSlot:p,existingClassId:p==null?void 0:p.classId,currentClassId:s,isFixedPeriod:(p==null?void 0:p.classId)==="fixed-period"}),p!=null&&p.classId&&p.classId!==s&&p.classId!=="fixed-period"){const g=A.find(I=>I.id===n),B=a.find(I=>I.id===p.classId),E=`${(g==null?void 0:g.name)||"Öğretmen"} ${l} günü ${c}. ders saatinde ${(B==null?void 0:B.name)||"başka bir sınıf"} ile çakışıyor`;return console.log("❌ Class mode çakışma mesajı:",E),{hasConflict:!0,message:E}}}}return console.log("✅ Çakışma bulunamadı"),{hasConflict:!1,message:""}},om=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(l=>l.entityType==="teacher"&&l.entityId===n&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="unavailable"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde müsait değil`)}),t==="class"&&s&&i.filter(l=>l.entityType==="class"&&l.entityId===s&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="unavailable"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde müsait değil`)}),A},lm=(t,e,r,n,s,i=[])=>{const A=[];return t==="teacher"&&n&&i.filter(l=>l.entityType==="teacher"&&l.entityId===n&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="restricted"&&A.push(`Öğretmen ${e} günü ${r}. ders saatinde kısıtlı`)}),t==="class"&&s&&i.filter(l=>l.entityType==="class"&&l.entityId===s&&l.day===e&&l.period===r).forEach(l=>{l.constraintType==="restricted"&&A.push(`Sınıf ${e} günü ${r}. ders saatinde kısıtlı`)}),A},VR=(t,e,r,n,s,i,A,a=[])=>{const l=[],c=[],h=[];return!t||!e||!r?(l.push("Geçersiz program verisi"),{isValid:!1,errors:l,warnings:c,constraintViolations:h}):(Tt.forEach(f=>{vn.forEach(p=>{var B;const g=(B=e[f])==null?void 0:B[p];if(!(!g||g.classId==="fixed-period")){if(t==="teacher"&&g.classId){const E=om("teacher",f,p,r,g.classId,a);h.push(...E);const I=om("class",f,p,r,g.classId,a);h.push(...I);const w=lm("teacher",f,p,r,g.classId,a);c.push(...w);const y=lm("class",f,p,r,g.classId,a);c.push(...y)}else if(t==="class"&&g.teacherId){const E=om("teacher",f,p,g.teacherId,r,a);h.push(...E);const I=om("class",f,p,g.teacherId,r,a);h.push(...I);const w=lm("teacher",f,p,g.teacherId,r,a);c.push(...w);const y=lm("class",f,p,g.teacherId,r,a);c.push(...y)}}})}),Tt.forEach(f=>{vn.forEach(p=>{var B;const g=(B=e[f])==null?void 0:B[p];!g||g.classId==="fixed-period"||t==="teacher"&&r&&a.filter(I=>I.entityType==="teacher"&&I.entityId===r&&I.day===f&&I.period===p).some(I=>I.constraintType!=="preferred")})}),{isValid:l.length===0&&h.length===0,errors:[...new Set(l)],warnings:[...new Set(c)],constraintViolations:[...new Set(h)]})},KR=({isOpen:t,onClose:e,onSave:r,subjects:n,classes:s,teachers:i=[],mode:A="teacher",currentSubjectId:a="",currentClassId:l="",currentTeacherId:c="",day:h,period:f})=>{const[p,g]=ce.useState(a),[B,E]=ce.useState(l),[I,w]=ce.useState(c);hi.useEffect(()=>{g(a),E(l),w(c)},[a,l,c,t]);const y=()=>{if(A==="teacher")if(B){const j=n[0];r(p||(j==null?void 0:j.id)||"",B)}else r("","");else if(I){const j=n[0];r(p||(j==null?void 0:j.id)||"",B,I)}else r("","","");e()},_=()=>{A==="teacher"?r("",""):r("","",""),e()},H=[...s].sort((j,N)=>j.name.localeCompare(N.name,"tr")).map(j=>({value:j.id,label:j.name})),T=[...i].sort((j,N)=>j.name.localeCompare(N.name,"tr")).map(j=>({value:j.id,label:`${j.name} (${j.branch})`})),k=[...n].sort((j,N)=>j.name.localeCompare(N.name,"tr")).map(j=>({value:j.id,label:j.name}));return t?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e}),o.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),o.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full",children:o.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[h," - ",f,". Ders"]}),o.jsx("button",{onClick:e,className:"rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.jsx(ua,{size:24})})]}),o.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${A==="teacher"?"bg-blue-500":"bg-emerald-500"}`}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:A==="teacher"?"Öğretmen Modu: Sınıf Seçin":"Sınıf Modu: Öğretmen Seçin"})]})}),o.jsxs("div",{className:"space-y-4",children:[n.length>1&&o.jsx(Vt,{label:"Ders Seçin",value:p,onChange:g,options:k}),A==="teacher"?o.jsx(Vt,{label:"Sınıf Seçin (A-Z Sıralı)",value:B,onChange:E,options:H,required:!0}):o.jsx(Vt,{label:"Öğretmen Seçin (A-Z Sıralı)",value:I,onChange:w,options:T,required:!0})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsx(Me,{onClick:_,variant:"danger",size:"sm",children:"Temizle"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Me,{onClick:e,variant:"secondary",children:"İptal"}),o.jsx(Me,{onClick:y,variant:"primary",disabled:A==="teacher"?!B:!I,children:"Kaydet"})]})]})]})})]})}):null},zR=({isOpen:t,onClose:e,title:r,message:n})=>t?o.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform animate-pulse",children:[o.jsx("div",{className:"bg-red-600 text-white p-6 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Mi,{className:"w-8 h-8 mr-3 animate-bounce"}),o.jsx("h3",{className:"text-xl font-bold",children:r})]}),o.jsx("button",{onClick:e,className:"text-white hover:text-red-200 transition-colors p-1 rounded-full hover:bg-red-700",children:o.jsx(ua,{size:24})})]})}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"text-gray-800 text-base leading-relaxed whitespace-pre-line",children:n})}),o.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl flex justify-end",children:o.jsx("button",{onClick:e,className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Tamam"})})]})}):null,GR=()=>{var gr,Qt,wn,Kt,er,ts,jt,Ts;Jl();const t=$o(),{data:e}=xt("teachers"),{data:r}=xt("classes"),{data:n}=xt("subjects"),{data:s,add:i,update:A}=xt("schedules");xt("constraints");const{success:a,error:l,warning:c}=pi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmUnsavedChanges:g}=pa(),{errorModal:B,showError:E,hideError:I}=MR(),[w,y]=ce.useState("teacher"),[_,P]=ce.useState(""),[H,W]=ce.useState(""),[T,b]=ce.useState(""),[k,j]=ce.useState(""),[N,Q]=ce.useState(!1),[F,te]=ce.useState({}),[xe,ve]=ce.useState({}),[ye,V]=ce.useState(!1),[le,Z]=ce.useState(!1),[ue,L]=ce.useState(!1),[M,$]=ce.useState(""),[Y,X]=ce.useState(""),[ee,ie]=ce.useState(!1);ce.useEffect(()=>{const Te=new URLSearchParams(t.search),We=Te.get("mode"),tt=Te.get("teacherId"),ct=Te.get("classId");We==="class"&&ct?(y("class"),W(ct)):tt&&(y("teacher"),P(tt))},[t]),ce.useEffect(()=>{if(w==="teacher"&&_){const Te=s.find(We=>We.teacherId===_);if(Te)te(Te.schedule),ve(JSON.parse(JSON.stringify(Te.schedule)));else{const We={};Tt.forEach(tt=>{We[tt]={}}),te(We),ve(JSON.parse(JSON.stringify(We)))}$(""),X(""),ie(!1)}else if(w==="class"&&H){const Te={};Tt.forEach(We=>{Te[We]={}}),s.forEach(We=>{Tt.forEach(tt=>{vn.forEach(ct=>{var it;const ze=(it=We.schedule[tt])==null?void 0:it[ct];(ze==null?void 0:ze.classId)===H&&(Te[tt][ct]||(Te[tt][ct]={teacherId:We.teacherId,classId:H,subjectId:ze.subjectId}))})})}),te(Te),ve(JSON.parse(JSON.stringify(Te)))}},[w,_,H,s]),ce.useEffect(()=>{const Te=JSON.stringify(F)!==JSON.stringify(xe);V(Te)},[F,xe]);const oe=e.find(Te=>Te.id===_),G=r.find(Te=>Te.id===H),se=Te=>Te?Te.levels||[Te.level]:[],ge=Te=>Te?Te.branches||[Te.branch]:[],_e=oe?se(oe).map(Te=>({value:Te,label:Te})):[],be=(()=>{if(!oe||!M)return[];const Te=oe.branch;return n.filter(We=>{const tt=We.branch===Te,ze=(We.levels||[We.level]).includes(M);return tt&&ze}).map(We=>({value:We.id,label:We.name}))})();ce.useEffect(()=>{ie(w==="teacher"&&_&&M&&Y?!0:w==="class"&&!!H)},[w,_,H,M,Y]);const ae=[...w!=="teacher"||!M||!Y||!n.find(We=>We.id===Y)?r:r.filter(We=>(We.levels||[We.level]).includes(M))].sort((Te,We)=>Te.name.localeCompare(We.name,"tr")),he=(Te,We)=>{var ct,ze;((ze=(ct=F[Te])==null?void 0:ct[We])==null?void 0:ze.classId)!=="fixed-period"&&(b(Te),j(We),Q(!0))},Ie=(Te,We,tt)=>{if(!T||!k)return;let ct=!1,ze="";if(w==="teacher"&&We){const Ut=g5("teacher",T,k,We,_,s,e,r);ct=Ut.hasConflict,ze=Ut.message}else if(w==="class"&&tt){const Ut=g5("class",T,k,tt,H,s,e,r);ct=Ut.hasConflict,ze=Ut.message}if(ct){E("Çakışma Tespit Edildi",ze);return}const it={...F};it[T]||(it[T]={}),w==="teacher"&&We?it[T][k]=We?{classId:We,subjectId:Y||Te}:null:w==="class"&&tt&&(it[T][k]=tt?{teacherId:tt,subjectId:Te,classId:H}:null),te(it),Q(!1)},Ke=async()=>{const Te=VR(w,F,w==="teacher"?_:H);if(!Te.isValid){E("Program Kaydedilemedi",`Aşağıdaki sorunları düzeltin:

${Te.errors.join(`
`)}`);return}if(Te.warnings.length>0){const We=`Aşağıdaki uyarılar mevcut:

${Te.warnings.join(`
`)}

Yine de kaydetmek istiyor musunuz?`;f({title:"Uyarılar Mevcut",message:We,type:"warning",confirmText:"Yine de Kaydet",cancelText:"İptal",confirmVariant:"primary"},Ge);return}await Ge()},Ge=async()=>{Z(!0);try{if(w==="teacher"){const Te=s.find(tt=>tt.teacherId===_);Te?await A(Te.id,{schedule:F,updatedAt:new Date}):await i({teacherId:_,schedule:F,updatedAt:new Date});const We=e.find(tt=>tt.id===_);a("✅ Program Kaydedildi",`${(We==null?void 0:We.name)||"Öğretmen"} programı başarıyla kaydedildi`)}else{const Te={};Tt.forEach(tt=>{vn.forEach(ct=>{var it;const ze=(it=F[tt])==null?void 0:it[ct];ze!=null&&ze.teacherId&&(Te[ze.teacherId]||(Te[ze.teacherId]={}),Te[ze.teacherId][tt]||(Te[ze.teacherId][tt]={}),Te[ze.teacherId][tt][ct]={classId:H,subjectId:ze.subjectId})})});for(const tt of Object.keys(Te)){const ct=s.find(ze=>ze.teacherId===tt);if(ct){const ze={...ct.schedule};Object.entries(Te[tt]).forEach(([it,Ut])=>{ze[it]||(ze[it]={}),Object.entries(Ut).forEach(([lr,_r])=>{ze[it][lr]=_r})}),await A(ct.id,{schedule:ze,updatedAt:new Date})}else{const ze={};Tt.forEach(it=>{ze[it]={}}),Object.entries(Te[tt]).forEach(([it,Ut])=>{Object.entries(Ut).forEach(([lr,_r])=>{ze[it][lr]=_r})}),await i({teacherId:tt,schedule:ze,updatedAt:new Date})}}const We=r.find(tt=>tt.id===H);a("✅ Program Kaydedildi",`${(We==null?void 0:We.name)||"Sınıf"} programı başarıyla kaydedildi`)}ve(JSON.parse(JSON.stringify(F))),V(!1)}catch{l("❌ Kayıt Hatası","Program kaydedilirken bir hata oluştu")}finally{Z(!1)}},et=()=>{ye?f({title:"Değişiklikleri Sıfırla",message:"Kaydedilmemiş değişiklikler var. Sıfırlamak istediğinizden emin misiniz?",type:"warning",confirmText:"Sıfırla",cancelText:"İptal",confirmVariant:"danger"},dt):dt()},dt=()=>{L(!0),te(JSON.parse(JSON.stringify(xe))),V(!1),L(!1),a("🔄 Program Sıfırlandı","Tüm değişiklikler sıfırlandı")},Bt=Te=>{ye?f({title:"Kaydedilmemiş Değişiklikler",message:"Kaydedilmemiş değişiklikler var. Devam etmek istediğinizden emin misiniz?",type:"warning",confirmText:"Devam Et",cancelText:"İptal",confirmVariant:"danger"},()=>ut(Te)):ut(Te)},ut=Te=>{y(Te),P(""),W(""),te({}),ve({}),V(!1),$(""),X(""),ie(!1)},pt=(Te,We)=>{var ct;const tt=(ct=F[Te])==null?void 0:ct[We];if(w==="teacher"){if(!(tt!=null&&tt.classId)||tt.classId==="fixed-period")return null;const ze=r.find(Ut=>Ut.id===tt.classId),it=n.find(Ut=>Ut.id===tt.subjectId);return{classItem:ze,subject:it}}else{if(!(tt!=null&&tt.teacherId))return null;const ze=e.find(Ut=>Ut.id===tt.teacherId),it=n.find(Ut=>Ut.id===tt.subjectId);return{teacher:ze,subject:it}}},Lt=(Te,We,tt)=>{var ze;const ct=(ze=F[Te])==null?void 0:ze[We];return!ct||ct.classId!=="fixed-period"?null:ct.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:tt==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:ct.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:"09:15-09:35",color:"bg-orange-100 border-orange-300 text-orange-800"}:ct.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:tt==="İlkokul"||tt==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:ct.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},ft=Te=>{const We=w==="teacher"?M:G==null?void 0:G.level,tt=i0(Te,We);return tt?A0(tt.startTime,tt.endTime):`${Te}. Ders`},Ft=e.map(Te=>({value:Te.id,label:`${Te.name} (${Te.branch} - ${Te.level})`})),Je=ae.map(Te=>({value:Te.id,label:`${Te.name} (${Te.level})`}));return o.jsxs("div",{className:"container-mobile",children:[o.jsxs("div",{className:"header-mobile",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Xn,{className:"w-8 h-8 text-purple-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Program Oluşturucu"}),o.jsx("p",{className:"text-responsive-sm text-gray-600",children:w==="teacher"?"Öğretmen bazlı program oluşturun":"Sınıf bazlı program oluşturun"})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[o.jsx(Me,{onClick:()=>Bt("teacher"),variant:w==="teacher"?"primary":"secondary",icon:Wr,className:"w-full sm:w-auto",children:"Öğretmen Modu"}),o.jsx(Me,{onClick:()=>Bt("class"),variant:w==="class"?"primary":"secondary",icon:Fs,className:"w-full sm:w-auto",children:"Sınıf Modu"})]})]}),o.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:w==="teacher"?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Vt,{label:"Öğretmen Seçin",value:_,onChange:Te=>{ye?g(()=>{P(Te),$(""),X(""),ie(!1)}):(P(Te),$(""),X(""),ie(!1))},options:Ft,required:!0}),oe&&o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(Wr,{className:"w-5 h-5 text-blue-600 mr-2"}),o.jsx("h3",{className:"font-medium text-blue-800",children:"Öğretmen Bilgileri"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Ad Soyad:"})," ",oe.name]}),o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Branş:"})," ",ge(oe).join(", ")]})]}),o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Seviye:"})," ",se(oe).join(", ")]})})]})]}),oe&&o.jsxs("div",{className:"space-y-4 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(_N,{className:"w-5 h-5 text-purple-600 mr-2"}),o.jsx("h3",{className:"font-medium text-purple-800",children:"Program Filtresi"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Vt,{label:"Eğitim Seviyesi Seçin",value:M,onChange:$,options:_e,required:!0}),M&&o.jsx(Vt,{label:"Ders Seçin",value:Y,onChange:X,options:be,required:!0})]}),!ee&&M&&Y&&o.jsx("div",{className:"flex justify-center",children:o.jsx(Me,{onClick:()=>ie(!0),variant:"primary",icon:Xn,children:"Program Tablosunu Göster"})})]})]}):o.jsx(Vt,{label:"Sınıf Seçin",value:H,onChange:Te=>{ye?g(()=>{W(Te)}):W(Te)},options:Je,required:!0})}),(w==="teacher"&&ee||w==="class"&&H)&&o.jsxs("div",{className:"mobile-card overflow-hidden mb-6",children:[o.jsx("div",{className:"p-4 bg-gray-50 border-b",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:w==="teacher"?`${(oe==null?void 0:oe.name)||"Öğretmen"} - ${M} - ${((gr=n.find(Te=>Te.id===Y))==null?void 0:gr.name)||"Ders"} Programı`:`${(G==null?void 0:G.name)||"Sınıf"} Programı`}),o.jsx("p",{className:"text-sm text-gray-600",children:w==="teacher"?`${M} seviyesindeki ${((Qt=n.find(Te=>Te.id===Y))==null?void 0:Qt.name)||"ders"} için program`:`${(G==null?void 0:G.level)||""} seviyesi`})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Me,{onClick:et,icon:SN,variant:"secondary",disabled:!ye||ue,children:ue?"Sıfırlanıyor...":"Sıfırla"}),o.jsx(Me,{onClick:Ke,icon:sg,variant:"primary",disabled:!ye||le,children:le?"Kaydediliyor...":"Kaydet"})]})]})}),ye&&o.jsx("div",{className:"p-3 bg-yellow-50 border-b border-yellow-200",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Mi,{className:"w-5 h-5 text-yellow-600 mr-2"}),o.jsx("p",{className:"text-sm text-yellow-700",children:"Kaydedilmemiş değişiklikler var"})]})}),o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"min-w-full schedule-table",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Saat"}),Tt.map(Te=>o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:Te},Te))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[o.jsxs("tr",{className:"bg-blue-50",children:[o.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-blue-100 text-sm",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{children:"Hazırlık"}),o.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[o.jsx(dA,{className:"w-3 h-3 mr-1"}),w==="teacher"&&M==="Ortaokul"?"08:30-08:40":"08:30-08:50"]})]})}),Tt.map(Te=>{const We=Lt(Te,"prep",w==="teacher"?M:G==null?void 0:G.level);return o.jsx("td",{className:"px-2 py-2",children:o.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:o.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(We==null?void 0:We.title)||"Hazırlık"})})},`${Te}-prep`)})]}),vn.map(Te=>{const We=((w==="teacher"?M:G==null?void 0:G.level)==="İlkokul"||(w==="teacher"?M:G==null?void 0:G.level)==="Anaokulu")&&Te==="5"||(w==="teacher"?M:G==null?void 0:G.level)==="Ortaokul"&&Te==="6",tt=(w==="teacher"?M:G==null?void 0:G.level)==="Ortaokul"&&Te==="1",ct=Te==="8",ze=ft(Te);return o.jsxs(hi.Fragment,{children:[o.jsxs("tr",{className:We?"bg-green-50":"",children:[o.jsx("td",{className:`px-3 py-2 font-medium text-gray-900 text-sm ${We?"bg-green-100":"bg-gray-50"}`,children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{children:We?"Yemek":`${Te}.`}),o.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[o.jsx(dA,{className:"w-3 h-3 mr-1"}),We?(w==="teacher"?M:G==null?void 0:G.level)==="İlkokul"||(w==="teacher"?M:G==null?void 0:G.level)==="Anaokulu"?"11:50-12:25":"12:30-13:05":ze]})]})}),Tt.map(it=>{var lr,_r,Ln,nt;if(We)return Lt(it,Te,w==="teacher"?M:G==null?void 0:G.level),o.jsx("td",{className:"px-2 py-2",children:o.jsx("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:o.jsx("div",{className:"font-medium text-green-900 text-sm",children:"Yemek"})})},`${it}-${Te}`);const Ut=pt(it,Te);return o.jsx("td",{className:"px-2 py-2",onClick:()=>he(it,Te),children:Ut?o.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200 hover:bg-blue-100 cursor-pointer transition-colors",children:w==="teacher"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(lr=Ut.classItem)==null?void 0:lr.name}),o.jsx("div",{className:"text-xs text-blue-700 mt-1",children:((_r=Ut.subject)==null?void 0:_r.name)||(oe==null?void 0:oe.name)})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(Ln=Ut.teacher)==null?void 0:Ln.name}),o.jsx("div",{className:"text-xs text-blue-700 mt-1",children:((nt=Ut.subject)==null?void 0:nt.name)||""})]})}):o.jsx("div",{className:"text-center p-2 bg-gray-50 rounded border border-gray-200 hover:bg-gray-100 cursor-pointer transition-colors",children:o.jsx("div",{className:"text-gray-400 text-xs",children:"Boş"})})},`${it}-${Te}`)})]}),tt&&o.jsxs("tr",{className:"bg-yellow-50",children:[o.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{children:"Kahvaltı"}),o.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[o.jsx(dA,{className:"w-3 h-3 mr-1"}),"09:15-09:35"]})]})}),Tt.map(it=>{const Ut=Lt(it,"breakfast",w==="teacher"?M:G==null?void 0:G.level);return o.jsx("td",{className:"px-2 py-2",children:o.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:o.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:(Ut==null?void 0:Ut.title)||"Kahvaltı"})})},`${it}-breakfast`)})]}),ct&&o.jsxs("tr",{className:"bg-yellow-50",children:[o.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{children:"İkindi Kahvaltısı"}),o.jsxs("span",{className:"text-xs text-gray-600 flex items-center mt-1",children:[o.jsx(dA,{className:"w-3 h-3 mr-1"}),"14:35-14:45"]})]})}),Tt.map(it=>o.jsx("td",{className:"px-2 py-2",children:o.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:o.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${it}-afternoon-breakfast`))]})]},Te)})]})]})})]}),w==="teacher"&&_&&!ee&&o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx(Xn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Eğitim Seviyesi ve Ders Seçin"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Program tablosunu görmek için yukarıdan eğitim seviyesi ve ders seçin"})]}),(w==="teacher"&&!_||w==="class"&&!H)&&o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx(Xn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:w==="teacher"?"Öğretmen Seçin":"Sınıf Seçin"}),o.jsx("p",{className:"text-gray-500 mb-4",children:w==="teacher"?"Program oluşturmak için bir öğretmen seçin":"Program oluşturmak için bir sınıf seçin"})]}),o.jsx(KR,{isOpen:N,onClose:()=>Q(!1),onSave:Ie,subjects:n.filter(Te=>w==="teacher"&&M&&Y?Te.id===Y:!0),classes:ae,teachers:e,mode:w,currentSubjectId:((Kt=(wn=F[T])==null?void 0:wn[k])==null?void 0:Kt.subjectId)||Y||"",currentClassId:w==="teacher"?((ts=(er=F[T])==null?void 0:er[k])==null?void 0:ts.classId)||"":H,currentTeacherId:w==="class"?((Ts=(jt=F[T])==null?void 0:jt[k])==null?void 0:Ts.teacherId)||"":_,day:T,period:k}),o.jsx(ga,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant}),o.jsx(zR,{isOpen:B.isOpen,onClose:I,title:B.title,message:B.message})]})},qR=({data:t,onUpdate:e})=>{var l,c;const n=(()=>{const h=[];for(let f=2024;f<=2030;f++){const p=f+1,g=`${f}/${p}`,B=`${f}-09-01`,E=`${p}-08-31`;h.push({value:g,label:g,startDate:B,endDate:E})}return h})(),s=[{value:"",label:"Seçiniz (İsteğe bağlı)"},{value:"Güz",label:"Güz Dönemi"},{value:"Bahar",label:"Bahar Dönemi"},{value:"Yaz",label:"Yaz Dönemi"}],i=[{value:"6",label:"6 Ders Saati"},{value:"7",label:"7 Ders Saati"},{value:"8",label:"8 Ders Saati"},{value:"9",label:"9 Ders Saati"},{value:"10",label:"10 Ders Saati"}],A=[{value:"5",label:"5 Gün (Pazartesi-Cuma)"},{value:"6",label:"6 Gün (Pazartesi-Cumartesi)"}],a=(h,f)=>{const p={...t,[h]:f};if(h==="academicYear"){const g=n.find(B=>B.value===f);g&&(p.startDate=g.startDate,p.endDate=g.endDate)}e(p)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Xn,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Program Temel Bilgileri"}),o.jsx("p",{className:"text-gray-600",children:"Oluşturacağınız ders programının temel bilgilerini girin"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o.jsx(qt,{label:"Program Başlığı",value:t.name||"",onChange:h=>a("name",h),placeholder:"Örn: 2024-2025 Güz Dönemi Ders Programı",required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Vt,{label:"Eğitim Dönemi",value:t.academicYear||"2024/2025",onChange:h=>a("academicYear",h),options:n.map(h=>({value:h.value,label:h.label})),required:!0}),o.jsx(Vt,{label:"Dönem",value:t.semester||"",onChange:h=>a("semester",h),options:s})]}),o.jsx(qt,{label:"Kurum Yetkilisi Ünvanı",value:t.institutionTitle||"",onChange:h=>a("institutionTitle",h),placeholder:"Örn: Okul Müdürü, Müdür Yardımcısı",required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Vt,{label:"Günlük Ders Saati",value:((l=t.dailyHours)==null?void 0:l.toString())||"8",onChange:h=>a("dailyHours",parseInt(h)),options:i,required:!0}),o.jsx(Vt,{label:"Haftalık Gün Sayısı",value:((c=t.weekDays)==null?void 0:c.toString())||"5",onChange:h=>a("weekDays",parseInt(h)),options:A,required:!0})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"weekendClasses",checked:t.weekendClasses||!1,onChange:h=>a("weekendClasses",h.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"weekendClasses",className:"text-sm font-medium text-gray-700",children:"Hafta sonu dersleri var"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"Başlangıç Tarihi",type:"date",value:t.startDate||"",onChange:h=>a("startDate",h),required:!0}),o.jsx(qt,{label:"Bitiş Tarihi",type:"date",value:t.endDate||"",onChange:h=>a("endDate",h),required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Açıklama ",o.jsx("span",{className:"text-gray-500",children:"(İsteğe bağlı)"})]}),o.jsx("textarea",{value:t.description||"",onChange:h=>a("description",h.target.value),placeholder:"Program hakkında ek bilgiler...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Fl,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("h4",{className:"font-medium mb-1",children:"💡 Eğitim Dönemleri:"}),o.jsxs("ul",{className:"space-y-1 text-xs",children:[o.jsxs("li",{children:["• ",o.jsx("strong",{children:"2024/2025:"})," 1 Eylül 2024 - 31 Ağustos 2025"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"2025/2026:"})," 1 Eylül 2025 - 31 Ağustos 2026"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"2026/2027:"})," 1 Eylül 2026 - 31 Ağustos 2027"]}),o.jsx("li",{children:"• Dönem seçildiğinde tarihler otomatik güncellenir"})]})]})]})}),t.name&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[o.jsx(IN,{className:"w-4 h-4 mr-2 text-blue-600"}),"Program Önizlemesi:"]}),o.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Program:"})," ",t.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Dönem:"})," ",t.academicYear," ",t.semester?`${t.semester} Dönemi`:""]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Yetkilisi:"})," ",t.institutionTitle||"Belirtilmemiş"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Ders Saati:"})," Günde ",t.dailyHours||8," saat, Haftada ",t.weekDays||5," gün"]}),t.weekendClasses&&o.jsxs("p",{children:[o.jsx("strong",{children:"Hafta Sonu:"})," Hafta sonu dersleri dahil"]}),t.startDate&&t.endDate&&o.jsxs("p",{children:[o.jsx("strong",{children:"Süre:"})," ",new Date(t.startDate).toLocaleDateString("tr-TR")," - ",new Date(t.endDate).toLocaleDateString("tr-TR")]}),t.description&&o.jsxs("p",{children:[o.jsx("strong",{children:"Açıklama:"})," ",t.description]})]})]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(dA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-green-700",children:[o.jsx("h4",{className:"font-medium mb-1",children:"⏰ Ders Saatleri:"}),o.jsxs("ul",{className:"space-y-1 text-xs",children:[o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Günlük Ders Saati:"})," Bir günde kaç ders saati olacağını belirler"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Haftalık Gün Sayısı:"})," Haftada kaç gün ders olacağını belirler"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Hafta Sonu Dersleri:"})," Cumartesi ve/veya Pazar günleri ders olup olmayacağını belirler"]}),o.jsx("li",{children:"• Bu bilgiler program oluşturma algoritmasında kullanılacaktır"})]})]})]})})]})]})},WR=({data:t,onUpdate:e})=>{const{data:r,add:n,update:s,remove:i}=xt("subjects"),[A,a]=ce.useState(""),[l,c]=ce.useState(!1);ce.useState(null),ce.useState({name:"",branch:"",level:"",weeklyHours:"4"});const h=r.filter(y=>!A||y.level===A),f=r.filter(y=>t.selectedSubjects.includes(y.id)),p=y=>{const _=t.selectedSubjects.includes(y),P=r.find(b=>b.id===y);let H=t.selectedSubjects,W={...t.subjectHours},T={...t.subjectPriorities};_?(H=t.selectedSubjects.filter(b=>b!==y),delete W[y],delete T[y]):(H=[...t.selectedSubjects,y],W[y]=(P==null?void 0:P.weeklyHours)||4,T[y]="medium"),e({selectedSubjects:H,subjectHours:W,subjectPriorities:T})},g=(y,_)=>{const P=Math.max(1,_);e({...t,subjectHours:{...t.subjectHours,[y]:P}})},B=(y,_)=>{e({...t,subjectPriorities:{...t.subjectPriorities,[y]:_}})},E=()=>f.reduce((y,_)=>y+(t.subjectHours[_.id]||_.weeklyHours),0),I=y=>{},w=async y=>{};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Vi,{className:"w-8 h-8 text-indigo-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ders Seçimi ve Konfigürasyonu"}),o.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek dersleri seçin ve haftalık saat sayılarını belirleyin"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[o.jsx("div",{className:"md:w-1/2",children:o.jsx(Vt,{label:"Seviye Filtresi",value:A,onChange:a,options:[{value:"",label:"Tüm Seviyeler"},...Cs.map(y=>({value:y,label:y}))]})}),o.jsx(Me,{onClick:()=>c(!0),icon:$r,variant:"primary",children:"Yeni Ders Ekle"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Mevcut Dersler (",h.length,")"]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:o.jsx("div",{className:"space-y-2",children:h.map(y=>o.jsx("div",{className:`p-3 rounded-lg border-2 transition-all ${t.selectedSubjects.includes(y.id)?"bg-blue-50 border-blue-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:y.name}),o.jsxs("p",{className:"text-xs text-gray-600",children:[y.branch," • ",y.level," • ",y.weeklyHours," saat/hafta"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>I(),className:"p-1 text-gray-400 hover:text-blue-600",children:o.jsx(ma,{size:16})}),o.jsx("button",{onClick:()=>w(y.id),className:"p-1 text-gray-400 hover:text-red-600",children:o.jsx(Tn,{size:16})}),o.jsx("button",{onClick:()=>p(y.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${t.selectedSubjects.includes(y.id)?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:t.selectedSubjects.includes(y.id)?o.jsx(xy,{className:"w-3 h-3 text-white"}):o.jsx($r,{className:"w-3 h-3 text-gray-500"})})]})]})},y.id))})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:["Seçilen Dersler (",f.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam: ",o.jsxs("span",{className:"font-bold text-blue-600",children:[E()," saat/hafta"]})]})]}),f.length===0?o.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[o.jsx(Vi,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"Henüz ders seçilmedi"})]}):o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 max-h-96 overflow-y-auto",children:o.jsx("div",{className:"space-y-3",children:f.map(y=>o.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:y.name}),o.jsxs("p",{className:"text-xs text-gray-600",children:[y.branch," • ",y.level]})]}),o.jsx("button",{onClick:()=>p(y.id),className:"text-red-500 hover:text-red-700 p-1",children:o.jsx(xy,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Haftalık Saat"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>g(y.id,(t.subjectHours[y.id]||0)-1),className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"-"}),o.jsx("input",{type:"number",min:"1",value:t.subjectHours[y.id]||y.weeklyHours,onChange:_=>g(y.id,parseInt(_.target.value)||1),className:"w-12 text-center text-sm font-medium border border-gray-300 rounded py-1"}),o.jsx("button",{type:"button",onClick:()=>g(y.id,(t.subjectHours[y.id]||0)+1),className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"+"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Öncelik"}),o.jsxs("select",{value:t.subjectPriorities[y.id]||"medium",onChange:_=>B(y.id,_.target.value),className:"w-full text-xs p-1 border border-gray-300 rounded",children:[o.jsx("option",{value:"high",children:"Yüksek Öncelik"}),o.jsx("option",{value:"medium",children:"Orta Öncelik"}),o.jsx("option",{value:"low",children:"Düşük Öncelik"})]})]})]})]},y.id))})})]})]})]})},$R=({data:t,onUpdate:e,classes:r})=>{const{add:n,update:s,remove:i}=xt("classes"),{data:A}=xt("classrooms"),{data:a}=xt("teachers"),[l,c]=ce.useState(""),[h,f]=ce.useState(!1),[p,g]=ce.useState(null),[B,E]=ce.useState({name:"",shortName:"",classTeacherId:"",teacherIds:[],color:"",mainClassroom:"",level:""}),I=t.classes||{selectedClasses:[],classCapacities:{},classPreferences:{}},w=Z=>Z?Z.substring(0,2).toUpperCase():"",y=Z=>({Anaokulu:"#10B981",İlkokul:"#3B82F6",Ortaokul:"#8B5CF6"})[Z]||"#6B7280",_=Z=>{const ue=I.selectedClasses.includes(Z);if(r.find(L=>L.id===Z),ue){const L=I.selectedClasses.filter(Y=>Y!==Z),M={...I.classCapacities},$={...I.classPreferences};delete M[Z],delete $[Z],e({classes:{...I,selectedClasses:L,classCapacities:M,classPreferences:$}})}else{const L=[...I.selectedClasses,Z];e({classes:{...I,selectedClasses:L,classCapacities:{...I.classCapacities,[Z]:30}}})}},P=(Z,ue)=>{e({classes:{...I,classCapacities:{...I.classCapacities,[Z]:Math.max(1,ue)}}})},H=()=>{const Z=l?r.filter(L=>L.level===l):r,ue={...I.classCapacities};Z.forEach(L=>{ue[L.id]||(ue[L.id]=30)}),e({classes:{...I,selectedClasses:Z.map(L=>L.id),classCapacities:ue}})},W=()=>{const Z=l?r.filter($=>$.level===l):r,ue=I.selectedClasses.filter($=>!Z.some(Y=>Y.id===$)),L={...I.classCapacities},M={...I.classPreferences};Z.forEach($=>{delete L[$.id],delete M[$.id]}),e({classes:{...I,selectedClasses:ue,classCapacities:L,classPreferences:M}})},T=Z=>{E(ue=>{if(ue.teacherIds.includes(Z)){const M=ue.teacherIds.filter(Y=>Y!==Z),$=ue.classTeacherId===Z?"":ue.classTeacherId;return{...ue,teacherIds:M,classTeacherId:$}}else return{...ue,teacherIds:[...ue.teacherIds,Z]}})},b=Z=>{E(ue=>{const L=ue.teacherIds.includes(Z)?ue.teacherIds:[...ue.teacherIds,Z];return{...ue,teacherIds:L,classTeacherId:Z}})},k=()=>B.level?a.filter(Z=>Z.level===B.level).sort((Z,ue)=>Z.name.localeCompare(ue.name,"tr")):[],j=async Z=>{Z.preventDefault();try{const ue={name:B.name,level:B.level,teacherIds:B.teacherIds,classTeacherId:B.classTeacherId,shortName:B.shortName||w(B.name),color:B.color||y(B.level)};p?await s(p.id,ue):await n(ue),N()}catch(ue){console.error("Error saving class:",ue)}},N=()=>{E({name:"",shortName:"",classTeacherId:"",teacherIds:[],color:"",mainClassroom:"",level:""}),g(null),f(!1)},Q=Z=>{E({name:Z.name,shortName:Z.shortName||w(Z.name),classTeacherId:Z.classTeacherId||"",teacherIds:Z.teacherIds||[],color:Z.color||y(Z.level),mainClassroom:"",level:Z.level}),g(Z),f(!0)},F=async Z=>{try{await i(Z),I.selectedClasses.includes(Z)&&_(Z)}catch(ue){console.error("Error deleting class:",ue)}};hi.useEffect(()=>{B.name&&!p&&E(Z=>({...Z,shortName:w(Z.name)}))},[B.name,p]),hi.useEffect(()=>{B.level&&!p&&E(Z=>({...Z,color:y(Z.level)}))},[B.level,p]);const te=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],xe=[{value:"",label:"Seçiniz..."},...A.map(Z=>({value:Z.id,label:Z.name}))];[...a.map(Z=>({value:Z.id,label:`${Z.name} (${Z.branch})`}))];const ve=Z=>{if(!Z)return"";const ue=a.find(L=>L.id===Z);return ue?ue.name:""},ye=Z=>!Z||Z.length===0?"":a.filter(L=>Z.includes(L.id)).map(L=>L.name).join(", "),le=(l?r.filter(Z=>Z.level===l):r).reduce((Z,ue)=>(Z[ue.level]||(Z[ue.level]=[]),Z[ue.level].push(ue),Z),{});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Fs,{className:"w-12 h-12 text-emerald-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sınıf Seçimi"}),o.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek sınıfları seçin ve kapasitelerini belirleyin"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[o.jsx("div",{className:"md:w-1/2",children:o.jsx(Vt,{label:"Seviye Filtresi",value:l,onChange:c,options:te})}),o.jsx(Me,{onClick:()=>f(!0),icon:$r,variant:"primary",children:"Yeni Sınıf Ekle"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-blue-900",children:"Seçilen Sınıflar"}),o.jsxs("p",{className:"text-sm text-blue-700",children:[I.selectedClasses.length," / ",r.length," sınıf seçildi"]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Me,{onClick:H,variant:"secondary",size:"sm",children:l?`${l} Tümünü Seç`:"Tümünü Seç"}),o.jsx(Me,{onClick:W,variant:"secondary",size:"sm",children:l?`${l} Tümünü Kaldır`:"Tümünü Kaldır"})]})]})}),o.jsx("div",{className:"space-y-6",children:Object.entries(le).map(([Z,ue])=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(Wr,{className:"w-5 h-5 mr-2 text-emerald-600"}),Z,o.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",ue.filter(L=>I.selectedClasses.includes(L.id)).length,"/",ue.length,")"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ue.map(L=>{var Y;const M=I.selectedClasses.includes(L.id),$=I.classCapacities[L.id]||30;return ve(L.classTeacherId),ye(L.teacherIds),o.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 ${M?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 hover:border-emerald-300 hover:bg-emerald-50"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{onClick:()=>_(L.id),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center cursor-pointer ${M?"border-emerald-500 bg-emerald-500":"border-gray-300"}`,children:M&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:L.name}),o.jsx("p",{className:"text-xs text-gray-600",children:L.level})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>Q(L),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Sınıfı düzenle",children:o.jsx(ma,{size:16})}),o.jsx("button",{onClick:()=>F(L.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Sınıfı sil",children:o.jsx(Tn,{size:16})}),M&&o.jsx("button",{onClick:()=>_(L.id),className:"text-red-500 hover:text-red-700 p-1",title:"Sınıfı kaldır",children:o.jsx(xy,{className:"w-4 h-4"})})]})]}),L.teacherIds&&L.teacherIds.length>0&&o.jsx("div",{className:"mt-2 mb-2 p-2 bg-blue-50 rounded border border-blue-100",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wr,{className:"w-3 h-3 text-blue-600 mr-1"}),o.jsxs("p",{className:"text-xs text-blue-700",children:[L.teacherIds.length," öğretmen atanmış",L.classTeacherId&&o.jsxs("span",{className:"ml-1 font-medium",children:["(Sınıf öğretmeni: ",(Y=a.find(X=>X.id===L.classTeacherId))==null?void 0:Y.name,")"]})]})]})}),M&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sınıf Kapasitesi"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:X=>{X.stopPropagation(),P(L.id,$-1)},className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"-"}),o.jsx("span",{className:"w-8 text-center text-sm font-medium",children:$}),o.jsx("button",{onClick:X=>{X.stopPropagation(),P(L.id,$+1)},className:"w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300",children:"+"}),o.jsx("span",{className:"text-xs text-gray-500",children:"öğrenci"})]})]})]},L.id)})})]},Z))}),r.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Fs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Ekleyin"}),o.jsx("p",{className:"text-gray-500",children:"Henüz sınıf eklenmemiş. Yeni sınıf ekleyerek başlayın."}),o.jsx(Me,{onClick:()=>f(!0),icon:$r,variant:"primary",className:"mt-4",children:"Yeni Sınıf Ekle"})]}),I.selectedClasses.length===0&&r.length>0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Fs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Seçin"}),o.jsx("p",{className:"text-gray-500",children:"Programa dahil edilecek en az bir sınıf seçmelisiniz"})]}),I.selectedClasses.length>0&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Mi,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-yellow-800",children:"Sınıf Kapasitesi Önerileri"}),o.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[o.jsx("li",{children:"• Anaokulu: 15-20 öğrenci"}),o.jsx("li",{children:"• İlkokul: 20-30 öğrenci"}),o.jsx("li",{children:"• Ortaokul: 25-35 öğrenci"}),o.jsx("li",{children:"• Kapasite bilgisi derslik atamalarında kullanılacaktır"})]})]})]})}),o.jsx(Ki,{isOpen:h,onClose:N,title:p?"Sınıf Düzenle":"Yeni Sınıf Ekle",size:"lg",children:o.jsxs("form",{onSubmit:j,children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sınıf Bilgileri"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"İsim",value:B.name,onChange:Z=>E({...B,name:Z}),placeholder:"Örn: 5A, 7B",required:!0}),o.jsx(qt,{label:"Kısaltma",value:B.shortName,onChange:Z=>E({...B,shortName:Z}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),o.jsx(Vt,{label:"Seviye",value:B.level,onChange:Z=>E({...B,level:Z}),options:te.filter(Z=>Z.value!==""),required:!0}),o.jsx(qt,{label:"Renk",value:B.color,onChange:Z=>E({...B,color:Z}),placeholder:"Otomatik atanır",disabled:!0}),o.jsx(Vt,{label:"Ana derslik",value:B.mainClassroom,onChange:Z=>E({...B,mainClassroom:Z}),options:xe})]})]}),B.level&&o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[o.jsx(Wr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Sınıf Öğretmenleri"]}),k().length===0?o.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[o.jsx(Wr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsxs("p",{className:"text-gray-500",children:[B.level," seviyesinde öğretmen bulunamadı"]}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Önce öğretmen ekleyin veya farklı bir seviye seçin"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Öğretmeni"}),o.jsxs("select",{value:B.classTeacherId,onChange:Z=>b(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Sınıf öğretmeni seçin..."}),k().map(Z=>o.jsxs("option",{value:Z.id,children:[Z.name," (",Z.branch,")"]},Z.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıfta Ders Verecek Öğretmenler"}),o.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:o.jsx("div",{className:"divide-y divide-gray-200",children:k().map(Z=>{const ue=B.teacherIds.includes(Z.id),L=B.classTeacherId===Z.id;return o.jsxs("div",{className:`p-3 flex items-center justify-between hover:bg-gray-50 transition-colors ${L?"bg-blue-50":""}`,children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`teacher-${Z.id}`,checked:ue,onChange:()=>T(Z.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsxs("label",{htmlFor:`teacher-${Z.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:[Z.name,o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",Z.branch,")"]}),L&&o.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Sınıf Öğretmeni"})]})]}),!L&&ue&&o.jsx("button",{type:"button",onClick:()=>b(Z.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Sınıf öğretmeni yap"})]},Z.id)})})}),o.jsxs("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[o.jsx(Wr,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{children:[B.teacherIds.length," öğretmen seçildi"]})]})]})]})]}),o.jsxs("div",{className:"button-group-mobile mt-6",children:[o.jsx(Me,{type:"button",onClick:N,variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"submit",variant:"primary",children:p?"Güncelle":"Tamamla"})]})]})})]})},YR=({data:t,onUpdate:e})=>{const{data:r}=xt("classrooms"),[n,s]=ce.useState(!1),[i,A]=ce.useState(null),[a,l]=ce.useState({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""});ce.useEffect(()=>{r.length>0&&(!t.classrooms||t.classrooms.length===0)&&e({classrooms:r})},[r,t.classrooms,e]);const c=t.classrooms||[],h=P=>P?P.substring(0,2).toUpperCase():"",f=()=>{const P=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return P[Math.floor(Math.random()*P.length)]},p=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],g=[{id:"projector",label:"Projeksiyon",icon:ng},{id:"computer",label:"Bilgisayar",icon:ng},{id:"wifi",label:"WiFi",icon:TN},{id:"sound",label:"Ses Sistemi",icon:kN}],B=P=>{P.preventDefault();const H={id:(i==null?void 0:i.id)||Date.now().toString(),name:a.name,type:"normal",capacity:30,floor:"1",building:"Ana Bina",equipment:[],shortName:a.shortName||h(a.name),color:a.color||f()};e(i?{classrooms:c.map(W=>W.id===i.id?H:W)}:{classrooms:[...c,H]}),E()},E=()=>{l({name:"",shortName:"",classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:"",floors:"",nearbyClassrooms:""}),A(null),s(!1)},I=P=>{l({name:P.name,shortName:P.shortName||h(P.name),classLevel:"",sharedClassroom:!1,needsSpecialEquipment:!1,color:P.color||f(),floors:P.floor,nearbyClassrooms:""}),A(P),s(!0)},w=P=>{e({classrooms:c.filter(H=>H.id!==P)})};hi.useEffect(()=>{a.name&&!i&&l(P=>({...P,shortName:h(P.name)}))},[a.name,i]),hi.useEffect(()=>{a.name&&!i&&!a.color&&l(P=>({...P,color:f()}))},[a.name,i]);const y=P=>{var H;return((H=p.find(W=>W.value===P))==null?void 0:H.label)||P},_=P=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[P]||"bg-gray-100 text-gray-800";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Vh,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Derslik Yönetimi"}),o.jsx("p",{className:"text-gray-600",children:"Derslikleri tanımlayın ve özelliklerini belirleyin"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Derslikler"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," derslik tanımlandı"]})]}),o.jsx(Me,{onClick:()=>s(!0),icon:$r,variant:"primary",children:"Yeni Derslik"})]}),c.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(Vh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Derslik Eklenmemiş"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Program oluşturmak için en az bir derslik tanımlamalısınız"}),o.jsx(Me,{onClick:()=>s(!0),icon:$r,variant:"primary",children:"İlk Dersliği Ekle"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(P=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:P.name}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${_(P.type)}`,children:y(P.type)})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>I(P),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:o.jsx(ma,{size:16})}),o.jsx("button",{onClick:()=>w(P.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:o.jsx(Tn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Kapasite:"}),o.jsxs("span",{className:"font-medium",children:[P.capacity," kişi"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Konum:"}),o.jsxs("span",{className:"font-medium",children:[P.building," - ",P.floor,". Kat"]})]}),P.equipment&&P.equipment.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:P.equipment.map(H=>{const W=g.find(T=>T.id===H);return W?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[o.jsx(W.icon,{size:12,className:"mr-1"}),W.label]},H):null})})]})]})]},P.id))}),o.jsx(Ki,{isOpen:n,onClose:E,title:i?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:o.jsxs("form",{onSubmit:B,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"İsim",value:a.name,onChange:P=>l({...a,name:P}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),o.jsx(qt,{label:"Kısaltma",value:a.shortName,onChange:P=>l({...a,shortName:P}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),o.jsx(qt,{label:"Sınıfın Dersliği",value:a.classLevel,onChange:P=>l({...a,classLevel:P}),placeholder:"Hangi sınıfın dersliği"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"sharedClassroom",checked:a.sharedClassroom,onChange:P=>l({...a,sharedClassroom:P.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"sharedClassroom",className:"text-sm font-medium text-gray-700",children:"Ortak Derslik"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"needsSpecialEquipment",checked:a.needsSpecialEquipment,onChange:P=>l({...a,needsSpecialEquipment:P.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"needsSpecialEquipment",className:"text-sm font-medium text-gray-700",children:"Nöbet/Gözetim Gereken Alan"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"Renk",value:a.color,onChange:P=>l({...a,color:P}),placeholder:"Otomatik atanır",disabled:!0}),o.jsx(qt,{label:"Ziller",value:a.floors,onChange:P=>l({...a,floors:P}),placeholder:"Kat bilgisi"})]}),o.jsx(qt,{label:"Yakındaki Derslikler",value:a.nearbyClassrooms,onChange:P=>l({...a,nearbyClassrooms:P}),placeholder:"Komşu derslikler"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Me,{type:"button",onClick:E,variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"submit",variant:"primary",children:i?"Güncelle":"Tamamla"})]})]})})]})},JR=({selectedTeachers:t,onSelectedTeachersChange:e})=>{const{data:r,add:n,update:s,remove:i}=xt("teachers"),{success:A,error:a}=pi(),[l,c]=ce.useState(!1),[h,f]=ce.useState(null),[p,g]=ce.useState({name:"",surname:"",shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:"",level:""}),B=async b=>{b.preventDefault();try{const k=`${p.name} ${p.surname}`.trim(),j={name:k,branch:p.branch||"Genel",level:p.level||"İlkokul"};h?(await s(h.id,j),A("✅ Güncellendi",`${k} başarıyla güncellendi`)):(await n(j),A("✅ Eklendi",`${k} başarıyla eklendi`)),E()}catch{a("❌ Hata","Öğretmen kaydedilirken bir hata oluştu")}},E=()=>{g({name:"",surname:"",shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:"",level:""}),f(null),c(!1)},I=b=>{const k=b.name.split(" "),j=k[0]||"",N=k.slice(1).join(" ")||"";g({name:j,surname:N,shortName:"",rank:"",gender:"",title:"",lastAddition:"",classrooms:"",phoneNumber:"",branch:b.branch,level:b.level}),f(b),c(!0)},w=async b=>{const k=r.find(j=>j.id===b);if(k&&window.confirm(`${k.name} öğretmenini silmek istediğinizden emin misiniz?`))try{await i(b),A("🗑️ Silindi",`${k.name} başarıyla silindi`);const j=t.filter(N=>N!==b);e(j)}catch{a("❌ Hata","Öğretmen silinirken bir hata oluştu")}},y=b=>{t.includes(b)?e(t.filter(k=>k!==b)):e([...t,b])},_=()=>{t.length===r.length?e([]):e(r.map(b=>b.id))},P=Cs.map(b=>({value:b,label:b})),H=[{value:"",label:"Seçiniz..."},{value:"Öğretmen",label:"Öğretmen"},{value:"Başöğretmen",label:"Başöğretmen"},{value:"Uzman Öğretmen",label:"Uzman Öğretmen"},{value:"Müdür Yardımcısı",label:"Müdür Yardımcısı"},{value:"Müdür",label:"Müdür"}],W=[{value:"",label:"Seçiniz..."},{value:"Erkek",label:"Erkek"},{value:"Kadın",label:"Kadın"}],T=[...r].sort((b,k)=>b.name.localeCompare(k.name,"tr"));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wr,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Öğretmen Seçimi"}),o.jsx("p",{className:"text-gray-600",children:"Programa dahil edilecek öğretmenleri seçin"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wr,{className:"w-6 h-6 text-blue-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Öğretmenler"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[r.length," öğretmen • ",t.length," seçili"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[r.length>0&&o.jsx(Me,{onClick:_,variant:"secondary",size:"sm",children:t.length===r.length?"Hiçbirini Seçme":"Tümünü Seç"}),o.jsx(Me,{onClick:()=>c(!0),icon:$r,variant:"primary",size:"sm",children:"Öğretmen Ekle"})]})]}),T.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx(Wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz öğretmen eklenmemiş"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"İlk öğretmeninizi ekleyerek başlayın"}),o.jsx(Me,{onClick:()=>c(!0),icon:$r,variant:"primary",children:"Öğretmen Ekle"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(b=>{const k=t.includes(b.id);return o.jsxs("div",{className:`relative bg-white rounded-lg border-2 p-4 transition-all duration-200 cursor-pointer ${k?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>y(b.id),children:[o.jsx("div",{className:`absolute top-3 right-3 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${k?"bg-blue-500 border-blue-500":"border-gray-300 bg-white"}`,children:k&&o.jsx(EN,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"pr-8",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:b.name}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:"Branş:"})," ",b.branch]}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b.level==="Anaokulu"?"bg-green-100 text-green-800":b.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:b.level})]})]}),o.jsxs("div",{className:"absolute bottom-3 right-3 flex space-x-1",children:[o.jsx("button",{onClick:j=>{j.stopPropagation(),I(b)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Düzenle",children:o.jsx(ma,{size:14})}),o.jsx("button",{onClick:j=>{j.stopPropagation(),w(b.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Sil",children:o.jsx(Tn,{size:14})})]})]},b.id)})}),r.length>0&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Seçim Özeti"}),o.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[t.length," öğretmen seçildi"]})]}),t.length>0&&o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-xs text-blue-600",children:"Seçilen öğretmenler program oluşturma sürecinde kullanılacak"})})]})}),o.jsx(Ki,{isOpen:l,onClose:E,title:h?"Öğretmen Düzenle":"Yeni Öğretmen Ekle",size:"lg",children:o.jsxs("form",{onSubmit:B,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"İsim",value:p.name,onChange:b=>g({...p,name:b}),placeholder:"Örn: Ahmet",required:!0}),o.jsx(qt,{label:"Soy isim",value:p.surname,onChange:b=>g({...p,surname:b}),placeholder:"Örn: Yılmaz",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"Kısaltma",value:p.shortName,onChange:b=>g({...p,shortName:b}),placeholder:"Örn: AY"}),o.jsx(Vt,{label:"Rütbe",value:p.rank,onChange:b=>g({...p,rank:b}),options:H})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Vt,{label:"Cinsiyet",value:p.gender,onChange:b=>g({...p,gender:b}),options:W}),o.jsx(qt,{label:"Ünvan",value:p.title,onChange:b=>g({...p,title:b}),placeholder:"Örn: Sınıf Öğretmeni"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"İşim son eki",value:p.lastAddition,onChange:b=>g({...p,lastAddition:b}),placeholder:""}),o.jsx(qt,{label:"Derslikler",value:p.classrooms,onChange:b=>g({...p,classrooms:b}),placeholder:"Örn: A101, B205"})]}),o.jsx(qt,{label:"Numara",value:p.phoneNumber,onChange:b=>g({...p,phoneNumber:b}),placeholder:"Örn: 0555 123 45 67"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"Branş",value:p.branch,onChange:b=>g({...p,branch:b}),placeholder:"Örn: Matematik, Türkçe"}),o.jsx(Vt,{label:"Eğitim Seviyesi",value:p.level,onChange:b=>g({...p,level:b}),options:P})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Me,{type:"button",onClick:E,variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"submit",variant:"primary",children:h?"Güncelle":"Tamamla"})]})]})})]})},$a={unavailable:{label:"Müsait Değil",description:"Bu zaman diliminde kesinlikle ders verilemez",color:"bg-red-100 border-red-300 text-red-800",icon:"🚫"},preferred:{label:"Tercih Edilen",description:"Bu zaman dilimi tercih edilir",color:"bg-green-100 border-green-300 text-green-800",icon:"✅"},restricted:{label:"Kısıtlı",description:"Bu zaman diliminde sınırlı ders verilebilir",color:"bg-yellow-100 border-yellow-300 text-yellow-800",icon:"⚠️"}},XR=({entityType:t,entityId:e,entityName:r,entityLevel:n,constraints:s,onConstraintsChange:i,onSave:A,hasUnsavedChanges:a})=>{const[l,c]=ce.useState("unavailable"),[h,f]=ce.useState(!1);ce.useEffect(()=>{if(!h&&e){if(s.filter(y=>y.entityId===e).length===0){const y=[];Tt.forEach(P=>{vn.forEach(H=>{const W={id:`${e}-${P}-${H}-default`,entityType:t,entityId:e,day:P,period:H,constraintType:"preferred",reason:`Default tercih edilen - ${r}`,createdAt:new Date,updatedAt:new Date};y.push(W)})});const _=[...s,...y];i(_),console.log('✅ Default "tercih edilen" kısıtlamalar oluşturuldu:',{entityName:r,entityId:e,constraintCount:y.length})}f(!0)}},[e,r,t,s,i,h]);const p=(w,y)=>s.find(_=>_.entityId===e&&_.day===w&&_.period===y),g=(w,y)=>{console.log("🔄 Slot tıklandı:",{day:w,period:y,selectedConstraintType:l,entityId:e,entityName:r});const _=p(w,y);if(_)if(_.constraintType===l){const P=s.map(H=>H.entityId===e&&H.day===w&&H.period===y?{...H,constraintType:"preferred",reason:`Tercih edilen - ${r}`,updatedAt:new Date}:H);i(P),console.log('✅ Kısıtlama "tercih edilen"e değiştirildi')}else{const P=s.map(H=>H.entityId===e&&H.day===w&&H.period===y?{...H,constraintType:l,reason:`${$a[l].label} - ${r}`,updatedAt:new Date}:H);i(P),console.log("✅ Kısıtlama değiştirildi:",{from:_.constraintType,to:l})}else{const P={id:`${e}-${w}-${y}-${Date.now()}`,entityType:t,entityId:e,day:w,period:y,constraintType:l,reason:`${$a[l].label} - ${r}`,createdAt:new Date,updatedAt:new Date};i([...s,P]),console.log("✅ Yeni kısıtlama oluşturuldu:",P)}},B=()=>{console.log('🔄 Tüm kısıtlamalar "tercih edilen"e sıfırlanıyor');const w=s.map(y=>y.entityId===e?{...y,constraintType:"preferred",reason:`Tercih edilen - ${r}`,updatedAt:new Date}:y);i(w),console.log("✅ Tüm kısıtlamalar sıfırlandı")},E=w=>{const y=i0(w,n);return y?A0(y.startTime,y.endTime):`${w}. Ders`},I=w=>s.filter(y=>y.entityId===e&&y.constraintType===w).length;return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r," - Zaman Kısıtlamaları"]}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o.jsxs("span",{className:"inline-flex items-center text-green-600 font-medium",children:[o.jsx(Mh,{className:"w-4 h-4 mr-1"}),'Varsayılan: Tüm saatler "Tercih Edilen"']}),o.jsx("span",{className:"mx-2",children:"•"}),"Zaman dilimlerine tıklayarak kısıtlama değiştirin"]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[a&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800",children:[o.jsx(Mi,{className:"w-4 h-4 mr-1"}),"Kaydedilmedi"]}),o.jsx(Me,{onClick:B,icon:SN,variant:"secondary",size:"sm",title:"Tüm saatleri 'Tercih Edilen' yap",children:"Sıfırla"}),o.jsx(Me,{onClick:A,icon:sg,variant:"primary",size:"sm",disabled:!a,children:"Kaydet"})]})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Mevcut Dağılım"}),o.jsx("div",{className:"space-y-3",children:Object.entries($a).map(([w,y])=>{const _=I(w);return o.jsxs("div",{className:`p-3 rounded-lg border-2 ${y.color}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:y.icon}),o.jsx("span",{className:"font-medium text-sm",children:y.label})]}),o.jsx("span",{className:"text-lg font-bold",children:_})]}),o.jsx("p",{className:"text-xs opacity-75 mt-1",children:y.description})]},w)})})]}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Değiştirmek İçin Seçin"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: unavailable"),c("unavailable")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="unavailable"?"bg-red-100 border-red-300 text-red-800 ring-2 ring-red-500 ring-opacity-50":"bg-white border-gray-200 hover:border-red-300 hover:bg-red-50"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Y2,{className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Müsait Değil"}),o.jsx("div",{className:"text-xs opacity-75",children:"Program oluşturmayı engeller"})]})]})}),o.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: restricted"),c("restricted")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="restricted"?"bg-yellow-100 border-yellow-300 text-yellow-800 ring-2 ring-yellow-500 ring-opacity-50":"bg-white border-gray-200 hover:border-yellow-300 hover:bg-yellow-50"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mi,{className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Kısıtlı"}),o.jsx("div",{className:"text-xs opacity-75",children:"Uyarı verir ama engel olmaz"})]})]})}),o.jsx("button",{onClick:()=>{console.log("🔄 Kısıtlama türü değiştirildi: preferred"),c("preferred")},className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${l==="preferred"?"bg-green-100 border-green-300 text-green-800 ring-2 ring-green-500 ring-opacity-50":"bg-white border-gray-200 hover:border-green-300 hover:bg-green-50"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mh,{className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Tercih Edilen"}),o.jsx("div",{className:"text-xs opacity-75",children:"Normal program oluşturma"})]})]})})]})]}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Nasıl Kullanılır"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(W2,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"1."})," Yukarıdan kısıtlama türü seçin"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"2."})," Zaman tablosunda istediğiniz saate tıklayın"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"3."}),' Aynı türe tekrar tıklayarak "tercih edilen"e dönebilirsiniz']}),o.jsxs("p",{children:[o.jsx("strong",{children:"4."})," Değişiklikleri kaydetmeyi unutmayın!"]})]})]})}),o.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:$a[l].icon}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-purple-800 text-sm",children:["Seçili: ",$a[l].label]}),o.jsx("div",{className:"text-xs text-purple-600",children:$a[l].description})]})]})})]})]})}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase sticky left-0 bg-gray-50 z-10",children:"Ders Saati"}),Tt.map(w=>o.jsxs("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:[o.jsx("div",{className:"font-bold",children:w}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[s.filter(y=>y.entityId===e&&y.day===w&&y.constraintType!=="preferred").length," kısıtlı"]})]},w))]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:vn.map((w,y)=>{const _=E(w);return o.jsxs("tr",{className:y%2===0?"bg-white":"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 bg-gray-50 sticky left-0 z-10 border-r border-gray-200",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-bold text-sm",children:[w,". Ders"]}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1 flex items-center justify-center",children:[o.jsx(dA,{className:"w-3 h-3 mr-1"}),_]})]})}),Tt.map(P=>{const H=p(P,w),W=H?$a[H.constraintType]:$a.preferred;return o.jsx("td",{className:"px-2 py-2",children:o.jsx("button",{onClick:()=>g(P,w),className:`w-full min-h-[70px] p-3 rounded-lg border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${W.color} hover:opacity-80 hover:scale-105 hover:shadow-md`,title:(H==null?void 0:H.constraintType)==="preferred"?"✅ Tercih edilen saat - Değiştirmek için tıklayın":`${W.icon} ${W.label} - Tercih edilene dönmek için tıklayın`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl mb-1",children:W.icon}),o.jsx("div",{className:"text-xs font-medium leading-tight",children:W.label}),(H==null?void 0:H.constraintType)!=="preferred"&&o.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Tıkla → Tercih edilen"})]})})},`${P}-${w}`)})]},w)})})]})})}),o.jsx("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold text-green-600",children:I("preferred")}),o.jsx("div",{className:"text-xs text-gray-600",children:"Tercih Edilen"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold text-red-600",children:I("unavailable")}),o.jsx("div",{className:"text-xs text-gray-600",children:"Müsait Değil"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold text-yellow-600",children:I("restricted")}),o.jsx("div",{className:"text-xs text-gray-600",children:"Kısıtlı"})]})]}),a&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-sm text-yellow-600 font-medium",children:"Değişiklikler kaydedilmedi"}),o.jsx(Me,{onClick:A,icon:sg,variant:"primary",size:"sm",children:"Kaydet"})]})]})})]})},ZR=({data:t,onUpdate:e,teachers:r,classes:n,subjects:s})=>{var xe,ve,ye;const[i,A]=ce.useState("global"),[a,l]=ce.useState(""),[c,h]=ce.useState([]),[f,p]=ce.useState(!1);ce.useEffect(()=>{t.constraints||e({constraints:{timeConstraints:[],globalRules:{maxDailyHoursTeacher:8,maxDailyHoursClass:9,maxConsecutiveHours:3,avoidConsecutiveSameSubject:!0,preferMorningHours:!0,avoidFirstLastPeriod:!1,lunchBreakRequired:!0,lunchBreakDuration:1}}})},[t,e]),ce.useEffect(()=>{var le;const V=((le=t.constraints)==null?void 0:le.timeConstraints)||[];console.log("🔄 Wizard constraints yükleniyor:",V),h([...V]),p(!1)},[(xe=t.constraints)==null?void 0:xe.timeConstraints,a]),ce.useEffect(()=>{var Z;const V=((Z=t.constraints)==null?void 0:Z.timeConstraints)||[],le=JSON.stringify(c)!==JSON.stringify(V);p(le),console.log("📊 Constraint değişiklik durumu:",{hasChanges:le,localCount:c.length,wizardCount:V.length})},[c,(ve=t.constraints)==null?void 0:ve.timeConstraints]);const g=()=>{switch(i){case"teachers":return r.filter(V=>{var le,Z;return(Z=(le=t.teachers)==null?void 0:le.selectedTeachers)==null?void 0:Z.includes(V.id)}).sort((V,le)=>V.name.localeCompare(le.name,"tr")).map(V=>({value:V.id,label:`${V.name} (${V.branch} - ${V.level})`}));case"classes":return n.filter(V=>{var le,Z;return(Z=(le=t.classes)==null?void 0:le.selectedClasses)==null?void 0:Z.includes(V.id)}).sort((V,le)=>V.name.localeCompare(le.name,"tr")).map(V=>({value:V.id,label:`${V.name} (${V.level})`}));case"subjects":return s.filter(V=>{var le,Z;return(Z=(le=t.subjects)==null?void 0:le.selectedSubjects)==null?void 0:Z.includes(V.id)}).sort((V,le)=>V.name.localeCompare(le.name,"tr")).map(V=>({value:V.id,label:`${V.name} (${V.branch} - ${V.level})`}));default:return[]}},B=()=>{if(!a)return null;switch(i){case"teachers":return r.find(V=>V.id===a);case"classes":return n.find(V=>V.id===a);case"subjects":return s.find(V=>V.id===a);default:return null}},E=V=>V&&V.name||"",I=V=>{if(!V)return"";switch(i){case"teachers":return`${V.branch} - ${V.level}`;case"classes":return V.level;case"subjects":return`${V.branch} - ${V.level}`;default:return""}},w=()=>{switch(i){case"teachers":return m5;case"classes":return Fs;case"subjects":return Vi;default:return dA}},y=()=>{switch(i){case"teachers":return"text-blue-600";case"classes":return"text-emerald-600";case"subjects":return"text-indigo-600";default:return"text-purple-600"}},_=(V,le)=>{var Z;console.log("🔄 Global constraint değişikliği:",{key:V,value:le}),e({constraints:{...t.constraints,globalRules:{...(Z=t.constraints)==null?void 0:Z.globalRules,[V]:le}}})},P=V=>{console.log("🔄 Constraints değiştirildi:",{newCount:V.length,selectedEntity:a,entityType:i}),h(V),p(!0)},H=()=>{if(!a){console.warn("⚠️ Seçili entity yok, kaydetme iptal edildi");return}console.log("💾 Constraints kaydediliyor:",{entityId:a,entityType:i,constraintsCount:c.length}),e({constraints:{...t.constraints,timeConstraints:c}}),p(!1),console.log("✅ Constraints başarıyla kaydedildi")},W=((ye=t.constraints)==null?void 0:ye.globalRules)||{},T=w(),b=y(),k=B(),j=E(k),N=I(k),Q=k&&"level"in k?k.level:void 0,F=[{id:"global",label:"Genel Kurallar",icon:$2},{id:"teachers",label:"Öğretmenler",icon:m5},{id:"classes",label:"Sınıflar",icon:Fs},{id:"subjects",label:"Dersler",icon:Vi}],te=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Günlük Limitler"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Öğretmen)"}),o.jsx("input",{type:"number",min:"1",max:"10",value:W.maxDailyHoursTeacher||8,onChange:V=>_("maxDailyHoursTeacher",parseInt(V.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Günlük Ders (Sınıf)"}),o.jsx("input",{type:"number",min:"1",max:"10",value:W.maxDailyHoursClass||9,onChange:V=>_("maxDailyHoursClass",parseInt(V.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ardışık Ders Kuralları"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maksimum Ardışık Ders"}),o.jsx("input",{type:"number",min:"1",max:"5",value:W.maxConsecutiveHours||3,onChange:V=>_("maxConsecutiveHours",parseInt(V.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"avoidConsecutive",checked:W.avoidConsecutiveSameSubject||!1,onChange:V=>_("avoidConsecutiveSameSubject",V.target.checked),className:"mr-2"}),o.jsx("label",{htmlFor:"avoidConsecutive",className:"text-sm text-gray-700",children:"Aynı dersin ardışık olmasını önle"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Zaman Tercihleri"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"preferMorning",checked:W.preferMorningHours||!1,onChange:V=>_("preferMorningHours",V.target.checked),className:"mr-2"}),o.jsx("label",{htmlFor:"preferMorning",className:"text-sm text-gray-700",children:"Sabah saatlerini tercih et"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"avoidFirstLast",checked:W.avoidFirstLastPeriod||!1,onChange:V=>_("avoidFirstLastPeriod",V.target.checked),className:"mr-2"}),o.jsx("label",{htmlFor:"avoidFirstLast",className:"text-sm text-gray-700",children:"İlk ve son dersleri önle"})]})]})]})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(dA,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Zaman Kısıtlamaları"}),o.jsx("p",{className:"text-gray-600",children:"Program oluşturma kurallarını ve zaman kısıtlamalarını belirleyin"})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"-mb-px flex space-x-8",children:F.map(V=>o.jsxs("button",{onClick:()=>{console.log("🔄 Tab değiştirildi:",V.id),A(V.id),l(""),p(!1)},className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===V.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx(V.icon,{className:"w-4 h-4 mr-2"}),V.label]},V.id))})}),o.jsxs("div",{className:"mt-6",children:[i==="global"&&te(),i!=="global"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx(Vt,{label:`${i==="teachers"?"Öğretmen":i==="classes"?"Sınıf":"Ders"} Seçin`,value:a,onChange:V=>{console.log("🔄 Entity seçildi:",{activeTab:i,entityId:V}),l(V),p(!1)},options:[{value:"",label:"Seçiniz..."},...g()]})}),a&&a!==""?o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-white shadow-sm",children:o.jsx(T,{className:`w-5 h-5 ${b}`})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:j}),o.jsx("p",{className:"text-sm text-gray-600",children:N})]})]}),f&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Kaydedilmemiş değişiklikler"})]})}),o.jsx(XR,{entityType:i==="teachers"?"teacher":i==="classes"?"class":"subject",entityId:a,entityName:j,entityLevel:Q,constraints:c,onConstraintsChange:P,onSave:H,hasUnsavedChanges:f})]}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx(T,{className:"w-8 h-8 text-gray-400"})}),o.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[i==="teachers"?"Öğretmen":i==="classes"?"Sınıf":"Ders"," Seçin"]}),o.jsxs("p",{className:"text-gray-500 max-w-md mx-auto",children:["Zaman kısıtlaması eklemek için yukarıdan bir ",i==="teachers"?"öğretmen":i==="classes"?"sınıf":"ders"," seçin"]})]})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Mi,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-800",children:"Kısıtlama Önerileri"}),o.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Tercih Edilen:"})," Bu saatte ders atanabilir (varsayılan)"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Kısıtlı:"})," Mümkünse bu saatte ders atanmasın, gerekirse atanabilir"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Müsait Değil:"})," Bu saatte kesinlikle ders atanmasın"]}),o.jsx("li",{children:"• Öğretmenlerin özel durumları (toplantı, nöbet vb.) için kısıtlama ekleyin"}),o.jsx("li",{children:"• Sınıfların özel etkinlikleri için zaman bloklarını işaretleyin"})]})]})]})})]})};function e8(t,e){const r={isFixed:!0},n=e==="Ortaokul"?"6":"5",s={prep:{...r,subjectId:"Hazırlık/Kahvaltı"},"afternoon-breakfast":{...r,subjectId:"İkindi Kahvaltısı"},[n]:{...r,subjectId:"Yemek"}};e==="Ortaokul"&&(s.breakfast={...r,subjectId:"Kahvaltı"}),Tt.forEach(i=>{Object.entries(s).forEach(([A,a])=>{t[i][A]=a})})}function UN(t,e,r,n,s){var g,B,E;const i=Date.now();console.log("🚀 Program oluşturma başlatıldı (v4 - Esnek Yerleştirme)...");const A={},a={};r.forEach(I=>{t.some(w=>w.classId===I.id)&&(A[I.id]={},Tt.forEach(w=>{A[I.id][w]={}}),e8(A[I.id],I.level))}),e.forEach(I=>{a[I.id]=new Set}),s.forEach(I=>{if(I.constraintType==="unavailable"){const w=`${I.day}-${I.period}`;I.entityType==="teacher"&&a[I.entityId]&&a[I.entityId].add(w)}});const l=[];t.forEach(I=>{for(let w=0;w<I.weeklyHours;w++)l.push({...I,assignedHours:0})}),l.sort(()=>Math.random()-.5);let c=0;for(const I of l){let w=!1;const y=[...Tt].sort(()=>Math.random()-.5);for(const _ of y){const P=[...vn].sort(()=>Math.random()-.5);for(const H of P){const W=`${_}-${H}`,T=!((B=(g=A[I.classId])==null?void 0:g[_])!=null&&B[H]),b=!((E=a[I.teacherId])!=null&&E.has(W));if(T&&b){A[I.classId][_][H]={subjectId:I.subjectId,teacherId:I.teacherId,classId:I.classId},a[I.teacherId].add(W),w=!0;break}}if(w)break}if(w){c++;const _=t.find(P=>P.id===I.id);_&&_.assignedHours++}}const h={};Object.values(A).forEach(I=>{Object.entries(I).forEach(([w,y])=>{Object.entries(y).forEach(([_,P])=>{P&&P.teacherId&&!P.isFixed&&(h[P.teacherId]||(h[P.teacherId]={}),h[P.teacherId][w]||(h[P.teacherId][w]={}),h[P.teacherId][w][_]={classId:P.classId,subjectId:P.subjectId,isFixed:!1})})})});const f=Object.entries(h).map(([I,w])=>({teacherId:I,schedule:w,updatedAt:new Date})),p={totalLessonsToPlace:l.length,placedLessons:c,unassignedLessons:[]};return t.forEach(I=>{var w,y,_;I.assignedHours<I.weeklyHours&&p.unassignedLessons.push({className:(w=r.find(P=>P.id===I.classId))==null?void 0:w.name,subjectName:(y=n.find(P=>P.id===I.subjectId))==null?void 0:y.name,teacherName:(_=e.find(P=>P.id===I.teacherId))==null?void 0:_.name,missingHours:I.weeklyHours-I.assignedHours})}),console.log(`✅ Program oluşturma tamamlandı. Süre: ${(Date.now()-i)/1e3} saniye.`),console.log(`📊 İstatistik: ${p.placedLessons} / ${p.totalLessonsToPlace} ders yerleştirildi.`),{success:!0,schedules:f,statistics:p,warnings:p.unassignedLessons.length>0?["Bazı dersler programda tam olarak yerleştirilemedi."]:[],errors:[]}}const t8=({data:t,wizardData:e,onUpdate:r,onGenerate:n,isGenerating:s})=>{var j,N,Q,F,te,xe,ve,ye;const[i,A]=ce.useState(!1),[a,l]=ce.useState(null),[c,h]=ce.useState(null),[f,p]=ce.useState(!1),g=[],B=[],E=[],I=[{value:"balanced",label:"Dengeli Dağılım",description:"Öğretmen ve sınıf yüklerini eşit dağıtır"},{value:"compact",label:"Kompakt Program",description:"Dersleri mümkün olduğunca sıkıştırır"},{value:"distributed",label:"Dağıtılmış Program",description:"Dersleri hafta boyunca eşit dağıtır"}],w=[{value:"fast",label:"Hızlı (1-2 dakika)",description:"Temel optimizasyon, hızlı sonuç"},{value:"balanced",label:"Dengeli (3-5 dakika)",description:"İyi kalite ve makul süre"},{value:"thorough",label:"Kapsamlı (5-10 dakika)",description:"En iyi kalite, uzun süre"}],y=(V,le)=>{const Z={...t,[V]:le};r(Z)},_=()=>{var M,$,Y,X,ee,ie,oe,G,se;const V=[],le=[];(!((M=e.subjects)!=null&&M.selectedSubjects)||e.subjects.selectedSubjects.length===0)&&V.push("Hiç ders seçilmemiş"),(!(($=e.classes)!=null&&$.selectedClasses)||e.classes.selectedClasses.length===0)&&V.push("Hiç sınıf seçilmemiş"),(!((Y=e.teachers)!=null&&Y.selectedTeachers)||e.teachers.selectedTeachers.length===0)&&V.push("Hiç öğretmen seçilmemiş"),(!((X=e.classrooms)!=null&&X.selectedClassrooms)||e.classrooms.selectedClassrooms.length===0)&&V.push("Hiç derslik seçilmemiş");const Z=(ee=e.subjects)!=null&&ee.subjectHours?Object.values(e.subjects.subjectHours).reduce((ge,_e)=>ge+_e,0):0,ue=((oe=(ie=e.classes)==null?void 0:ie.selectedClasses)==null?void 0:oe.length)||0,L=((se=(G=e.teachers)==null?void 0:G.selectedTeachers)==null?void 0:se.length)||0;return Z>45&&le.push("Haftalık toplam ders saati çok yüksek (45+ saat)"),L<ue&&le.push("Öğretmen sayısı sınıf sayısından az"),{issues:V,warnings:le}},{issues:P,warnings:H}=_(),W=P.length===0,T=()=>{var $,Y,X,ee,ie,oe;const V={fast:2,balanced:4,thorough:8}[t.optimizationLevel||"balanced"],le=((Y=($=e.subjects)==null?void 0:$.selectedSubjects)==null?void 0:Y.length)||0,Z=((ee=(X=e.classes)==null?void 0:X.selectedClasses)==null?void 0:ee.length)||0,ue=((oe=(ie=e.teachers)==null?void 0:ie.selectedTeachers)==null?void 0:oe.length)||0,L=le*Z*ue,M=L>100?1.5:L>50?1.2:1;return Math.round(V*M)},b={algorithm:"balanced",optimizationLevel:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,generateMultipleOptions:!1,allowOverlaps:!1,...t},k=async()=>{var V;h(null),l(null),p(!0);try{const le=await UN(e,g,B,E);l(le),le.success||h(((V=le.errors)==null?void 0:V.join(`
`))||"Program oluşturulamadı.")}catch(le){h((le==null?void 0:le.message)||"Bilinmeyen hata oluştu.")}finally{p(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hf,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Program Oluşturma ve Optimizasyon"}),o.jsx("p",{className:"text-gray-600",children:"Algoritma ayarlarını yapın ve otomatik program oluşturmayı başlatın"})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[o.jsx(CN,{className:"w-5 h-5 mr-2 text-blue-600"}),"Hazırlık Durumu"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((N=(j=e.subjects)==null?void 0:j.selectedSubjects)==null?void 0:N.length)||0}),o.jsx("div",{className:"text-xs text-blue-700",children:"Ders"})]}),o.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:((F=(Q=e.classes)==null?void 0:Q.selectedClasses)==null?void 0:F.length)||0}),o.jsx("div",{className:"text-xs text-emerald-700",children:"Sınıf"})]}),o.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:((xe=(te=e.teachers)==null?void 0:te.selectedTeachers)==null?void 0:xe.length)||0}),o.jsx("div",{className:"text-xs text-indigo-700",children:"Öğretmen"})]}),o.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((ye=(ve=e.classrooms)==null?void 0:ve.selectedClassrooms)==null?void 0:ye.length)||0}),o.jsx("div",{className:"text-xs text-purple-700",children:"Derslik"})]})]}),P.length>0&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Mi,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-red-800 mb-1",children:"Kritik Sorunlar:"}),o.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:P.map((V,le)=>o.jsxs("li",{children:["• ",V]},le))})]})]})}),H.length>0&&o.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Mi,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium text-yellow-800 mb-1",children:"Uyarılar:"}),o.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:H.map((V,le)=>o.jsxs("li",{children:["• ",V]},le))})]})]})}),W&&o.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mh,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"font-medium text-green-800",children:"Tüm gereksinimler karşılandı! Program oluşturmaya hazır."})]})})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[o.jsx($2,{className:"w-5 h-5 mr-2 text-purple-600"}),"Algoritma Ayarları"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Türü"}),o.jsx("div",{className:"space-y-2",children:I.map(V=>o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"algorithm",value:V.value,checked:b.algorithm===V.value,onChange:le=>y("algorithm",le.target.value),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:V.label}),o.jsx("div",{className:"text-xs text-gray-600",children:V.description})]})]},V.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Optimizasyon Seviyesi"}),o.jsx("div",{className:"space-y-2",children:w.map(V=>o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"optimization",value:V.value,checked:b.optimizationLevel===V.value,onChange:le=>y("optimizationLevel",le.target.value),className:"mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:V.label}),o.jsx("div",{className:"text-xs text-gray-600",children:V.description})]})]},V.value))})]}),o.jsxs("div",{children:[o.jsx("button",{onClick:()=>A(!i),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:i?"Gelişmiş ayarları gizle":"Gelişmiş ayarları göster"}),i&&o.jsxs("div",{className:"mt-4 space-y-3 p-3 bg-gray-50 rounded-lg",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:b.prioritizeTeacherPreferences||!1,onChange:V=>y("prioritizeTeacherPreferences",V.target.checked)}),o.jsx("span",{className:"text-sm",children:"Öğretmen tercihlerini öncelikle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:b.prioritizeClassPreferences||!1,onChange:V=>y("prioritizeClassPreferences",V.target.checked)}),o.jsx("span",{className:"text-sm",children:"Sınıf tercihlerini öncelikle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:b.generateMultipleOptions||!1,onChange:V=>y("generateMultipleOptions",V.target.checked)}),o.jsx("span",{className:"text-sm",children:"Birden fazla seçenek oluştur"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:b.allowOverlaps||!1,onChange:V=>y("allowOverlaps",V.target.checked)}),o.jsx("span",{className:"text-sm",children:"Çakışmalara izin ver (acil durumlar için)"})]})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Program Oluşturmaya Hazır!"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Tahmini süre: ",o.jsxs("span",{className:"font-medium text-purple-600",children:[T()," dakika"]})]}),f?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),o.jsx("span",{className:"text-purple-600 font-medium",children:"Program oluşturuluyor..."})]}),o.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"45%"}})}),o.jsx("p",{className:"text-xs text-gray-600",children:"Bu işlem birkaç dakika sürebilir. Lütfen sayfayı kapatmayın."})]}):o.jsx(Me,{onClick:k,icon:NN,variant:"primary",size:"lg",disabled:!W||f,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:"🎯 Program Oluşturmayı Başlat"})]})}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(dA,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("h4",{className:"font-medium mb-1",children:"🤖 Otomatik Program Oluşturma:"}),o.jsxs("ul",{className:"space-y-1 text-xs",children:[o.jsx("li",{children:"• Sistem tüm kısıtlamaları ve tercihleri dikkate alır"}),o.jsx("li",{children:"• Çakışmaları otomatik olarak tespit eder ve çözer"}),o.jsx("li",{children:"• En optimal ders dağılımını hesaplar"}),o.jsx("li",{children:"• Birden fazla alternatif program oluşturabilir"}),o.jsx("li",{children:"• Sonuçları PDF olarak indirebilirsiniz"}),o.jsx("li",{children:"• Haftalık ders saati 45'e kadar desteklenir"})]})]})]})}),c&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mt-4",children:o.jsxs("div",{className:"text-red-700 font-medium",children:["Hata: ",c]})}),a&&a.success&&o.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mt-4",children:[o.jsxs("div",{className:"text-green-700 font-medium",children:["Program başarıyla oluşturuldu! Toplam program: ",a.schedules.length]}),o.jsxs("div",{className:"text-green-700 text-sm",children:["Dolu slot: ",a.statistics.filledSlots," / ",a.statistics.totalSlots]}),o.jsxs("div",{className:"text-green-700 text-sm",children:["Çakışma: ",a.statistics.conflictCount]})]})]})};function r8(t,e,r){const s=r.filter(A=>{var a;return((a=e.teacherIds)==null?void 0:a.includes(A.id))||e.classTeacherId===A.id}).find(A=>{const a=A.branch===t.branch||A.branches&&A.branches.includes(t.branch),l=A.level===t.level||A.levels&&A.levels.includes(t.level)||t.levels&&t.levels.includes(A.level)||A.levels&&t.levels&&A.levels.some(c=>t.levels.includes(c));return a&&l});if(s)return s;const i=r.find(A=>{const a=A.branch===t.branch||A.branches&&A.branches.includes(t.branch),l=A.level===t.level||A.levels&&A.levels.includes(t.level)||t.levels&&t.levels.includes(A.level)||A.levels&&t.levels&&A.levels.some(c=>t.levels.includes(c));return a&&l});return i||null}function n8(t,e,r,n){const s=[],i=[],A=r.filter(c=>t.classes.selectedClasses.includes(c.id)),a=n.filter(c=>t.subjects.selectedSubjects.includes(c.id)),l=e.filter(c=>t.teachers.selectedTeachers.includes(c.id));for(const c of A)for(const h of a){const f=c.levels||[c.level],p=h.levels||[h.level];if(!f.some(E=>p.includes(E))){console.warn(`⚠️ Seviye uyumsuzluğu: Sınıf '${c.name}' (Seviye: ${f.join(", ")}) ile Ders '${h.name}' (Seviye: ${p.join(", ")}). Bu ders atlanıyor.`);continue}const B=r8(h,c,l);B?s.push({id:`${c.id}-${h.id}-${B.id}`,classId:c.id,className:c.name,subjectId:h.id,subjectName:h.name,teacherId:B.id,teacherName:B.name,weeklyHours:t.subjects.subjectHours[h.id]||h.weeklyHours,assignedHours:0,priority:t.subjects.subjectPriorities[h.id]||"medium"}):i.push(`'${c.name}' sınıfı için "${h.name}" dersine uygun öğretmen bulunamadı. Lütfen yeterli sayıda öğretmen seçtiğinizden ve branş/seviye uyumluluklarını kontrol ettiğinizden emin olun.`)}return{mappings:s,errors:i}}const cm=[{id:"basic-info",title:"Temel Bilgiler",description:"Program adı ve dönem bilgileri",icon:"📝"},{id:"subjects",title:"Dersler",description:"Ders seçimi ve haftalık saatler",icon:"📚"},{id:"classes",title:"Sınıflar",description:"Sınıf seçimi ve kapasiteler",icon:"🏫"},{id:"classrooms",title:"Derslikler",description:"Derslik yönetimi ve atamalar",icon:"🚪"},{id:"teachers",title:"Öğretmenler",description:"Öğretmen seçimi ve ders yükleri",icon:"👨‍🏫"},{id:"constraints",title:"Kısıtlamalar",description:"Zaman kısıtlamaları ve kurallar",icon:"⏰"},{id:"generation",title:"Program Oluştur",description:"Otomatik program oluşturma",icon:"⚡"}],s8=()=>{const t=Jl(),e=$o(),{data:r}=xt("teachers"),{data:n}=xt("classes"),{data:s}=xt("subjects"),{add:i,update:A,data:a}=xt("schedule-templates"),{add:l,data:c,remove:h}=xt("schedules");xt("constraints");const{success:f,error:p,warning:g,info:B}=pi(),[E,I]=ce.useState(0),[w,y]=ce.useState(null),[_,P]=ce.useState({basicInfo:{name:"",academicYear:"2024/2025",semester:"",startDate:"2024-09-01",endDate:"2025-08-31",description:"",institutionTitle:"",dailyHours:8,weekDays:5,weekendClasses:!1},subjects:{selectedSubjects:[],subjectHours:{},subjectPriorities:{}},classes:{selectedClasses:[],classCapacities:{},classPreferences:{}},classrooms:[],teachers:{selectedTeachers:[],teacherSubjects:{},teacherMaxHours:{},teacherPreferences:{}},constraints:{timeConstraints:[],globalRules:{maxDailyHoursTeacher:8,maxDailyHoursClass:9,maxConsecutiveHours:3,avoidConsecutiveSameSubject:!0,preferMorningHours:!0,avoidFirstLastPeriod:!1,lunchBreakRequired:!0,lunchBreakDuration:1}},generationSettings:{algorithm:"balanced",prioritizeTeacherPreferences:!0,prioritizeClassPreferences:!0,allowOverlaps:!1,generateMultipleOptions:!0,optimizationLevel:"balanced"}}),[H,W]=ce.useState(new Set),[T,b]=ce.useState(!1),[k,j]=ce.useState(!1);ce.useEffect(()=>{var M,$,Y,X,ee,ie,oe,G;const L=new URLSearchParams(e.search).get("templateId");if(L&&a.length>0){const se=a.find(ge=>ge.id===L);if(se&&se.wizardData){y(L),P(se.wizardData);const ge=new Set;(M=se.wizardData.basicInfo)!=null&&M.name&&ge.add(0),((Y=($=se.wizardData.subjects)==null?void 0:$.selectedSubjects)==null?void 0:Y.length)>0&&ge.add(1),((ee=(X=se.wizardData.classes)==null?void 0:X.selectedClasses)==null?void 0:ee.length)>0&&ge.add(2),((ie=se.wizardData.classrooms)==null?void 0:ie.length)>0&&ge.add(3),((G=(oe=se.wizardData.teachers)==null?void 0:oe.selectedTeachers)==null?void 0:G.length)>0&&ge.add(4),W(ge),f("Şablon Yüklendi",`'${se.name}' düzenleniyor.`)}}},[e.search,a,f]),ce.useEffect(()=>{if(E===4){const ue=_.classes.selectedClasses;if(ue.length>0){const L=n.filter($=>ue.includes($.id)),M=new Set;if(L.forEach($=>{($.teacherIds||[]).forEach(Y=>M.add(Y)),$.classTeacherId&&M.add($.classTeacherId)}),M.size>0){const $=Array.from(new Set([..._.teachers.selectedTeachers,...Array.from(M)]));$.length>_.teachers.selectedTeachers.length&&(P(Y=>({...Y,teachers:{...Y.teachers,selectedTeachers:$}})),B("Öğretmenler Otomatik Seçildi","Seçilen sınıflara atanmış öğretmenler listeye eklendi."))}}}},[E,_.classes.selectedClasses,n,B]);const N=cm[E],Q=()=>{switch(N.id){case"basic-info":return!!(_.basicInfo.name&&_.basicInfo.academicYear);case"subjects":return _.subjects.selectedSubjects.length>0;case"classes":return _.classes.selectedClasses.length>0;case"classrooms":return _.classrooms.length>0;case"teachers":return _.teachers.selectedTeachers.length>0;default:return!0}},F=()=>{Q()?(W(ue=>new Set([...ue,E])),E<cm.length-1&&I(E+1)):g("⚠️ Eksik Bilgi","Lütfen gerekli alanları doldurun")},te=()=>{E>0&&I(E-1)},xe=ue=>{(H.has(ue)||ue<=E)&&I(ue)},ve=async()=>{if(!_.basicInfo.name){g("⚠️ Program Adı Gerekli","Lütfen program adını girin");return}b(!0);try{const ue={name:_.basicInfo.name,description:_.basicInfo.description,academicYear:_.basicInfo.academicYear,semester:_.basicInfo.semester,updatedAt:new Date,wizardData:_,status:"draft",generatedSchedules:[]};if(w)await A(w,ue),f("✅ Şablon Güncellendi",`'${ue.name}' başarıyla güncellendi`);else{const L=await i(ue);L.success&&L.id&&y(L.id),f("✅ Şablon Kaydedildi",`'${ue.name}' başarıyla kaydedildi`)}}catch{p("❌ Kayıt Hatası","Şablon kaydedilirken bir hata oluştu")}finally{b(!1)}},ye=(ue,L)=>{P(M=>({...M,[ue.replace("-","_")]:L}))},V=ue=>{P(L=>({...L,teachers:{...L.teachers,selectedTeachers:ue}}))},le=async()=>{var ue,L,M,$,Y,X;if(!k){if((((L=(ue=_.teachers)==null?void 0:ue.selectedTeachers)==null?void 0:L.length)??0)===0||((($=(M=_.classes)==null?void 0:M.selectedClasses)==null?void 0:$.length)??0)===0||(((X=(Y=_.subjects)==null?void 0:Y.selectedSubjects)==null?void 0:X.length)??0)===0){p("Eksik Bilgi","Devam etmek için en az bir öğretmen, sınıf ve ders seçmelisiniz.");return}j(!0),B("Program Oluşturuluyor...","Bu işlem birkaç dakika sürebilir. Lütfen bekleyin.");try{const{mappings:ee,errors:ie}=n8(_,r,n,s);if(ie.length>0){p("Planlama Hatası",`Program oluşturulamadı:
- ${ie.join(`
- `)}`),j(!1);return}const oe=UN(ee,r,n,s,_.constraints.timeConstraints);if(!oe.success||oe.schedules.length===0){p("Oluşturma Hatası","Program oluşturulurken bir hata oluştu veya hiç ders atanamadı. Lütfen seçimlerinizi ve kısıtlamalarınızı kontrol edin."),j(!1);return}if(oe.statistics.unassignedLessons.length>0){const ge=oe.statistics.unassignedLessons.map(_e=>`'${_e.className}' > '${_e.subjectName}': ${_e.missingHours} saat eksik`).join(`
`);g("Eksik Dersler",`Bazı dersler yerleştirilemedi:
${ge}`)}const G=new Set(oe.schedules.map(ge=>ge.teacherId)),se=c.filter(ge=>G.has(ge.teacherId));for(const ge of se)await h(ge.id);for(const ge of oe.schedules)await l(ge);f("🎉 Program Başarıyla Oluşturuldu!",`${oe.schedules.length} öğretmen için yeni program kaydedildi.`),await ve(),setTimeout(()=>t("/all-schedules"),2e3)}catch(ee){console.error("Program oluşturma sırasında kritik hata:",ee),p("Kritik Hata","Beklenmedik bir hata oluştu. Lütfen konsolu kontrol edin.")}finally{j(!1)}}},Z=()=>{switch(N.id){case"basic-info":return o.jsx(qR,{data:_.basicInfo,onUpdate:ue=>ye("basicInfo",ue)});case"subjects":return o.jsx(WR,{data:_.subjects,onUpdate:ue=>ye("subjects",ue)});case"classes":return o.jsx($R,{data:_,onUpdate:ue=>{ue.classes&&ye("classes",ue.classes)},classes:n});case"classrooms":return o.jsx(YR,{data:_,onUpdate:ue=>{ue.classrooms&&ye("classrooms",ue.classrooms)}});case"teachers":return o.jsx(JR,{selectedTeachers:_.teachers.selectedTeachers,onSelectedTeachersChange:V});case"constraints":return o.jsx(ZR,{data:_,onUpdate:ue=>{ue.constraints&&ye("constraints",ue.constraints)},teachers:r,classes:n,subjects:s});case"generation":return o.jsx(t8,{data:_.generationSettings,wizardData:_,onUpdate:ue=>ye("generationSettings",ue),onGenerate:le,isGenerating:k});default:return o.jsx("div",{children:"Bilinmeyen adım"})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(hf,{className:"w-8 h-8 text-blue-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:w?"Program Düzenleme":"Program Oluşturma Sihirbazı"}),o.jsx("p",{className:"text-sm text-gray-600",children:`Adım ${E+1}: ${N.title}`})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Me,{onClick:ve,icon:sg,variant:"secondary",disabled:T||!_.basicInfo.name,children:T?"Kaydediliyor...":"Şablonu Kaydet"}),o.jsx(Me,{onClick:()=>t("/"),variant:"secondary",children:"İptal"})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Adımlar"}),o.jsx("div",{className:"space-y-2",children:cm.map((ue,L)=>{const M=H.has(L),$=L===E,Y=H.has(L)||$||H.has(L-1)||L===0;return o.jsx("button",{onClick:()=>xe(L),disabled:!Y,className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-[1.02] ${$?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-400 shadow-lg ring-2 ring-blue-200":M?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 hover:border-green-400 shadow-md":Y?"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm hover:shadow-md":"bg-gray-50 border-gray-100 text-gray-400 cursor-not-allowed opacity-60"}`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm transition-all duration-300 ${$?"bg-gradient-to-r from-blue-500 to-indigo-500 shadow-lg ring-2 ring-blue-300":M?"bg-gradient-to-r from-green-500 to-emerald-500 shadow-md":Y?"bg-gradient-to-r from-gray-400 to-gray-500":"bg-gray-300"}`,children:M?o.jsx(EN,{size:20,className:"animate-scale-in"}):o.jsx("span",{className:"text-sm font-bold",children:L+1})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`font-semibold text-sm leading-tight transition-colors duration-300 ${$?"text-blue-700":M?"text-green-700":Y?"text-gray-700":"text-gray-400"}`,children:ue.title}),o.jsx("p",{className:`text-xs mt-1 leading-tight transition-colors duration-300 ${$?"text-blue-600":M?"text-green-600":Y?"text-gray-500":"text-gray-400"}`,children:ue.description})]}),$&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})})]})},ue.id)})})]})}),o.jsx("div",{className:"lg:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:N.icon})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:N.title}),o.jsx("p",{className:"text-gray-600",children:N.description})]})]}),!Q()&&o.jsxs("div",{className:"flex items-center text-amber-600",children:[o.jsx(Mi,{className:"w-5 h-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Eksik bilgi"})]})]})}),o.jsx("div",{className:"p-6",children:Z()}),o.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Me,{onClick:te,icon:_R,variant:"secondary",disabled:E===0,children:"Önceki"}),E<cm.length-1?o.jsx(Me,{onClick:F,icon:wy,variant:"primary",disabled:!Q(),children:"Sonraki"}):o.jsx(Me,{onClick:le,icon:NN,variant:"primary",disabled:!Q()||k,size:"lg",children:k?"Program Oluşturuluyor...":"Program Oluştur ve Kaydet"})]})})]})})]})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var By=function(t,e){return By=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},By(t,e)};function zi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");By(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var by=function(){return by=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},by.apply(this,arguments)};function os(t,e,r,n){function s(i){return i instanceof r?i:new r(function(A){A(i)})}return new(r||(r=Promise))(function(i,A){function a(h){try{c(n.next(h))}catch(f){A(f)}}function l(h){try{c(n.throw(h))}catch(f){A(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(t,[])).next())})}function Gn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function um(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var da=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),a0=function(t,e){return da.fromClientRect(t,e.getBoundingClientRect())},i8=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new da(0,0,n,s)},o0=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},Mr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},v5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dm=0;dm<v5.length;dm++)A8[v5.charCodeAt(dm)]=dm;var y5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hm=0;hm<y5.length;hm++)Rd[y5.charCodeAt(hm)]=hm;var a8=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Rd[t.charCodeAt(n)],A=Rd[t.charCodeAt(n+1)],a=Rd[t.charCodeAt(n+2)],l=Rd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|a>>2,h[s++]=(a&3)<<6|l&63;return c},o8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},l8=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},jl=5,J2=11,C1=2,c8=J2-jl,QN=65536>>jl,u8=1<<jl,E1=u8-1,d8=1024>>jl,h8=QN+d8,f8=h8,m8=32,p8=f8+m8,g8=65536>>J2,v8=1<<c8,y8=v8-1,w5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},w8=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},x8=function(t,e){var r=a8(t),n=Array.isArray(r)?l8(r):new Uint32Array(r),s=Array.isArray(r)?o8(r):new Uint16Array(r),i=24,A=w5(s,i/2,n[4]/2),a=n[5]===2?w5(s,(i+n[4])/2):w8(n,Math.ceil((i+n[4])/4));return new B8(n[0],n[1],n[2],n[3],A,a)},B8=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>jl],r=(r<<C1)+(e&E1),this.data[r];if(e<=65535)return r=this.index[QN+(e-55296>>jl)],r=(r<<C1)+(e&E1),this.data[r];if(e<this.highStart)return r=p8-g8+(e>>J2),r=this.index[r],r+=e>>jl&y8,r=this.index[r],r=(r<<C1)+(e&E1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),x5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b8=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fm=0;fm<x5.length;fm++)b8[x5.charCodeAt(fm)]=fm;var C8="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",B5=50,E8=1,LN=2,jN=3,_8=4,I8=5,b5=7,PN=8,C5=9,fo=10,Cy=11,E5=12,Ey=13,N8=14,Od=15,_y=16,mm=17,bd=18,S8=19,_5=20,Iy=21,Cd=22,_1=23,Ic=24,Hs=25,Hd=26,Md=27,Nc=28,F8=29,Cl=30,k8=31,pm=32,gm=33,Ny=34,Sy=35,Fy=36,Kh=37,ky=38,ip=39,Ap=40,I1=41,DN=42,T8=43,U8=[9001,65288],RN="!",Ot="×",vm="÷",Ty=x8(C8),VA=[Cl,Fy],Uy=[E8,LN,jN,I8],ON=[fo,PN],I5=[Md,Hd],Q8=Uy.concat(ON),N5=[ky,ip,Ap,Ny,Sy],L8=[Od,Ey],j8=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,A){var a=Ty.get(i);if(a>B5?(s.push(!0),a-=B5):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(A),r.push(_y);if(a===_8||a===Cy){if(A===0)return n.push(A),r.push(Cl);var l=r[A-1];return Q8.indexOf(l)===-1?(n.push(n[A-1]),r.push(l)):(n.push(A),r.push(Cl))}if(n.push(A),a===k8)return r.push(e==="strict"?Iy:Kh);if(a===DN||a===F8)return r.push(Cl);if(a===T8)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Kh):r.push(Cl);r.push(a)}),[n,r,s]},N1=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var A=n[i];if(A===e)return!0;if(A!==fo)break}if(s===fo)for(var i=r;i>0;){i--;var a=n[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=r;l<=n.length;){l++;var A=n[l];if(A===e)return!0;if(A!==fo)break}if(a!==fo)break}return!1},S5=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===fo)r--;else return n}return 0},P8=function(t,e,r,n,s){if(r[n]===0)return Ot;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Ot;var A=i-1,a=i+1,l=e[i],c=A>=0?e[A]:0,h=e[a];if(l===LN&&h===jN)return Ot;if(Uy.indexOf(l)!==-1)return RN;if(Uy.indexOf(h)!==-1||ON.indexOf(h)!==-1)return Ot;if(S5(i,e)===PN)return vm;if(Ty.get(t[i])===Cy||(l===pm||l===gm)&&Ty.get(t[a])===Cy||l===b5||h===b5||l===C5||[fo,Ey,Od].indexOf(l)===-1&&h===C5||[mm,bd,S8,Ic,Nc].indexOf(h)!==-1||S5(i,e)===Cd||N1(_1,Cd,i,e)||N1([mm,bd],Iy,i,e)||N1(E5,E5,i,e))return Ot;if(l===fo)return vm;if(l===_1||h===_1)return Ot;if(h===_y||l===_y)return vm;if([Ey,Od,Iy].indexOf(h)!==-1||l===N8||c===Fy&&L8.indexOf(l)!==-1||l===Nc&&h===Fy||h===_5||VA.indexOf(h)!==-1&&l===Hs||VA.indexOf(l)!==-1&&h===Hs||l===Md&&[Kh,pm,gm].indexOf(h)!==-1||[Kh,pm,gm].indexOf(l)!==-1&&h===Hd||VA.indexOf(l)!==-1&&I5.indexOf(h)!==-1||I5.indexOf(l)!==-1&&VA.indexOf(h)!==-1||[Md,Hd].indexOf(l)!==-1&&(h===Hs||[Cd,Od].indexOf(h)!==-1&&e[a+1]===Hs)||[Cd,Od].indexOf(l)!==-1&&h===Hs||l===Hs&&[Hs,Nc,Ic].indexOf(h)!==-1)return Ot;if([Hs,Nc,Ic,mm,bd].indexOf(h)!==-1)for(var f=i;f>=0;){var p=e[f];if(p===Hs)return Ot;if([Nc,Ic].indexOf(p)!==-1)f--;else break}if([Md,Hd].indexOf(h)!==-1)for(var f=[mm,bd].indexOf(l)!==-1?A:i;f>=0;){var p=e[f];if(p===Hs)return Ot;if([Nc,Ic].indexOf(p)!==-1)f--;else break}if(ky===l&&[ky,ip,Ny,Sy].indexOf(h)!==-1||[ip,Ny].indexOf(l)!==-1&&[ip,Ap].indexOf(h)!==-1||[Ap,Sy].indexOf(l)!==-1&&h===Ap||N5.indexOf(l)!==-1&&[_5,Hd].indexOf(h)!==-1||N5.indexOf(h)!==-1&&l===Md||VA.indexOf(l)!==-1&&VA.indexOf(h)!==-1||l===Ic&&VA.indexOf(h)!==-1||VA.concat(Hs).indexOf(l)!==-1&&h===Cd&&U8.indexOf(t[a])===-1||VA.concat(Hs).indexOf(h)!==-1&&l===bd)return Ot;if(l===I1&&h===I1){for(var g=r[i],B=1;g>0&&(g--,e[g]===I1);)B++;if(B%2!==0)return Ot}return l===pm&&h===gm?Ot:vm},D8=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=j8(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Hs,Cl,DN].indexOf(a)!==-1?Kh:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,A]},R8=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===RN,this.start=n,this.end=s}return t.prototype.slice=function(){return Mr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),O8=function(t,e){var r=o0(t),n=D8(r,e),s=n[0],i=n[1],A=n[2],a=r.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var h=Ot;c<a&&(h=P8(r,i,s,++c,A))===Ot;);if(h!==Ot||c===a){var f=new R8(r,h,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},H8=1,M8=2,ff=4,F5=8,ig=10,k5=47,Ah=92,V8=9,K8=32,ym=34,Ed=61,z8=35,G8=36,q8=37,wm=39,xm=40,_d=41,W8=95,ws=45,$8=33,Y8=60,J8=62,X8=64,Z8=91,eO=93,tO=61,rO=123,Bm=63,nO=125,T5=124,sO=126,iO=128,U5=65533,S1=42,kl=43,AO=44,aO=58,oO=59,zh=46,lO=0,cO=8,uO=11,dO=14,hO=31,fO=127,oA=-1,HN=48,MN=97,VN=101,mO=102,pO=117,gO=122,KN=65,zN=69,GN=70,vO=85,yO=90,Wn=function(t){return t>=HN&&t<=57},wO=function(t){return t>=55296&&t<=57343},Sc=function(t){return Wn(t)||t>=KN&&t<=GN||t>=MN&&t<=mO},xO=function(t){return t>=MN&&t<=gO},BO=function(t){return t>=KN&&t<=yO},bO=function(t){return xO(t)||BO(t)},CO=function(t){return t>=iO},bm=function(t){return t===ig||t===V8||t===K8},Ag=function(t){return bO(t)||CO(t)||t===W8},Q5=function(t){return Ag(t)||Wn(t)||t===ws},EO=function(t){return t>=lO&&t<=cO||t===uO||t>=dO&&t<=hO||t===fO},ro=function(t,e){return t!==Ah?!1:e!==ig},Cm=function(t,e,r){return t===ws?Ag(e)||ro(e,r):Ag(t)?!0:!!(t===Ah&&ro(t,e))},F1=function(t,e,r){return t===kl||t===ws?Wn(e)?!0:e===zh&&Wn(r):Wn(t===zh?e:t)},_O=function(t){var e=0,r=1;(t[e]===kl||t[e]===ws)&&(t[e]===ws&&(r=-1),e++);for(var n=[];Wn(t[e]);)n.push(t[e++]);var s=n.length?parseInt(Mr.apply(void 0,n),10):0;t[e]===zh&&e++;for(var i=[];Wn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(Mr.apply(void 0,i),10):0;(t[e]===zN||t[e]===VN)&&e++;var l=1;(t[e]===kl||t[e]===ws)&&(t[e]===ws&&(l=-1),e++);for(var c=[];Wn(t[e]);)c.push(t[e++]);var h=c.length?parseInt(Mr.apply(void 0,c),10):0;return r*(s+a*Math.pow(10,-A))*Math.pow(10,l*h)},IO={type:2},NO={type:3},SO={type:4},FO={type:13},kO={type:8},TO={type:21},UO={type:9},QO={type:10},LO={type:11},jO={type:12},PO={type:14},Em={type:23},DO={type:1},RO={type:25},OO={type:24},HO={type:26},MO={type:27},VO={type:28},KO={type:29},zO={type:31},Qy={type:32},qN=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(o0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Qy;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ym:return this.consumeStringToken(ym);case z8:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Q5(r)||ro(n,s)){var i=Cm(r,n,s)?M8:H8,A=this.consumeName();return{type:5,value:A,flags:i}}break;case G8:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),FO;break;case wm:return this.consumeStringToken(wm);case xm:return IO;case _d:return NO;case S1:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),PO;break;case kl:if(F1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case AO:return SO;case ws:var a=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(F1(a,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Cm(a,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===ws&&c===J8)return this.consumeCodePoint(),this.consumeCodePoint(),OO;break;case zh:if(F1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case k5:if(this.peekCodePoint(0)===S1)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===S1&&(h=this.consumeCodePoint(),h===k5))return this.consumeToken();if(h===oA)return this.consumeToken()}break;case aO:return HO;case oO:return MO;case Y8:if(this.peekCodePoint(0)===$8&&this.peekCodePoint(1)===ws&&this.peekCodePoint(2)===ws)return this.consumeCodePoint(),this.consumeCodePoint(),RO;break;case X8:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Cm(f,p,g)){var A=this.consumeName();return{type:7,value:A}}break;case Z8:return VO;case Ah:if(ro(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case eO:return KO;case tO:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),kO;break;case rO:return LO;case nO:return jO;case pO:case vO:var B=this.peekCodePoint(0),E=this.peekCodePoint(1);return B===kl&&(Sc(E)||E===Bm)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case T5:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),UO;if(this.peekCodePoint(0)===T5)return this.consumeCodePoint(),TO;break;case sO:if(this.peekCodePoint(0)===Ed)return this.consumeCodePoint(),QO;break;case oA:return Qy}return bm(e)?(this.consumeWhiteSpace(),zO):Wn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ag(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Mr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Sc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Bm&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Mr.apply(void 0,e.map(function(l){return l===Bm?HN:l})),16),i=parseInt(Mr.apply(void 0,e.map(function(l){return l===Bm?GN:l})),16);return{type:30,start:s,end:i}}var A=parseInt(Mr.apply(void 0,e),16);if(this.peekCodePoint(0)===ws&&Sc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var a=[];Sc(r)&&a.length<6;)a.push(r),r=this.consumeCodePoint();var i=parseInt(Mr.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===xm?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===xm?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===wm||r===ym){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oA||this.peekCodePoint(0)===_d)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Em)}for(;;){var s=this.consumeCodePoint();if(s===oA||s===_d)return{type:22,value:Mr.apply(void 0,e)};if(bm(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oA||this.peekCodePoint(0)===_d?(this.consumeCodePoint(),{type:22,value:Mr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Em);if(s===ym||s===wm||s===xm||EO(s))return this.consumeBadUrlRemnants(),Em;if(s===Ah)if(ro(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Em;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;bm(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===_d||e===oA)return;ro(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=Mr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===oA||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===ig)return this._value.splice(0,n),DO;if(s===Ah){var i=this._value[n+1];i!==oA&&i!==void 0&&(i===ig?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ro(s,i)&&(r+=this.consumeStringSlice(n),r+=Mr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=ff,n=this.peekCodePoint(0);for((n===kl||n===ws)&&e.push(this.consumeCodePoint());Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===zh&&Wn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=F5;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===zN||n===VN)&&((s===kl||s===ws)&&Wn(i)||Wn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=F5;Wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[_O(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Cm(s,i,A)){var a=this.consumeName();return{type:15,number:r,flags:n,unit:a}}return s===q8?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Sc(e)){for(var r=Mr(e);Sc(this.peekCodePoint(0))&&r.length<6;)r+=Mr(this.consumeCodePoint());bm(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||wO(n)||n>1114111?U5:n}return e===oA?U5:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Q5(r))e+=Mr(r);else if(ro(r,this.peekCodePoint(0)))e+=Mr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),WN=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new qN;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||qO(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Qy:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),mf=function(t){return t.type===15},$u=function(t){return t.type===17},or=function(t){return t.type===20},GO=function(t){return t.type===0},Ly=function(t,e){return or(t)&&t.value===e},$N=function(t){return t.type!==31},ju=function(t){return t.type!==31&&t.type!==4},BA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},qO=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ho=function(t){return t.type===17||t.type===15},rn=function(t){return t.type===16||Ho(t)},YN=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Sn={type:17,number:0,flags:ff},X2={type:16,number:50,flags:ff},mo={type:16,number:100,flags:ff},Vd=function(t,e,r){var n=t[0],s=t[1];return[mr(n,e),mr(typeof s<"u"?s:n,r)]},mr=function(t,e){if(t.type===16)return t.number/100*e;if(mf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},JN="deg",XN="grad",ZN="rad",eS="turn",l0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case JN:return Math.PI*e.number/180;case XN:return Math.PI/200*e.number;case ZN:return e.number;case eS:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},tS=function(t){return t.type===15&&(t.unit===JN||t.unit===XN||t.unit===ZN||t.unit===eS)},rS=function(t){var e=t.filter(or).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Sn,Sn];case"to top":case"bottom":return ci(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Sn,mo];case"to right":case"left":return ci(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[mo,mo];case"to bottom":case"top":return ci(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[mo,Sn];case"to left":case"right":return ci(270)}return 0},ci=function(t){return Math.PI*t/180},Uo={name:"color",parse:function(t,e){if(e.type===18){var r=WO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return po(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return po(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return po(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return po(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=ra[e.value.toUpperCase()];if(typeof a<"u")return a}return ra.TRANSPARENT}},Qo=function(t){return(255&t)===0},fn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},po=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},L5=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},j5=function(t,e){var r=e.filter(ju);if(r.length===3){var n=r.map(L5),s=n[0],i=n[1],A=n[2];return po(s,i,A,1)}if(r.length===4){var a=r.map(L5),s=a[0],i=a[1],A=a[2],l=a[3];return po(s,i,A,l)}return 0};function k1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var P5=function(t,e){var r=e.filter(ju),n=r[0],s=r[1],i=r[2],A=r[3],a=(n.type===17?ci(n.number):l0.parse(t,n))/(Math.PI*2),l=rn(s)?s.number/100:0,c=rn(i)?i.number/100:0,h=typeof A<"u"&&rn(A)?mr(A,1):1;if(l===0)return po(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,g=k1(p,f,a+1/3),B=k1(p,f,a),E=k1(p,f,a-1/3);return po(g*255,B*255,E*255,h)},WO={hsl:P5,hsla:P5,rgb:j5,rgba:j5},ah=function(t,e){return Uo.parse(t,WN.create(e).parseComponentValue())},ra={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$O={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},YO={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},c0=function(t,e){var r=Uo.parse(t,e[0]),n=e[1];return n&&rn(n)?{color:r,stop:n}:{color:r,stop:null}},D5=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Sn),n.stop===null&&(n.stop=mo);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var l=mr(a,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var h=s[A];if(h===null)c===null&&(c=A);else if(c!==null){for(var f=A-c,p=s[c-1],g=(h-p)/(f+1),B=1;B<=f;B++)s[c+B-1]=g*B;c=null}}return t.map(function(E,I){var w=E.color;return{color:w,stop:Math.max(Math.min(1,s[I]/e),0)}})},JO=function(t,e,r){var n=e/2,s=r/2,i=mr(t[0],e)-n,A=s-mr(t[1],r);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},XO=function(t,e,r){var n=typeof t=="number"?t:JO(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,A=r/2,a=s/2,l=Math.sin(n-Math.PI/2)*a,c=Math.cos(n-Math.PI/2)*a;return[s,i-c,i+c,A-l,A+l]},ki=function(t,e){return Math.sqrt(t*t+e*e)},R5=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var l=a[0],c=a[1],h=ki(r-l,n-c);return(s?h<A.optimumDistance:h>A.optimumDistance)?{optimumCorner:a,optimumDistance:h}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},ZO=function(t,e,r,n,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=A=Math.min(ki(e,r),ki(e,r-s),ki(e-n,r),ki(e-n,r-s));else if(t.shape===1){var a=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=R5(n,s,e,r,!0),c=l[0],h=l[1];i=ki(c-e,(h-r)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=A=Math.max(ki(e,r),ki(e,r-s),ki(e-n,r),ki(e-n,r-s));else if(t.shape===1){var a=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),f=R5(n,s,e,r,!1),c=f[0],h=f[1];i=ki(c-e,(h-r)/a),A=a*i}break}return Array.isArray(t.size)&&(i=mr(t.size[0],n),A=t.size.length===2?mr(t.size[1],s):i),[i,A]},eH=function(t,e){var r=ci(180),n=[];return BA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){r=rS(s);return}else if(tS(A)){r=l0.parse(t,A);return}}var a=c0(t,s);n.push(a)}),{angle:r,stops:n,type:1}},_m=function(t,e){var r=ci(180),n=[];return BA(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=rS(s);return}else if(tS(A)){r=(l0.parse(t,A)+ci(270))%ci(360);return}}var a=c0(t,s);n.push(a)}),{angle:r,stops:n,type:1}},tH=function(t,e){var r=ci(180),n=[],s=1,i=0,A=3,a=[];return BA(e).forEach(function(l,c){var h=l[0];if(c===0){if(or(h)&&h.value==="linear"){s=1;return}else if(or(h)&&h.value==="radial"){s=2;return}}if(h.type===18){if(h.name==="from"){var f=Uo.parse(t,h.values[0]);n.push({stop:Sn,color:f})}else if(h.name==="to"){var f=Uo.parse(t,h.values[0]);n.push({stop:mo,color:f})}else if(h.name==="color-stop"){var p=h.values.filter(ju);if(p.length===2){var f=Uo.parse(t,p[1]),g=p[0];$u(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:f})}}}}),s===1?{angle:(r+ci(180))%ci(360),stops:n,type:s}:{size:A,shape:i,stops:n,position:a,type:s}},nS="closest-side",sS="farthest-side",iS="closest-corner",AS="farthest-corner",aS="circle",oS="ellipse",lS="cover",cS="contain",rH=function(t,e){var r=0,n=3,s=[],i=[];return BA(e).forEach(function(A,a){var l=!0;if(a===0){var c=!1;l=A.reduce(function(f,p){if(c)if(or(p))switch(p.value){case"center":return i.push(X2),f;case"top":case"left":return i.push(Sn),f;case"right":case"bottom":return i.push(mo),f}else(rn(p)||Ho(p))&&i.push(p);else if(or(p))switch(p.value){case aS:return r=0,!1;case oS:return r=1,!1;case"at":return c=!0,!1;case nS:return n=0,!1;case lS:case sS:return n=1,!1;case cS:case iS:return n=2,!1;case AS:return n=3,!1}else if(Ho(p)||rn(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return f},l)}if(l){var h=c0(t,A);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},Im=function(t,e){var r=0,n=3,s=[],i=[];return BA(e).forEach(function(A,a){var l=!0;if(a===0?l=A.reduce(function(h,f){if(or(f))switch(f.value){case"center":return i.push(X2),!1;case"top":case"left":return i.push(Sn),!1;case"right":case"bottom":return i.push(mo),!1}else if(rn(f)||Ho(f))return i.push(f),!1;return h},l):a===1&&(l=A.reduce(function(h,f){if(or(f))switch(f.value){case aS:return r=0,!1;case oS:return r=1,!1;case cS:case nS:return n=0,!1;case sS:return n=1,!1;case iS:return n=2,!1;case lS:case AS:return n=3,!1}else if(Ho(f)||rn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return h},l)),l){var c=c0(t,A);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},nH=function(t){return t.type===1},sH=function(t){return t.type===2},Z2={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=uS[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function iH(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!uS[t.name])}var uS={"linear-gradient":eH,"-moz-linear-gradient":_m,"-ms-linear-gradient":_m,"-o-linear-gradient":_m,"-webkit-linear-gradient":_m,"radial-gradient":rH,"-moz-radial-gradient":Im,"-ms-radial-gradient":Im,"-o-radial-gradient":Im,"-webkit-radial-gradient":Im,"-webkit-gradient":tH},AH={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return ju(n)&&iH(n)}).map(function(n){return Z2.parse(t,n)})}},aH={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oH={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return BA(e).map(function(r){return r.filter(rn)}).map(YN)}},lH={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return BA(e).map(function(r){return r.filter(or).map(function(n){return n.value}).join(" ")}).map(cH)}},cH=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},fu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(fu||(fu={}));var uH={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return BA(e).map(function(r){return r.filter(dH)})}},dH=function(t){return or(t)||rn(t)},u0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},hH=u0("top"),fH=u0("right"),mH=u0("bottom"),pH=u0("left"),d0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return YN(r.filter(rn))}}},gH=d0("top-left"),vH=d0("top-right"),yH=d0("bottom-right"),wH=d0("bottom-left"),h0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},xH=h0("top"),BH=h0("right"),bH=h0("bottom"),CH=h0("left"),f0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return mf(r)?r.number:0}}},EH=f0("top"),_H=f0("right"),IH=f0("bottom"),NH=f0("left"),SH={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},FH={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},kH={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(or).reduce(function(r,n){return r|TH(n.value)},0)}},TH=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},UH={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},QH={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},ag;(function(t){t.NORMAL="normal",t.STRICT="strict"})(ag||(ag={}));var LH={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return ag.STRICT;case"normal":default:return ag.NORMAL}}},jH={name:"line-height",initialValue:"normal",prefix:!1,type:4},O5=function(t,e){return or(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:rn(t)?mr(t,e):e},PH={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Z2.parse(t,e)}},DH={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},jy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},m0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},RH=m0("top"),OH=m0("right"),HH=m0("bottom"),MH=m0("left"),VH={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(or).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},KH={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},p0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zH=p0("top"),GH=p0("right"),qH=p0("bottom"),WH=p0("left"),$H={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},YH={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},JH={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ly(e[0],"none")?[]:BA(e).map(function(r){for(var n={color:ra.TRANSPARENT,offsetX:Sn,offsetY:Sn,blur:Sn},s=0,i=0;i<r.length;i++){var A=r[i];Ho(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:n.blur=A,s++):n.color=Uo.parse(t,A)}return n})}},XH={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ZH={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=rM[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},eM=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},tM=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[r,n,s,i,A,a]:null},rM={matrix:eM,matrix3d:tM},H5={type:16,number:50,flags:ff},nM=[H5,H5],sM={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(rn);return r.length!==2?nM:[r[0],r[1]]}},iM={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},oh;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(oh||(oh={}));var AM={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return oh.BREAK_ALL;case"keep-all":return oh.KEEP_ALL;case"normal":default:return oh.NORMAL}}},aM={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if($u(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},dS={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},oM={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return $u(e)?e.number:1}},lM={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cM={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(or).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},uM={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},dM={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},hM={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if($u(e))return e.number;if(or(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},fM={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(or).map(function(r){return r.value})}},mM={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},cn=function(t,e){return(t&e)!==0},pM={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},gM={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter($N),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var l=a&&$u(a)?a.number:1;n.push({counter:A.value,increment:l})}}return n}},vM={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter($N),s=0;s<n.length;s++){var i=n[s],A=n[s+1];if(or(i)&&i.value!=="none"){var a=A&&$u(A)?A.number:0;r.push({counter:i.value,reset:a})}}return r}},yM={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(mf).map(function(r){return dS.parse(t,r)})}},wM={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(GO);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;n.push({open:A,close:a})}return n}},M5=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},xM={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ly(e[0],"none")?[]:BA(e).map(function(r){for(var n={color:255,offsetX:Sn,offsetY:Sn,blur:Sn,spread:Sn,inset:!1},s=0,i=0;i<r.length;i++){var A=r[i];Ly(A,"inset")?n.inset=!0:Ho(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:s===2?n.blur=A:n.spread=A,s++):n.color=Uo.parse(t,A)}return n})}},BM={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(or).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},bM={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},CM={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return mf(e)?e.number:0}},EM=function(){function t(e,r){var n,s;this.animationDuration=st(e,yM,r.animationDuration),this.backgroundClip=st(e,$O,r.backgroundClip),this.backgroundColor=st(e,YO,r.backgroundColor),this.backgroundImage=st(e,AH,r.backgroundImage),this.backgroundOrigin=st(e,aH,r.backgroundOrigin),this.backgroundPosition=st(e,oH,r.backgroundPosition),this.backgroundRepeat=st(e,lH,r.backgroundRepeat),this.backgroundSize=st(e,uH,r.backgroundSize),this.borderTopColor=st(e,hH,r.borderTopColor),this.borderRightColor=st(e,fH,r.borderRightColor),this.borderBottomColor=st(e,mH,r.borderBottomColor),this.borderLeftColor=st(e,pH,r.borderLeftColor),this.borderTopLeftRadius=st(e,gH,r.borderTopLeftRadius),this.borderTopRightRadius=st(e,vH,r.borderTopRightRadius),this.borderBottomRightRadius=st(e,yH,r.borderBottomRightRadius),this.borderBottomLeftRadius=st(e,wH,r.borderBottomLeftRadius),this.borderTopStyle=st(e,xH,r.borderTopStyle),this.borderRightStyle=st(e,BH,r.borderRightStyle),this.borderBottomStyle=st(e,bH,r.borderBottomStyle),this.borderLeftStyle=st(e,CH,r.borderLeftStyle),this.borderTopWidth=st(e,EH,r.borderTopWidth),this.borderRightWidth=st(e,_H,r.borderRightWidth),this.borderBottomWidth=st(e,IH,r.borderBottomWidth),this.borderLeftWidth=st(e,NH,r.borderLeftWidth),this.boxShadow=st(e,xM,r.boxShadow),this.color=st(e,SH,r.color),this.direction=st(e,FH,r.direction),this.display=st(e,kH,r.display),this.float=st(e,UH,r.cssFloat),this.fontFamily=st(e,uM,r.fontFamily),this.fontSize=st(e,dM,r.fontSize),this.fontStyle=st(e,mM,r.fontStyle),this.fontVariant=st(e,fM,r.fontVariant),this.fontWeight=st(e,hM,r.fontWeight),this.letterSpacing=st(e,QH,r.letterSpacing),this.lineBreak=st(e,LH,r.lineBreak),this.lineHeight=st(e,jH,r.lineHeight),this.listStyleImage=st(e,PH,r.listStyleImage),this.listStylePosition=st(e,DH,r.listStylePosition),this.listStyleType=st(e,jy,r.listStyleType),this.marginTop=st(e,RH,r.marginTop),this.marginRight=st(e,OH,r.marginRight),this.marginBottom=st(e,HH,r.marginBottom),this.marginLeft=st(e,MH,r.marginLeft),this.opacity=st(e,oM,r.opacity);var i=st(e,VH,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=st(e,KH,r.overflowWrap),this.paddingTop=st(e,zH,r.paddingTop),this.paddingRight=st(e,GH,r.paddingRight),this.paddingBottom=st(e,qH,r.paddingBottom),this.paddingLeft=st(e,WH,r.paddingLeft),this.paintOrder=st(e,BM,r.paintOrder),this.position=st(e,YH,r.position),this.textAlign=st(e,$H,r.textAlign),this.textDecorationColor=st(e,lM,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=st(e,cM,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=st(e,JH,r.textShadow),this.textTransform=st(e,XH,r.textTransform),this.transform=st(e,ZH,r.transform),this.transformOrigin=st(e,sM,r.transformOrigin),this.visibility=st(e,iM,r.visibility),this.webkitTextStrokeColor=st(e,bM,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=st(e,CM,r.webkitTextStrokeWidth),this.wordBreak=st(e,AM,r.wordBreak),this.zIndex=st(e,aM,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Qo(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return cn(this.display,4)||cn(this.display,33554432)||cn(this.display,268435456)||cn(this.display,536870912)||cn(this.display,67108864)||cn(this.display,134217728)},t}(),_M=function(){function t(e,r){this.content=st(e,pM,r.content),this.quotes=st(e,wM,r.quotes)}return t}(),V5=function(){function t(e,r){this.counterIncrement=st(e,gM,r.counterIncrement),this.counterReset=st(e,vM,r.counterReset)}return t}(),st=function(t,e,r){var n=new qN,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new WN(n.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,or(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return l0.parse(t,i.parseComponentValue());case"color":return Uo.parse(t,i.parseComponentValue());case"image":return Z2.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return Ho(a)?a:Sn;case"length-percentage":var l=i.parseComponentValue();return rn(l)?l:Sn;case"time":return dS.parse(t,i.parseComponentValue())}break}},IM="data-html2canvas-debug",NM=function(t){var e=t.getAttribute(IM);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Py=function(t,e){var r=NM(t);return r===1||e===r},bA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Py(r,3))debugger;this.styles=new EM(e,window.getComputedStyle(r,null)),Oy(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=a0(this.context,r),Py(r,4)&&(this.flags|=16)}return t}(),SM="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",K5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nm=0;Nm<K5.length;Nm++)Kd[K5.charCodeAt(Nm)]=Nm;var FM=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=Kd[t.charCodeAt(n)],A=Kd[t.charCodeAt(n+1)],a=Kd[t.charCodeAt(n+2)],l=Kd[t.charCodeAt(n+3)],h[s++]=i<<2|A>>4,h[s++]=(A&15)<<4|a>>2,h[s++]=(a&3)<<6|l&63;return c},kM=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},TM=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Pl=5,ex=11,T1=2,UM=ex-Pl,hS=65536>>Pl,QM=1<<Pl,U1=QM-1,LM=1024>>Pl,jM=hS+LM,PM=jM,DM=32,RM=PM+DM,OM=65536>>ex,HM=1<<UM,MM=HM-1,z5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},VM=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},KM=function(t,e){var r=FM(t),n=Array.isArray(r)?TM(r):new Uint32Array(r),s=Array.isArray(r)?kM(r):new Uint16Array(r),i=24,A=z5(s,i/2,n[4]/2),a=n[5]===2?z5(s,(i+n[4])/2):VM(n,Math.ceil((i+n[4])/4));return new zM(n[0],n[1],n[2],n[3],A,a)},zM=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Pl],r=(r<<T1)+(e&U1),this.data[r];if(e<=65535)return r=this.index[hS+(e-55296>>Pl)],r=(r<<T1)+(e&U1),this.data[r];if(e<this.highStart)return r=RM-OM+(e>>ex),r=this.index[r],r+=e>>Pl&MM,r=this.index[r],r=(r<<T1)+(e&U1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),G5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sm=0;Sm<G5.length;Sm++)GM[G5.charCodeAt(Sm)]=Sm;var qM=1,Q1=2,L1=3,q5=4,W5=5,WM=7,$5=8,j1=9,P1=10,Y5=11,J5=12,X5=13,Z5=14,D1=15,$M=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},YM=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},JM=KM(SM),ii="×",R1="÷",XM=function(t){return JM.get(t)},ZM=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],A=e[r];if(i===Q1&&A===L1)return ii;if(i===Q1||i===L1||i===q5||A===Q1||A===L1||A===q5)return R1;if(i===$5&&[$5,j1,Y5,J5].indexOf(A)!==-1||(i===Y5||i===j1)&&(A===j1||A===P1)||(i===J5||i===P1)&&A===P1||A===X5||A===W5||A===WM||i===qM)return ii;if(i===X5&&A===Z5){for(;s===W5;)s=e[--n];if(s===Z5)return ii}if(i===D1&&A===D1){for(var a=0;s===D1;)a++,s=e[--n];if(a%2===0)return ii}return R1},e7=function(t){var e=$M(t),r=e.length,n=0,s=0,i=e.map(XM);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=ii;n<r&&(A=ZM(e,i,++n))===ii;);if(A!==ii||n===r){var a=YM.apply(null,e.slice(s,n));return s=n,{value:a,done:!1}}return{done:!0,value:null}}}},t7=function(t){for(var e=e7(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},r7=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},n7=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=o0(n.data).map(function(l){return Mr(l)}),i=0,A={},a=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var h=r.getBoundingClientRect();i+=l.length;var f=h.x>A.x||h.y>A.y;return A=h,c===0?!0:f});return t.body.removeChild(e),a},s7=function(){return typeof new Image().crossOrigin<"u"},i7=function(){return typeof new XMLHttpRequest().responseType=="string"},A7=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},eC=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},a7=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var A=Dy(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),tC(A).then(function(a){n.drawImage(a,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",eC(l)?tC(Dy(r,r,0,0,c)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),eC(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Dy=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},tC=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},_n={get SUPPORT_RANGE_BOUNDS(){var t=r7(document);return Object.defineProperty(_n,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=_n.SUPPORT_RANGE_BOUNDS&&n7(document);return Object.defineProperty(_n,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=A7(document);return Object.defineProperty(_n,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?a7(document):Promise.resolve(!1);return Object.defineProperty(_n,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=s7();return Object.defineProperty(_n,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=i7();return Object.defineProperty(_n,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(_n,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(_n,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},lh=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),o7=function(t,e,r,n){var s=u7(e,r),i=[],A=0;return s.forEach(function(a){if(r.textDecorationLine.length||a.trim().length>0)if(_n.SUPPORT_RANGE_BOUNDS){var l=rC(n,A,a.length).getClientRects();if(l.length>1){var c=tx(a),h=0;c.forEach(function(p){i.push(new lh(p,da.fromDOMRectList(t,rC(n,h+A,p.length).getClientRects()))),h+=p.length})}else i.push(new lh(a,da.fromDOMRectList(t,l)))}else{var f=n.splitText(a.length);i.push(new lh(a,l7(t,n))),n=f}else _n.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));A+=a.length}),i},l7=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=a0(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return da.EMPTY},rC=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},tx=function(t){if(_n.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return t7(t)},c7=function(t,e){if(_n.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return h7(t,e)},u7=function(t,e){return e.letterSpacing!==0?tx(t):c7(t,e)},d7=[32,160,4961,65792,65793,4153,4241],h7=function(t,e){for(var r=O8(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var A=s.value.slice(),a=o0(A),l="";a.forEach(function(c){d7.indexOf(c)===-1?l+=Mr(c):(l.length&&n.push(l),n.push(Mr(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},f7=function(){function t(e,r,n){this.text=m7(r.data,n.textTransform),this.textBounds=o7(e,this.text,n,r)}return t}(),m7=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(p7,g7);case 2:return t.toUpperCase();default:return t}},p7=/(^|\s|:|-|\(|\))([a-z])/g,g7=function(t,e,r){return t.length>0?e+r.toUpperCase():t},fS=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(bA),mS=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(bA),pS=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,A=a0(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(bA),gS=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(bA),Ry=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(bA),v7=[{type:15,flags:0,unit:"px",number:3}],y7=[{type:16,flags:0,number:50}],w7=function(t){return t.width>t.height?new da(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new da(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},x7=function(t){var e=t.type===B7?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},og="checkbox",lg="radio",B7="password",nC=707406591,rx=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=x7(n),(s.type===og||s.type===lg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=w7(s.bounds)),s.type){case og:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=v7;break;case lg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=y7;break}return s}return e}(bA),vS=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(bA),yS=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(bA),wS=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=BS(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ah(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ra.TRANSPARENT,A=n.contentWindow.document.body?ah(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ra.TRANSPARENT;s.backgroundColor=Qo(i)?Qo(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(bA),b7=["OL","UL","MENU"],ap=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,bS(s)&&s.data.trim().length>0)r.textNodes.push(new f7(t,s,r.styles));else if(tu(s))if(IS(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return ap(t,a,r,n)});else{var A=xS(t,s);A.styles.isVisible()&&(C7(s,A,n)?A.flags|=4:E7(A.styles)&&(A.flags|=2),b7.indexOf(s.tagName)!==-1&&(A.flags|=8),r.elements.push(A),s.slot,s.shadowRoot?ap(t,s.shadowRoot,A,n):!cg(s)&&!CS(s)&&!ug(s)&&ap(t,s,A,n))}},xS=function(t,e){return Hy(e)?new fS(t,e):ES(e)?new mS(t,e):CS(e)?new pS(t,e):_7(e)?new gS(t,e):I7(e)?new Ry(t,e):N7(e)?new rx(t,e):ug(e)?new vS(t,e):cg(e)?new yS(t,e):_S(e)?new wS(t,e):new bA(t,e)},BS=function(t,e){var r=xS(t,e);return r.flags|=4,ap(t,e,r,r),r},C7=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||nx(t)&&r.styles.isTransparent()},E7=function(t){return t.isPositioned()||t.isFloating()},bS=function(t){return t.nodeType===Node.TEXT_NODE},tu=function(t){return t.nodeType===Node.ELEMENT_NODE},Oy=function(t){return tu(t)&&typeof t.style<"u"&&!op(t)},op=function(t){return typeof t.className=="object"},_7=function(t){return t.tagName==="LI"},I7=function(t){return t.tagName==="OL"},N7=function(t){return t.tagName==="INPUT"},S7=function(t){return t.tagName==="HTML"},CS=function(t){return t.tagName==="svg"},nx=function(t){return t.tagName==="BODY"},ES=function(t){return t.tagName==="CANVAS"},sC=function(t){return t.tagName==="VIDEO"},Hy=function(t){return t.tagName==="IMG"},_S=function(t){return t.tagName==="IFRAME"},iC=function(t){return t.tagName==="STYLE"},F7=function(t){return t.tagName==="SCRIPT"},cg=function(t){return t.tagName==="TEXTAREA"},ug=function(t){return t.tagName==="SELECT"},IS=function(t){return t.tagName==="SLOT"},AC=function(t){return t.tagName.indexOf("-")>0},k7=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(a){var l=r.counters[a.counter];l&&a.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var l=r.counters[a.counter];A.push(a.counter),l||(l=r.counters[a.counter]=[]),l.push(a.reset)}),A},t}(),aC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},oC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},T7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},U7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Fc=function(t,e,r,n,s,i){return t<e||t>r?Gh(t,s,i.length>0):n.integers.reduce(function(A,a,l){for(;t>=a;)t-=a,A+=n.values[l];return A},"")+i},NS=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},Hr=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(NS(Math.abs(t),i,n,function(A){return Mr(Math.floor(A%i)+e)})+s)},yl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return NS(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Dc=1,Xa=2,Za=4,zd=8,KA=function(t,e,r,n,s,i){if(t<-9999||t>9999)return Gh(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var l=0;A>0&&l<=4;l++){var c=A%10;c===0&&cn(i,Dc)&&a!==""?a=e[c]+a:c>1||c===1&&l===0||c===1&&l===1&&cn(i,Xa)||c===1&&l===1&&cn(i,Za)&&t>100||c===1&&l>1&&cn(i,zd)?a=e[c]+(l>0?r[l-1]:"")+a:c===1&&l>0&&(a=r[l-1]+a),A=Math.floor(A/10)}return(t<0?n:"")+a},lC="十百千萬",cC="拾佰仟萬",uC="マイナス",O1="마이너스",Gh=function(t,e,r){var n=r?". ":"",s=r?"、":"",i=r?", ":"",A=r?" ":"";switch(e){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var a=Hr(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return yl(t,"〇一二三四五六七八九",s);case 6:return Fc(t,1,3999,aC,3,n).toLowerCase();case 7:return Fc(t,1,3999,aC,3,n);case 8:return Hr(t,945,969,!1,n);case 9:return Hr(t,97,122,!1,n);case 10:return Hr(t,65,90,!1,n);case 11:return Hr(t,1632,1641,!0,n);case 12:case 49:return Fc(t,1,9999,oC,3,n);case 35:return Fc(t,1,9999,oC,3,n).toLowerCase();case 13:return Hr(t,2534,2543,!0,n);case 14:case 30:return Hr(t,6112,6121,!0,n);case 15:return yl(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return yl(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return KA(t,"零一二三四五六七八九",lC,"負",s,Xa|Za|zd);case 47:return KA(t,"零壹貳參肆伍陸柒捌玖",cC,"負",s,Dc|Xa|Za|zd);case 42:return KA(t,"零一二三四五六七八九",lC,"负",s,Xa|Za|zd);case 41:return KA(t,"零壹贰叁肆伍陆柒捌玖",cC,"负",s,Dc|Xa|Za|zd);case 26:return KA(t,"〇一二三四五六七八九","十百千万",uC,s,0);case 25:return KA(t,"零壱弐参四伍六七八九","拾百千万",uC,s,Dc|Xa|Za);case 31:return KA(t,"영일이삼사오육칠팔구","십백천만",O1,i,Dc|Xa|Za);case 33:return KA(t,"零一二三四五六七八九","十百千萬",O1,i,0);case 32:return KA(t,"零壹貳參四五六七八九","拾百千",O1,i,Dc|Xa|Za);case 18:return Hr(t,2406,2415,!0,n);case 20:return Fc(t,1,19999,U7,3,n);case 21:return Hr(t,2790,2799,!0,n);case 22:return Hr(t,2662,2671,!0,n);case 22:return Fc(t,1,10999,T7,3,n);case 23:return yl(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return yl(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Hr(t,3302,3311,!0,n);case 28:return yl(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return yl(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Hr(t,3792,3801,!0,n);case 37:return Hr(t,6160,6169,!0,n);case 38:return Hr(t,4160,4169,!0,n);case 39:return Hr(t,2918,2927,!0,n);case 40:return Hr(t,1776,1785,!0,n);case 43:return Hr(t,3046,3055,!0,n);case 44:return Hr(t,3174,3183,!0,n);case 45:return Hr(t,3664,3673,!0,n);case 46:return Hr(t,3872,3881,!0,n);case 3:default:return Hr(t,48,57,!0,n)}},SS="data-html2canvas-ignore",dC=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new k7,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=Q7(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,l=a.document,c=P7(s).then(function(){return os(n,void 0,void 0,function(){var h,f;return Gn(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(H7),a&&(a.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==r.top||a.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-r.left,a.scrollY-r.top,0,0))),h=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,j7(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(l,f)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(R7(document.doctype)+"<html></html>"),O7(this.referenceElement.ownerDocument,i,A),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(Py(e,2))debugger;if(ES(e))return this.createCanvasClone(e);if(sC(e))return this.createVideoClone(e);if(iC(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Hy(r)&&(Hy(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),AC(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return H1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!tu(r)||!F7(r)&&!r.hasAttribute(SS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!tu(r)||!iC(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(tu(i)&&IS(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(r,a,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(bS(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&tu(e)&&(Oy(e)||op(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&Oy(s)&&(this.clonedReferenceElement=s),nx(s)&&K7(s);var l=this.counters.parse(new V5(this.context,i)),c=this.resolvePseudoContent(e,s,A,ch.BEFORE);AC(e)&&(r=!0),sC(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var h=this.resolvePseudoContent(e,s,a,ch.AFTER);return h&&s.appendChild(h),this.counters.pop(l),(i&&(this.options.copyStyles||op(e))&&!_S(e)||r)&&H1(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(cg(e)||ug(e))&&(cg(s)||ug(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var A=n.content,a=r.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new V5(this.context,n));var l=new _M(this.context,n),c=a.createElement("html2canvaspseudoelement");H1(n,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(a.createTextNode(f.value));else if(f.type===22){var p=a.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var g=f.values.filter(or);g.length&&c.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(f.name==="counter"){var B=f.values.filter(ju),E=B[0],I=B[1];if(E&&or(E)){var w=i.counters.getCounterValue(E.value),y=I&&or(I)?jy.parse(i.context,I.value):3;c.appendChild(a.createTextNode(Gh(w,y,!1)))}}else if(f.name==="counters"){var _=f.values.filter(ju),E=_[0],P=_[1],I=_[2];if(E&&or(E)){var H=i.counters.getCounterValues(E.value),W=I&&or(I)?jy.parse(i.context,I.value):3,T=P&&P.type===0?P.value:"",b=H.map(function(N){return Gh(N,W,!1)}).join(T);c.appendChild(a.createTextNode(b))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(a.createTextNode(M5(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(M5(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(f.value))}}),c.className=My+" "+Vy;var h=s===ch.BEFORE?" "+My:" "+Vy;return op(r)?r.className.baseValue+=h:r.className+=h,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),ch;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ch||(ch={}));var Q7=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(SS,"true"),t.body.appendChild(r),r},L7=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},j7=function(t){return Promise.all([].slice.call(t.images,0).map(L7))},P7=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},D7=["all","d","content"],H1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);D7.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},R7=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},O7=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},H7=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},M7=":before",V7=":after",My="___html2canvas___pseudoelement_before",Vy="___html2canvas___pseudoelement_after",hC=`{
    content: "" !important;
    display: none !important;
}`,K7=function(t){z7(t,"."+My+M7+hC+`
         .`+Vy+V7+hC)},z7=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},FS=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),G7=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(V1(e)||Y7(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return os(this,void 0,void 0,function(){var r,n,s,i,A=this;return Gn(this,function(a){switch(a.label){case 0:return r=FS.isSameOrigin(e),n=!M1(e)&&this._options.useCORS===!0&&_n.SUPPORT_CORS_IMAGES&&!r,s=!M1(e)&&!r&&!V1(e)&&typeof this._options.proxy=="string"&&_n.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!M1(e)&&!V1(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var h=new Image;h.onload=function(){return l(h)},h.onerror=c,(J7(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return l(h)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=_n.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")i(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(p){return A(p)},!1),f.readAsDataURL(l.response)}else A("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=A;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),r._options.imageTimeout){var h=r._options.imageTimeout;l.timeout=h,l.ontimeout=function(){return A("Timed out ("+h+"ms) proxying "+s)}}l.send()})},t}(),q7=/^data:image\/svg\+xml/i,W7=/^data:image\/.*;base64,/i,$7=/^data:image\/.*/i,Y7=function(t){return _n.SUPPORT_SVG_DRAWING||!X7(t)},M1=function(t){return $7.test(t)},J7=function(t){return W7.test(t)},V1=function(t){return t.substr(0,4)==="blob"},X7=function(t){return t.substr(-3).toLowerCase()==="svg"||q7.test(t)},Ze=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),kc=function(t,e,r){return new Ze(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Fm=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=kc(this.start,this.startControl,e),s=kc(this.startControl,this.endControl,e),i=kc(this.endControl,this.end,e),A=kc(n,s,e),a=kc(s,i,e),l=kc(A,a,e);return r?new t(this.start,n,A,l):new t(l,a,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),oi=function(t){return t.type===1},Z7=function(){function t(e){var r=e.styles,n=e.bounds,s=Vd(r.borderTopLeftRadius,n.width,n.height),i=s[0],A=s[1],a=Vd(r.borderTopRightRadius,n.width,n.height),l=a[0],c=a[1],h=Vd(r.borderBottomRightRadius,n.width,n.height),f=h[0],p=h[1],g=Vd(r.borderBottomLeftRadius,n.width,n.height),B=g[0],E=g[1],I=[];I.push((i+l)/n.width),I.push((B+f)/n.width),I.push((A+E)/n.height),I.push((c+p)/n.height);var w=Math.max.apply(Math,I);w>1&&(i/=w,A/=w,l/=w,c/=w,f/=w,p/=w,B/=w,E/=w);var y=n.width-l,_=n.height-p,P=n.width-f,H=n.height-E,W=r.borderTopWidth,T=r.borderRightWidth,b=r.borderBottomWidth,k=r.borderLeftWidth,j=mr(r.paddingTop,e.bounds.width),N=mr(r.paddingRight,e.bounds.width),Q=mr(r.paddingBottom,e.bounds.width),F=mr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?Cr(n.left+k/3,n.top+W/3,i-k/3,A-W/3,Zt.TOP_LEFT):new Ze(n.left+k/3,n.top+W/3),this.topRightBorderDoubleOuterBox=i>0||A>0?Cr(n.left+y,n.top+W/3,l-T/3,c-W/3,Zt.TOP_RIGHT):new Ze(n.left+n.width-T/3,n.top+W/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?Cr(n.left+P,n.top+_,f-T/3,p-b/3,Zt.BOTTOM_RIGHT):new Ze(n.left+n.width-T/3,n.top+n.height-b/3),this.bottomLeftBorderDoubleOuterBox=B>0||E>0?Cr(n.left+k/3,n.top+H,B-k/3,E-b/3,Zt.BOTTOM_LEFT):new Ze(n.left+k/3,n.top+n.height-b/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?Cr(n.left+k*2/3,n.top+W*2/3,i-k*2/3,A-W*2/3,Zt.TOP_LEFT):new Ze(n.left+k*2/3,n.top+W*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?Cr(n.left+y,n.top+W*2/3,l-T*2/3,c-W*2/3,Zt.TOP_RIGHT):new Ze(n.left+n.width-T*2/3,n.top+W*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?Cr(n.left+P,n.top+_,f-T*2/3,p-b*2/3,Zt.BOTTOM_RIGHT):new Ze(n.left+n.width-T*2/3,n.top+n.height-b*2/3),this.bottomLeftBorderDoubleInnerBox=B>0||E>0?Cr(n.left+k*2/3,n.top+H,B-k*2/3,E-b*2/3,Zt.BOTTOM_LEFT):new Ze(n.left+k*2/3,n.top+n.height-b*2/3),this.topLeftBorderStroke=i>0||A>0?Cr(n.left+k/2,n.top+W/2,i-k/2,A-W/2,Zt.TOP_LEFT):new Ze(n.left+k/2,n.top+W/2),this.topRightBorderStroke=i>0||A>0?Cr(n.left+y,n.top+W/2,l-T/2,c-W/2,Zt.TOP_RIGHT):new Ze(n.left+n.width-T/2,n.top+W/2),this.bottomRightBorderStroke=f>0||p>0?Cr(n.left+P,n.top+_,f-T/2,p-b/2,Zt.BOTTOM_RIGHT):new Ze(n.left+n.width-T/2,n.top+n.height-b/2),this.bottomLeftBorderStroke=B>0||E>0?Cr(n.left+k/2,n.top+H,B-k/2,E-b/2,Zt.BOTTOM_LEFT):new Ze(n.left+k/2,n.top+n.height-b/2),this.topLeftBorderBox=i>0||A>0?Cr(n.left,n.top,i,A,Zt.TOP_LEFT):new Ze(n.left,n.top),this.topRightBorderBox=l>0||c>0?Cr(n.left+y,n.top,l,c,Zt.TOP_RIGHT):new Ze(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||p>0?Cr(n.left+P,n.top+_,f,p,Zt.BOTTOM_RIGHT):new Ze(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=B>0||E>0?Cr(n.left,n.top+H,B,E,Zt.BOTTOM_LEFT):new Ze(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||A>0?Cr(n.left+k,n.top+W,Math.max(0,i-k),Math.max(0,A-W),Zt.TOP_LEFT):new Ze(n.left+k,n.top+W),this.topRightPaddingBox=l>0||c>0?Cr(n.left+Math.min(y,n.width-T),n.top+W,y>n.width+T?0:Math.max(0,l-T),Math.max(0,c-W),Zt.TOP_RIGHT):new Ze(n.left+n.width-T,n.top+W),this.bottomRightPaddingBox=f>0||p>0?Cr(n.left+Math.min(P,n.width-k),n.top+Math.min(_,n.height-b),Math.max(0,f-T),Math.max(0,p-b),Zt.BOTTOM_RIGHT):new Ze(n.left+n.width-T,n.top+n.height-b),this.bottomLeftPaddingBox=B>0||E>0?Cr(n.left+k,n.top+Math.min(H,n.height-b),Math.max(0,B-k),Math.max(0,E-b),Zt.BOTTOM_LEFT):new Ze(n.left+k,n.top+n.height-b),this.topLeftContentBox=i>0||A>0?Cr(n.left+k+F,n.top+W+j,Math.max(0,i-(k+F)),Math.max(0,A-(W+j)),Zt.TOP_LEFT):new Ze(n.left+k+F,n.top+W+j),this.topRightContentBox=l>0||c>0?Cr(n.left+Math.min(y,n.width+k+F),n.top+W+j,y>n.width+k+F?0:l-k+F,c-(W+j),Zt.TOP_RIGHT):new Ze(n.left+n.width-(T+N),n.top+W+j),this.bottomRightContentBox=f>0||p>0?Cr(n.left+Math.min(P,n.width-(k+F)),n.top+Math.min(_,n.height+W+j),Math.max(0,f-(T+N)),p-(b+Q),Zt.BOTTOM_RIGHT):new Ze(n.left+n.width-(T+N),n.top+n.height-(b+Q)),this.bottomLeftContentBox=B>0||E>0?Cr(n.left+k+F,n.top+H,Math.max(0,B-(k+F)),E-(b+Q),Zt.BOTTOM_LEFT):new Ze(n.left+k+F,n.top+n.height-(b+Q))}return t}(),Zt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Zt||(Zt={}));var Cr=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),A=r*i,a=n*i,l=t+r,c=e+n;switch(s){case Zt.TOP_LEFT:return new Fm(new Ze(t,c),new Ze(t,c-a),new Ze(l-A,e),new Ze(l,e));case Zt.TOP_RIGHT:return new Fm(new Ze(t,e),new Ze(t+A,e),new Ze(l,c-a),new Ze(l,c));case Zt.BOTTOM_RIGHT:return new Fm(new Ze(l,e),new Ze(l,e+a),new Ze(t+A,c),new Ze(t,c));case Zt.BOTTOM_LEFT:default:return new Fm(new Ze(l,c),new Ze(l-A,c),new Ze(t,e+a),new Ze(t,e))}},dg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},e9=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},hg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},t9=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),km=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),r9=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),n9=function(t){return t.type===0},kS=function(t){return t.type===1},s9=function(t){return t.type===2},fC=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},i9=function(t,e,r,n,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},TS=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),US=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Z7(this.container),this.container.styles.opacity<1&&this.effects.push(new r9(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new t9(n,s,i))}if(this.container.styles.overflowX!==0){var A=dg(this.curves),a=hg(this.curves);fC(A,a)?this.effects.push(new km(A,6)):(this.effects.push(new km(A,2)),this.effects.push(new km(a,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!kS(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=dg(n.curves),a=hg(n.curves);fC(A,a)||s.unshift(new km(a,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return cn(l.target,e)})},t}(),Ky=function(t,e,r,n){t.container.elements.forEach(function(s){var i=cn(s.flags,4),A=cn(s.flags,2),a=new US(s,t);cn(s.styles.display,2048)&&n.push(a);var l=cn(s.flags,8)?[]:n;if(i||A){var c=i||s.styles.isPositioned()?r:e,h=new TS(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var f=s.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(B,E){return f>B.element.container.styles.zIndex.order?(p=E,!1):p>0}),c.negativeZIndex.splice(p,0,h)}else if(f>0){var g=0;c.positiveZIndex.some(function(B,E){return f>=B.element.container.styles.zIndex.order?(g=E+1,!1):g>0}),c.positiveZIndex.splice(g,0,h)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else s.styles.isFloating()?c.nonPositionedFloats.push(h):c.nonPositionedInlineLevel.push(h);Ky(a,h,i?h:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Ky(a,e,r,l);cn(s.flags,8)&&QS(s,l)})},QS=function(t,e){for(var r=t instanceof Ry?t.start:1,n=t instanceof Ry?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof gS&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Gh(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},A9=function(t){var e=new US(t,null),r=new TS(e),n=[];return Ky(e,r,r,n),QS(e.container,n),r},mC=function(t,e){switch(e){case 0:return ui(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ui(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ui(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ui(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},a9=function(t,e){switch(e){case 0:return ui(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ui(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ui(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ui(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},o9=function(t,e){switch(e){case 0:return ui(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ui(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ui(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ui(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},l9=function(t,e){switch(e){case 0:return Tm(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Tm(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Tm(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Tm(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Tm=function(t,e){var r=[];return oi(t)?r.push(t.subdivide(.5,!1)):r.push(t),oi(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ui=function(t,e,r,n){var s=[];return oi(t)?s.push(t.subdivide(.5,!1)):s.push(t),oi(r)?s.push(r.subdivide(.5,!0)):s.push(r),oi(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),oi(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},LS=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},fg=function(t){var e=t.styles,r=t.bounds,n=mr(e.paddingLeft,r.width),s=mr(e.paddingRight,r.width),i=mr(e.paddingTop,r.width),A=mr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},c9=function(t,e){return t===0?e.bounds:t===2?fg(e):LS(e)},u9=function(t,e){return t===0?e.bounds:t===2?fg(e):LS(e)},K1=function(t,e,r){var n=c9(Rc(t.styles.backgroundOrigin,e),t),s=u9(Rc(t.styles.backgroundClip,e),t),i=d9(Rc(t.styles.backgroundSize,e),r,n),A=i[0],a=i[1],l=Vd(Rc(t.styles.backgroundPosition,e),n.width-A,n.height-a),c=h9(Rc(t.styles.backgroundRepeat,e),l,i,n,s),h=Math.round(n.left+l[0]),f=Math.round(n.top+l[1]);return[c,h,f,A,a]},Tc=function(t){return or(t)&&t.value===fu.AUTO},Um=function(t){return typeof t=="number"},d9=function(t,e,r){var n=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(rn(A)&&a&&rn(a))return[mr(A,r.width),mr(a,r.height)];var l=Um(i);if(or(A)&&(A.value===fu.CONTAIN||A.value===fu.COVER)){if(Um(i)){var c=r.width/r.height;return c<i!=(A.value===fu.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=Um(n),f=Um(s),p=h||f;if(Tc(A)&&(!a||Tc(a))){if(h&&f)return[n,s];if(!l&&!p)return[r.width,r.height];if(p&&l){var g=h?n:s*i,B=f?s:n/i;return[g,B]}var E=h?n:r.width,I=f?s:r.height;return[E,I]}if(l){var w=0,y=0;return rn(A)?w=mr(A,r.width):rn(a)&&(y=mr(a,r.height)),Tc(A)?w=y*i:(!a||Tc(a))&&(y=w/i),[w,y]}var _=null,P=null;if(rn(A)?_=mr(A,r.width):a&&rn(a)&&(P=mr(a,r.height)),_!==null&&(!a||Tc(a))&&(P=h&&f?_/n*s:r.height),P!==null&&Tc(A)&&(_=h&&f?P/s*n:r.width),_!==null&&P!==null)return[_,P];throw new Error("Unable to calculate background-size for element")},Rc=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},h9=function(t,e,r,n,s){var i=e[0],A=e[1],a=r[0],l=r[1];switch(t){case 2:return[new Ze(Math.round(n.left),Math.round(n.top+A)),new Ze(Math.round(n.left+n.width),Math.round(n.top+A)),new Ze(Math.round(n.left+n.width),Math.round(l+n.top+A)),new Ze(Math.round(n.left),Math.round(l+n.top+A))];case 3:return[new Ze(Math.round(n.left+i),Math.round(n.top)),new Ze(Math.round(n.left+i+a),Math.round(n.top)),new Ze(Math.round(n.left+i+a),Math.round(n.height+n.top)),new Ze(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Ze(Math.round(n.left+i),Math.round(n.top+A)),new Ze(Math.round(n.left+i+a),Math.round(n.top+A)),new Ze(Math.round(n.left+i+a),Math.round(n.top+A+l)),new Ze(Math.round(n.left+i),Math.round(n.top+A+l))];default:return[new Ze(Math.round(s.left),Math.round(s.top)),new Ze(Math.round(s.left+s.width),Math.round(s.top)),new Ze(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ze(Math.round(s.left),Math.round(s.height+s.top))]}},f9="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",pC="Hidden Text",m9=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),s.src=f9,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(pC)),n.appendChild(i),n.appendChild(s);var a=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(pC)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),jS=function(){function t(e,r){this.context=e,this.options=r}return t}(),p9=1e4,g9=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new m9(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),s9(r)&&(this.ctx.globalAlpha=r.opacity),n9(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),kS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return os(this,void 0,void 0,function(){var n;return Gn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return os(this,void 0,void 0,function(){return Gn(this,function(n){switch(n.label){case 0:if(cn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var A=tx(r.text);A.reduce(function(a,l){return i.ctx.fillText(l,a,r.bounds.top+s),a+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=B9(r.fontFamily).join(", "),i=mf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return os(this,void 0,void 0,function(){var s,i,A,a,l,c,h,f,p=this;return Gn(this,function(g){return s=this.createFontStyle(n),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(A,a),c=l.baseline,h=l.middle,f=n.paintOrder,r.textBounds.forEach(function(B){f.forEach(function(E){switch(E){case 0:p.ctx.fillStyle=fn(n.color),p.renderTextWithLetterSpacing(B,n.letterSpacing,c);var I=n.textShadow;I.length&&B.text.trim().length&&(I.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=fn(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(B,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=fn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top+c),B.bounds.width,1);break;case 2:p.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top),B.bounds.width,1);break;case 3:p.ctx.fillRect(B.bounds.left,Math.ceil(B.bounds.top+h),B.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&B.text.trim().length&&(p.ctx.strokeStyle=fn(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(B.text,B.bounds.left,B.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=fg(r),A=hg(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return os(this,void 0,void 0,function(){var n,s,i,A,a,l,y,y,c,h,f,p,P,g,B,H,E,I,w,y,_,P,H;return Gn(this,function(W){switch(W.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,A=0,a=n.textNodes,W.label=1;case 1:return A<a.length?(l=a[A],[4,this.renderTextNode(l,i)]):[3,4];case 2:W.sent(),W.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof fS))return[3,8];W.label=5;case 5:return W.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=W.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return W.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof mS&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof pS))return[3,12];W.label=9;case 9:return W.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=W.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return W.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof wS&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:h=W.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),W.label=14;case 14:if(n instanceof rx&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===og?n.checked&&(this.ctx.save(),this.path([new Ze(n.bounds.left+f*.39363,n.bounds.top+f*.79),new Ze(n.bounds.left+f*.16,n.bounds.top+f*.5549),new Ze(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new Ze(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new Ze(n.bounds.left+f*.72983,n.bounds.top+f*.23),new Ze(n.bounds.left+f*.84,n.bounds.top+f*.34085),new Ze(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=fn(nC),this.ctx.fill(),this.ctx.restore()):n.type===lg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=fn(nC),this.ctx.fill(),this.ctx.restore())),v9(n)&&n.value.length){switch(p=this.createFontStyle(i),P=p[0],g=p[1],B=this.fontMetrics.getMetrics(P,g).baseline,this.ctx.font=P,this.ctx.fillStyle=fn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=w9(n.styles.textAlign),H=fg(n),E=0,n.styles.textAlign){case 1:E+=H.width/2;break;case 2:E+=H.width;break}I=H.add(E,0,0,-H.height/2+1),this.ctx.save(),this.path([new Ze(H.left,H.top),new Ze(H.left+H.width,H.top),new Ze(H.left+H.width,H.top+H.height),new Ze(H.left,H.top+H.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new lh(n.value,I),i.letterSpacing,B),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];y=void 0,_=w.url,W.label=15;case 15:return W.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return y=W.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return W.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(P=this.createFontStyle(i)[0],this.ctx.font=P,this.ctx.fillStyle=fn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",H=new da(n.bounds.left,n.bounds.top+mr(n.styles.paddingTop,n.bounds.width),n.bounds.width,O5(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new lh(r.listValue,H),i.letterSpacing,O5(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),W.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return os(this,void 0,void 0,function(){var n,s,w,i,A,w,a,l,w,c,h,w,f,p,w,g,B,w,E,I,w;return Gn(this,function(y){switch(y.label){case 0:if(cn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(w=s[n],[4,this.renderStack(w)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,A=r.nonInlineLevel,y.label=7;case 7:return i<A.length?(w=A[i],[4,this.renderNode(w)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:a=0,l=r.nonPositionedFloats,y.label=11;case 11:return a<l.length?(w=l[a],[4,this.renderStack(w)]):[3,14];case 12:y.sent(),y.label=13;case 13:return a++,[3,11];case 14:c=0,h=r.nonPositionedInlineLevel,y.label=15;case 15:return c<h.length?(w=h[c],[4,this.renderStack(w)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:f=0,p=r.inlineLevel,y.label=19;case 19:return f<p.length?(w=p[f],[4,this.renderNode(w)]):[3,22];case 20:y.sent(),y.label=21;case 21:return f++,[3,19];case 22:g=0,B=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return g<B.length?(w=B[g],[4,this.renderStack(w)]):[3,26];case 24:y.sent(),y.label=25;case 25:return g++,[3,23];case 26:E=0,I=r.positiveZIndex,y.label=27;case 27:return E<I.length?(w=I[E],[4,this.renderStack(w)]):[3,30];case 28:y.sent(),y.label=29;case 29:return E++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var A=oi(s)?s.start:s;i===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),oi(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,s);var l=a.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),a},e.prototype.renderBackgroundImage=function(r){return os(this,void 0,void 0,function(){var n,s,i,A,a,l;return Gn(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(h){var f,p,g,j,ve,ye,F,te,b,B,j,ve,ye,F,te,E,I,w,y,_,P,H,W,T,b,k,j,N,Q,F,te,xe,ve,ye,V,le,Z,ue,L,M,$,Y;return Gn(this,function(X){switch(X.label){case 0:if(h.type!==0)return[3,5];f=void 0,p=h.url,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return f=X.sent(),[3,4];case 3:return X.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(g=K1(r,n,[f.width,f.height,f.width/f.height]),j=g[0],ve=g[1],ye=g[2],F=g[3],te=g[4],b=i.ctx.createPattern(i.resizeImage(f,F,te),"repeat"),i.renderRepeat(j,b,ve,ye)),[3,6];case 5:nH(h)?(B=K1(r,n,[null,null,null]),j=B[0],ve=B[1],ye=B[2],F=B[3],te=B[4],E=XO(h.angle,F,te),I=E[0],w=E[1],y=E[2],_=E[3],P=E[4],H=document.createElement("canvas"),H.width=F,H.height=te,W=H.getContext("2d"),T=W.createLinearGradient(w,_,y,P),D5(h.stops,I).forEach(function(ee){return T.addColorStop(ee.stop,fn(ee.color))}),W.fillStyle=T,W.fillRect(0,0,F,te),F>0&&te>0&&(b=i.ctx.createPattern(H,"repeat"),i.renderRepeat(j,b,ve,ye))):sH(h)&&(k=K1(r,n,[null,null,null]),j=k[0],N=k[1],Q=k[2],F=k[3],te=k[4],xe=h.position.length===0?[X2]:h.position,ve=mr(xe[0],F),ye=mr(xe[xe.length-1],te),V=ZO(h,ve,ye,F,te),le=V[0],Z=V[1],le>0&&Z>0&&(ue=i.ctx.createRadialGradient(N+ve,Q+ye,0,N+ve,Q+ye,le),D5(h.stops,le*2).forEach(function(ee){return ue.addColorStop(ee.stop,fn(ee.color))}),i.path(j),i.ctx.fillStyle=ue,le!==Z?(L=r.bounds.left+.5*r.bounds.width,M=r.bounds.top+.5*r.bounds.height,$=Z/le,Y=1/$,i.ctx.save(),i.ctx.translate(L,M),i.ctx.transform(1,0,0,$,0,0),i.ctx.translate(-L,-M),i.ctx.fillRect(N,Y*(Q-M)+M,F,te*Y),i.ctx.restore()):i.ctx.fill())),X.label=6;case 6:return n--,[2]}})},i=this,A=0,a=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<a.length?(l=a[A],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return os(this,void 0,void 0,function(){return Gn(this,function(i){return this.path(mC(s,n)),this.ctx.fillStyle=fn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return os(this,void 0,void 0,function(){var A,a;return Gn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return A=a9(i,s),this.path(A),this.ctx.fillStyle=fn(r),this.ctx.fill(),a=o9(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return os(this,void 0,void 0,function(){var n,s,i,A,a,l,c,h,f=this;return Gn(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Qo(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=y9(Rc(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Qo(n.backgroundColor)||(this.ctx.fillStyle=fn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){f.ctx.save();var B=dg(r.curves),E=g.inset?0:p9,I=i9(B,-E+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(f.path(B),f.ctx.clip(),f.mask(I)):(f.mask(B),f.ctx.clip(),f.path(I)),f.ctx.shadowOffsetX=g.offsetX.number+E,f.ctx.shadowOffsetY=g.offsetY.number,f.ctx.shadowColor=fn(g.color),f.ctx.shadowBlur=g.blur.number,f.ctx.fillStyle=g.inset?fn(g.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:a=0,l=0,c=i,p.label=3;case 3:return l<c.length?(h=c[l],h.style!==0&&!Qo(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,a,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,a,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,a,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,a,r.curves)];case 10:p.sent(),p.label=11;case 11:a++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,A){return os(this,void 0,void 0,function(){var a,l,c,h,f,p,g,B,E,I,w,y,_,P,H,W,H,W;return Gn(this,function(T){return this.ctx.save(),a=l9(i,s),l=mC(i,s),A===2&&(this.path(l),this.ctx.clip()),oi(l[0])?(c=l[0].start.x,h=l[0].start.y):(c=l[0].x,h=l[0].y),oi(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),s===0||s===2?g=Math.abs(c-f):g=Math.abs(h-p),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(l.slice(0,2)),B=n<3?n*3:n*2,E=n<3?n*2:n,A===3&&(B=n,E=n),I=!0,g<=B*2?I=!1:g<=B*2+E?(w=g/(2*B+E),B*=w,E*=w):(y=Math.floor((g+E)/(B+E)),_=(g-y*B)/(y-1),P=(g-(y+1)*B)/y,E=P<=0||Math.abs(E-_)<Math.abs(E-P)?_:P),I&&(A===3?this.ctx.setLineDash([0,B+E]):this.ctx.setLineDash([B,E])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=fn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(oi(l[0])&&(H=l[3],W=l[0],this.ctx.beginPath(),this.formatPath([new Ze(H.end.x,H.end.y),new Ze(W.start.x,W.start.y)]),this.ctx.stroke()),oi(l[1])&&(H=l[1],W=l[2],this.ctx.beginPath(),this.formatPath([new Ze(H.end.x,H.end.y),new Ze(W.start.x,W.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return os(this,void 0,void 0,function(){var n;return Gn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=A9(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(jS),v9=function(t){return t instanceof yS||t instanceof vS?!0:t instanceof rx&&t.type!==lg&&t.type!==og},y9=function(t,e){switch(t){case 0:return dg(e);case 2:return e9(e);case 1:default:return hg(e)}},w9=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},x9=["-apple-system","system-ui"],B9=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return x9.indexOf(e)===-1}):t},b9=function(t){zi(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return os(this,void 0,void 0,function(){var n,s;return Gn(this,function(i){switch(i.label){case 0:return n=Dy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,C9(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(jS),C9=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},E9=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,um([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,um([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,um([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,um([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),_9=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new E9({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new G7(this,e)}return t.instanceCount=1,t}(),Pu=function(t,e){return e===void 0&&(e={}),I9(t,e)};typeof window<"u"&&FS.setContext(window);var I9=function(t,e){return os(void 0,void 0,void 0,function(){var r,n,s,i,A,a,l,c,h,f,p,g,B,E,I,w,y,_,P,H,T,W,T,b,k,j,N,Q,F,te,xe,ve,ye,V,le,Z,ue,L,M,$;return Gn(this,function(Y){switch(Y.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(b=e.allowTaint)!==null&&b!==void 0?b:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(j=e.useCORS)!==null&&j!==void 0?j:!1},i=by({logging:(N=e.logging)!==null&&N!==void 0?N:!0,cache:e.cache},s),A={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:n.innerWidth,windowHeight:(F=e.windowHeight)!==null&&F!==void 0?F:n.innerHeight,scrollX:(te=e.scrollX)!==null&&te!==void 0?te:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},a=new da(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),l=new _9(i,a),c=(ve=e.foreignObjectRendering)!==null&&ve!==void 0?ve:!1,h={allowTaint:(ye=e.allowTaint)!==null&&ye!==void 0?ye:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),f=new dC(l,t,h),p=f.clonedReferenceElement,p?[4,f.toIFrame(r,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=Y.sent(),B=nx(p)||S7(p)?i8(p.ownerDocument):a0(l,p),E=B.width,I=B.height,w=B.left,y=B.top,_=N9(l,p,e.backgroundColor),P={canvas:e.canvas,backgroundColor:_,scale:(le=(V=e.scale)!==null&&V!==void 0?V:n.devicePixelRatio)!==null&&le!==void 0?le:1,x:((Z=e.x)!==null&&Z!==void 0?Z:0)+w,y:((ue=e.y)!==null&&ue!==void 0?ue:0)+y,width:(L=e.width)!==null&&L!==void 0?L:Math.ceil(E),height:(M=e.height)!==null&&M!==void 0?M:Math.ceil(I)},c?(l.logger.debug("Document cloned, using foreign object rendering"),T=new b9(l,P),[4,T.render(p)]):[3,3];case 2:return H=Y.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+w+","+y+" with size "+E+"x"+I+" using computed rendering"),l.logger.debug("Starting DOM parsing"),W=BS(l,p),_===W.styles.backgroundColor&&(W.styles.backgroundColor=ra.TRANSPARENT),l.logger.debug("Starting renderer for element at "+P.x+","+P.y+" with size "+P.width+"x"+P.height),T=new g9(l,P),[4,T.render(W)];case 4:H=Y.sent(),Y.label=5;case 5:return(!(($=e.removeContainer)!==null&&$!==void 0)||$)&&(dC.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,H]}})})},N9=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?ah(t,getComputedStyle(n.documentElement).backgroundColor):ra.TRANSPARENT,i=n.body?ah(t,getComputedStyle(n.body).backgroundColor):ra.TRANSPARENT,A=typeof r=="string"?ah(t,r):r===null?ra.TRANSPARENT:4294967295;return e===n.documentElement?Qo(s)?Qo(i)?A:i:s:A};const S9=Object.freeze(Object.defineProperty({__proto__:null,default:Pu},Symbol.toStringTag,{value:"Module"})),F9="modulepreload",k9=function(t){return"/"+t},gC={},zy=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),a=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=k9(l),l in gC)return;gC[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":F9,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(A){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=A,window.dispatchEvent(a),!a.defaultPrevented)throw A}return s.then(A=>{for(const a of A||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function sr(t){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(t)}var Jn=Uint8Array,Gs=Uint16Array,sx=Int32Array,g0=new Jn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v0=new Jn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gy=new Jn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PS=function(t,e){for(var r=new Gs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new sx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},DS=PS(g0,2),RS=DS.b,qy=DS.r;RS[28]=258,qy[258]=28;var OS=PS(v0,0),T9=OS.b,vC=OS.r,Wy=new Gs(32768);for(var Br=0;Br<32768;++Br){var Ya=(Br&43690)>>1|(Br&21845)<<1;Ya=(Ya&52428)>>2|(Ya&13107)<<2,Ya=(Ya&61680)>>4|(Ya&3855)<<4,Wy[Br]=((Ya&65280)>>8|(Ya&255)<<8)>>1}var wA=function(t,e,r){for(var n=t.length,s=0,i=new Gs(e);s<n;++s)t[s]&&++i[t[s]-1];var A=new Gs(e);for(s=1;s<e;++s)A[s]=A[s-1]+i[s-1]<<1;var a;if(r){a=new Gs(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],h=e-t[s],f=A[t[s]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)a[Wy[f]>>l]=c}else for(a=new Gs(n),s=0;s<n;++s)t[s]&&(a[s]=Wy[A[t[s]-1]++]>>15-t[s]);return a},Mo=new Jn(288);for(var Br=0;Br<144;++Br)Mo[Br]=8;for(var Br=144;Br<256;++Br)Mo[Br]=9;for(var Br=256;Br<280;++Br)Mo[Br]=7;for(var Br=280;Br<288;++Br)Mo[Br]=8;var qh=new Jn(32);for(var Br=0;Br<32;++Br)qh[Br]=5;var U9=wA(Mo,9,0),Q9=wA(Mo,9,1),L9=wA(qh,5,0),j9=wA(qh,5,1),z1=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Si=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},G1=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},ix=function(t){return(t+7)/8|0},HS=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Jn(t.subarray(e,r))},P9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ui=function(t,e,r){var n=new Error(e||P9[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ui),!r)throw n;return n},D9=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new Jn(0);var A=!r,a=A||e.i!=2,l=e.i;A&&(r=new Jn(s*3));var c=function(se){var ge=r.length;if(se>ge){var _e=new Jn(Math.max(ge*2,se));_e.set(r),r=_e}},h=e.f||0,f=e.p||0,p=e.b||0,g=e.l,B=e.d,E=e.m,I=e.n,w=s*8;do{if(!g){h=Si(t,f,1);var y=Si(t,f+1,3);if(f+=3,y)if(y==1)g=Q9,B=j9,E=9,I=5;else if(y==2){var W=Si(t,f,31)+257,T=Si(t,f+10,15)+4,b=W+Si(t,f+5,31)+1;f+=14;for(var k=new Jn(b),j=new Jn(19),N=0;N<T;++N)j[Gy[N]]=Si(t,f+N*3,7);f+=T*3;for(var Q=z1(j),F=(1<<Q)-1,te=wA(j,Q,1),N=0;N<b;){var xe=te[Si(t,f,F)];f+=xe&15;var _=xe>>4;if(_<16)k[N++]=_;else{var ve=0,ye=0;for(_==16?(ye=3+Si(t,f,3),f+=2,ve=k[N-1]):_==17?(ye=3+Si(t,f,7),f+=3):_==18&&(ye=11+Si(t,f,127),f+=7);ye--;)k[N++]=ve}}var V=k.subarray(0,W),le=k.subarray(W);E=z1(V),I=z1(le),g=wA(V,E,1),B=wA(le,I,1)}else Ui(1);else{var _=ix(f)+4,P=t[_-4]|t[_-3]<<8,H=_+P;if(H>s){l&&Ui(0);break}a&&c(p+P),r.set(t.subarray(_,H),p),e.b=p+=P,e.p=f=H*8,e.f=h;continue}if(f>w){l&&Ui(0);break}}a&&c(p+131072);for(var Z=(1<<E)-1,ue=(1<<I)-1,L=f;;L=f){var ve=g[G1(t,f)&Z],M=ve>>4;if(f+=ve&15,f>w){l&&Ui(0);break}if(ve||Ui(2),M<256)r[p++]=M;else if(M==256){L=f,g=null;break}else{var $=M-254;if(M>264){var N=M-257,Y=g0[N];$=Si(t,f,(1<<Y)-1)+RS[N],f+=Y}var X=B[G1(t,f)&ue],ee=X>>4;X||Ui(3),f+=X&15;var le=T9[ee];if(ee>3){var Y=v0[ee];le+=G1(t,f)&(1<<Y)-1,f+=Y}if(f>w){l&&Ui(0);break}a&&c(p+131072);var ie=p+$;if(p<le){var oe=i-le,G=Math.min(le,ie);for(oe+p<0&&Ui(3);p<G;++p)r[p]=n[oe+p]}for(;p<ie;++p)r[p]=r[p-le]}}e.l=g,e.p=L,e.b=p,e.f=h,g&&(h=1,e.m=E,e.d=B,e.n=I)}while(!h);return p!=r.length&&A?HS(r,0,p):r.subarray(0,p)},zA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Id=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},q1=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:VS,l:0};if(s==1){var A=new Jn(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(H,W){return H.f-W.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,h=1,f=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=r[r[c].f<r[f].f?c++:f++],l=r[c!=h&&r[c].f<r[f].f?c++:f++],r[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var g=new Gs(p+1),B=$y(r[h-1],g,0);if(B>e){var n=0,E=0,I=B-e,w=1<<I;for(i.sort(function(W,T){return g[T.s]-g[W.s]||W.f-T.f});n<s;++n){var y=i[n].s;if(g[y]>e)E+=w-(1<<B-g[y]),g[y]=e;else break}for(E>>=I;E>0;){var _=i[n].s;g[_]<e?E-=1<<e-g[_]++-1:++n}for(;n>=0&&E;--n){var P=i[n].s;g[P]==e&&(--g[P],++E)}B=e}return{t:new Jn(g),l:B}},$y=function(t,e,r){return t.s==-1?Math.max($y(t.l,e,r+1),$y(t.r,e,r+1)):e[t.s]=r},yC=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Gs(++e),n=0,s=t[0],i=1,A=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)A(32754);i>2&&(A(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(A(s),--i;i>6;i-=6)A(8304);i>2&&(A(i-3<<5|8208),i=0)}for(;i--;)A(s);i=1,s=t[a]}return{c:r.subarray(0,n),n:e}},Nd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},MS=function(t,e,r){var n=r.length,s=ix(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},wC=function(t,e,r,n,s,i,A,a,l,c,h){zA(e,h++,r),++s[256];for(var f=q1(s,15),p=f.t,g=f.l,B=q1(i,15),E=B.t,I=B.l,w=yC(p),y=w.c,_=w.n,P=yC(E),H=P.c,W=P.n,T=new Gs(19),b=0;b<y.length;++b)++T[y[b]&31];for(var b=0;b<H.length;++b)++T[H[b]&31];for(var k=q1(T,7),j=k.t,N=k.l,Q=19;Q>4&&!j[Gy[Q-1]];--Q);var F=c+5<<3,te=Nd(s,Mo)+Nd(i,qh)+A,xe=Nd(s,p)+Nd(i,E)+A+14+3*Q+Nd(T,j)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&F<=te&&F<=xe)return MS(e,h,t.subarray(l,l+c));var ve,ye,V,le;if(zA(e,h,1+(xe<te)),h+=2,xe<te){ve=wA(p,g,0),ye=p,V=wA(E,I,0),le=E;var Z=wA(j,N,0);zA(e,h,_-257),zA(e,h+5,W-1),zA(e,h+10,Q-4),h+=14;for(var b=0;b<Q;++b)zA(e,h+3*b,j[Gy[b]]);h+=3*Q;for(var ue=[y,H],L=0;L<2;++L)for(var M=ue[L],b=0;b<M.length;++b){var $=M[b]&31;zA(e,h,Z[$]),h+=j[$],$>15&&(zA(e,h,M[b]>>5&127),h+=M[b]>>12)}}else ve=U9,ye=Mo,V=L9,le=qh;for(var b=0;b<a;++b){var Y=n[b];if(Y>255){var $=Y>>18&31;Id(e,h,ve[$+257]),h+=ye[$+257],$>7&&(zA(e,h,Y>>23&31),h+=g0[$]);var X=Y&31;Id(e,h,V[X]),h+=le[X],X>3&&(Id(e,h,Y>>5&8191),h+=v0[X])}else Id(e,h,ve[Y]),h+=ye[Y]}return Id(e,h,ve[256]),h+ye[256]},R9=new sx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VS=new Jn(0),O9=function(t,e,r,n,s,i){var A=i.z||t.length,a=new Jn(n+A+5*(1+Math.ceil(A/7e3))+s),l=a.subarray(n,a.length-s),c=i.l,h=(i.r||0)&7;if(e){h&&(l[0]=i.r>>3);for(var f=R9[e-1],p=f>>13,g=f&8191,B=(1<<r)-1,E=i.p||new Gs(32768),I=i.h||new Gs(B+1),w=Math.ceil(r/3),y=2*w,_=function(ke){return(t[ke]^t[ke+1]<<w^t[ke+2]<<y)&B},P=new sx(25e3),H=new Gs(288),W=new Gs(32),T=0,b=0,k=i.i||0,j=0,N=i.w||0,Q=0;k+2<A;++k){var F=_(k),te=k&32767,xe=I[F];if(E[te]=xe,I[F]=te,N<=k){var ve=A-k;if((T>7e3||j>24576)&&(ve>423||!c)){h=wC(t,l,0,P,H,W,b,j,Q,k-Q,h),j=T=b=0,Q=k;for(var ye=0;ye<286;++ye)H[ye]=0;for(var ye=0;ye<30;++ye)W[ye]=0}var V=2,le=0,Z=g,ue=te-xe&32767;if(ve>2&&F==_(k-ue))for(var L=Math.min(p,ve)-1,M=Math.min(32767,k),$=Math.min(258,ve);ue<=M&&--Z&&te!=xe;){if(t[k+V]==t[k+V-ue]){for(var Y=0;Y<$&&t[k+Y]==t[k+Y-ue];++Y);if(Y>V){if(V=Y,le=ue,Y>L)break;for(var X=Math.min(ue,Y-2),ee=0,ye=0;ye<X;++ye){var ie=k-ue+ye&32767,oe=E[ie],G=ie-oe&32767;G>ee&&(ee=G,xe=ie)}}}te=xe,xe=E[te],ue+=te-xe&32767}if(le){P[j++]=268435456|qy[V]<<18|vC[le];var se=qy[V]&31,ge=vC[le]&31;b+=g0[se]+v0[ge],++H[257+se],++W[ge],N=k+V,++T}else P[j++]=t[k],++H[t[k]]}}for(k=Math.max(k,N);k<A;++k)P[j++]=t[k],++H[t[k]];h=wC(t,l,c,P,H,W,b,j,Q,k-Q,h),c||(i.r=h&7|l[h/8|0]<<3,h-=7,i.h=I,i.p=E,i.i=k,i.w=N)}else{for(var k=i.w||0;k<A+c;k+=65535){var _e=k+65535;_e>=A&&(l[h/8|0]=c,_e=A),h=MS(l,h+1,t.subarray(k,_e))}i.i=A}return HS(a,0,n+ix(h)+s)},KS=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,A=0;A!=i;){for(var a=Math.min(A+2655,i);A<a;++A)s+=n+=r[A];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},H9=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),A=new Jn(i.length+t.length);A.set(i),A.set(t,i.length),t=A,s.w=i.length}return O9(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},zS=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},M9=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=KS();s.p(e.dictionary),zS(t,2,s.d())}},V9=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ui(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Ui(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Yy(t,e){e||(e={});var r=KS();r.p(t);var n=H9(t,e,e.dictionary?6:2,4);return M9(n,e),zS(n,n.length-4,r.d()),n}function K9(t,e){return D9(t.subarray(V9(t,e),-4),{i:2},e,e)}var z9=typeof TextDecoder<"u"&&new TextDecoder,G9=0;try{z9.decode(VS,{stream:!0}),G9=1}catch{}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function W1(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var dr={log:W1,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):W1.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):W1(t))}};function $1(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){bl(n.response,e,r)},n.onerror=function(){dr.error("could not download file")},n.send()}function xC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var uh,Jy,bl=vt.saveAs||((typeof window>"u"?"undefined":sr(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=vt.URL||vt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?xC(s.href)?$1(t,e,r):Qm(s,s.target="_blank"):Qm(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Qm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(xC(t))$1(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Qm(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:sr(i)!=="object"&&(dr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return $1(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(vt.HTMLElement)||vt.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||s&&i)&&(typeof FileReader>"u"?"undefined":sr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=A?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},a.readAsDataURL(t)}else{var l=vt.URL||vt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function GS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,A=s.exec(t);A&&(e=i(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Y1(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=Mn(r,n,s,i,e[0],7,-680876936),i=Mn(i,r,n,s,e[1],12,-389564586),s=Mn(s,i,r,n,e[2],17,606105819),n=Mn(n,s,i,r,e[3],22,-1044525330),r=Mn(r,n,s,i,e[4],7,-176418897),i=Mn(i,r,n,s,e[5],12,1200080426),s=Mn(s,i,r,n,e[6],17,-1473231341),n=Mn(n,s,i,r,e[7],22,-45705983),r=Mn(r,n,s,i,e[8],7,1770035416),i=Mn(i,r,n,s,e[9],12,-1958414417),s=Mn(s,i,r,n,e[10],17,-42063),n=Mn(n,s,i,r,e[11],22,-1990404162),r=Mn(r,n,s,i,e[12],7,1804603682),i=Mn(i,r,n,s,e[13],12,-40341101),s=Mn(s,i,r,n,e[14],17,-1502002290),r=Vn(r,n=Mn(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Vn(i,r,n,s,e[6],9,-1069501632),s=Vn(s,i,r,n,e[11],14,643717713),n=Vn(n,s,i,r,e[0],20,-373897302),r=Vn(r,n,s,i,e[5],5,-701558691),i=Vn(i,r,n,s,e[10],9,38016083),s=Vn(s,i,r,n,e[15],14,-660478335),n=Vn(n,s,i,r,e[4],20,-405537848),r=Vn(r,n,s,i,e[9],5,568446438),i=Vn(i,r,n,s,e[14],9,-1019803690),s=Vn(s,i,r,n,e[3],14,-187363961),n=Vn(n,s,i,r,e[8],20,1163531501),r=Vn(r,n,s,i,e[13],5,-1444681467),i=Vn(i,r,n,s,e[2],9,-51403784),s=Vn(s,i,r,n,e[7],14,1735328473),r=Kn(r,n=Vn(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Kn(i,r,n,s,e[8],11,-2022574463),s=Kn(s,i,r,n,e[11],16,1839030562),n=Kn(n,s,i,r,e[14],23,-35309556),r=Kn(r,n,s,i,e[1],4,-1530992060),i=Kn(i,r,n,s,e[4],11,1272893353),s=Kn(s,i,r,n,e[7],16,-155497632),n=Kn(n,s,i,r,e[10],23,-1094730640),r=Kn(r,n,s,i,e[13],4,681279174),i=Kn(i,r,n,s,e[0],11,-358537222),s=Kn(s,i,r,n,e[3],16,-722521979),n=Kn(n,s,i,r,e[6],23,76029189),r=Kn(r,n,s,i,e[9],4,-640364487),i=Kn(i,r,n,s,e[12],11,-421815835),s=Kn(s,i,r,n,e[15],16,530742520),r=zn(r,n=Kn(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=zn(i,r,n,s,e[7],10,1126891415),s=zn(s,i,r,n,e[14],15,-1416354905),n=zn(n,s,i,r,e[5],21,-57434055),r=zn(r,n,s,i,e[12],6,1700485571),i=zn(i,r,n,s,e[3],10,-1894986606),s=zn(s,i,r,n,e[10],15,-1051523),n=zn(n,s,i,r,e[1],21,-2054922799),r=zn(r,n,s,i,e[8],6,1873313359),i=zn(i,r,n,s,e[15],10,-30611744),s=zn(s,i,r,n,e[6],15,-1560198380),n=zn(n,s,i,r,e[13],21,1309151649),r=zn(r,n,s,i,e[4],6,-145523070),i=zn(i,r,n,s,e[11],10,-1120210379),s=zn(s,i,r,n,e[2],15,718787259),n=zn(n,s,i,r,e[9],21,-343485551),t[0]=go(r,t[0]),t[1]=go(n,t[1]),t[2]=go(s,t[2]),t[3]=go(i,t[3])}function y0(t,e,r,n,s,i){return e=go(go(e,t),go(n,i)),go(e<<s|e>>>32-s,r)}function Mn(t,e,r,n,s,i,A){return y0(e&r|~e&n,t,e,s,i,A)}function Vn(t,e,r,n,s,i,A){return y0(e&n|r&~n,t,e,s,i,A)}function Kn(t,e,r,n,s,i,A){return y0(e^r^n,t,e,s,i,A)}function zn(t,e,r,n,s,i,A){return y0(r^(e|~n),t,e,s,i,A)}function qS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Y1(n,q9(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Y1(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,Y1(n,s),n}function q9(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}uh=vt.atob.bind(vt),Jy=vt.btoa.bind(vt);var BC="0123456789abcdef".split("");function W9(t){for(var e="",r=0;r<4;r++)e+=BC[t>>8*r+4&15]+BC[t>>8*r&15];return e}function $9(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Xy(t){return qS(t).map($9).join("")}var Y9=function(t){for(var e=0;e<t.length;e++)t[e]=W9(t[e]);return t.join("")}(qS("hello"))!="5d41402abc4b2a76b9719d911017c592";function go(t,e){if(Y9){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zy(t,e){var r,n,s,i;if(t!==r){for(var A=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+A.charCodeAt(l))%256,a[l]=a[c],a[c]=h}r=t,n=a}else a=n;var f=e.length,p=0,g=0,B="";for(l=0;l<f;l++)g=(g+(h=a[p=(p+1)%256]))%256,a[p]=a[g],a[g]=h,A=a[(a[p]+a[g])%256],B+=String.fromCharCode(e.charCodeAt(l)^A);return B}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var bC={print:4,modify:8,copy:16,"annot-forms":32};function Oc(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(bC.perm!==void 0)throw new Error("Invalid permission: "+a);s+=bC[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,A),this.P=-(1+(255^s)),this.encryptionKey=Xy(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Zy(this.encryptionKey,this.padding)}function Hc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function CC(t){if(sr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var A=e[r][i];try{A[0].apply(t,n)}catch(a){vt.console&&dr.error("jsPDF PubSub Error",a.message,a)}A[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function mg(t){if(!(this instanceof mg))return new mg(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function WS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function El(t,e,r,n,s){if(!(this instanceof El))return new El(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,WS.call(this,n,s)}function ru(t,e,r,n,s){if(!(this instanceof ru))return new ru(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,WS.call(this,n,s)}function gt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],A=[],a=1,l=16,c="S",h=null;sr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),A=t.filters||(i===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=CC;var B="1.3",E=g.__private__.getPdfVersion=function(){return B};g.__private__.setPdfVersion=function(v){B=v};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return I};var w=g.__private__.getPageFormat=function(v){return I[v]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},_=y.COMPAT;function P(){this.saveGraphicsState(),re(new nt(Je,0,0,-Je,0,Dn()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),c="n",_=y.ADVANCED}function H(){this.restoreGraphicsState(),c="S",_=y.COMPAT}var W=g.__private__.combineFontStyleAndFontWeight=function(v,D){if(v=="bold"&&D=="normal"||v=="bold"&&D==400||v=="normal"&&D=="italic"||v=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(v=D==400||D==="normal"?v==="italic"?"italic":"normal":D!=700&&D!=="bold"||v!=="normal"?(D==700?"bold":D)+""+v:"bold"),v};g.advancedAPI=function(v){var D=_===y.COMPAT;return D&&P.call(this),typeof v!="function"||(v(this),D&&H.call(this)),this},g.compatAPI=function(v){var D=_===y.ADVANCED;return D&&H.call(this),typeof v!="function"||(v(this),D&&P.call(this)),this},g.isAdvancedAPI=function(){return _===y.ADVANCED};var T,b=function(v){if(_!==y.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(v,D){var Ae=e||D;if(isNaN(v)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Ae).replace(/0+$/,"")};T=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return k(v,16)};var j=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return k(v,2)},N=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return k(v,3)},Q=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return _===y.COMPAT?v*Je:_===y.ADVANCED?v:void 0},F=function(v){return _===y.COMPAT?Dn()-v:_===y.ADVANCED?v:void 0},te=function(v){return Q(F(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var xe,ve="00000000000000000000000000000000",ye=g.__private__.getFileId=function(){return ve},V=g.__private__.setFileId=function(v){return ve=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(yr=new Oc(h.userPermissions,h.userPassword,h.ownerPassword,ve)),ve};g.setFileId=function(v){return V(v),this},g.getFileId=function(){return ye()};var le=g.__private__.convertDateToPDFDate=function(v){var D=v.getTimezoneOffset(),Ae=D<0?"+":"-",de=Math.floor(Math.abs(D/60)),Ce=Math.abs(D%60),Qe=[Ae,$(de),"'",$(Ce),"'"].join("");return["D:",v.getFullYear(),$(v.getMonth()+1),$(v.getDate()),$(v.getHours()),$(v.getMinutes()),$(v.getSeconds()),Qe].join("")},Z=g.__private__.convertPDFDateToDate=function(v){var D=parseInt(v.substr(2,4),10),Ae=parseInt(v.substr(6,2),10)-1,de=parseInt(v.substr(8,2),10),Ce=parseInt(v.substr(10,2),10),Qe=parseInt(v.substr(12,2),10),Oe=parseInt(v.substr(14,2),10);return new Date(D,Ae,de,Ce,Qe,Oe,0)},ue=g.__private__.setCreationDate=function(v){var D;if(v===void 0&&(v=new Date),v instanceof Date)D=le(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=v}return xe=D},L=g.__private__.getCreationDate=function(v){var D=xe;return v==="jsDate"&&(D=Z(xe)),D};g.setCreationDate=function(v){return ue(v),this},g.getCreationDate=function(v){return L(v)};var M,$=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Y=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},X=0,ee=[],ie=[],oe=0,G=[],se=[],ge=!1,_e=ie,ke=function(){X=0,oe=0,ie=[],ee=[],G=[],gi=kr(),Pn=kr()};g.__private__.setCustomOutputDestination=function(v){ge=!0,_e=v};var be=function(v){ge||(_e=v)};g.__private__.resetCustomOutputDestination=function(){ge=!1,_e=ie};var re=g.__private__.out=function(v){return v=v.toString(),oe+=v.length+1,_e.push(v),_e},me=g.__private__.write=function(v){return re(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},ae=g.__private__.getArrayBuffer=function(v){for(var D=v.length,Ae=new ArrayBuffer(D),de=new Uint8Array(Ae);D--;)de[D]=v.charCodeAt(D);return Ae},he=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return he};var Ie=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Ie=_===y.ADVANCED?v/Je:v,this};var Ke,Ge=g.__private__.getFontSize=g.getFontSize=function(){return _===y.COMPAT?Ie:Ie*Je},et=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return et=v,this},g.__private__.getR2L=g.getR2L=function(){return et};var dt,Bt=g.__private__.setZoomMode=function(v){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ke=v;else if(isNaN(v)){if(D.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ke=v}else Ke=parseInt(v,10)};g.__private__.getZoomMode=function(){return Ke};var ut,pt=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');dt=v};g.__private__.getPageMode=function(){return dt};var Lt=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ut=v};g.__private__.getLayoutMode=function(){return ut},g.__private__.setDisplayMode=g.setDisplayMode=function(v,D,Ae){return Bt(v),Lt(D),pt(Ae),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(ft).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[v]},g.__private__.getDocumentProperties=function(){return ft},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var D in ft)ft.hasOwnProperty(D)&&v[D]&&(ft[D]=v[D]);return this},g.__private__.setDocumentProperty=function(v,D){if(Object.keys(ft).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[v]=D};var Ft,Je,gr,Qt,wn,Kt={},er={},ts=[],jt={},Ts={},Te={},We={},tt=null,ct=0,ze=[],it=new CC(g),Ut=t.hotfixes||[],lr={},_r={},Ln=[],nt=function v(D,Ae,de,Ce,Qe,Oe){if(!(this instanceof v))return new v(D,Ae,de,Ce,Qe,Oe);isNaN(D)&&(D=1),isNaN(Ae)&&(Ae=0),isNaN(de)&&(de=0),isNaN(Ce)&&(Ce=1),isNaN(Qe)&&(Qe=0),isNaN(Oe)&&(Oe=0),this._matrix=[D,Ae,de,Ce,Qe,Oe]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(v)},nt.prototype.multiply=function(v){var D=v.sx*this.sx+v.shy*this.shx,Ae=v.sx*this.shy+v.shy*this.sy,de=v.shx*this.sx+v.sy*this.shx,Ce=v.shx*this.shy+v.sy*this.sy,Qe=v.tx*this.sx+v.ty*this.shx+this.tx,Oe=v.tx*this.shy+v.ty*this.sy+this.ty;return new nt(D,Ae,de,Ce,Qe,Oe)},nt.prototype.decompose=function(){var v=this.sx,D=this.shy,Ae=this.shx,de=this.sy,Ce=this.tx,Qe=this.ty,Oe=Math.sqrt(v*v+D*D),Ye=(v/=Oe)*Ae+(D/=Oe)*de;Ae-=v*Ye,de-=D*Ye;var d=Math.sqrt(Ae*Ae+de*de);return Ye/=d,v*(de/=d)<D*(Ae/=d)&&(v=-v,D=-D,Ye=-Ye,Oe=-Oe),{scale:new nt(Oe,0,0,d,0,0),translate:new nt(1,0,0,1,Ce,Qe),rotate:new nt(v,D,-D,v,0,0),skew:new nt(1,0,Ye,1,0,0)}},nt.prototype.toString=function(v){return this.join(" ")},nt.prototype.inversed=function(){var v=this.sx,D=this.shy,Ae=this.shx,de=this.sy,Ce=this.tx,Qe=this.ty,Oe=1/(v*de-D*Ae),Ye=de*Oe,d=-D*Oe,C=-Ae*Oe,U=v*Oe;return new nt(Ye,d,C,U,-Ye*Ce-C*Qe,-d*Ce-U*Qe)},nt.prototype.applyToPoint=function(v){var D=v.x*this.sx+v.y*this.shx+this.tx,Ae=v.x*this.shy+v.y*this.sy+this.ty;return new QA(D,Ae)},nt.prototype.applyToRectangle=function(v){var D=this.applyToPoint(v),Ae=this.applyToPoint(new QA(v.x+v.w,v.y+v.h));return new Ta(D.x,D.y,Ae.x-D.x,Ae.y-D.y)},nt.prototype.clone=function(){var v=this.sx,D=this.shy,Ae=this.shx,de=this.sy,Ce=this.tx,Qe=this.ty;return new nt(v,D,Ae,de,Ce,Qe)},g.Matrix=nt;var hs=g.matrixMult=function(v,D){return D.multiply(v)},jn=new nt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=jn;var Jr=function(v,D){if(!Ts[v]){var Ae=(D instanceof El?"Sh":"P")+(Object.keys(jt).length+1).toString(10);D.id=Ae,Ts[v]=Ae,jt[Ae]=D,it.publish("addPattern",D)}};g.ShadingPattern=El,g.TilingPattern=ru,g.addShadingPattern=function(v,D){return b("addShadingPattern()"),Jr(v,D),this},g.beginTilingPattern=function(v){b("beginTilingPattern()"),Ua(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,D){b("endTilingPattern()"),D.stream=se[M].join(`
`),Jr(v,D),it.publish("endTilingPattern",D),Ln.pop().restore()};var Pr=g.__private__.newObject=function(){var v=kr();return Xr(v,!0),v},kr=g.__private__.newObjectDeferred=function(){return X++,ee[X]=function(){return oe},X},Xr=function(v,D){return D=typeof D=="boolean"&&D,ee[v]=oe,D&&re(v+" 0 obj"),v},va=g.__private__.newAdditionalObject=function(){var v={objId:kr(),content:""};return G.push(v),v},gi=kr(),Pn=kr(),fs=g.__private__.decodeColorString=function(v){var D=v.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var Ae=parseFloat(D[0]);D=[Ae,Ae,Ae,"r"]}for(var de="#",Ce=0;Ce<3;Ce++)de+=("0"+Math.floor(255*parseFloat(D[Ce])).toString(16)).slice(-2);return de},rs=g.__private__.encodeColorString=function(v){var D;typeof v=="string"&&(v={ch1:v});var Ae=v.ch1,de=v.ch2,Ce=v.ch3,Qe=v.ch4,Oe=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Ye=new GS(Ae);if(Ye.ok)Ae=Ye.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var d=parseInt(Ae.substr(1),16);Ae=d>>16&255,de=d>>8&255,Ce=255&d}if(de===void 0||Qe===void 0&&Ae===de&&de===Ce)if(typeof Ae=="string")D=Ae+" "+Oe[0];else switch(v.precision){case 2:D=j(Ae/255)+" "+Oe[0];break;case 3:default:D=N(Ae/255)+" "+Oe[0]}else if(Qe===void 0||sr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return D=["1.","1.","1.",Oe[1]].join(" ");if(typeof Ae=="string")D=[Ae,de,Ce,Oe[1]].join(" ");else switch(v.precision){case 2:D=[j(Ae/255),j(de/255),j(Ce/255),Oe[1]].join(" ");break;default:case 3:D=[N(Ae/255),N(de/255),N(Ce/255),Oe[1]].join(" ")}}else if(typeof Ae=="string")D=[Ae,de,Ce,Qe,Oe[2]].join(" ");else switch(v.precision){case 2:D=[j(Ae),j(de),j(Ce),j(Qe),Oe[2]].join(" ");break;case 3:default:D=[N(Ae),N(de),N(Ce),N(Qe),Oe[2]].join(" ")}return D},ns=g.__private__.getFilters=function(){return A},Dr=g.__private__.putStream=function(v){var D=(v=v||{}).data||"",Ae=v.filters||ns(),de=v.alreadyAppliedFilters||[],Ce=v.addLength1||!1,Qe=D.length,Oe=v.objectId,Ye=function(Ct){return Ct};if(h!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ye=yr.encryptor(Oe,0));var d={};Ae===!0&&(Ae=["FlateEncode"]);var C=v.additionalKeyValues||[],U=(d=gt.API.processDataByFilters!==void 0?gt.API.processDataByFilters(D,Ae):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(d.data.length!==0&&(C.push({key:"Length",value:d.data.length}),Ce===!0&&C.push({key:"Length1",value:Qe})),U.length!=0)if(U.split("/").length-1==1)C.push({key:"Filter",value:U});else{C.push({key:"Filter",value:"["+U+"]"});for(var z=0;z<C.length;z+=1)if(C[z].key==="DecodeParms"){for(var Be=[],Fe=0;Fe<d.reverseChain.split("/").length-1;Fe+=1)Be.push("null");Be.push(C[z].value),C[z].value="["+Be.join(" ")+"]"}}re("<<");for(var He=0;He<C.length;He++)re("/"+C[He].key+" "+C[He].value);re(">>"),d.data.length!==0&&(re("stream"),re(Ye(d.data)),re("endstream"))},Us=g.__private__.putPage=function(v){var D=v.number,Ae=v.data,de=v.objId,Ce=v.contentsObjId;Xr(de,!0),re("<</Type /Page"),re("/Parent "+v.rootDictionaryObjId+" 0 R"),re("/Resources "+v.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(T(v.mediaBox.bottomLeftX))+" "+parseFloat(T(v.mediaBox.bottomLeftY))+" "+T(v.mediaBox.topRightX)+" "+T(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&re("/CropBox ["+T(v.cropBox.bottomLeftX)+" "+T(v.cropBox.bottomLeftY)+" "+T(v.cropBox.topRightX)+" "+T(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&re("/BleedBox ["+T(v.bleedBox.bottomLeftX)+" "+T(v.bleedBox.bottomLeftY)+" "+T(v.bleedBox.topRightX)+" "+T(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&re("/TrimBox ["+T(v.trimBox.bottomLeftX)+" "+T(v.trimBox.bottomLeftY)+" "+T(v.trimBox.topRightX)+" "+T(v.trimBox.topRightY)+"]"),v.artBox!==null&&re("/ArtBox ["+T(v.artBox.bottomLeftX)+" "+T(v.artBox.bottomLeftY)+" "+T(v.artBox.topRightX)+" "+T(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&re("/UserUnit "+v.userUnit),it.publish("putPage",{objId:de,pageContext:ze[D],pageNumber:D,page:Ae}),re("/Contents "+Ce+" 0 R"),re(">>"),re("endobj");var Qe=Ae.join(`
`);return _===y.ADVANCED&&(Qe+=`
Q`),Xr(Ce,!0),Dr({data:Qe,filters:ns(),objectId:Ce}),re("endobj"),de},Wi=g.__private__.putPages=function(){var v,D,Ae=[];for(v=1;v<=ct;v++)ze[v].objId=kr(),ze[v].contentsObjId=kr();for(v=1;v<=ct;v++)Ae.push(Us({number:v,data:se[v],objId:ze[v].objId,contentsObjId:ze[v].contentsObjId,mediaBox:ze[v].mediaBox,cropBox:ze[v].cropBox,bleedBox:ze[v].bleedBox,trimBox:ze[v].trimBox,artBox:ze[v].artBox,userUnit:ze[v].userUnit,rootDictionaryObjId:gi,resourceDictionaryObjId:Pn}));Xr(gi,!0),re("<</Type /Pages");var de="/Kids [";for(D=0;D<ct;D++)de+=Ae[D]+" 0 R ";re(de+"]"),re("/Count "+ct),re(">>"),re("endobj"),it.publish("postPutPages")},$i=function(v){it.publish("putFont",{font:v,out:re,newObject:Pr,putStream:Dr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Pr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Hc(v.postScriptName)),re("/Subtype /Type1"),typeof v.encoding=="string"&&re("/Encoding /"+v.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Yi=function(){for(var v in Kt)Kt.hasOwnProperty(v)&&(f===!1||f===!0&&p.hasOwnProperty(v))&&$i(Kt[v])},EA=function(v){v.objectNumber=Pr();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[T(v.x),T(v.y),T(v.x+v.width),T(v.y+v.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Ae=v.pages[1].join(`
`);Dr({data:Ae,additionalKeyValues:D,objectId:v.objectNumber}),re("endobj")},_A=function(){for(var v in lr)lr.hasOwnProperty(v)&&EA(lr[v])},rc=function(v,D){var Ae,de=[],Ce=1/(D-1);for(Ae=0;Ae<1;Ae+=Ce)de.push(Ae);if(de.push(1),v[0].offset!=0){var Qe={offset:0,color:v[0].color};v.unshift(Qe)}if(v[v.length-1].offset!=1){var Oe={offset:1,color:v[v.length-1].color};v.push(Oe)}for(var Ye="",d=0,C=0;C<de.length;C++){for(Ae=de[C];Ae>v[d+1].offset;)d++;var U=v[d].offset,z=(Ae-U)/(v[d+1].offset-U),Be=v[d].color,Fe=v[d+1].color;Ye+=Y(Math.round((1-z)*Be[0]+z*Fe[0]).toString(16))+Y(Math.round((1-z)*Be[1]+z*Fe[1]).toString(16))+Y(Math.round((1-z)*Be[2]+z*Fe[2]).toString(16))}return Ye.trim()},ya=function(v,D){D||(D=21);var Ae=Pr(),de=rc(v.colors,D),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+D+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Dr({data:de,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),re("endobj"),v.objectNumber=Pr(),re("<< /ShadingType "+v.type),re("/ColorSpace /DeviceRGB");var Qe="/Coords ["+T(parseFloat(v.coords[0]))+" "+T(parseFloat(v.coords[1]))+" ";v.type===2?Qe+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3])):Qe+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3]))+" "+T(parseFloat(v.coords[4]))+" "+T(parseFloat(v.coords[5])),re(Qe+="]"),v.matrix&&re("/Matrix ["+v.matrix.toString()+"]"),re("/Function "+Ae+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},nc=function(v,D){var Ae=kr(),de=Pr();D.push({resourcesOid:Ae,objectOid:de}),v.objectNumber=de;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+v.boundingBox.map(T).join(" ")+"]"}),Ce.push({key:"XStep",value:T(v.xStep)}),Ce.push({key:"YStep",value:T(v.yStep)}),Ce.push({key:"Resources",value:Ae+" 0 R"}),v.matrix&&Ce.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Dr({data:v.stream,additionalKeyValues:Ce,objectId:v.objectNumber}),re("endobj")},Ji=function(v){var D;for(D in jt)jt.hasOwnProperty(D)&&(jt[D]instanceof El?ya(jt[D]):jt[D]instanceof ru&&nc(jt[D],v))},Xi=function(v){for(var D in v.objectNumber=Pr(),re("<<"),v)switch(D){case"opacity":re("/ca "+j(v[D]));break;case"stroke-opacity":re("/CA "+j(v[D]))}re(">>"),re("endobj")},vi=function(){var v;for(v in Te)Te.hasOwnProperty(v)&&Xi(Te[v])},IA=function(){for(var v in re("/XObject <<"),lr)lr.hasOwnProperty(v)&&lr[v].objectNumber>=0&&re("/"+v+" "+lr[v].objectNumber+" 0 R");it.publish("putXobjectDict"),re(">>")},Yu=function(){yr.oid=Pr(),re("<<"),re("/Filter /Standard"),re("/V "+yr.v),re("/R "+yr.r),re("/U <"+yr.toHexString(yr.U)+">"),re("/O <"+yr.toHexString(yr.O)+">"),re("/P "+yr.P),re(">>"),re("endobj")},Zo=function(){for(var v in re("/Font <<"),Kt)Kt.hasOwnProperty(v)&&(f===!1||f===!0&&p.hasOwnProperty(v))&&re("/"+v+" "+Kt[v].objectNumber+" 0 R");re(">>")},sc=function(){if(Object.keys(jt).length>0){for(var v in re("/Shading <<"),jt)jt.hasOwnProperty(v)&&jt[v]instanceof El&&jt[v].objectNumber>=0&&re("/"+v+" "+jt[v].objectNumber+" 0 R");it.publish("putShadingPatternDict"),re(">>")}},NA=function(v){if(Object.keys(jt).length>0){for(var D in re("/Pattern <<"),jt)jt.hasOwnProperty(D)&&jt[D]instanceof g.TilingPattern&&jt[D].objectNumber>=0&&jt[D].objectNumber<v&&re("/"+D+" "+jt[D].objectNumber+" 0 R");it.publish("putTilingPatternDict"),re(">>")}},el=function(){if(Object.keys(Te).length>0){var v;for(v in re("/ExtGState <<"),Te)Te.hasOwnProperty(v)&&Te[v].objectNumber>=0&&re("/"+v+" "+Te[v].objectNumber+" 0 R");it.publish("putGStateDict"),re(">>")}},vr=function(v){Xr(v.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zo(),sc(),NA(v.objectOid),el(),IA(),re(">>"),re("endobj")},tl=function(){var v=[];Yi(),vi(),_A(),Ji(v),it.publish("putResources"),v.forEach(vr),vr({resourcesOid:Pn,objectOid:Number.MAX_SAFE_INTEGER}),it.publish("postPutResources")},rl=function(){it.publish("putAdditionalObjects");for(var v=0;v<G.length;v++){var D=G[v];Xr(D.objId,!0),re(D.content),re("endobj")}it.publish("postPutAdditionalObjects")},ic=function(v){er[v.fontName]=er[v.fontName]||{},er[v.fontName][v.fontStyle]=v.id},nl=function(v,D,Ae,de,Ce){var Qe={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:v,fontName:D,fontStyle:Ae,encoding:de,isStandardFont:Ce||!1,metadata:{}};return it.publish("addFont",{font:Qe,instance:this}),Kt[Qe.id]=Qe,ic(Qe),Qe.id},Ac=function(v){for(var D=0,Ae=he.length;D<Ae;D++){var de=nl.call(this,v[D][0],v[D][1],v[D][2],he[D][3],!0);f===!1&&(p[de]=!0);var Ce=v[D][0].split("-");ic({id:de,fontName:Ce[0],fontStyle:Ce[1]||""})}it.publish("addFonts",{fonts:Kt,dictionary:er})},ms=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(de){var D=de.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var Ae="Error in function "+D.split(`
`)[0].split("<")[0]+": "+de.message;if(!vt.console)throw new Error(Ae);vt.console.error(Ae,de),vt.alert&&alert(Ae)}},v.foo.bar=v,v.foo},wa=function(v,D){var Ae,de,Ce,Qe,Oe,Ye,d,C,U;if(Ce=(D=D||{}).sourceEncoding||"Unicode",Oe=D.outputEncoding,(D.autoencode||Oe)&&Kt[Ft].metadata&&Kt[Ft].metadata[Ce]&&Kt[Ft].metadata[Ce].encoding&&(Qe=Kt[Ft].metadata[Ce].encoding,!Oe&&Kt[Ft].encoding&&(Oe=Kt[Ft].encoding),!Oe&&Qe.codePages&&(Oe=Qe.codePages[0]),typeof Oe=="string"&&(Oe=Qe[Oe]),Oe)){for(d=!1,Ye=[],Ae=0,de=v.length;Ae<de;Ae++)(C=Oe[v.charCodeAt(Ae)])?Ye.push(String.fromCharCode(C)):Ye.push(v[Ae]),Ye[Ae].charCodeAt(0)>>8&&(d=!0);v=Ye.join("")}for(Ae=v.length;d===void 0&&Ae!==0;)v.charCodeAt(Ae-1)>>8&&(d=!0),Ae--;if(!d)return v;for(Ye=D.noBOM?[]:[254,255],Ae=0,de=v.length;Ae<de;Ae++){if((U=(C=v.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(U),Ye.push(C-(U<<8))}return String.fromCharCode.apply(void 0,Ye)},Tr=g.__private__.pdfEscape=g.pdfEscape=function(v,D){return wa(v,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ss=g.__private__.beginPage=function(v){se[++ct]=[],ze[ct]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},sl(ct),be(se[M])},SA=function(v,D){var Ae,de,Ce;switch(r=D||r,typeof v=="string"&&(Ae=w(v.toLowerCase()),Array.isArray(Ae)&&(de=Ae[0],Ce=Ae[1])),Array.isArray(v)&&(de=v[0]*Je,Ce=v[1]*Je),isNaN(de)&&(de=s[0],Ce=s[1]),(de>14400||Ce>14400)&&(dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),Ce=Math.min(14400,Ce)),s=[de,Ce],r.substr(0,1)){case"l":Ce>de&&(s=[Ce,de]);break;case"p":de>Ce&&(s=[Ce,de])}ss(s),ll(ol),re(xn),dl!==0&&re(dl+" J"),ka!==0&&re(ka+" j"),it.publish("addPage",{pageNumber:ct})},xa=function(v){v>0&&v<=ct&&(se.splice(v,1),ze.splice(v,1),ct--,M>ct&&(M=ct),this.setPage(M))},sl=function(v){v>0&&v<=ct&&(M=v)},tr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return se.length-1},FA=function(v,D,Ae){var de,Ce=void 0;return Ae=Ae||{},v=v!==void 0?v:Kt[Ft].fontName,D=D!==void 0?D:Kt[Ft].fontStyle,de=v.toLowerCase(),er[de]!==void 0&&er[de][D]!==void 0?Ce=er[de][D]:er[v]!==void 0&&er[v][D]!==void 0?Ce=er[v][D]:Ae.disableWarning===!1&&dr.warn("Unable to look up font label for font '"+v+"', '"+D+"'. Refer to getFontList() for available fonts."),Ce||Ae.noFallback||(Ce=er.times[D])==null&&(Ce=er.times.normal),Ce},kA=g.__private__.putInfo=function(){var v=Pr(),D=function(de){return de};for(var Ae in h!==null&&(D=yr.encryptor(v,0)),re("<<"),re("/Producer ("+Tr(D("jsPDF "+gt.version))+")"),ft)ft.hasOwnProperty(Ae)&&ft[Ae]&&re("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Tr(D(ft[Ae]))+")");re("/CreationDate ("+Tr(D(xe))+")"),re(">>"),re("endobj")},yi=g.__private__.putCatalog=function(v){var D=(v=v||{}).rootDictionaryObjId||gi;switch(Pr(),re("<<"),re("/Type /Catalog"),re("/Pages "+D+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+Ke;Ae.substr(Ae.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&re("/OpenAction [3 0 R /XYZ null null "+j(Ke)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}dt&&re("/PageMode /"+dt),it.publish("putCatalog"),re(">>"),re("endobj")},Ju=g.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(X+1)),re("/Root "+X+" 0 R"),re("/Info "+(X-1)+" 0 R"),h!==null&&re("/Encrypt "+yr.oid+" 0 R"),re("/ID [ <"+ve+"> <"+ve+"> ]"),re(">>")},ac=g.__private__.putHeader=function(){re("%PDF-"+B),re("%ºß¬à")},Xu=g.__private__.putXRef=function(){var v="0000000000";re("xref"),re("0 "+(X+1)),re("0000000000 65535 f ");for(var D=1;D<=X;D++)typeof ee[D]=="function"?re((v+ee[D]()).slice(-10)+" 00000 n "):ee[D]!==void 0?re((v+ee[D]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},wi=g.__private__.buildDocument=function(){ke(),be(ie),it.publish("buildDocument"),ac(),Wi(),rl(),tl(),h!==null&&Yu(),kA(),yi();var v=oe;return Xu(),Ju(),re("startxref"),re(""+v),re("%%EOF"),be(se[M]),ie.join(`
`)},Ba=g.__private__.getBlob=function(v){return new Blob([ae(v)],{type:"application/pdf"})},ba=g.output=g.__private__.output=ms(function(v,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",v){case void 0:return wi();case"save":g.save(D.filename);break;case"arraybuffer":return ae(wi());case"blob":return Ba(wi());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Ba(wi()))||void 0;dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",de=wi();try{Ae=Jy(de)}catch{Ae=Jy(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+D.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(Ce=D.pdfObjectUrl,Qe="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Ye=vt.open();return Ye!==null&&Ye.document.write(Oe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',C=vt.open();if(C!==null){C.document.write(d);var U=this;C.document.documentElement.querySelector("#pdfViewer").onload=function(){C.document.title=D.filename,C.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(U.output("bloburl"))}}return C}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var z='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Be=vt.open();if(Be!==null&&(Be.document.write(z),Be.document.title=D.filename),Be||typeof safari>"u")return Be;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",D);default:return null}}),Zi=function(v){return Array.isArray(Ut)===!0&&Ut.indexOf(v)>-1};switch(n){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=Zi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Je=n}var yr=null;ue(),V();var oc=function(v){return h!==null?yr.encryptor(v,0):function(D){return D}},il=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ze[v].objId,pageNumber:v,pageContext:ze[v]}},yt=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in ze)if(ze[D].objId===v)break;return il(D)},eA=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ze[M].objId,pageNumber:M,pageContext:ze[M]}};g.addPage=function(){return SA.apply(this,arguments),this},g.setPage=function(){return sl.apply(this,arguments),be.call(this,se[M]),this},g.insertPage=function(v){return this.addPage(),this.movePage(M,v),this},g.movePage=function(v,D){var Ae,de;if(v>D){Ae=se[v],de=ze[v];for(var Ce=v;Ce>D;Ce--)se[Ce]=se[Ce-1],ze[Ce]=ze[Ce-1];se[D]=Ae,ze[D]=de,this.setPage(D)}else if(v<D){Ae=se[v],de=ze[v];for(var Qe=v;Qe<D;Qe++)se[Qe]=se[Qe+1],ze[Qe]=ze[Qe+1];se[D]=Ae,ze[D]=de,this.setPage(D)}return this},g.deletePage=function(){return xa.apply(this,arguments),this},g.__private__.text=g.text=function(v,D,Ae,de,Ce){var Qe,Oe,Ye,d,C,U,z,Be,Fe,He=(de=de||{}).scope||this;if(typeof v=="number"&&typeof D=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Ct=Ae;Ae=D,D=v,v=Ct}if(arguments[3]instanceof nt?(b("The transform parameter of text() with a Matrix value"),Fe=Ce):(Ye=arguments[4],d=arguments[5],sr(z=arguments[3])==="object"&&z!==null||(typeof Ye=="string"&&(d=Ye,Ye=null),typeof z=="string"&&(d=z,z=null),typeof z=="number"&&(Ye=z,z=null),de={flags:z,angle:Ye,align:d})),isNaN(D)||isNaN(Ae)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return He;var Dt="",Et=!1,Xt=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Jt,cr=He.internal.scaleFactor;function Ei(hr){return hr=hr.split("	").join(Array(de.TabLen||9).join(" ")),Tr(hr,z)}function Bn(hr){for(var fr,Or=hr.concat(),on=[],RA=Or.length;RA--;)typeof(fr=Or.shift())=="string"?on.push(fr):Array.isArray(hr)&&(fr.length===1||fr[1]===void 0&&fr[2]===void 0)?on.push(fr[0]):on.push([fr[0],fr[1],fr[2]]);return on}function sA(hr,fr){var Or;if(typeof hr=="string")Or=fr(hr)[0];else if(Array.isArray(hr)){for(var on,RA,ad=hr.concat(),xc=[],wf=ad.length;wf--;)typeof(on=ad.shift())=="string"?xc.push(fr(on)[0]):Array.isArray(on)&&typeof on[0]=="string"&&(RA=fr(on[0],on[1],on[2]),xc.push([RA[0],RA[1],RA[2]]));Or=xc}return Or}var iA=!1,ed=!0;if(typeof v=="string")iA=!0;else if(Array.isArray(v)){var td=v.concat();Oe=[];for(var hc,bn=td.length;bn--;)(typeof(hc=td.shift())!="string"||Array.isArray(hc)&&typeof hc[0]!="string")&&(ed=!1);iA=ed}if(iA===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var fc=Ie/He.internal.scaleFactor,mc=fc*(Xt-1);switch(de.baseline){case"bottom":Ae-=mc;break;case"top":Ae+=fc-mc;break;case"hanging":Ae+=fc-2*mc;break;case"middle":Ae+=fc/2-mc}if((U=de.maxWidth||0)>0&&(typeof v=="string"?v=He.splitTextToSize(v,U):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(hr,fr){return hr.concat(He.splitTextToSize(fr,U))},[]))),Qe={text:v,x:D,y:Ae,options:de,mutex:{pdfEscape:Tr,activeFontKey:Ft,fonts:Kt,activeFontSize:Ie}},it.publish("preProcessText",Qe),v=Qe.text,Ye=(de=Qe.options).angle,!(Fe instanceof nt)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,de.rotationDirection===0&&(Ye=-Ye),_===y.ADVANCED&&(Ye=-Ye);var pc=Math.cos(Ye),rd=Math.sin(Ye);Fe=new nt(pc,rd,-rd,pc,0,0)}else Ye&&Ye instanceof nt&&(Fe=Ye);_!==y.ADVANCED||Fe||(Fe=jn),(C=de.charSpace||UA)!==void 0&&(Dt+=T(Q(C))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Be=de.horizontalScale)!==void 0&&(Dt+=T(100*Be)+` Tz
`),de.lang;var ps=-1,w0=de.renderingMode!==void 0?de.renderingMode:de.stroke,nd=He.internal.getCurrentPageInfo().pageContext;switch(w0){case 0:case!1:case"fill":ps=0;break;case 1:case!0:case"stroke":ps=1;break;case 2:case"fillThenStroke":ps=2;break;case 3:case"invisible":ps=3;break;case 4:case"fillAndAddForClipping":ps=4;break;case 5:case"strokeAndAddPathForClipping":ps=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ps=6;break;case 7:case"addToPathForClipping":ps=7}var pf=nd.usedRenderingMode!==void 0?nd.usedRenderingMode:-1;ps!==-1?Dt+=ps+` Tr
`:pf!==-1&&(Dt+=`0 Tr
`),ps!==-1&&(nd.usedRenderingMode=ps),d=de.align||"left";var Xs,gc=Ie*Xt,gf=He.internal.pageSize.getWidth(),vf=Kt[Ft];C=de.charSpace||UA,U=de.maxWidth||0,z=Object.assign({autoencode:!0,noBOM:!0},de.flags);var ja=[],hl=function(hr){return He.getStringUnitWidth(hr,{font:vf,charSpace:C,fontSize:Ie,doKerning:!1})*Ie/cr};if(Object.prototype.toString.call(v)==="[object Array]"){var gs;Oe=Bn(v),d!=="left"&&(Xs=Oe.map(hl));var is,Pa=0;if(d==="right"){D-=Xs[0],v=[],bn=Oe.length;for(var jA=0;jA<bn;jA++)jA===0?(is=js(D),gs=an(Ae)):(is=Q(Pa-Xs[jA]),gs=-gc),v.push([Oe[jA],is,gs]),Pa=Xs[jA]}else if(d==="center"){D-=Xs[0]/2,v=[],bn=Oe.length;for(var PA=0;PA<bn;PA++)PA===0?(is=js(D),gs=an(Ae)):(is=Q((Pa-Xs[PA])/2),gs=-gc),v.push([Oe[PA],is,gs]),Pa=Xs[PA]}else if(d==="left"){v=[],bn=Oe.length;for(var vc=0;vc<bn;vc++)v.push(Oe[vc])}else if(d==="justify"&&vf.encoding==="Identity-H"){v=[],bn=Oe.length,U=U!==0?U:gf;for(var DA=0,Rr=0;Rr<bn;Rr++)if(gs=Rr===0?an(Ae):-gc,is=Rr===0?js(D):DA,Rr<bn-1){var sd=Q((U-Xs[Rr])/(Oe[Rr].split(" ").length-1)),As=Oe[Rr].split(" ");v.push([As[0]+" ",is,gs]),DA=0;for(var Zs=1;Zs<As.length;Zs++){var yc=(hl(As[Zs-1]+" "+As[Zs])-hl(As[Zs]))*cr+sd;Zs==As.length-1?v.push([As[Zs],yc,0]):v.push([As[Zs]+" ",yc,0]),DA-=yc}}else v.push([Oe[Rr],is,gs]);v.push(["",DA,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],bn=Oe.length,U=U!==0?U:gf,Rr=0;Rr<bn;Rr++)gs=Rr===0?an(Ae):-gc,is=Rr===0?js(D):0,Rr<bn-1?ja.push(T(Q((U-Xs[Rr])/(Oe[Rr].split(" ").length-1)))):ja.push(0),v.push([Oe[Rr],is,gs])}}var yf=typeof de.R2L=="boolean"?de.R2L:et;yf===!0&&(v=sA(v,function(hr,fr,Or){return[hr.split("").reverse().join(""),fr,Or]})),Qe={text:v,x:D,y:Ae,options:de,mutex:{pdfEscape:Tr,activeFontKey:Ft,fonts:Kt,activeFontSize:Ie}},it.publish("postProcessText",Qe),v=Qe.text,Et=Qe.mutex.isHex||!1;var id=Kt[Ft].encoding;id!=="WinAnsiEncoding"&&id!=="StandardEncoding"||(v=sA(v,function(hr,fr,Or){return[Ei(hr),fr,Or]})),Oe=Bn(v),v=[];for(var fl,ml,Da,pl=0,wc=1,gl=Array.isArray(Oe[0])?wc:pl,Ra="",Ad=function(hr,fr,Or){var on="";return Or instanceof nt?(Or=typeof de.angle=="number"?hs(Or,new nt(1,0,0,1,hr,fr)):hs(new nt(1,0,0,1,hr,fr),Or),_===y.ADVANCED&&(Or=hs(new nt(1,0,0,-1,0,0),Or)),on=Or.join(" ")+` Tm
`):on=T(hr)+" "+T(fr)+` Td
`,on},ei=0;ei<Oe.length;ei++){switch(Ra="",gl){case wc:Da=(Et?"<":"(")+Oe[ei][0]+(Et?">":")"),fl=parseFloat(Oe[ei][1]),ml=parseFloat(Oe[ei][2]);break;case pl:Da=(Et?"<":"(")+Oe[ei]+(Et?">":")"),fl=js(D),ml=an(Ae)}ja!==void 0&&ja[ei]!==void 0&&(Ra=ja[ei]+` Tw
`),ei===0?v.push(Ra+Ad(fl,ml,Fe)+Da):gl===pl?v.push(Ra+Da):gl===wc&&v.push(Ra+Ad(fl,ml,Fe)+Da)}v=gl===pl?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ti=`BT
/`;return ti+=Ft+" "+Ie+` Tf
`,ti+=T(Ie*Xt)+` TL
`,ti+=bi+`
`,ti+=Dt,ti+=v,re(ti+="ET"),p[Ft]=!0,He};var Zu=g.__private__.clip=g.clip=function(v){return re(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Zu("evenodd")},g.__private__.discardPath=g.discardPath=function(){return re("n"),this};var Js=g.__private__.isValidStyle=function(v){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(D=!0),D};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return Js(v)&&(c=v),this};var lc=g.__private__.getStyle=g.getStyle=function(v){var D=c;switch(v){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=v}return D},Qs=g.close=function(){return re("h"),this};g.stroke=function(){return re("S"),this},g.fill=function(v){return Ca("f",v),this},g.fillEvenOdd=function(v){return Ca("f*",v),this},g.fillStroke=function(v){return Ca("B",v),this},g.fillStrokeEvenOdd=function(v){return Ca("B*",v),this};var Ca=function(v,D){sr(D)==="object"?_a(D,v):re(v)},Al=function(v){v===null||_===y.ADVANCED&&v===void 0||(v=lc(v),re(v))};function Ea(v,D,Ae,de,Ce){var Qe=new ru(D||this.boundingBox,Ae||this.xStep,de||this.yStep,this.gState,Ce||this.matrix);Qe.stream=this.stream;var Oe=v+"$$"+this.cloneIndex+++"$$";return Jr(Oe,Qe),Qe}var _a=function(v,D){var Ae=Ts[v.key],de=jt[Ae];if(de instanceof El)re("q"),re(cc(D)),de.gState&&g.setGState(de.gState),re(v.matrix.toString()+" cm"),re("/"+Ae+" sh"),re("Q");else if(de instanceof ru){var Ce=new nt(1,0,0,-1,0,Dn());v.matrix&&(Ce=Ce.multiply(v.matrix||jn),Ae=Ea.call(de,v.key,v.boundingBox,v.xStep,v.yStep,Ce).id),re("q"),re("/Pattern cs"),re("/"+Ae+" scn"),de.gState&&g.setGState(de.gState),re(D),re("Q")}},cc=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xi=g.moveTo=function(v,D){return re(T(Q(v))+" "+T(te(D))+" m"),this},Ls=g.lineTo=function(v,D){return re(T(Q(v))+" "+T(te(D))+" l"),this},Bi=g.curveTo=function(v,D,Ae,de,Ce,Qe){return re([T(Q(v)),T(te(D)),T(Q(Ae)),T(te(de)),T(Q(Ce)),T(te(Qe)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,D,Ae,de,Ce){if(isNaN(v)||isNaN(D)||isNaN(Ae)||isNaN(de)||!Js(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return _===y.COMPAT?this.lines([[Ae-v,de-D]],v,D,[1,1],Ce||"S"):this.lines([[Ae-v,de-D]],v,D,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,D,Ae,de,Ce,Qe){var Oe,Ye,d,C,U,z,Be,Fe,He,Ct,Dt,Et;if(typeof v=="number"&&(Et=Ae,Ae=D,D=v,v=Et),de=de||[1,1],Qe=Qe||!1,isNaN(D)||isNaN(Ae)||!Array.isArray(v)||!Array.isArray(de)||!Js(Ce)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xi(D,Ae),Oe=de[0],Ye=de[1],C=v.length,Ct=D,Dt=Ae,d=0;d<C;d++)(U=v[d]).length===2?(Ct=U[0]*Oe+Ct,Dt=U[1]*Ye+Dt,Ls(Ct,Dt)):(z=U[0]*Oe+Ct,Be=U[1]*Ye+Dt,Fe=U[2]*Oe+Ct,He=U[3]*Ye+Dt,Ct=U[4]*Oe+Ct,Dt=U[5]*Ye+Dt,Bi(z,Be,Fe,He,Ct,Dt));return Qe&&Qs(),Al(Ce),this},g.path=function(v){for(var D=0;D<v.length;D++){var Ae=v[D],de=Ae.c;switch(Ae.op){case"m":xi(de[0],de[1]);break;case"l":Ls(de[0],de[1]);break;case"c":Bi.apply(this,de);break;case"h":Qs()}}return this},g.__private__.rect=g.rect=function(v,D,Ae,de,Ce){if(isNaN(v)||isNaN(D)||isNaN(Ae)||isNaN(de)||!Js(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return _===y.COMPAT&&(de=-de),re([T(Q(v)),T(te(D)),T(Q(Ae)),T(Q(de)),"re"].join(" ")),Al(Ce),this},g.__private__.triangle=g.triangle=function(v,D,Ae,de,Ce,Qe,Oe){if(isNaN(v)||isNaN(D)||isNaN(Ae)||isNaN(de)||isNaN(Ce)||isNaN(Qe)||!Js(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-v,de-D],[Ce-Ae,Qe-de],[v-Ce,D-Qe]],v,D,[1,1],Oe,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,D,Ae,de,Ce,Qe,Oe){if(isNaN(v)||isNaN(D)||isNaN(Ae)||isNaN(de)||isNaN(Ce)||isNaN(Qe)||!Js(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*Ae),Qe=Math.min(Qe,.5*de),this.lines([[Ae-2*Ce,0],[Ce*Ye,0,Ce,Qe-Qe*Ye,Ce,Qe],[0,de-2*Qe],[0,Qe*Ye,-Ce*Ye,Qe,-Ce,Qe],[2*Ce-Ae,0],[-Ce*Ye,0,-Ce,-Qe*Ye,-Ce,-Qe],[0,2*Qe-de],[0,-Qe*Ye,Ce*Ye,-Qe,Ce,-Qe]],v+Ce,D,[1,1],Oe,!0),this},g.__private__.ellipse=g.ellipse=function(v,D,Ae,de,Ce){if(isNaN(v)||isNaN(D)||isNaN(Ae)||isNaN(de)||!Js(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*Ae,Oe=4/3*(Math.SQRT2-1)*de;return xi(v+Ae,D),Bi(v+Ae,D-Oe,v+Qe,D-de,v,D-de),Bi(v-Qe,D-de,v-Ae,D-Oe,v-Ae,D),Bi(v-Ae,D+Oe,v-Qe,D+de,v,D+de),Bi(v+Qe,D+de,v+Ae,D+Oe,v+Ae,D),Al(Ce),this},g.__private__.circle=g.circle=function(v,D,Ae,de){if(isNaN(v)||isNaN(D)||isNaN(Ae)||!Js(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,D,Ae,Ae,de)},g.setFont=function(v,D,Ae){return Ae&&(D=W(D,Ae)),Ft=FA(v,D,{disableWarning:!1}),this};var al=g.__private__.getFont=g.getFont=function(){return Kt[FA.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,D,Ae={};for(v in er)if(er.hasOwnProperty(v))for(D in Ae[v]=[],er[v])er[v].hasOwnProperty(D)&&Ae[v].push(D);return Ae},g.addFont=function(v,D,Ae,de,Ce){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(Ae=W(Ae,de)),Ce=Ce||"Identity-H",nl.call(this,v,D,Ae,Ce)};var Jt,ol=t.lineWidth||.200025,Ia=g.__private__.getLineWidth=g.getLineWidth=function(){return ol},ll=g.__private__.setLineWidth=g.setLineWidth=function(v){return ol=v,re(T(Q(v))+" w"),this};g.__private__.setLineDash=gt.API.setLineDash=gt.API.setLineDashPattern=function(v,D){if(v=v||[],D=D||0,isNaN(D)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Ae){return T(Q(Ae))}).join(" "),D=T(Q(D)),re("["+v+"] "+D+" d"),this};var cl=g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*Jt};g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*Jt};var ul=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Jt=v),this},TA=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Jt};ul(t.lineHeight);var js=g.__private__.getHorizontalCoordinate=function(v){return Q(v)},an=g.__private__.getVerticalCoordinate=function(v){return _===y.ADVANCED?v:ze[M].mediaBox.topRightY-ze[M].mediaBox.bottomLeftY-Q(v)},uc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return T(js(v))},tA=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return T(an(v))},xn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return fs(xn)},g.__private__.setStrokeColor=g.setDrawColor=function(v,D,Ae,de){return xn=rs({ch1:v,ch2:D,ch3:Ae,ch4:de,pdfColorType:"draw",precision:2}),re(xn),this};var Na=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return fs(Na)},g.__private__.setFillColor=g.setFillColor=function(v,D,Ae,de){return Na=rs({ch1:v,ch2:D,ch3:Ae,ch4:de,pdfColorType:"fill",precision:2}),re(Na),this};var bi=t.textColor||"0 g",Sa=g.__private__.getTextColor=g.getTextColor=function(){return fs(bi)};g.__private__.setTextColor=g.setTextColor=function(v,D,Ae,de){return bi=rs({ch1:v,ch2:D,ch3:Ae,ch4:de,pdfColorType:"text",precision:3}),this};var UA=t.charSpace,Fa=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(UA||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return UA=v,this};var dl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var D=g.CapJoinStyles[v];if(D===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dl=D,re(D+" J"),this};var ka=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var D=g.CapJoinStyles[v];if(D===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ka=D,re(D+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(T(Q(v))+" M"),this},g.GState=mg,g.setGState=function(v){(v=typeof v=="string"?Te[We[v]]:rA(null,v)).equals(tt)||(re("/"+v.id+" gs"),tt=v)};var rA=function(v,D){if(!v||!We[v]){var Ae=!1;for(var de in Te)if(Te.hasOwnProperty(de)&&Te[de].equals(D)){Ae=!0;break}if(Ae)D=Te[de];else{var Ce="GS"+(Object.keys(Te).length+1).toString(10);Te[Ce]=D,D.id=Ce}return v&&(We[v]=D.id),it.publish("addGState",D),D}};g.addGState=function(v,D){return rA(v,D),this},g.saveGraphicsState=function(){return re("q"),ts.push({key:Ft,size:Ie,color:bi}),this},g.restoreGraphicsState=function(){re("Q");var v=ts.pop();return Ft=v.key,Ie=v.size,bi=v.color,tt=null,this},g.setCurrentTransformationMatrix=function(v){return re(v.toString()+" cm"),this},g.comment=function(v){return re("#"+v),this};var QA=function(v,D){var Ae=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(Qe){isNaN(Qe)||(Ae=parseFloat(Qe))}});var de=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Qe){isNaN(Qe)||(de=parseFloat(Qe))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Qe){Ce=Qe.toString()}}),this},Ta=function(v,D,Ae,de){QA.call(this,v,D),this.type="rect";var Ce=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Oe){isNaN(Oe)||(Ce=parseFloat(Oe))}});var Qe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(Oe){isNaN(Oe)||(Qe=parseFloat(Oe))}}),this},LA=function(){this.page=ct,this.currentPage=M,this.pages=se.slice(0),this.pagesContext=ze.slice(0),this.x=gr,this.y=Qt,this.matrix=wn,this.width=nA(M),this.height=Dn(M),this.outputDestination=_e,this.id="",this.objectNumber=-1};LA.prototype.restore=function(){ct=this.page,M=this.currentPage,ze=this.pagesContext,se=this.pages,gr=this.x,Qt=this.y,wn=this.matrix,Qa(M,this.width),La(M,this.height),_e=this.outputDestination};var Ua=function(v,D,Ae,de,Ce){Ln.push(new LA),ct=M=0,se=[],gr=v,Qt=D,wn=Ce,ss([Ae,de])},dc=function(v){if(_r[v])Ln.pop().restore();else{var D=new LA,Ae="Xo"+(Object.keys(lr).length+1).toString(10);D.id=Ae,_r[v]=Ae,lr[Ae]=D,it.publish("addFormObject",D),Ln.pop().restore()}};for(var Ci in g.beginFormObject=function(v,D,Ae,de,Ce){return Ua(v,D,Ae,de,Ce),this},g.endFormObject=function(v){return dc(v),this},g.doFormObject=function(v,D){var Ae=lr[_r[v]];return re("q"),re(D.toString()+" cm"),re("/"+Ae.id+" Do"),re("Q"),this},g.getFormObject=function(v){var D=lr[_r[v]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},g.save=function(v,D){return v=v||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(bl(Ba(wi()),v),typeof bl.unload=="function"&&vt.setTimeout&&setTimeout(bl.unload,911),this):new Promise(function(Ae,de){try{var Ce=bl(Ba(wi()),v);typeof bl.unload=="function"&&vt.setTimeout&&setTimeout(bl.unload,911),Ae(Ce)}catch(Qe){de(Qe.message)}})},gt.API)gt.API.hasOwnProperty(Ci)&&(Ci==="events"&&gt.API.events.length?function(v,D){var Ae,de,Ce;for(Ce=D.length-1;Ce!==-1;Ce--)Ae=D[Ce][0],de=D[Ce][1],v.subscribe.apply(v,[Ae].concat(typeof de=="function"?[de]:de))}(it,gt.API.events):g[Ci]=gt.API[Ci]);var nA=g.getPageWidth=function(v){return(ze[v=v||M].mediaBox.topRightX-ze[v].mediaBox.bottomLeftX)/Je},Qa=g.setPageWidth=function(v,D){ze[v].mediaBox.topRightX=D*Je+ze[v].mediaBox.bottomLeftX},Dn=g.getPageHeight=function(v){return(ze[v=v||M].mediaBox.topRightY-ze[v].mediaBox.bottomLeftY)/Je},La=g.setPageHeight=function(v,D){ze[v].mediaBox.topRightY=D*Je+ze[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:Tr,getStyle:lc,getFont:al,getFontSize:Ge,getCharSpace:Fa,getTextColor:Sa,getLineHeight:cl,getLineHeightFactor:TA,getLineWidth:Ia,write:me,getHorizontalCoordinate:js,getVerticalCoordinate:an,getCoordinateString:uc,getVerticalCoordinateString:tA,collections:{},newObject:Pr,newAdditionalObject:va,newObjectDeferred:kr,newObjectDeferredBegin:Xr,getFilters:ns,putStream:Dr,events:it,scaleFactor:Je,pageSize:{getWidth:function(){return nA(M)},setWidth:function(v){Qa(M,v)},getHeight:function(){return Dn(M)},setHeight:function(v){La(M,v)}},encryptionOptions:h,encryption:yr,getEncryptor:oc,output:ba,getNumberOfPages:tr,pages:se,out:re,f2:j,f3:N,getPageInfo:il,getPageInfoByObjId:yt,getCurrentPageInfo:eA,getPDFVersion:E,Point:QA,Rectangle:Ta,Matrix:nt,hasHotfix:Zi},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return nA(M)},set:function(v){Qa(M,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Dn(M)},set:function(v){La(M,v)},enumerable:!0,configurable:!0}),Ac.call(g,he),Ft="F1",SA(s,r),it.publish("initialized"),g}Oc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Oc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Oc.prototype.processOwnerPassword=function(t,e){return Zy(Xy(e).substr(0,5),t)},Oc.prototype.encryptor=function(t,e){var r=Xy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Zy(r,n)}},mg.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||sr(t)!==sr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},gt.API={events:[]},gt.version="2.5.2";var Qr=gt.API,Ax=1,tc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(t){return t.toFixed(2)},Ja=function(t){return t.toFixed(5)};Qr.__acroform__={};var ks=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},EC=function(t){return t*Ax},lA=function(t){var e=new YS,r=ot.internal.getHeight(t)||0,n=ot.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_t(n)),Number(_t(r))],e},J9=Qr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},X9=Qr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Z9=Qr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},zr=Qr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Z9(t,e-1)},Gr=Qr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return J9(t,e-1)},qr=Qr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return X9(t,e-1)},eV=Qr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],A=t[2],a=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+a)||0,l.upperRight_X=r(s+A)||0,l.upperRight_Y=n(i)||0,[Number(_t(l.lowerLeft_X)),Number(_t(l.lowerLeft_Y)),Number(_t(l.upperRight_X)),Number(_t(l.upperRight_Y))]},tV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=ew(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+_t(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=lA(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},ew=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var i=r,A=ot.internal.getHeight(t)||0;A=A<0?-A:A;var a=ot.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(N,Q,F){if(N+1<s.length){var te=Q+" "+s[N+1][0];return Lm(te,t,F).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,h,f=Lm("3",t,i).height,p=t.multiline?A-i:(A-f)/2,g=p+=2,B=0,E=0,I=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Lm(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var w="",y=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var P=!1;if(s[_].length!==1&&I!==s[_].length-1){if((f+2)*(y+2)+2>A)continue e;w+=s[_][I],P=!0,E=_,_--}else{w=(w+=s[_][I]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var H=parseInt(_),W=l(H,w,i),T=_>=s.length-1;if(W&&!T){w+=" ",I=0;continue}if(W||T){if(T)E=H;else if(t.multiline&&(f+2)*(y+2)+2>A)continue e}else{if(!t.multiline||(f+2)*(y+2)+2>A)continue e;E=H}}for(var b="",k=B;k<=E;k++){var j=s[k];if(t.multiline){if(k===E){b+=j[I]+" ",I=(I+1)%j.length;continue}if(k===B){b+=j[j.length-1]+" ";continue}}b+=j[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,h=Lm(b,t,i).width,t.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;case"left":default:c=2}e+=_t(c)+" "+_t(g)+` Td
`,e+="("+tc(b)+`) Tj
`,e+=-_t(c)+` 0 Td
`,g=-(i+2),h=0,B=P?E:E+1,y++,w=""}break}return n.text=e,n.fontSize=i,n},Lm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},rV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nV=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},sV=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),sr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},iV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Gi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rV)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ax=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new JS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&nV(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var A in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var a=n[A],l=[],c=a.Rect;if(a.Rect&&(a.Rect=eV(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ot.createDefaultAppearanceStream(a),sr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=tV(a);l.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var g=a.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var A in g)if(g.hasOwnProperty(A)){var B=g[A];typeof B=="function"&&(B=B.call(s,a)),f+="/"+A+" "+B+" ",s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B)}}else typeof(B=g)=="function"&&(B=B.call(s,a)),f+="/"+A+" "+B,s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&sV(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},$S=Qr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),sr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+tc(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},J1=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+tc(n(t))+")"},hA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hA.prototype.toString=function(){return this.objId+" 0 R"},hA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},hA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:$S(s,this.objId,this.scope)}):s instanceof hA?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var YS=function(){hA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ks(YS,hA);var JS=function(){hA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+tc(r(t))+")"}},set:function(r){t=r}})};ks(JS,hA);var Gi=function t(){hA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zr(e,3)},set:function(w){w?this.F=Gr(e,3):this.F=qr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof pg)return;i="FieldObject"+t.FieldNum++}var w=function(y){return y};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+tc(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Ax:c},set:function(w){c=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof pg||this instanceof Dl))return J1(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof gn?p:J1(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof gn?w:w.substr(0,1)==="("?Uc(w.substr(1,w.length-2)):Uc(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gn?Uc(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof gn?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof gn?g:J1(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof gn?w:w.substr(0,1)==="("?Uc(w.substr(1,w.length-2)):Uc(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gn?Uc(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof gn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(w){w=!!w,E=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(w){B=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,1)},set:function(w){w?this.Ff=Gr(this.Ff,1):this.Ff=qr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,2)},set:function(w){w?this.Ff=Gr(this.Ff,2):this.Ff=qr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,3)},set:function(w){w?this.Ff=Gr(this.Ff,3):this.Ff=qr(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');I=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(I){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};ks(Gi,hA);var mu=function(){Gi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $S(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,A,a){a||(a=1);for(var l,c=[];l=A.exec(i);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,18)},set:function(r){r?this.Ff=Gr(this.Ff,18):this.Ff=qr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Gr(this.Ff,19):this.Ff=qr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,20)},set:function(r){r?(this.Ff=Gr(this.Ff,20),e.sort()):this.Ff=qr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,22)},set:function(r){r?this.Ff=Gr(this.Ff,22):this.Ff=qr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,23)},set:function(r){r?this.Ff=Gr(this.Ff,23):this.Ff=qr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,27)},set:function(r){r?this.Ff=Gr(this.Ff,27):this.Ff=qr(this.Ff,27)}}),this.hasAppearanceStream=!1};ks(mu,Gi);var pu=function(){mu.call(this),this.fontName="helvetica",this.combo=!1};ks(pu,mu);var gu=function(){pu.call(this),this.combo=!0};ks(gu,pu);var lp=function(){gu.call(this),this.edit=!0};ks(lp,gu);var gn=function(){Gi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,15)},set:function(r){r?this.Ff=Gr(this.Ff,15):this.Ff=qr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,16)},set:function(r){r?this.Ff=Gr(this.Ff,16):this.Ff=qr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,17)},set:function(r){r?this.Ff=Gr(this.Ff,17):this.Ff=qr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,26)},set:function(r){r?this.Ff=Gr(this.Ff,26):this.Ff=qr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+tc(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){sr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ks(gn,Gi);var cp=function(){gn.call(this),this.pushButton=!0};ks(cp,gn);var vu=function(){gn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ks(vu,gn);var pg=function(){var t,e;Gi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,A=[];for(i in A.push("<<"),n)A.push("/"+i+" ("+tc(s(n[i]))+")");return A.push(">>"),A.join(`
`)},set:function(s){sr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ks(pg,Gi),vu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},vu.prototype.createOption=function(t){var e=new pg;return e.Parent=this,e.optionName=t,this.Kids.push(e),AV.call(this.scope,e),e};var up=function(){gn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};ks(up,gn);var Dl=function(){Gi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,13)},set:function(e){e?this.Ff=Gr(this.Ff,13):this.Ff=qr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,21)},set:function(e){e?this.Ff=Gr(this.Ff,21):this.Ff=qr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,23)},set:function(e){e?this.Ff=Gr(this.Ff,23):this.Ff=qr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,24)},set:function(e){e?this.Ff=Gr(this.Ff,24):this.Ff=qr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,25)},set:function(e){e?this.Ff=Gr(this.Ff,25):this.Ff=qr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,26)},set:function(e){e?this.Ff=Gr(this.Ff,26):this.Ff=qr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ks(Dl,Gi);var dp=function(){Dl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,14)},set:function(t){t?this.Ff=Gr(this.Ff,14):this.Ff=qr(this.Ff,14)}}),this.password=!0};ks(dp,Dl);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=lA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=ew(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+_t(ot.internal.getWidth(t))+" "+_t(ot.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+_t(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=lA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=ot.internal.getHeight(t),A=ot.internal.getWidth(t),a=ew(t,t.caption);return s.push("1 g"),s.push("0 0 "+_t(A)+" "+_t(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+_t(A-1)+" "+_t(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+_t(a.fontSize)+" Tf "+n),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=lA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(ot.internal.getWidth(t))+" "+_t(ot.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Circle.YesNormal,e.D[t]=ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=lA(t);e.scope=t.scope;var r=[],n=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=ot.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ja(ot.internal.getWidth(t)/2)+" "+Ja(ot.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=lA(t);e.scope=t.scope;var r=[],n=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ot.internal.Bezier_C).toFixed(5)),A=Number((n*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ja(ot.internal.getWidth(t)/2)+" "+Ja(ot.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ja(ot.internal.getWidth(t)/2)+" "+Ja(ot.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=lA(t);e.scope=t.scope;var r=[],n=ot.internal.getWidth(t)<=ot.internal.getHeight(t)?ot.internal.getWidth(t)/4:ot.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ja(ot.internal.getWidth(t)/2)+" "+Ja(ot.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ot.RadioButton.Cross.YesNormal,e.D[t]=ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=lA(t);e.scope=t.scope;var r=[],n=ot.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+_t(ot.internal.getWidth(t)-2)+" "+_t(ot.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(n.x1.x)+" "+_t(n.x1.y)+" m"),r.push(_t(n.x2.x)+" "+_t(n.x2.y)+" l"),r.push(_t(n.x4.x)+" "+_t(n.x4.y)+" m"),r.push(_t(n.x3.x)+" "+_t(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=lA(t);e.scope=t.scope;var r=ot.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(ot.internal.getWidth(t))+" "+_t(ot.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+_t(ot.internal.getWidth(t)-2)+" "+_t(ot.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),n.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),n.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),n.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=lA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(ot.internal.getWidth(t))+" "+_t(ot.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ot.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ot.internal.getWidth(t),r=ot.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ot.internal.getWidth=function(t){var e=0;return sr(t)==="object"&&(e=EC(t.Rect[2])),e},ot.internal.getHeight=function(t){var e=0;return sr(t)==="object"&&(e=EC(t.Rect[3])),e};var AV=Qr.addField=function(t){if(iV(this,t),!(t instanceof Gi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Qr.AcroFormChoiceField=mu,Qr.AcroFormListBox=pu,Qr.AcroFormComboBox=gu,Qr.AcroFormEditBox=lp,Qr.AcroFormButton=gn,Qr.AcroFormPushButton=cp,Qr.AcroFormRadioButton=vu,Qr.AcroFormCheckBox=up,Qr.AcroFormTextField=Dl,Qr.AcroFormPasswordField=dp,Qr.AcroFormAppearance=ot,Qr.AcroForm={ChoiceField:mu,ListBox:pu,ComboBox:gu,EditBox:lp,Button:gn,PushButton:cp,RadioButton:vu,CheckBox:up,TextField:Dl,PasswordField:dp,Appearance:ot},gt.AcroForm={ChoiceField:mu,ListBox:pu,ComboBox:gu,EditBox:lp,Button:gn,PushButton:cp,RadioButton:vu,CheckBox:up,TextField:Dl,PasswordField:dp,Appearance:ot};function XS(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(N,Q){var F,te,xe,ve,ye,V=e;if((Q=Q||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(W(N))for(ye in r)for(xe=r[ye],F=0;F<xe.length;F+=1){for(ve=!0,te=0;te<xe[F].length;te+=1)if(xe[F][te]!==void 0&&xe[F][te]!==N[te]){ve=!1;break}if(ve===!0){V=ye;break}}else for(ye in r)for(xe=r[ye],F=0;F<xe.length;F+=1){for(ve=!0,te=0;te<xe[F].length;te+=1)if(xe[F][te]!==void 0&&xe[F][te]!==N.charCodeAt(te)){ve=!1;break}if(ve===!0){V=ye;break}}return V===e&&Q!==e&&(V=Q),V},s=function N(Q){for(var F=this.internal.write,te=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:Q.width}),ve.push({key:"Height",value:Q.height}),Q.colorSpace===I.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===I.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)){for(var ye="",V=0,le=Q.transparency.length;V<le;V++)ye+=Q.transparency[V]+" "+Q.transparency[V]+" ";ve.push({key:"Mask",value:"["+ye+"]"})}Q.sMask!==void 0&&ve.push({key:"SMask",value:Q.objectId+1+" 0 R"});var Z=Q.filter!==void 0?["/"+Q.filter]:void 0;if(te({data:Q.data,additionalKeyValues:ve,alreadyAppliedFilters:Z,objectId:Q.objectId}),F("endobj"),"sMask"in Q&&Q.sMask!==void 0){var ue="/Predictor "+Q.predictor+" /Colors 1 /BitsPerComponent "+Q.bitsPerComponent+" /Columns "+Q.width,L={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:Q.bitsPerComponent,decodeParameters:ue,data:Q.sMask};"filter"in Q&&(L.filter=Q.filter),N.call(this,L)}if(Q.colorSpace===I.INDEXED){var M=this.internal.newObject();te({data:b(new Uint8Array(Q.palette)),objectId:M}),F("endobj")}},i=function(){var N=this.internal.collections.addImage_images;for(var Q in N)s.call(this,N[Q])},A=function(){var N,Q=this.internal.collections.addImage_images,F=this.internal.write;for(var te in Q)F("/I"+(N=Q[te]).index,N.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",A))},l=function(){var N=this.internal.collections.addImage_images;return a.call(this),N},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(N){return typeof t["process"+N.toUpperCase()]=="function"},f=function(N){return sr(N)==="object"&&N.nodeType===1},p=function(N,Q){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var F=""+N.getAttribute("src");if(F.indexOf("data:image/")===0)return uh(unescape(F).split("base64,").pop());var te=t.loadFile(F,!0);if(te!==void 0)return te}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var xe;switch(Q){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;case"JPEG":case"JPG":default:xe="image/jpeg"}return uh(N.toDataURL(xe,1).split("base64,").pop())}},g=function(N){var Q=this.internal.collections.addImage_images;if(Q){for(var F in Q)if(N===Q[F].alias)return Q[F]}},B=function(N,Q,F){return N||Q||(N=-96,Q=-96),N<0&&(N=-1*F.width*72/N/this.internal.scaleFactor),Q<0&&(Q=-1*F.height*72/Q/this.internal.scaleFactor),N===0&&(N=Q*F.width/F.height),Q===0&&(Q=N*F.height/F.width),[N,Q]},E=function(N,Q,F,te,xe,ve){var ye=B.call(this,F,te,xe),V=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,Z=l.call(this);if(F=ye[0],te=ye[1],Z[xe.index]=xe,ve){ve*=Math.PI/180;var ue=Math.cos(ve),L=Math.sin(ve),M=function(Y){return Y.toFixed(4)},$=[M(ue),M(L),M(-1*L),M(ue),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,V(N),le(Q+te),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([V(F),"0","0",V(te),"0","0","cm"].join(" "))):this.internal.write([V(F),"0","0",V(te),V(N),le(Q+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},I=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(N){var Q,F,te=0;if(typeof N=="string")for(F=N.length,Q=0;Q<F;Q++)te=(te<<5)-te+N.charCodeAt(Q),te|=0;else if(W(N))for(F=N.byteLength/2,Q=0;Q<F;Q++)te=(te<<5)-te+N[Q],te|=0;return te},_=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var Q=!0;return N.length===0&&(Q=!1),N.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(Q=!1),Q},P=t.__addimage__.extractImageFromDataUrl=function(N){var Q=(N=N||"").split("base64,"),F=null;if(Q.length===2){var te=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Q[0]);Array.isArray(te)&&(F={mimeType:te[1],charset:te[2],data:Q[1]})}return F},H=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(N){return H()&&N instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(N){return H()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(N){for(var Q=N.length,F=new Uint8Array(Q),te=0;te<Q;te++)F[te]=N.charCodeAt(te);return F},b=t.__addimage__.arrayBufferToBinaryString=function(N){for(var Q="",F=W(N)?N:new Uint8Array(N),te=0;te<F.length;te+=8192)Q+=String.fromCharCode.apply(null,F.subarray(te,te+8192));return Q};t.addImage=function(){var N,Q,F,te,xe,ve,ye,V,le;if(typeof arguments[1]=="number"?(Q=e,F=arguments[1],te=arguments[2],xe=arguments[3],ve=arguments[4],ye=arguments[5],V=arguments[6],le=arguments[7]):(Q=arguments[1],F=arguments[2],te=arguments[3],xe=arguments[4],ve=arguments[5],ye=arguments[6],V=arguments[7],le=arguments[8]),sr(N=arguments[0])==="object"&&!f(N)&&"imageData"in N){var Z=N;N=Z.imageData,Q=Z.format||Q||e,F=Z.x||F||0,te=Z.y||te||0,xe=Z.w||Z.width||xe,ve=Z.h||Z.height||ve,ye=Z.alias||ye,V=Z.compression||V,le=Z.rotation||Z.angle||le}var ue=this.internal.getFilters();if(V===void 0&&ue.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(F)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var L=k.call(this,N,Q,ye,V);return E.call(this,F,te,xe,ve,L,le),this};var k=function(N,Q,F,te){var xe,ve,ye;if(typeof N=="string"&&n(N)===e){N=unescape(N);var V=j(N,!1);(V!==""||(V=t.loadFile(N,!0))!==void 0)&&(N=V)}if(f(N)&&(N=p(N,Q)),Q=n(N,Q),!h(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((ye=F)==null||ye.length===0)&&(F=function(le){return typeof le=="string"||W(le)?y(le):W(le.data)?y(le.data):null}(N)),(xe=g.call(this,F))||(H()&&(N instanceof Uint8Array||Q==="RGBA"||(ve=N,N=T(N))),xe=this["process"+Q.toUpperCase()](N,c.call(this),F,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:w.NONE}(te),ve)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},j=t.__addimage__.convertBase64ToBinaryString=function(N,Q){var F;Q=typeof Q!="boolean"||Q;var te,xe="";if(typeof N=="string"){te=(F=P(N))!==null?F.data:N;try{xe=uh(te)}catch(ve){if(Q)throw _(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return xe};t.getImageProperties=function(N){var Q,F,te="";if(f(N)&&(N=p(N)),typeof N=="string"&&n(N)===e&&((te=j(N,!1))===""&&(te=t.loadFile(N)||""),N=te),F=n(N),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!H()||N instanceof Uint8Array||(N=T(N)),!(Q=this["process"+F.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=F,Q}})(gt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,A=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var g=this.internal.pdfEscape,B=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(E.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",i+=" /Popup "+I.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(w(y))+") >>",E.content=i;var _=E.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+A(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",I.content=i,this.internal.write(E.objId,"0 R",I.objId,"0 R");break;case"freetext":s="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(B(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var H=this.annotations._nameMap[n.options.name];n.options.pageNumber=H.page,n.options.top=H.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(B(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var W=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+W+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,A){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:A,type:"link"})},t.textWithLink=function(r,n,s,i){var A,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var h=this.splitTextToSize(r,a).length;A=Math.ceil(c*h)}else a=l,A=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,a,A,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(gt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},a=t.__arabicParser__.isArabicEndLetter=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(E){return A(E)&&s.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return A(E)&&i(E)&&e[E.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(E){var I=0,w=r,y="",_=0;for(I=0;I<E.length;I+=1)w[E.charCodeAt(I)]!==void 0?(_++,typeof(w=w[E.charCodeAt(I)])=="number"&&(y+=String.fromCharCode(w),w=r,_=0),I===E.length-1&&(w=r,y+=E.charAt(I-(_-1)),I-=_-1,_=0)):(w=r,y+=E.charAt(I-_),I-=_,_=0);return y};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(E,I,w){return A(E)?i(E)===!1?-1:!c(E)||!A(I)&&!A(w)||!A(w)&&a(I)||a(E)&&!A(I)||a(E)&&l(I)||a(E)&&a(I)?0:h(E)&&A(I)&&!a(I)&&A(w)&&c(w)?3:a(E)||!A(w)?1:2:-1},g=function(E){var I=0,w=0,y=0,_="",P="",H="",W=(E=E||"").split("\\s+"),T=[];for(I=0;I<W.length;I+=1){for(T.push(""),w=0;w<W[I].length;w+=1)_=W[I][w],P=W[I][w-1],H=W[I][w+1],A(_)?(y=p(_,P,H),T[I]+=y!==-1?String.fromCharCode(e[_.charCodeAt(0)][y]):_):T[I]+=_;T[I]=f(T[I])}return T.join(" ")},B=t.__arabicParser__.processArabic=t.processArabic=function(){var E,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(I)){var y=0;for(w=[],y=0;y<I.length;y+=1)Array.isArray(I[y])?w.push([g(I[y][0]),I[y][1],I[y][2]]):w.push([g(I[y])]);E=w}else E=g(I);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",B])}(gt.API),gt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(a){A=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(gt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(E){B=E}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,g=0,B=0,E=0,I=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,P){return _.concat(I.splitTextToSize(P,w))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)g<(E=this.getStringUnitWidth(l[y],{font:f})*h)&&(g=E);return g!==0&&(B=l.length),{w:g/=p,h:Math.max((B*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,f,p){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,B,E,I,w=[],y=[],_=[],P={},H={},W=[],T=[],b=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,j=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,N=p.margins||Object.assign({width:this.getPageWidth()},e),Q=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",te=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=te,this.setFontSize(j),f==null)y=w=Object.keys(h[0]),_=w.map(function(){return"left"});else if(Array.isArray(f)&&sr(f[0])==="object")for(w=f.map(function(Z){return Z.name}),y=f.map(function(Z){return Z.prompt||Z.name||""}),_=f.map(function(Z){return Z.align||"left"}),g=0;g<f.length;g+=1)H[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=w=f,_=w.map(function(){return"left"}));if(b||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<w.length;g+=1){for(P[I=w[g]]=h.map(function(Z){return Z[I]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=P[I],this.setFont(void 0,"normal"),E=0;E<B.length;E+=1)W.push(this.getTextDimensions(B[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[I]=Math.max.apply(null,W)+Q+Q,W=[]}if(k){var xe={};for(g=0;g<w.length;g+=1)xe[w[g]]={},xe[w[g]].text=y[g],xe[w[g]].align=_[g];var ve=a.call(this,xe,H);T=w.map(function(Z){return new i(l,c,H[Z],ve,xe[Z].text,void 0,xe[Z].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ye=f.reduce(function(Z,ue){return Z[ue.name]=ue.align,Z},{});for(g=0;g<h.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:h[g]},this);var V=a.call(this,h[g],H);for(E=0;E<w.length;E+=1){var le=h[g][w[E]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:E,data:le},this),A.call(this,new i(l,c,H[w[E]],V,le,g+2,ye[w[E]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(g){var B=l[g];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,c[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/p+h+h},this).reduce(function(g,B){return Math.max(g,B)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=l;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,h),this.setTextColor(B)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(gt.API);var ZS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},eF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tw=XS(eF),tF=[100,200,300,400,500,600,700,800,900],aV=XS(tF);function rw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return ZS[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof tw[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function _C(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var oV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function NC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function lV(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},oV,r.genericFontFamilies||{}),i=null,A=null,a=0;a<e.length;++a)if(s[(i=rw(e[a])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){A=t[i.family];break}if(!(A=A||t[n]))throw new Error("Could not find a font-family for the rule '"+NC(i)+"' and default family '"+n+"'.");if(A=function(l,c){if(c[l])return c[l];var h=tw[l],f=h<=tw.normal?-1:1,p=_C(c,eF,h,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,A),A=function(l,c){if(c[l])return c[l];for(var h=ZS[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,A),!(A=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=aV[l],f=_C(c,tF,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,A)))throw new Error("Failed to resolve a font for the rule '"+NC(i)+"'.");return A}function SC(t){return t.trimLeft()}function cV(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function uV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jm,FC,kC,X1=["times"];(function(t){var e,r,n,s,i,A,a,l,c,h=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new A,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new A,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,A=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=L;Object.defineProperty(this,"pdf",{get:function(){return M}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(be){$=!!be}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(be){Y=!!be}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(be){isNaN(be)||(X=be)}});var ee=0;Object.defineProperty(this,"posY",{get:function(){return ee},set:function(be){isNaN(be)||(ee=be)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(be){var re;typeof be=="number"?re=[be,be,be,be]:((re=new Array(4))[0]=be[0],re[1]=be.length>=2?be[1]:re[0],re[2]=be.length>=3?be[2]:re[0],re[3]=be.length>=4?be[3]:re[1]),c.margin=re}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(be){ie=be}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(be){oe=be}});var G=[];Object.defineProperty(this,"pageBreaks",{get:function(){return G},set:function(be){G=be}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(be){be instanceof h&&(c=be)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(be){c.path=be}});var se=[];Object.defineProperty(this,"ctxStack",{get:function(){return se},set:function(be){se=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var re;re=p(be),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var re=p(be);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var ge=null;function _e(be,re){if(ge===null){var me=function(ae){var he=[];return Object.keys(ae).forEach(function(Ie){ae[Ie].forEach(function(Ke){var Ge=null;switch(Ke){case"bold":Ge={family:Ie,weight:"bold"};break;case"italic":Ge={family:Ie,style:"italic"};break;case"bolditalic":Ge={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:Ie}}Ge!==null&&(Ge.ref={name:Ie,style:Ke},he.push(Ge))})}),he}(be.getFontList());ge=function(ae){for(var he={},Ie=0;Ie<ae.length;++Ie){var Ke=rw(ae[Ie]),Ge=Ke.family,et=Ke.stretch,dt=Ke.style,Bt=Ke.weight;he[Ge]=he[Ge]||{},he[Ge][et]=he[Ge][et]||{},he[Ge][et][dt]=he[Ge][et][dt]||{},he[Ge][et][dt][Bt]=Ke}return he}(me.concat(re))}return ge}var ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(be){ge=null,ke=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var re;if(this.ctx.font=be,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var me=re[1],ae=(re[2],re[3]),he=re[4],Ie=(re[5],re[6]),Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(he)[2];he=Math.floor(Ke==="px"?parseFloat(he)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(he)*this.pdf.getFontSize():parseFloat(he)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(he);var Ge=function(ft){var Ft,Je,gr=[],Qt=ft.trim();if(Qt==="")return X1;if(Qt in IC)return[IC[Qt]];for(;Qt!=="";){switch(Je=null,Ft=(Qt=SC(Qt)).charAt(0)){case'"':case"'":Je=cV(Qt.substring(1),Ft);break;default:Je=uV(Qt)}if(Je===null||(gr.push(Je[0]),(Qt=SC(Je[1]))!==""&&Qt.charAt(0)!==","))return X1;Qt=Qt.replace(/^,/,"")}return gr}(Ie);if(this.fontFaces){var et=lV(_e(this.pdf,this.fontFaces),Ge.map(function(ft){return{family:ft,stretch:"normal",weight:ae,style:me}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var dt="";(ae==="bold"||parseInt(ae,10)>=700||me==="bold")&&(dt="bold"),me==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var Bt="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Ge.length;pt++){if(this.pdf.internal.getFont(Ge[pt],dt,{noFallback:!0,disableWarning:!0})!==void 0){Bt=Ge[pt];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(Ge[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Bt=Ge[pt],dt="bold";else if(this.pdf.internal.getFont(Ge[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Bt=Ge[pt],dt="normal";break}}if(Bt===""){for(var Lt=0;Lt<Ge.length;Lt++)if(ut[Ge[Lt]]){Bt=ut[Ge[Lt]];break}}Bt=Bt===""?"Times":Bt,this.pdf.setFont(Bt,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){P.call(this,"fill",!1)},f.prototype.stroke=function(){P.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,M){if(isNaN(L)||isNaN(M))throw dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new A(L,M));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new A(L,M)},f.prototype.closePath=function(){var L=new A(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&sr(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){L=new A(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(L.x,L.y)},f.prototype.lineTo=function(L,M){if(isNaN(L)||isNaN(M))throw dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new A(L,M));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new A($.x,$.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,M,$,Y){if(isNaN($)||isNaN(Y)||isNaN(L)||isNaN(M))throw dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new A($,Y)),ee=this.ctx.transform.applyToPoint(new A(L,M));this.path.push({type:"qct",x1:ee.x,y1:ee.y,x:X.x,y:X.y}),this.ctx.lastPoint=new A(X.x,X.y)},f.prototype.bezierCurveTo=function(L,M,$,Y,X,ee){if(isNaN(X)||isNaN(ee)||isNaN(L)||isNaN(M)||isNaN($)||isNaN(Y))throw dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new A(X,ee)),oe=this.ctx.transform.applyToPoint(new A(L,M)),G=this.ctx.transform.applyToPoint(new A($,Y));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:G.x,y2:G.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new A(ie.x,ie.y)},f.prototype.arc=function(L,M,$,Y,X,ee){if(isNaN(L)||isNaN(M)||isNaN($)||isNaN(Y)||isNaN(X))throw dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ee=!!ee,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new A(L,M));L=ie.x,M=ie.y;var oe=this.ctx.transform.applyToPoint(new A(0,$)),G=this.ctx.transform.applyToPoint(new A(0,0));$=Math.sqrt(Math.pow(oe.x-G.x,2)+Math.pow(oe.y-G.y,2))}Math.abs(X-Y)>=2*Math.PI&&(Y=0,X=2*Math.PI),this.path.push({type:"arc",x:L,y:M,radius:$,startAngle:Y,endAngle:X,counterclockwise:ee})},f.prototype.arcTo=function(L,M,$,Y,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,M,$,Y){if(isNaN(L)||isNaN(M)||isNaN($)||isNaN(Y))throw dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,M),this.lineTo(L+$,M),this.lineTo(L+$,M+Y),this.lineTo(L,M+Y),this.lineTo(L,M),this.lineTo(L+$,M),this.lineTo(L,M)},f.prototype.fillRect=function(L,M,$,Y){if(isNaN(L)||isNaN(M)||isNaN($)||isNaN(Y))throw dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,M,$,Y),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(L,M,$,Y){if(isNaN(L)||isNaN(M)||isNaN($)||isNaN(Y))throw dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(L,M,$,Y),this.stroke())},f.prototype.clearRect=function(L,M,$,Y){if(isNaN(L)||isNaN(M)||isNaN($)||isNaN(Y))throw dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,M,$,Y))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(M),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(L){var M,$,Y,X;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))M=0,$=0,Y=0,X=0;else{var ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ee!==null)M=parseInt(ee[1]),$=parseInt(ee[2]),Y=parseInt(ee[3]),X=1;else if((ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)M=parseInt(ee[1]),$=parseInt(ee[2]),Y=parseInt(ee[3]),X=parseFloat(ee[4]);else{if(X=1,typeof L=="string"&&L.charAt(0)!=="#"){var ie=new GS(L);L=ie.ok?ie.toHex():"#000000"}L.length===4?(M=L.substring(1,2),M+=M,$=L.substring(2,3),$+=$,Y=L.substring(3,4),Y+=Y):(M=L.substring(1,3),$=L.substring(3,5),Y=L.substring(5,7)),M=parseInt(M,16),$=parseInt($,16),Y=parseInt(Y,16)}}return{r:M,g:$,b:Y,a:X,style:L}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},B=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,M,$,Y){if(isNaN(M)||isNaN($)||typeof L!="string")throw dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!g.call(this)){var X=V(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;Q.call(this,{text:L,x:M,y:$,scale:ee,angle:X,align:this.textAlign,maxWidth:Y})}},f.prototype.strokeText=function(L,M,$,Y){if(isNaN(M)||isNaN($)||typeof L!="string")throw dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){Y=isNaN(Y)?void 0:Y;var X=V(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;Q.call(this,{text:L,x:M,y:$,scale:ee,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:Y})}},f.prototype.measureText=function(L){if(typeof L!="string")throw dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,$=this.pdf.internal.scaleFactor,Y=M.internal.getFontSize(),X=M.getStringUnitWidth(L)*Y/M.internal.scaleFactor,ee=function(ie){var oe=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this};return new ee({width:X*=Math.round(96*$/72*1e4)/1e4})},f.prototype.scale=function(L,M){if(isNaN(L)||isNaN(M))throw dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(L,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.rotate=function(L){if(isNaN(L))throw dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.translate=function(L,M){if(isNaN(L)||isNaN(M))throw dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,L,M);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.transform=function(L,M,$,Y,X,ee){if(isNaN(L)||isNaN(M)||isNaN($)||isNaN(Y)||isNaN(X)||isNaN(ee))throw dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new l(L,M,$,Y,X,ee);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.setTransform=function(L,M,$,Y,X,ee){L=isNaN(L)?1:L,M=isNaN(M)?0:M,$=isNaN($)?0:$,Y=isNaN(Y)?1:Y,X=isNaN(X)?0:X,ee=isNaN(ee)?0:ee,this.ctx.transform=new l(L,M,$,Y,X,ee)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,M,$,Y,X,ee,ie,oe,G){var se=this.pdf.getImageProperties(L),ge=1,_e=1,ke=1,be=1;Y!==void 0&&oe!==void 0&&(ke=oe/Y,be=G/X,ge=se.width/Y*oe/Y,_e=se.height/X*G/X),ee===void 0&&(ee=M,ie=$,M=0,$=0),Y!==void 0&&oe===void 0&&(oe=Y,G=X),Y===void 0&&oe===void 0&&(oe=se.width,G=se.height);for(var re,me=this.ctx.transform.decompose(),ae=V(me.rotate.shx),he=new l,Ie=(he=(he=(he=he.multiply(me.translate)).multiply(me.skew)).multiply(me.scale)).applyToRectangle(new a(ee-M*ke,ie-$*be,Y*ge,X*_e)),Ke=I.call(this,Ie),Ge=[],et=0;et<Ke.length;et+=1)Ge.indexOf(Ke[et])===-1&&Ge.push(Ke[et]);if(_(Ge),this.autoPaging)for(var dt=Ge[0],Bt=Ge[Ge.length-1],ut=dt;ut<Bt+1;ut++){this.pdf.setPage(ut);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=ut===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=ut===1?0:ft+(ut-2)*Ft;if(this.ctx.clip_path.length!==0){var gr=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(re,this.posX+this.margin[3],-Je+Lt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=gr}var Qt=JSON.parse(JSON.stringify(Ie));Qt=y([Qt],this.posX+this.margin[3],-Je+Lt+this.ctx.prevPageLastElemOffset)[0];var wn=(ut>dt||ut<Bt)&&E.call(this);wn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Ft,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,ae),wn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,ae)};var I=function(L,M,$){var Y=[];M=M||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Y.push(Math.floor((L.y+X)/$)+1);break;case"arc":Y.push(Math.floor((L.y+X-L.radius)/$)+1),Y.push(Math.floor((L.y+X+L.radius)/$)+1);break;case"qct":var ee=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Y.push(Math.floor((ee.y+X)/$)+1),Y.push(Math.floor((ee.y+ee.h+X)/$)+1);break;case"bct":var ie=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Y.push(Math.floor((ie.y+X)/$)+1),Y.push(Math.floor((ie.y+ie.h+X)/$)+1);break;case"rect":Y.push(Math.floor((L.y+X)/$)+1),Y.push(Math.floor((L.y+L.h+X)/$)+1)}for(var oe=0;oe<Y.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[oe];)w.call(this);return Y},w=function(){var L=this.fillStyle,M=this.strokeStyle,$=this.font,Y=this.lineCap,X=this.lineWidth,ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=M,this.font=$,this.lineCap=Y,this.lineWidth=X,this.lineJoin=ee},y=function(L,M,$){for(var Y=0;Y<L.length;Y++)switch(L[Y].type){case"bct":L[Y].x2+=M,L[Y].y2+=$;case"qct":L[Y].x1+=M,L[Y].y1+=$;case"mt":case"lt":case"arc":default:L[Y].x+=M,L[Y].y+=$}return L},_=function(L){return L.sort(function(M,$){return M-$})},P=function(L,M){for(var $,Y,X=this.fillStyle,ee=this.strokeStyle,ie=this.lineCap,oe=this.lineWidth,G=Math.abs(oe*this.ctx.transform.scaleX),se=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),ke=[],be=0;be<_e.length;be++)if(_e[be].x!==void 0)for(var re=I.call(this,_e[be]),me=0;me<re.length;me+=1)ke.indexOf(re[me])===-1&&ke.push(re[me]);for(var ae=0;ae<ke.length;ae++)for(;this.pdf.internal.getNumberOfPages()<ke[ae];)w.call(this);if(_(ke),this.autoPaging)for(var he=ke[0],Ie=ke[ke.length-1],Ke=he;Ke<Ie+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=X,this.strokeStyle=ee,this.lineCap=ie,this.lineWidth=G,this.lineJoin=se;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ke===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Ke===1?0:dt+(Ke-2)*Bt;if(this.ctx.clip_path.length!==0){var pt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y($,this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset),H.call(this,L,!0),this.path=pt}if(Y=JSON.parse(JSON.stringify(ge)),this.path=y(Y,this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset),M===!1||Ke===0){var Lt=(Ke>he||Ke<Ie)&&E.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Bt,null).clip().discardPath()),H.call(this,L,M),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=G,H.call(this,L,M),this.lineWidth=oe;this.path=ge},H=function(L,M){if((L!=="stroke"||M||!B.call(this))&&(L==="stroke"||M||!g.call(this))){for(var $,Y,X=[],ee=this.path,ie=0;ie<ee.length;ie++){var oe=ee[ie];switch(oe.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:oe,deltas:[],abs:[]});break;case"lt":var G=X.length;if(ee[ie-1]&&!isNaN(ee[ie-1].x)&&($=[oe.x-ee[ie-1].x,oe.y-ee[ie-1].y],G>0)){for(;G>=0;G--)if(X[G-1].close!==!0&&X[G-1].begin!==!0){X[G-1].deltas.push($),X[G-1].abs.push(oe);break}}break;case"bct":$=[oe.x1-ee[ie-1].x,oe.y1-ee[ie-1].y,oe.x2-ee[ie-1].x,oe.y2-ee[ie-1].y,oe.x-ee[ie-1].x,oe.y-ee[ie-1].y],X[X.length-1].deltas.push($);break;case"qct":var se=ee[ie-1].x+2/3*(oe.x1-ee[ie-1].x),ge=ee[ie-1].y+2/3*(oe.y1-ee[ie-1].y),_e=oe.x+2/3*(oe.x1-oe.x),ke=oe.y+2/3*(oe.y1-oe.y),be=oe.x,re=oe.y;$=[se-ee[ie-1].x,ge-ee[ie-1].y,_e-ee[ie-1].x,ke-ee[ie-1].y,be-ee[ie-1].x,re-ee[ie-1].y],X[X.length-1].deltas.push($);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(oe)}}Y=M?null:L==="stroke"?"stroke":"fill";for(var me=!1,ae=0;ae<X.length;ae++)if(X[ae].arc)for(var he=X[ae].abs,Ie=0;Ie<he.length;Ie++){var Ke=he[Ie];Ke.type==="arc"?b.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,M,!me):F.call(this,Ke.x,Ke.y),me=!0}else if(X[ae].close===!0)this.pdf.internal.out("h"),me=!1;else if(X[ae].begin!==!0){var Ge=X[ae].start.x,et=X[ae].start.y;te.call(this,X[ae].deltas,Ge,et),me=!0}Y&&k.call(this,Y),M&&j.call(this)}},W=function(L){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-$;case"top":return L+M-$;case"hanging":return L+M-2*$;case"middle":return L+M/2-$;case"ideographic":return L;case"alphabetic":default:return L}},T=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(M,$){this.colorStops.push([M,$])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(L,M,$,Y,X,ee,ie,oe,G){for(var se=ve.call(this,$,Y,X,ee),ge=0;ge<se.length;ge++){var _e=se[ge];ge===0&&(G?N.call(this,_e.x1+L,_e.y1+M):F.call(this,_e.x1+L,_e.y1+M)),xe.call(this,L,M,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}oe?j.call(this):k.call(this,ie)},k=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(L,M){this.pdf.internal.out(r(L)+" "+n(M)+" m")},Q=function(L){var M;switch(L.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var $=this.pdf.getTextDimensions(L.text),Y=W.call(this,L.y),X=T.call(this,Y)-$.h,ee=this.ctx.transform.applyToPoint(new A(L.x,Y)),ie=this.ctx.transform.decompose(),oe=new l;oe=(oe=(oe=oe.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var G,se,ge,_e=this.ctx.transform.applyToRectangle(new a(L.x,Y,$.w,$.h)),ke=oe.applyToRectangle(new a(L.x,X,$.w,$.h)),be=I.call(this,ke),re=[],me=0;me<be.length;me+=1)re.indexOf(be[me])===-1&&re.push(be[me]);if(_(re),this.autoPaging)for(var ae=re[0],he=re[re.length-1],Ie=ae;Ie<he+1;Ie++){this.pdf.setPage(Ie);var Ke=Ie===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],dt=et-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],ut=Bt-this.margin[3],pt=Ie===1?0:Ge+(Ie-2)*dt;if(this.ctx.clip_path.length!==0){var Lt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-1*pt+Ke),H.call(this,"fill",!0),this.path=Lt}var ft=y([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-pt+Ke+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*L.scale),ge=this.lineWidth,this.lineWidth=ge*L.scale);var Ft=this.autoPaging!=="text";if(Ft||ft.y+ft.h<=et){if(Ft||ft.y>=Ke&&ft.x<=Bt){var Je=Ft?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Bt-ft.x)[0],gr=y([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-pt+Ke+this.ctx.prevPageLastElemOffset)[0],Qt=Ft&&(Ie>ae||Ie<he)&&E.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,dt,null).clip().discardPath()),this.pdf.text(Je,gr.x,gr.y,{angle:L.angle,align:M,renderingMode:L.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else ft.y<et&&(this.ctx.prevPageLastElemOffset+=et-ft.y);L.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ge)}else L.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*L.scale),ge=this.lineWidth,this.lineWidth=ge*L.scale),this.pdf.text(L.text,ee.x+this.posX,ee.y+this.posY,{angle:L.angle,align:M,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ge)},F=function(L,M,$,Y){$=$||0,Y=Y||0,this.pdf.internal.out(r(L+$)+" "+n(M+Y)+" l")},te=function(L,M,$){return this.pdf.lines(L,M,$,null,null)},xe=function(L,M,$,Y,X,ee,ie,oe){this.pdf.internal.out([e(s($+L)),e(i(Y+M)),e(s(X+L)),e(i(ee+M)),e(s(ie+L)),e(i(oe+M)),"c"].join(" "))},ve=function(L,M,$,Y){for(var X=2*Math.PI,ee=Math.PI/2;M>$;)M-=X;var ie=Math.abs($-M);ie<X&&Y&&(ie=X-ie);for(var oe=[],G=Y?-1:1,se=M;ie>1e-5;){var ge=se+G*Math.min(ie,ee);oe.push(ye.call(this,L,se,ge)),ie-=Math.abs(ge-se),se=ge}return oe},ye=function(L,M,$){var Y=($-M)/2,X=L*Math.cos(Y),ee=L*Math.sin(Y),ie=X,oe=-ee,G=ie*ie+oe*oe,se=G+ie*X+oe*ee,ge=4/3*(Math.sqrt(2*G*se)-se)/(ie*ee-oe*X),_e=ie-ge*oe,ke=oe+ge*ie,be=_e,re=-ke,me=Y+M,ae=Math.cos(me),he=Math.sin(me);return{x1:L*Math.cos(M),y1:L*Math.sin(M),x2:_e*ae-ke*he,y2:_e*he+ke*ae,x3:be*ae-re*he,y3:be*he+re*ae,x4:L*Math.cos($),y4:L*Math.sin($)}},V=function(L){return 180*L/Math.PI},le=function(L,M,$,Y,X,ee){var ie=L+.5*($-L),oe=M+.5*(Y-M),G=X+.5*($-X),se=ee+.5*(Y-ee),ge=Math.min(L,X,ie,G),_e=Math.max(L,X,ie,G),ke=Math.min(M,ee,oe,se),be=Math.max(M,ee,oe,se);return new a(ge,ke,_e-ge,be-ke)},Z=function(L,M,$,Y,X,ee,ie,oe){var G,se,ge,_e,ke,be,re,me,ae,he,Ie,Ke,Ge,et,dt=$-L,Bt=Y-M,ut=X-$,pt=ee-Y,Lt=ie-X,ft=oe-ee;for(se=0;se<41;se++)ae=(re=(ge=L+(G=se/40)*dt)+G*((ke=$+G*ut)-ge))+G*(ke+G*(X+G*Lt-ke)-re),he=(me=(_e=M+G*Bt)+G*((be=Y+G*pt)-_e))+G*(be+G*(ee+G*ft-be)-me),se==0?(Ie=ae,Ke=he,Ge=ae,et=he):(Ie=Math.min(Ie,ae),Ke=Math.min(Ke,he),Ge=Math.max(Ge,ae),et=Math.max(et,he));return new a(Math.round(Ie),Math.round(Ke),Math.round(Ge-Ie),Math.round(et-Ke))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,M,$=(L=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:M}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(gt.API),function(t){var e=function(i){var A,a,l,c,h,f,p,g,B,E;for(a=[],l=0,c=(i+=A="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(h=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(E=h%85))/85)-(B=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)%85,a.push(f+33,p+33,g+33,B+33,E+33)):a.push(122);return function(I,w){for(var y=w;y>0;y--)I.pop()}(a,A.length),String.fromCharCode.apply(String,a)+"~>"},r=function(i){var A,a,l,c,h,f=String,p="length",g=255,B="charCodeAt",E="slice",I="replace";for(i[E](-2),i=i[E](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),l=[],c=0,h=(i+=A="uuuuu"[E](i[p]%5||5))[p];h>c;c+=5)a=52200625*(i[B](c)-33)+614125*(i[B](c+1)-33)+7225*(i[B](c+2)-33)+85*(i[B](c+3)-33)+(i[B](c+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(w,y){for(var _=y;_>0;_--)w.pop()}(l,A[p]),f.fromCharCode.apply(f,l)},n=function(i){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),A.test(i)===!1)return"";for(var a="",l=0;l<i.length;l+=2)a+=String.fromCharCode("0x"+(i[l]+i[l+1]));return a},s=function(i){for(var A=new Uint8Array(i.length),a=i.length;a--;)A[a]=i.charCodeAt(a);return i=(A=Yy(A)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,A){var a=0,l=i||"",c=[];for(typeof(A=A||[])=="string"&&(A=[A]),a=0;a<A.length;a+=1)switch(A[a]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(gt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,A){i=i!==!1,A=typeof A=="function"?A:function(){};var a=void 0;try{a=function(l,c,h){var f=new XMLHttpRequest,p=0,g=function(B){var E=B.length,I=[],w=String.fromCharCode;for(p=0;p<E;p+=1)I.push(w(255&B.charCodeAt(p)));return I.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return g(f.responseText)}(s,i,A)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(gt.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):zy(()=>Promise.resolve().then(()=>S9),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):zy(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var a=sr(A);return a==="undefined"?"undefined":a==="string"||A instanceof String?"string":a==="number"||A instanceof Number?"number":a==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":a==="object"?"object":"unknown"},s=function(A,a){var l=document.createElement(A);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},i=function A(a){var l=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),c=A.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,A,1,[A])).set(a)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(A,a){return A.__proto__=a||i.prototype,A},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(A,a){return this.then(function(){switch(a=a||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:A,dompurify:l})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},i.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var g=c[p],B=g.src.find(function(E){return E.format==="truetype"});B&&l.addFont(B.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(A,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(A,a):this.outputPdf(A,a)},i.prototype.outputPdf=function(A,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,a)})},i.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},i.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(A){if(n(A)!=="object")return this;var a=Object.keys(A||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=A[l]};switch(l){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[l]=A[l]}}},this);return this.then(function(){return this.thenList(a)})},i.prototype.get=function(A,a){return this.then(function(){var l=A in i.template.prop?this.prop[A]:this.opt[A];return a?a(l):l})},i.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},i.prototype.setPageSize=function(A){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(A=A||gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:a(A.inner.width,A.k),height:a(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},i.prototype.setProgress=function(A,a,l,c){return A!=null&&(this.progress.val=A),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(A,a,l,c){return this.setProgress(A?this.progress.val+A:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(A,a){var l=this;return this.thenCore(A,a,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(A,a,l){l=l||Promise.prototype.then,A&&(A=A.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=l.call(c,A,a);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(A,a){return Promise.prototype.then.call(this,A,a)},i.prototype.thenList=function(A){var a=this;return A.forEach(function(l){a=a.thenCore(l)}),a},i.prototype.catch=function(A){A&&(A=A.bind(this));var a=Promise.prototype.catch.call(this,A);return i.convert(a,this)},i.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},i.prototype.error=function(A){return this.then(function(){throw new Error(A)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,gt.getPageSize=function(A,a,l){if(sr(A)==="object"){var c=A;A=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",A=(""+(A||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var g,B=0,E=0;if(p.hasOwnProperty(f))B=p[f][1]/h,E=p[f][0]/h;else try{B=l[1],E=l[0]}catch{throw new Error("Invalid format: "+l)}if(A==="p"||A==="portrait")A="p",E>B&&(g=E,E=B,B=g);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",B>E&&(g=E,E=B,B=g)}return{width:E,height:B,unit:a,k:h,orientation:A}},t.html=function(A,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(rw):null;var l=new i(a);return a.worker?l:l.from(A).doCallback()}}(gt.API),gt.API.addJS=function(t){return kC=t,this.internal.events.subscribe("postPutResources",function(){jm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),FC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jm!==void 0&&FC!==void 0&&this.internal.out("/Names <</JavaScript "+jm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var A=s[i],a=n.exec(A);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(i=0;i<c;i++){var f=r.internal.newObject();h.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var A={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var A=n.children[i];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var a=this.count=this.count_r({count:0},A);if(a>0&&this.line("/Count "+a),A.options&&A.options.pageNumber){var l=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(gt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,A,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,g=256*f.charCodeAt(4)+f.charCodeAt(5),B=f.length,E={width:0,height:0,numcomponents:1},I=4;I<B;I+=2){if(I+=g,e.indexOf(f.charCodeAt(I+1))!==-1){p=256*f.charCodeAt(I+5)+f.charCodeAt(I+6),E={width:256*f.charCodeAt(I+7)+f.charCodeAt(I+8),height:p,numcomponents:f.charCodeAt(I+9)};break}g=256*f.charCodeAt(I+2)+f.charCodeAt(I+3)}return E}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:s}}return h}}(gt.API);var Qc,Pm,TC,UC,QC,dV=function(){var t,e,r;function n(i){var A,a,l,c,h,f,p,g,B,E,I,w,y,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(A=this.readUInt32(),B=(function(){var P,H;for(H=[],P=0;P<4;++P)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(B==="fdAT"&&(this.pos+=4,A-=4),i=(f!=null?f.data:void 0)||this.imgData,w=0;0<=A?w<A:w>A;0<=A?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((E=l-this.transparency.indexed.length)>0)for(y=0;0<=E?y<E:y>E;0<=E?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":p=(I=this.read(A)).indexOf(0),g=String.fromCharCode.apply(String,I.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,I.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var A,a;for(a=[],A=0;0<=i?A<i:A>i;0<=i?++A:--A)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var A=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*A),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(f,p,g,B){var E,I,w,y,_,P,H,W,T,b,k,j,N,Q,F,te,xe,ve,ye,V,le,Z=Math.ceil((c.width-f)/g),ue=Math.ceil((c.height-p)/B),L=c.width==Z&&c.height==ue;for(Q=A*Z,j=L?a:new Uint8Array(Q*ue),P=i.length,N=0,I=0;N<ue&&l<P;){switch(i[l++]){case 0:for(y=xe=0;xe<Q;y=xe+=1)j[I++]=i[l++];break;case 1:for(y=ve=0;ve<Q;y=ve+=1)E=i[l++],_=y<A?0:j[I-A],j[I++]=(E+_)%256;break;case 2:for(y=ye=0;ye<Q;y=ye+=1)E=i[l++],w=(y-y%A)/A,F=N&&j[(N-1)*Q+w*A+y%A],j[I++]=(F+E)%256;break;case 3:for(y=V=0;V<Q;y=V+=1)E=i[l++],w=(y-y%A)/A,_=y<A?0:j[I-A],F=N&&j[(N-1)*Q+w*A+y%A],j[I++]=(E+Math.floor((_+F)/2))%256;break;case 4:for(y=le=0;le<Q;y=le+=1)E=i[l++],w=(y-y%A)/A,_=y<A?0:j[I-A],N===0?F=te=0:(F=j[(N-1)*Q+w*A+y%A],te=w&&j[(N-1)*Q+(w-1)*A+y%A]),H=_+F-te,W=Math.abs(H-_),b=Math.abs(H-F),k=Math.abs(H-te),T=W<=b&&W<=k?_:b<=k?F:te,j[I++]=(E+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!L){var M=((p+N*B)*c.width+f)*A,$=N*Q;for(y=0;y<Z;y+=1){for(var Y=0;Y<A;Y+=1)a[M++]=j[$++];M+=(g-1)*A}}N++}}return i=K9(i),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},n.prototype.decodePalette=function(){var i,A,a,l,c,h,f,p,g;for(a=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+a.length),l=0,i=0,A=f=0,p=a.length;f<p;A=f+=3)c[l++]=a[A],c[l++]=a[A+1],c[l++]=a[A+2],c[l++]=(g=h[i++])!=null?g:255;return c},n.prototype.copyToImageData=function(i,A){var a,l,c,h,f,p,g,B,E,I,w;if(l=this.colors,E=null,a=this.hasAlphaChannel,this.palette.length&&(E=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),B=(c=i.data||i).length,f=E||A,h=p=0,l===1)for(;h<B;)g=E?4*A[h/4]:p,I=f[g++],c[h++]=I,c[h++]=I,c[h++]=I,c[h++]=a?f[g++]:255,p=g;else for(;h<B;)g=E?4*A[h/4]:p,c[h++]=f[g++],c[h++]=f[g++],c[h++]=f[g++],c[h++]=a?f[g++]:255,p=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(vt)==="[object Window]"){try{e=vt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var A;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(A=new Image).src=e.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var A,a,l,c,h,f,p,g;if(this.animation){for(g=[],a=h=0,f=(p=this.animation.frames).length;h<f;a=++h)A=p[a],l=i.createImageData(A.width,A.height),c=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(l,c),A.imageData=l,g.push(A.image=t(l));return g}},n.prototype.renderFrame=function(i,A){var a,l,c;return a=(l=this.animation.frames)[A],c=l[A-1],A===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&i.clearRect(a.xOffset,a.yOffset,a.width,a.height),i.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(i){var A,a,l,c,h,f,p=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(A=function(){var g,B;if(g=a++%c,B=l[g],p.renderFrame(i,g),c>1&&a/c<h)return p.animation._timeout=setTimeout(A,B.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var A,a;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,A=i.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(a=A.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),A.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function hV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,A=1<<(7&s)+1;t[e++],t[e++];var a=null,l=null;i&&(a=e,l=A,e+=3*A);var c=!0,h=[],f=0,p=null,g=0,B=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,B=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],!(1&E)&&(p=null),g=E>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var I=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,P=t[e++],H=P>>6&1,W=1<<(7&P)+1,T=a,b=l,k=!1;P>>7&&(k=!0,T=e,b=W,e+=3*W);var j=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}h.push({x:I,y:w,width:y,height:_,has_local_palette:k,palette_offset:T,palette_size:b,data_offset:j,data_length:e-j,transparent_index:p,interlaced:!!H,delay:f,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return B},this.frameInfo=function(Q){if(Q<0||Q>=h.length)throw new Error("Frame index out of range.");return h[Q]},this.decodeAndBlitFrameBGRA=function(Q,F){var te=this.frameInfo(Q),xe=te.width*te.height,ve=new Uint8Array(xe);LC(t,te.data_offset,ve,xe);var ye=te.palette_offset,V=te.transparent_index;V===null&&(V=256);var le=te.width,Z=r-le,ue=le,L=4*(te.y*r+te.x),M=4*((te.y+te.height)*r+te.x),$=L,Y=4*Z;te.interlaced===!0&&(Y+=4*r*7);for(var X=8,ee=0,ie=ve.length;ee<ie;++ee){var oe=ve[ee];if(ue===0&&(ue=le,($+=Y)>=M&&(Y=4*Z+4*r*(X-1),$=L+(le+Z)*(X<<1),X>>=1)),oe===V)$+=4;else{var G=t[ye+3*oe],se=t[ye+3*oe+1],ge=t[ye+3*oe+2];F[$++]=ge,F[$++]=se,F[$++]=G,F[$++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(Q,F){var te=this.frameInfo(Q),xe=te.width*te.height,ve=new Uint8Array(xe);LC(t,te.data_offset,ve,xe);var ye=te.palette_offset,V=te.transparent_index;V===null&&(V=256);var le=te.width,Z=r-le,ue=le,L=4*(te.y*r+te.x),M=4*((te.y+te.height)*r+te.x),$=L,Y=4*Z;te.interlaced===!0&&(Y+=4*r*7);for(var X=8,ee=0,ie=ve.length;ee<ie;++ee){var oe=ve[ee];if(ue===0&&(ue=le,($+=Y)>=M&&(Y=4*Z+4*r*(X-1),$=L+(le+Z)*(X<<1),X>>=1)),oe===V)$+=4;else{var G=t[ye+3*oe],se=t[ye+3*oe+1],ge=t[ye+3*oe+2];F[$++]=G,F[$++]=se,F[$++]=ge,F[$++]=255}--ue}}}function LC(t,e,r,n){for(var s=t[e++],i=1<<s,A=i+1,a=A+1,l=s+1,c=(1<<l)-1,h=0,f=0,p=0,g=t[e++],B=new Int32Array(4096),E=null;;){for(;h<16&&g!==0;)f|=t[e++]<<h,h+=8,g===1?g=t[e++]:--g;if(h<l)break;var I=f&c;if(f>>=l,h-=l,I!==i){if(I===A)break;for(var w=I<a?I:E,y=0,_=w;_>i;)_=B[_]>>8,++y;var P=_;if(p+y+(w!==I?1:0)>n)return void dr.log("Warning, gif stream longer than expected.");r[p++]=P;var H=p+=y;for(w!==I&&(r[p++]=P),_=w;y--;)_=B[_],r[--H]=255&_,_>>=8;E!==null&&a<4096&&(B[a++]=E<<8|P,a>=c+1&&l<12&&(++l,c=c<<1|1)),E=I}else a=A+1,c=(1<<(l=s+1))-1,E=null}return p!==n&&dr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Z1(t){var e,r,n,s,i,A=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),g=new Array(64),B=new Array(64),E=[],I=0,w=7,y=new Array(64),_=new Array(64),P=new Array(64),H=new Array(256),W=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(L,M){for(var $=0,Y=0,X=new Array,ee=1;ee<=16;ee++){for(var ie=1;ie<=L[ee];ie++)X[M[Y]]=[],X[M[Y]][0]=$,X[M[Y]][1]=ee,Y++,$++;$*=2}return X}function ye(L){for(var M=L[0],$=L[1]-1;$>=0;)M&1<<$&&(I|=1<<w),$--,--w<0&&(I==255?(V(255),V(0)):V(I),w=7,I=0)}function V(L){E.push(L)}function le(L){V(L>>8&255),V(255&L)}function Z(L,M,$,Y,X){for(var ee,ie=X[0],oe=X[240],G=function(he,Ie){var Ke,Ge,et,dt,Bt,ut,pt,Lt,ft,Ft,Je=0;for(ft=0;ft<8;++ft){Ke=he[Je],Ge=he[Je+1],et=he[Je+2],dt=he[Je+3],Bt=he[Je+4],ut=he[Je+5],pt=he[Je+6];var gr=Ke+(Lt=he[Je+7]),Qt=Ke-Lt,wn=Ge+pt,Kt=Ge-pt,er=et+ut,ts=et-ut,jt=dt+Bt,Ts=dt-Bt,Te=gr+jt,We=gr-jt,tt=wn+er,ct=wn-er;he[Je]=Te+tt,he[Je+4]=Te-tt;var ze=.707106781*(ct+We);he[Je+2]=We+ze,he[Je+6]=We-ze;var it=.382683433*((Te=Ts+ts)-(ct=Kt+Qt)),Ut=.5411961*Te+it,lr=1.306562965*ct+it,_r=.707106781*(tt=ts+Kt),Ln=Qt+_r,nt=Qt-_r;he[Je+5]=nt+Ut,he[Je+3]=nt-Ut,he[Je+1]=Ln+lr,he[Je+7]=Ln-lr,Je+=8}for(Je=0,ft=0;ft<8;++ft){Ke=he[Je],Ge=he[Je+8],et=he[Je+16],dt=he[Je+24],Bt=he[Je+32],ut=he[Je+40],pt=he[Je+48];var hs=Ke+(Lt=he[Je+56]),jn=Ke-Lt,Jr=Ge+pt,Pr=Ge-pt,kr=et+ut,Xr=et-ut,va=dt+Bt,gi=dt-Bt,Pn=hs+va,fs=hs-va,rs=Jr+kr,ns=Jr-kr;he[Je]=Pn+rs,he[Je+32]=Pn-rs;var Dr=.707106781*(ns+fs);he[Je+16]=fs+Dr,he[Je+48]=fs-Dr;var Us=.382683433*((Pn=gi+Xr)-(ns=Pr+jn)),Wi=.5411961*Pn+Us,$i=1.306562965*ns+Us,Yi=.707106781*(rs=Xr+Pr),EA=jn+Yi,_A=jn-Yi;he[Je+40]=_A+Wi,he[Je+24]=_A-Wi,he[Je+8]=EA+$i,he[Je+56]=EA-$i,Je++}for(ft=0;ft<64;++ft)Ft=he[ft]*Ie[ft],g[ft]=Ft>0?Ft+.5|0:Ft-.5|0;return g}(L,M),se=0;se<64;++se)B[T[se]]=G[se];var ge=B[0]-$;$=B[0],ge==0?ye(Y[0]):(ye(Y[p[ee=32767+ge]]),ye(f[ee]));for(var _e=63;_e>0&&B[_e]==0;)_e--;if(_e==0)return ye(ie),$;for(var ke,be=1;be<=_e;){for(var re=be;B[be]==0&&be<=_e;)++be;var me=be-re;if(me>=16){ke=me>>4;for(var ae=1;ae<=ke;++ae)ye(oe);me&=15}ee=32767+B[be],ye(X[(me<<4)+p[ee]]),ye(f[ee]),be++}return _e!=63&&ye(ie),$}function ue(L){L=Math.min(Math.max(L,1),100),i!=L&&(function(M){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var X=A(($[Y]*M+50)/100);X=Math.min(Math.max(X,1),255),a[T[Y]]=X}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var oe=A((ee[ie]*M+50)/100);oe=Math.min(Math.max(oe,1),255),l[T[ie]]=oe}for(var G=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],se=0,ge=0;ge<8;ge++)for(var _e=0;_e<8;_e++)c[se]=1/(a[T[se]]*G[ge]*G[_e]*8),h[se]=1/(l[T[se]]*G[ge]*G[_e]*8),se++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,M){M&&ue(M),E=new Array,I=0,w=7,le(65496),le(65504),le(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),le(1),le(1),V(0),V(0),function(){le(65499),le(132),V(0);for(var Ge=0;Ge<64;Ge++)V(a[Ge]);V(1);for(var et=0;et<64;et++)V(l[et])}(),function(Ge,et){le(65472),le(17),V(8),le(et),le(Ge),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(L.width,L.height),function(){le(65476),le(418),V(0);for(var Ge=0;Ge<16;Ge++)V(b[Ge+1]);for(var et=0;et<=11;et++)V(k[et]);V(16);for(var dt=0;dt<16;dt++)V(j[dt+1]);for(var Bt=0;Bt<=161;Bt++)V(N[Bt]);V(1);for(var ut=0;ut<16;ut++)V(Q[ut+1]);for(var pt=0;pt<=11;pt++)V(F[pt]);V(17);for(var Lt=0;Lt<16;Lt++)V(te[Lt+1]);for(var ft=0;ft<=161;ft++)V(xe[ft])}(),le(65498),le(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var $=0,Y=0,X=0;I=0,w=7,this.encode.displayName="_encode_";for(var ee,ie,oe,G,se,ge,_e,ke,be,re=L.data,me=L.width,ae=L.height,he=4*me,Ie=0;Ie<ae;){for(ee=0;ee<he;){for(se=he*Ie+ee,_e=-1,ke=0,be=0;be<64;be++)ge=se+(ke=be>>3)*he+(_e=4*(7&be)),Ie+ke>=ae&&(ge-=he*(Ie+1+ke-ae)),ee+_e>=he&&(ge-=ee+_e-he+4),ie=re[ge++],oe=re[ge++],G=re[ge++],y[be]=(W[ie]+W[oe+256>>0]+W[G+512>>0]>>16)-128,_[be]=(W[ie+768>>0]+W[oe+1024>>0]+W[G+1280>>0]>>16)-128,P[be]=(W[ie+1280>>0]+W[oe+1536>>0]+W[G+1792>>0]>>16)-128;$=Z(y,c,$,e,n),Y=Z(_,h,Y,r,s),X=Z(P,h,X,r,s),ee+=32}Ie+=8}if(w>=0){var Ke=[];Ke[1]=w+1,Ke[0]=(1<<w+1)-1,ye(Ke)}return le(65497),new Uint8Array(E)},t=t||50,function(){for(var L=String.fromCharCode,M=0;M<256;M++)H[M]=L(M)}(),e=ve(b,k),r=ve(Q,F),n=ve(j,N),s=ve(te,xe),function(){for(var L=1,M=2,$=1;$<=15;$++){for(var Y=L;Y<M;Y++)p[32767+Y]=$,f[32767+Y]=[],f[32767+Y][1]=$,f[32767+Y][0]=Y;for(var X=-(M-1);X<=-L;X++)p[32767+X]=$,f[32767+X]=[],f[32767+X][1]=$,f[32767+X][0]=M-1+X;L<<=1,M<<=1}}(),function(){for(var L=0;L<256;L++)W[L]=19595*L,W[L+256>>0]=38470*L,W[L+512>>0]=7471*L+32768,W[L+768>>0]=-11059*L,W[L+1024>>0]=-21709*L,W[L+1280>>0]=32768*L+8421375,W[L+1536>>0]=-27439*L,W[L+1792>>0]=-5329*L}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jC(t){function e(b){if(!b)throw Error("assert :P")}function r(b,k,j){for(var N=0;4>N;N++)if(b[k+N]!=j.charCodeAt(N))return!0;return!1}function n(b,k,j,N,Q){for(var F=0;F<Q;F++)b[k+F]=j[N+F]}function s(b,k,j,N){for(var Q=0;Q<N;Q++)b[k+Q]=j}function i(b){return new Int32Array(b)}function A(b,k){for(var j=[],N=0;N<b;N++)j.push(new k);return j}function a(b,k){var j=[];return function N(Q,F,te){for(var xe=te[F],ve=0;ve<xe&&(Q.push(te.length>F+1?[]:new k),!(te.length<F+1));ve++)N(Q[ve],F+1,te)}(j,0,b),j}var l=function(){var b=this;function k(u,m){for(var x=1<<m-1>>>0;u&x;)x>>>=1;return x?(u&x-1)+x:u}function j(u,m,x,S,R){e(!(S%x));do u[m+(S-=x)]=R;while(0<S)}function N(u,m,x,S,R){if(e(2328>=R),512>=R)var O=i(512);else if((O=i(R))==null)return 0;return function(K,q,J,ne,fe,Ne){var Se,Ee,Pe=q,Ue=1<<J,pe=i(16),we=i(16);for(e(fe!=0),e(ne!=null),e(K!=null),e(0<J),Ee=0;Ee<fe;++Ee){if(15<ne[Ee])return 0;++pe[ne[Ee]]}if(pe[0]==fe)return 0;for(we[1]=0,Se=1;15>Se;++Se){if(pe[Se]>1<<Se)return 0;we[Se+1]=we[Se]+pe[Se]}for(Ee=0;Ee<fe;++Ee)Se=ne[Ee],0<ne[Ee]&&(Ne[we[Se]++]=Ee);if(we[15]==1)return(ne=new Q).g=0,ne.value=Ne[0],j(K,Pe,1,Ue,ne),Ue;var Le,Re=-1,je=Ue-1,rt=0,$e=1,mt=1,Xe=1<<J;for(Ee=0,Se=1,fe=2;Se<=J;++Se,fe<<=1){if($e+=mt<<=1,0>(mt-=pe[Se]))return 0;for(;0<pe[Se];--pe[Se])(ne=new Q).g=Se,ne.value=Ne[Ee++],j(K,Pe+rt,fe,Xe,ne),rt=k(rt,Se)}for(Se=J+1,fe=2;15>=Se;++Se,fe<<=1){if($e+=mt<<=1,0>(mt-=pe[Se]))return 0;for(;0<pe[Se];--pe[Se]){if(ne=new Q,(rt&je)!=Re){for(Pe+=Xe,Le=1<<(Re=Se)-J;15>Re&&!(0>=(Le-=pe[Re]));)++Re,Le<<=1;Ue+=Xe=1<<(Le=Re-J),K[q+(Re=rt&je)].g=Le+J,K[q+Re].value=Pe-q-Re}ne.g=Se-J,ne.value=Ne[Ee++],j(K,Pe+(rt>>J),fe,Xe,ne),rt=k(rt,Se)}}return $e!=2*we[15]-1?0:Ue}(u,m,x,S,R,O)}function Q(){this.value=this.g=0}function F(){this.value=this.g=0}function te(){this.G=A(5,Q),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(bn,F)}function xe(u,m,x,S){e(u!=null),e(m!=null),e(2147483648>S),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=m,u.pa=x,u.Jd=m,u.Yc=x+S,u.Zc=4<=S?x+S-4+1:x,ee(u)}function ve(u,m){for(var x=0;0<m--;)x|=oe(u,128)<<m;return x}function ye(u,m){var x=ve(u,m);return ie(u)?-x:x}function V(u,m,x,S){var R,O=0;for(e(u!=null),e(m!=null),e(4294967288>S),u.Sb=S,u.Ra=0,u.u=0,u.h=0,4<S&&(S=4),R=0;R<S;++R)O+=m[x+R]<<8*R;u.Ra=O,u.bb=S,u.oa=m,u.pa=x}function le(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<pc-8>>>0,++u.bb,u.u-=8;$(u)&&(u.h=1,u.u=0)}function Z(u,m){if(e(0<=m),!u.h&&m<=mc){var x=M(u)&fc[m];return u.u+=m,le(u),x}return u.h=1,u.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(u){return u.Ra>>>(u.u&pc-1)>>>0}function $(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>pc}function Y(u,m){u.u=m,u.h=$(u)}function X(u){u.u>=rd&&(e(u.u>=rd),le(u))}function ee(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ie(u){return ve(u,1)}function oe(u,m){var x=u.Ca;0>u.b&&ee(u);var S=u.b,R=x*m>>>8,O=(u.I>>>S>R)+0;for(O?(x-=R,u.I-=R+1<<S>>>0):x=R+1,S=x,R=0;256<=S;)R+=8,S>>=8;return S=7^R+ps[S],u.b-=S,u.Ca=(x<<S)-1,O}function G(u,m,x){u[m+0]=x>>24&255,u[m+1]=x>>16&255,u[m+2]=x>>8&255,u[m+3]=x>>0&255}function se(u,m){return u[m+0]<<0|u[m+1]<<8}function ge(u,m){return se(u,m)|u[m+2]<<16}function _e(u,m){return se(u,m)|se(u,m+2)<<16}function ke(u,m){var x=1<<m;return e(u!=null),e(0<m),u.X=i(x),u.X==null?0:(u.Mb=32-m,u.Xa=m,1)}function be(u,m){e(u!=null),e(m!=null),e(u.Xa==m.Xa),n(m.X,0,u.X,0,1<<m.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function me(u,m,x,S){e(x!=null),e(S!=null);var R=x[0],O=S[0];return R==0&&(R=(u*O+m/2)/m),O==0&&(O=(m*R+u/2)/u),0>=R||0>=O?0:(x[0]=R,S[0]=O,1)}function ae(u,m){return u+(1<<m)-1>>>m}function he(u,m){return((4278255360&u)+(4278255360&m)>>>0&4278255360)+((16711935&u)+(16711935&m)>>>0&16711935)>>>0}function Ie(u,m){b[m]=function(x,S,R,O,K,q,J){var ne;for(ne=0;ne<K;++ne){var fe=b[u](q[J+ne-1],R,O+ne);q[J+ne]=he(x[S+ne],fe)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ge(u,m){return((4278124286&(u^m))>>>1)+(u&m)>>>0}function et(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function dt(u,m){return et(u+(u-m+.5>>1))}function Bt(u,m,x){return Math.abs(m-x)-Math.abs(u-x)}function ut(u,m,x,S,R,O,K){for(S=O[K-1],x=0;x<R;++x)O[K+x]=S=he(u[m+x],S)}function pt(u,m,x,S,R){var O;for(O=0;O<x;++O){var K=u[m+O],q=K>>8&255,J=16711935&(J=(J=16711935&K)+((q<<16)+q));S[R+O]=(4278255360&K)+J>>>0}}function Lt(u,m){m.jd=u>>0&255,m.hd=u>>8&255,m.ud=u>>16&255}function ft(u,m,x,S,R,O){var K;for(K=0;K<S;++K){var q=m[x+K],J=q>>>8,ne=q,fe=255&(fe=(fe=q>>>16)+((u.jd<<24>>24)*(J<<24>>24)>>>5));ne=255&(ne=(ne=ne+((u.hd<<24>>24)*(J<<24>>24)>>>5))+((u.ud<<24>>24)*(fe<<24>>24)>>>5)),R[O+K]=(4278255360&q)+(fe<<16)+ne}}function Ft(u,m,x,S,R){b[m]=function(O,K,q,J,ne,fe,Ne,Se,Ee){for(J=Ne;J<Se;++J)for(Ne=0;Ne<Ee;++Ne)ne[fe++]=R(q[S(O[K++])])},b[u]=function(O,K,q,J,ne,fe,Ne){var Se=8>>O.b,Ee=O.Ea,Pe=O.K[0],Ue=O.w;if(8>Se)for(O=(1<<O.b)-1,Ue=(1<<Se)-1;K<q;++K){var pe,we=0;for(pe=0;pe<Ee;++pe)pe&O||(we=S(J[ne++])),fe[Ne++]=R(Pe[we&Ue]),we>>=Se}else b["VP8LMapColor"+x](J,ne,Pe,Ue,fe,Ne,K,q,Ee)}}function Je(u,m,x,S,R){for(x=m+x;m<x;){var O=u[m++];S[R++]=O>>16&255,S[R++]=O>>8&255,S[R++]=O>>0&255}}function gr(u,m,x,S,R){for(x=m+x;m<x;){var O=u[m++];S[R++]=O>>16&255,S[R++]=O>>8&255,S[R++]=O>>0&255,S[R++]=O>>24&255}}function Qt(u,m,x,S,R){for(x=m+x;m<x;){var O=(K=u[m++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;S[R++]=O,S[R++]=K}}function wn(u,m,x,S,R){for(x=m+x;m<x;){var O=(K=u[m++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;S[R++]=O,S[R++]=K}}function Kt(u,m,x,S,R){for(x=m+x;m<x;){var O=u[m++];S[R++]=O>>0&255,S[R++]=O>>8&255,S[R++]=O>>16&255}}function er(u,m,x,S,R,O){if(O==0)for(x=m+x;m<x;)G(S,((O=u[m++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),R+=32;else n(S,R,u,m,x)}function ts(u,m){b[m][0]=b[u+"0"],b[m][1]=b[u+"1"],b[m][2]=b[u+"2"],b[m][3]=b[u+"3"],b[m][4]=b[u+"4"],b[m][5]=b[u+"5"],b[m][6]=b[u+"6"],b[m][7]=b[u+"7"],b[m][8]=b[u+"8"],b[m][9]=b[u+"9"],b[m][10]=b[u+"10"],b[m][11]=b[u+"11"],b[m][12]=b[u+"12"],b[m][13]=b[u+"13"],b[m][14]=b[u+"0"],b[m][15]=b[u+"0"]}function jt(u){return u==b0||u==C0||u==_f||u==E0}function Ts(){this.eb=[],this.size=this.A=this.fb=0}function Te(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function We(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ts,this.f.kb=new Te,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ze(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function it(u,m){var x=u.T,S=m.ba.f.RGBA,R=S.eb,O=S.fb+u.ka*S.A,K=ni[m.ba.S],q=u.y,J=u.O,ne=u.f,fe=u.N,Ne=u.ea,Se=u.W,Ee=m.cc,Pe=m.dc,Ue=m.Mc,pe=m.Nc,we=u.ka,Le=u.ka+u.T,Re=u.U,je=Re+1>>1;for(we==0?K(q,J,null,null,ne,fe,Ne,Se,ne,fe,Ne,Se,R,O,null,null,Re):(K(m.ec,m.fc,q,J,Ee,Pe,Ue,pe,ne,fe,Ne,Se,R,O-S.A,R,O,Re),++x);we+2<Le;we+=2)Ee=ne,Pe=fe,Ue=Ne,pe=Se,fe+=u.Rc,Se+=u.Rc,O+=2*S.A,K(q,(J+=2*u.fa)-u.fa,q,J,Ee,Pe,Ue,pe,ne,fe,Ne,Se,R,O-S.A,R,O,Re);return J+=u.fa,u.j+Le<u.o?(n(m.ec,m.fc,q,J,Re),n(m.cc,m.dc,ne,fe,je),n(m.Mc,m.Nc,Ne,Se,je),x--):1&Le||K(q,J,null,null,ne,fe,Ne,Se,ne,fe,Ne,Se,R,O+S.A,null,null,Re),x}function Ut(u,m,x){var S=u.F,R=[u.J];if(S!=null){var O=u.U,K=m.ba.S,q=K==Ef||K==_f;m=m.ba.f.RGBA;var J=[0],ne=u.ka;J[0]=u.T,u.Kb&&(ne==0?--J[0]:(--ne,R[0]-=u.width),u.j+u.ka+u.T==u.o&&(J[0]=u.o-u.j-ne));var fe=m.eb;ne=m.fb+ne*m.A,u=fr(S,R[0],u.width,O,J,fe,ne+(q?0:3),m.A),e(x==J),u&&jt(K)&&ti(fe,ne,q,O,J,m.A)}return 0}function lr(u){var m=u.ma,x=m.ba.S,S=11>x,R=x==bf||x==Cf||x==Ef||x==B0||x==12||jt(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!ed(m.Oa,u,R?11:12))return 0;if(R&&jt(x)&&Oe(),u.da)alert("todo:use_scaling");else{if(S){if(m.Ib=ze,u.Kb){if(x=u.U+1>>1,m.memory=i(u.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+u.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=it,Oe()}}else alert("todo:EmitYUV");R&&(m.Jb=Ut,S&&Ce())}if(S&&!gx){for(u=0;256>u;++u)bF[u]=89858*(u-128)+Nf>>If,_F[u]=-22014*(u-128)+Nf,EF[u]=-45773*(u-128),CF[u]=113618*(u-128)+Nf>>If;for(u=ld;u<N0;++u)m=76283*(u-16)+Nf>>If,IF[u-ld]=Xt(m,255),NF[u-ld]=Xt(m+8>>4,15);gx=1}return 1}function _r(u){var m=u.ma,x=u.U,S=u.T;return e(!(1&u.ka)),0>=x||0>=S?0:(x=m.Ib(u,m),m.Jb!=null&&m.Jb(u,m,x),m.Dc+=x,1)}function Ln(u){u.ma.memory=null}function nt(u,m,x,S){return Z(u,8)!=47?0:(m[0]=Z(u,14)+1,x[0]=Z(u,14)+1,S[0]=Z(u,1),Z(u,3)!=0?0:!u.h)}function hs(u,m){if(4>u)return u+1;var x=u-2>>1;return(2+(1&u)<<x)+Z(m,x)+1}function jn(u,m){return 120<m?m-120:1<=(x=((x=lF[m-1])>>4)*u+(8-(15&x)))?x:1;var x}function Jr(u,m,x){var S=M(x),R=u[m+=255&S].g-8;return 0<R&&(Y(x,x.u+8),S=M(x),m+=u[m].value,m+=S&(1<<R)-1),Y(x,x.u+u[m].g),u[m].value}function Pr(u,m,x){return x.g+=u.g,x.value+=u.value<<m>>>0,e(8>=x.g),u.g}function kr(u,m,x){var S=u.xc;return e((m=S==0?0:u.vc[u.md*(x>>S)+(m>>S)])<u.Wb),u.Ya[m]}function Xr(u,m,x,S){var R=u.ab,O=u.c*m,K=u.C;m=K+m;var q=x,J=S;for(S=u.Ta,x=u.Ua;0<R--;){var ne=u.gc[R],fe=K,Ne=m,Se=q,Ee=J,Pe=(J=S,q=x,ne.Ea);switch(e(fe<Ne),e(Ne<=ne.nc),ne.hc){case 2:pf(Se,Ee,(Ne-fe)*Pe,J,q);break;case 0:var Ue=fe,pe=Ne,we=J,Le=q,Re=(Xe=ne).Ea;Ue==0&&(w0(Se,Ee,null,null,1,we,Le),ut(Se,Ee+1,0,0,Re-1,we,Le+1),Ee+=Re,Le+=Re,++Ue);for(var je=1<<Xe.b,rt=je-1,$e=ae(Re,Xe.b),mt=Xe.K,Xe=Xe.w+(Ue>>Xe.b)*$e;Ue<pe;){var Yt=mt,rr=Xe,Gt=1;for(nd(Se,Ee,we,Le-Re,1,we,Le);Gt<Re;){var Rt=(Gt&~rt)+je;Rt>Re&&(Rt=Re),(0,ja[Yt[rr++]>>8&15])(Se,Ee+ +Gt,we,Le+Gt-Re,Rt-Gt,we,Le+Gt),Gt=Rt}Ee+=Re,Le+=Re,++Ue&rt||(Xe+=$e)}Ne!=ne.nc&&n(J,q-Pe,J,q+(Ne-fe-1)*Pe,Pe);break;case 1:for(Pe=Se,pe=Ee,Re=(Se=ne.Ea)-(Le=Se&~(we=(Ee=1<<ne.b)-1)),Ue=ae(Se,ne.b),je=ne.K,ne=ne.w+(fe>>ne.b)*Ue;fe<Ne;){for(rt=je,$e=ne,mt=new Ke,Xe=pe+Le,Yt=pe+Se;pe<Xe;)Lt(rt[$e++],mt),hl(mt,Pe,pe,Ee,J,q),pe+=Ee,q+=Ee;pe<Yt&&(Lt(rt[$e++],mt),hl(mt,Pe,pe,Re,J,q),pe+=Re,q+=Re),++fe&we||(ne+=Ue)}break;case 3:if(Se==J&&Ee==q&&0<ne.b){for(pe=J,Se=Pe=q+(Ne-fe)*Pe-(Le=(Ne-fe)*ae(ne.Ea,ne.b)),Ee=J,we=q,Ue=[],Le=(Re=Le)-1;0<=Le;--Le)Ue[Le]=Ee[we+Le];for(Le=Re-1;0<=Le;--Le)pe[Se+Le]=Ue[Le];Xs(ne,fe,Ne,J,Pe,J,q)}else Xs(ne,fe,Ne,Se,Ee,J,q)}q=S,J=x}J!=x&&n(S,x,q,J,O)}function va(u,m){var x=u.V,S=u.Ba+u.c*u.C,R=m-u.C;if(e(m<=u.l.o),e(16>=R),0<R){var O=u.l,K=u.Ta,q=u.Ua,J=O.width;if(Xr(u,R,x,S),R=q=[q],e((x=u.C)<(S=m)),e(O.v<O.va),S>O.o&&(S=O.o),x<O.j){var ne=O.j-x;x=O.j,R[0]+=ne*J}if(x>=S?x=0:(R[0]+=4*O.v,O.ka=x-O.j,O.U=O.va-O.v,O.T=S-x,x=1),x){if(q=q[0],11>(x=u.ca).S){var fe=x.f.RGBA,Ne=(S=x.S,R=O.U,O=O.T,ne=fe.eb,fe.A),Se=O;for(fe=fe.fb+u.Ma*fe.A;0<Se--;){var Ee=K,Pe=q,Ue=R,pe=ne,we=fe;switch(S){case Bf:gs(Ee,Pe,Ue,pe,we);break;case bf:is(Ee,Pe,Ue,pe,we);break;case b0:is(Ee,Pe,Ue,pe,we),ti(pe,we,0,Ue,1,0);break;case ax:PA(Ee,Pe,Ue,pe,we);break;case Cf:er(Ee,Pe,Ue,pe,we,1);break;case C0:er(Ee,Pe,Ue,pe,we,1),ti(pe,we,0,Ue,1,0);break;case Ef:er(Ee,Pe,Ue,pe,we,0);break;case _f:er(Ee,Pe,Ue,pe,we,0),ti(pe,we,1,Ue,1,0);break;case B0:Pa(Ee,Pe,Ue,pe,we);break;case E0:Pa(Ee,Pe,Ue,pe,we),hr(pe,we,Ue,1,0);break;case ox:jA(Ee,Pe,Ue,pe,we);break;default:e(0)}q+=J,fe+=Ne}u.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=x.height)}}u.C=m,e(u.C<=u.i)}function gi(u){var m;if(0<u.ua)return 0;for(m=0;m<u.Wb;++m){var x=u.Ya[m].G,S=u.Ya[m].H;if(0<x[1][S[1]+0].g||0<x[2][S[2]+0].g||0<x[3][S[3]+0].g)return 0}return 1}function Pn(u,m,x,S,R,O){if(u.Z!=0){var K=u.qd,q=u.rd;for(e(Ha[u.Z]!=null);m<x;++m)Ha[u.Z](K,q,S,R,S,R,O),K=S,q=R,R+=O;u.qd=K,u.rd=q}}function fs(u,m){var x=u.l.ma,S=x.Z==0||x.Z==1?u.l.j:u.C;if(S=u.C<S?S:u.C,e(m<=u.l.o),m>S){var R=u.l.width,O=x.ca,K=x.tb+R*S,q=u.V,J=u.Ba+u.c*S,ne=u.gc;e(u.ab==1),e(ne[0].hc==3),gf(ne[0],S,m,q,J,O,K),Pn(x,S,m,O,K,R)}u.C=u.Ma=m}function rs(u,m,x,S,R,O,K){var q=u.$/S,J=u.$%S,ne=u.m,fe=u.s,Ne=x+u.$,Se=Ne;R=x+S*R;var Ee=x+S*O,Pe=280+fe.ua,Ue=u.Pb?q:16777216,pe=0<fe.ua?fe.Wa:null,we=fe.wc,Le=Ne<Ee?kr(fe,J,q):null;e(u.C<O),e(Ee<=R);var Re=!1;e:for(;;){for(;Re||Ne<Ee;){var je=0;if(q>=Ue){var rt=Ne-x;e((Ue=u).Pb),Ue.wd=Ue.m,Ue.xd=rt,0<Ue.s.ua&&be(Ue.s.Wa,Ue.s.vb),Ue=q+uF}if(J&we||(Le=kr(fe,J,q)),e(Le!=null),Le.Qb&&(m[Ne]=Le.qb,Re=!0),!Re)if(X(ne),Le.jc){je=ne,rt=m;var $e=Ne,mt=Le.pd[M(je)&bn-1];e(Le.jc),256>mt.g?(Y(je,je.u+mt.g),rt[$e]=mt.value,je=0):(Y(je,je.u+mt.g-256),e(256<=mt.value),je=mt.value),je==0&&(Re=!0)}else je=Jr(Le.G[0],Le.H[0],ne);if(ne.h)break;if(Re||256>je){if(!Re)if(Le.nd)m[Ne]=(Le.qb|je<<8)>>>0;else{if(X(ne),Re=Jr(Le.G[1],Le.H[1],ne),X(ne),rt=Jr(Le.G[2],Le.H[2],ne),$e=Jr(Le.G[3],Le.H[3],ne),ne.h)break;m[Ne]=($e<<24|Re<<16|je<<8|rt)>>>0}if(Re=!1,++Ne,++J>=S&&(J=0,++q,K!=null&&q<=O&&!(q%16)&&K(u,q),pe!=null))for(;Se<Ne;)je=m[Se++],pe.X[(506832829*je&4294967295)>>>pe.Mb]=je}else if(280>je){if(je=hs(je-256,ne),rt=Jr(Le.G[4],Le.H[4],ne),X(ne),rt=jn(S,rt=hs(rt,ne)),ne.h)break;if(Ne-x<rt||R-Ne<je)break e;for($e=0;$e<je;++$e)m[Ne+$e]=m[Ne+$e-rt];for(Ne+=je,J+=je;J>=S;)J-=S,++q,K!=null&&q<=O&&!(q%16)&&K(u,q);if(e(Ne<=R),J&we&&(Le=kr(fe,J,q)),pe!=null)for(;Se<Ne;)je=m[Se++],pe.X[(506832829*je&4294967295)>>>pe.Mb]=je}else{if(!(je<Pe))break e;for(Re=je-280,e(pe!=null);Se<Ne;)je=m[Se++],pe.X[(506832829*je&4294967295)>>>pe.Mb]=je;je=Ne,e(!(Re>>>(rt=pe).Xa)),m[je]=rt.X[Re],Re=!0}Re||e(ne.h==$(ne))}if(u.Pb&&ne.h&&Ne<R)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&be(u.s.vb,u.s.Wa);else{if(ne.h)break e;K!=null&&K(u,q>O?O:q),u.a=0,u.$=Ne-x}return 1}return u.a=3,0}function ns(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var m=u.Wa;m!=null&&(m.X=null),u.vb=null,e(u!=null)}function Dr(){var u=new dc;return u==null?null:(u.a=0,u.xb=ux,ts("Predictor","VP8LPredictors"),ts("Predictor","VP8LPredictors_C"),ts("PredictorAdd","VP8LPredictorsAdd"),ts("PredictorAdd","VP8LPredictorsAdd_C"),pf=pt,hl=ft,gs=Je,is=gr,Pa=Qt,jA=wn,PA=Kt,b.VP8LMapColor32b=gc,b.VP8LMapColor8b=vf,u)}function Us(u,m,x,S,R){var O=1,K=[u],q=[m],J=S.m,ne=S.s,fe=null,Ne=0;e:for(;;){if(x)for(;O&&Z(J,1);){var Se=K,Ee=q,Pe=S,Ue=1,pe=Pe.m,we=Pe.gc[Pe.ab],Le=Z(pe,2);if(Pe.Oc&1<<Le)O=0;else{switch(Pe.Oc|=1<<Le,we.hc=Le,we.Ea=Se[0],we.nc=Ee[0],we.K=[null],++Pe.ab,e(4>=Pe.ab),Le){case 0:case 1:we.b=Z(pe,3)+2,Ue=Us(ae(we.Ea,we.b),ae(we.nc,we.b),0,Pe,we.K),we.K=we.K[0];break;case 3:var Re,je=Z(pe,8)+1,rt=16<je?0:4<je?1:2<je?2:3;if(Se[0]=ae(we.Ea,rt),we.b=rt,Re=Ue=Us(je,1,0,Pe,we.K)){var $e,mt=je,Xe=we,Yt=1<<(8>>Xe.b),rr=i(Yt);if(rr==null)Re=0;else{var Gt=Xe.K[0],Rt=Xe.w;for(rr[0]=Xe.K[0][0],$e=1;$e<1*mt;++$e)rr[$e]=he(Gt[Rt+$e],rr[$e-1]);for(;$e<4*Yt;++$e)rr[$e]=0;Xe.K[0]=null,Xe.K[0]=rr,Re=1}}Ue=Re;break;case 2:break;default:e(0)}O=Ue}}if(K=K[0],q=q[0],O&&Z(J,1)&&!(O=1<=(Ne=Z(J,4))&&11>=Ne)){S.a=3;break e}var ur;if(ur=O)t:{var ar,kt,Zr,vs=S,en=K,ys=q,nr=Ne,Ds=x,Rs=vs.m,dn=vs.s,Cn=[null],as=1,si=0,AA=cF[nr];r:for(;;){if(Ds&&Z(Rs,1)){var hn=Z(Rs,3)+2,HA=ae(en,hn),vl=ae(ys,hn),Bc=HA*vl;if(!Us(HA,vl,0,vs,Cn))break r;for(Cn=Cn[0],dn.xc=hn,ar=0;ar<Bc;++ar){var Ma=Cn[ar]>>8&65535;Cn[ar]=Ma,Ma>=as&&(as=Ma+1)}}if(Rs.h)break r;for(kt=0;5>kt;++kt){var Ur=lx[kt];!kt&&0<nr&&(Ur+=1<<nr),si<Ur&&(si=Ur)}var S0=A(as*AA,Q),wx=as,xx=A(wx,te);if(xx==null)var Ff=null;else e(65536>=wx),Ff=xx;var cd=i(si);if(Ff==null||cd==null||S0==null){vs.a=1;break r}var kf=S0;for(ar=Zr=0;ar<as;++ar){var Ii=Ff[ar],bc=Ii.G,Cc=Ii.H,Bx=0,Tf=1,bx=0;for(kt=0;5>kt;++kt){Ur=lx[kt],bc[kt]=kf,Cc[kt]=Zr,!kt&&0<nr&&(Ur+=1<<nr);s:{var Uf,F0=Ur,Qf=vs,ud=cd,kF=kf,TF=Zr,k0=0,Va=Qf.m,UF=Z(Va,1);if(s(ud,0,0,F0),UF){var QF=Z(Va,1)+1,LF=Z(Va,1),Cx=Z(Va,LF==0?1:8);ud[Cx]=1,QF==2&&(ud[Cx=Z(Va,8)]=1);var Lf=1}else{var Ex=i(19),_x=Z(Va,4)+4;if(19<_x){Qf.a=3;var jf=0;break s}for(Uf=0;Uf<_x;++Uf)Ex[oF[Uf]]=Z(Va,3);var T0=void 0,dd=void 0,Ix=Qf,jF=Ex,Pf=F0,Nx=ud,U0=0,Ka=Ix.m,Sx=8,Fx=A(128,Q);n:for(;N(Fx,0,7,jF,19);){if(Z(Ka,1)){var PF=2+2*Z(Ka,3);if((T0=2+Z(Ka,PF))>Pf)break n}else T0=Pf;for(dd=0;dd<Pf&&T0--;){X(Ka);var kx=Fx[0+(127&M(Ka))];Y(Ka,Ka.u+kx.g);var Ec=kx.value;if(16>Ec)Nx[dd++]=Ec,Ec!=0&&(Sx=Ec);else{var DF=Ec==16,Tx=Ec-16,RF=AF[Tx],Ux=Z(Ka,iF[Tx])+RF;if(dd+Ux>Pf)break n;for(var OF=DF?Sx:0;0<Ux--;)Nx[dd++]=OF}}U0=1;break n}U0||(Ix.a=3),Lf=U0}(Lf=Lf&&!Va.h)&&(k0=N(kF,TF,8,ud,F0)),Lf&&k0!=0?jf=k0:(Qf.a=3,jf=0)}if(jf==0)break r;if(Tf&&aF[kt]==1&&(Tf=kf[Zr].g==0),Bx+=kf[Zr].g,Zr+=jf,3>=kt){var hd,Q0=cd[0];for(hd=1;hd<Ur;++hd)cd[hd]>Q0&&(Q0=cd[hd]);bx+=Q0}}if(Ii.nd=Tf,Ii.Qb=0,Tf&&(Ii.qb=(bc[3][Cc[3]+0].value<<24|bc[1][Cc[1]+0].value<<16|bc[2][Cc[2]+0].value)>>>0,Bx==0&&256>bc[0][Cc[0]+0].value&&(Ii.Qb=1,Ii.qb+=bc[0][Cc[0]+0].value<<8)),Ii.jc=!Ii.Qb&&6>bx,Ii.jc){var Df,MA=Ii;for(Df=0;Df<bn;++Df){var za=Df,Ga=MA.pd[za],Rf=MA.G[0][MA.H[0]+za];256<=Rf.value?(Ga.g=Rf.g+256,Ga.value=Rf.value):(Ga.g=0,Ga.value=0,za>>=Pr(Rf,8,Ga),za>>=Pr(MA.G[1][MA.H[1]+za],16,Ga),za>>=Pr(MA.G[2][MA.H[2]+za],0,Ga),Pr(MA.G[3][MA.H[3]+za],24,Ga))}}}dn.vc=Cn,dn.Wb=as,dn.Ya=Ff,dn.yc=S0,ur=1;break t}ur=0}if(!(O=ur)){S.a=3;break e}if(0<Ne){if(ne.ua=1<<Ne,!ke(ne.Wa,Ne)){S.a=1,O=0;break e}}else ne.ua=0;var L0=S,Qx=K,HF=q,j0=L0.s,P0=j0.xc;if(L0.c=Qx,L0.i=HF,j0.md=ae(Qx,P0),j0.wc=P0==0?-1:(1<<P0)-1,x){S.xb=vF;break e}if((fe=i(K*q))==null){S.a=1,O=0;break e}O=(O=rs(S,fe,0,K,q,q,null))&&!J.h;break e}return O?(R!=null?R[0]=fe:(e(fe==null),e(x)),S.$=0,x||ns(ne)):ns(ne),O}function Wi(u,m){var x=u.c*u.i,S=x+m+16*m;return e(u.c<=m),u.V=i(S),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+x+m,1)}function $i(u,m){var x=u.C,S=m-x,R=u.V,O=u.Ba+u.c*x;for(e(m<=u.l.o);0<S;){var K=16<S?16:S,q=u.l.ma,J=u.l.width,ne=J*K,fe=q.ca,Ne=q.tb+J*x,Se=u.Ta,Ee=u.Ua;Xr(u,K,R,O),Or(Se,Ee,fe,Ne,ne),Pn(q,x,x+K,fe,Ne,J),S-=K,R+=K*u.c,x+=K}e(x==m),u.C=u.Ma=m}function Yi(){this.ub=this.yd=this.td=this.Rb=0}function EA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _A(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function rc(){this.Yb=function(){var u=[];return function m(x,S,R){for(var O=R[S],K=0;K<O&&(x.push(R.length>S+1?[]:0),!(R.length<S+1));K++)m(x[K],S+1,R)}(u,0,[3,11]),u}()}function ya(){this.jb=i(3),this.Wc=a([4,8],rc),this.Xc=a([4,17],rc)}function nc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ji(){this.ld=this.La=this.dd=this.tc=0}function Xi(){this.Na=this.la=0}function vi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function IA(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ji),this.Y=0,this.ya=Array(new IA),this.aa=0,this.l=new NA}function Zo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function sc(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new Yi,this.Kc=new EA,this.ed=new nc,this.Qa=new _A,this.Ic=this.$c=this.Aa=0,this.D=new Yu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,ue),this.ia=0,this.pb=A(4,vi),this.Pa=new ya,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zo),this.Hd=0,this.rb=Array(new Xi),this.sb=0,this.wa=Array(new Ji),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new IA),this.L=this.aa=0,this.gd=a([4,2],Ji),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function NA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function el(){var u=new sc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,od||(od=ic)),u}function vr(u,m,x){return u.a==0&&(u.a=m,u.sc=x,u.cb=0),0}function tl(u,m,x){return 3<=x&&u[m+0]==157&&u[m+1]==1&&u[m+2]==42}function rl(u,m){if(u==null)return 0;if(u.a=0,u.sc="OK",m==null)return vr(u,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,S=m.w,R=m.ha;if(4>R)return vr(u,7,"Truncated header.");var O=x[S+0]|x[S+1]<<8|x[S+2]<<16,K=u.Od;if(K.Rb=!(1&O),K.td=O>>1&7,K.yd=O>>4&1,K.ub=O>>5,3<K.td)return vr(u,3,"Incorrect keyframe parameters.");if(!K.yd)return vr(u,4,"Frame not displayable.");S+=3,R-=3;var q=u.Kc;if(K.Rb){if(7>R)return vr(u,7,"cannot parse picture header");if(!tl(x,S,R))return vr(u,3,"Bad code word");q.c=16383&(x[S+4]<<8|x[S+3]),q.Td=x[S+4]>>6,q.i=16383&(x[S+6]<<8|x[S+5]),q.Ud=x[S+6]>>6,S+=7,R-=7,u.za=q.c+15>>4,u.Ub=q.i+15>>4,m.width=q.c,m.height=q.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,s((O=u.Pa).jb,0,255,O.jb.length),e((O=u.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,s(O.Zb,0,0,O.Zb.length),s(O.Lb,0,0,O.Lb)}if(K.ub>R)return vr(u,7,"bad partition length");xe(O=u.m,x,S,K.ub),S+=K.ub,R-=K.ub,K.Rb&&(q.Ld=ie(O),q.Kd=ie(O)),q=u.Qa;var J,ne=u.Pa;if(e(O!=null),e(q!=null),q.Cb=ie(O),q.Cb){if(q.Bb=ie(O),ie(O)){for(q.Fb=ie(O),J=0;4>J;++J)q.Zb[J]=ie(O)?ye(O,7):0;for(J=0;4>J;++J)q.Lb[J]=ie(O)?ye(O,6):0}if(q.Bb)for(J=0;3>J;++J)ne.jb[J]=ie(O)?ve(O,8):255}else q.Bb=0;if(O.Ka)return vr(u,3,"cannot parse segment header");if((q=u.ed).zd=ie(O),q.Tb=ve(O,6),q.wb=ve(O,3),q.Pc=ie(O),q.Pc&&ie(O)){for(ne=0;4>ne;++ne)ie(O)&&(q.vd[ne]=ye(O,6));for(ne=0;4>ne;++ne)ie(O)&&(q.od[ne]=ye(O,6))}if(u.L=q.Tb==0?0:q.zd?1:2,O.Ka)return vr(u,3,"cannot parse filter header");var fe=R;if(R=J=S,S=J+fe,q=fe,u.Xb=(1<<ve(u.m,2))-1,fe<3*(ne=u.Xb))x=7;else{for(J+=3*ne,q-=3*ne,fe=0;fe<ne;++fe){var Ne=x[R+0]|x[R+1]<<8|x[R+2]<<16;Ne>q&&(Ne=q),xe(u.Jc[+fe],x,J,Ne),J+=Ne,q-=Ne,R+=3}xe(u.Jc[+ne],x,J,q),x=J<S?0:5}if(x!=0)return vr(u,x,"cannot parse partitions");for(x=ve(J=u.m,7),R=ie(J)?ye(J,4):0,S=ie(J)?ye(J,4):0,q=ie(J)?ye(J,4):0,ne=ie(J)?ye(J,4):0,J=ie(J)?ye(J,4):0,fe=u.Qa,Ne=0;4>Ne;++Ne){if(fe.Cb){var Se=fe.Zb[Ne];fe.Fb||(Se+=x)}else{if(0<Ne){u.pb[Ne]=u.pb[0];continue}Se=x}var Ee=u.pb[Ne];Ee.Sc[0]=_0[Xt(Se+R,127)],Ee.Sc[1]=I0[Xt(Se+0,127)],Ee.Eb[0]=2*_0[Xt(Se+S,127)],Ee.Eb[1]=101581*I0[Xt(Se+q,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=_0[Xt(Se+ne,117)],Ee.Qc[1]=I0[Xt(Se+J,127)],Ee.lc=Se+J}if(!K.Rb)return vr(u,4,"Not a key frame.");for(ie(O),K=u.Pa,x=0;4>x;++x){for(R=0;8>R;++R)for(S=0;3>S;++S)for(q=0;11>q;++q)ne=oe(O,pF[x][R][S][q])?ve(O,8):fF[x][R][S][q],K.Wc[x][R].Yb[S][q]=ne;for(R=0;17>R;++R)K.Xc[x][R]=K.Wc[x][gF[R]]}return u.kc=ie(O),u.kc&&(u.Bd=ve(O,8)),u.cb=1}function ic(u,m,x,S,R,O,K){var q=m[R].Yb[x];for(x=0;16>R;++R){if(!oe(u,q[x+0]))return R;for(;!oe(u,q[x+1]);)if(q=m[++R].Yb[0],x=0,R==16)return 16;var J=m[R+1].Yb;if(oe(u,q[x+2])){var ne=u,fe=0;if(oe(ne,(Se=q)[(Ne=x)+3]))if(oe(ne,Se[Ne+6])){for(q=0,Ne=2*(fe=oe(ne,Se[Ne+8]))+(Se=oe(ne,Se[Ne+9+fe])),fe=0,Se=dF[Ne];Se[q];++q)fe+=fe+oe(ne,Se[q]);fe+=3+(8<<Ne)}else oe(ne,Se[Ne+7])?(fe=7+2*oe(ne,165),fe+=oe(ne,145)):fe=5+oe(ne,159);else fe=oe(ne,Se[Ne+4])?3+oe(ne,Se[Ne+5]):2;q=J[2]}else fe=1,q=J[1];J=K+hF[R],0>(ne=u).b&&ee(ne);var Ne,Se=ne.b,Ee=(Ne=ne.Ca>>1)-(ne.I>>Se)>>31;--ne.b,ne.Ca+=Ee,ne.Ca|=1,ne.I-=(Ne+1&Ee)<<Se,O[J]=((fe^Ee)-Ee)*S[(0<R)+0]}return 16}function nl(u){var m=u.rb[u.sb-1];m.la=0,m.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function Ac(u,m){if(u==null)return 0;if(m==null)return vr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!rl(u,m))return 0;if(e(u.cb),m.ac==null||m.ac(m)){m.ob&&(u.L=0);var x=Sf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=m.v-x>>4,u.zb=m.j-x>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=m.o+15+x>>4,u.Hb=m.va+15+x>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var S=u.ed;for(x=0;4>x;++x){var R;if(u.Qa.Cb){var O=u.Qa.Lb[x];u.Qa.Fb||(O+=S.Tb)}else O=S.Tb;for(R=0;1>=R;++R){var K=u.gd[x][R],q=O;if(S.Pc&&(q+=S.vd[0],R&&(q+=S.od[0])),0<(q=0>q?0:63<q?63:q)){var J=q;0<S.wb&&(J=4<S.wb?J>>2:J>>1)>9-S.wb&&(J=9-S.wb),1>J&&(J=1),K.dd=J,K.tc=2*q+J,K.ld=40<=q?2:15<=q?1:0}else K.tc=0;K.La=R}}}x=0}else vr(u,6,"Frame setup failed"),x=u.a;if(x=x==0){if(x){u.$c=0,0<u.Aa||(u.Ic=FF);e:{x=u.Ic,S=4*(J=u.za);var ne=32*J,fe=J+1,Ne=0<u.L?J*(0<u.Aa?2:1):0,Se=(u.Aa==2?2:1)*J;if((K=S+832+(R=3*(16*x+Sf[u.L])/2*ne)+(O=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=K)x=0;else{if(K>u.Vb){if(u.Vb=0,u.Ec=i(K),u.Fc=0,u.Ec==null){x=vr(u,1,"no memory during frame initialization.");break e}u.Vb=K}K=u.Ec,q=u.Fc,u.Ac=K,u.Bc=q,q+=S,u.Gd=A(ne,Zo),u.Hd=0,u.rb=A(fe+1,Xi),u.sb=1,u.wa=Ne?A(Ne,Ji):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=J),e(!0),u.oc=K,u.pc=q,q+=832,u.ya=A(Se,IA),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=J),u.R=16*J,u.B=8*J,J=(ne=Sf[u.L])*u.R,ne=ne/2*u.B,u.sa=K,u.ta=q+J,u.qa=u.sa,u.ra=u.ta+16*x*u.R+ne,u.Ha=u.qa,u.Ia=u.ra+8*x*u.B+ne,u.$c=0,q+=R,u.mb=O?K:null,u.nb=O?q:null,e(q+O<=u.Fc+u.Vb),nl(u),s(u.Ac,u.Bc,0,S),x=1}}if(x){if(m.ka=0,m.y=u.sa,m.O=u.ta,m.f=u.qa,m.N=u.ra,m.ea=u.Ha,m.Vd=u.Ia,m.fa=u.R,m.Rc=u.B,m.F=null,m.J=0,!wf){for(x=-255;255>=x;++x)on[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)RA[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)ad[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)xc[255+x]=0>x?0:255<x?255:x;wf=1}vc=kA,DA=xa,sd=sl,As=tr,Zs=FA,Rr=SA,yc=Na,yf=bi,id=Fa,fl=dl,ml=Sa,Da=UA,pl=ka,wc=rA,gl=TA,Ra=js,Ad=an,ei=uc,_i[0]=Js,_i[1]=Ju,_i[2]=eA,_i[3]=Zu,_i[4]=lc,_i[5]=Ca,_i[6]=Qs,_i[7]=Al,_i[8]=_a,_i[9]=Ea,Oa[0]=Zi,Oa[1]=Xu,Oa[2]=wi,Oa[3]=Ba,Oa[4]=yr,Oa[5]=oc,Oa[6]=il,OA[0]=Bi,OA[1]=ac,OA[2]=cc,OA[3]=xi,OA[4]=Jt,OA[5]=al,OA[6]=ol,x=1}else x=0}x&&(x=function(Ee,Pe){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var Ue,pe=Ee.Jc[Ee.M&Ee.Xb],we=Ee.m,Le=Ee;for(Ue=0;Ue<Le.za;++Ue){var Re=we,je=Le,rt=je.Ac,$e=je.Bc+4*Ue,mt=je.zc,Xe=je.ya[je.aa+Ue];if(je.Qa.Bb?Xe.$b=oe(Re,je.Pa.jb[0])?2+oe(Re,je.Pa.jb[2]):oe(Re,je.Pa.jb[1]):Xe.$b=0,je.kc&&(Xe.Ad=oe(Re,je.Bd)),Xe.Za=!oe(Re,145)+0,Xe.Za){var Yt=Xe.Ob,rr=0;for(je=0;4>je;++je){var Gt,Rt=mt[0+je];for(Gt=0;4>Gt;++Gt){Rt=mF[rt[$e+Gt]][Rt];for(var ur=cx[oe(Re,Rt[0])];0<ur;)ur=cx[2*ur+oe(Re,Rt[ur])];Rt=-ur,rt[$e+Gt]=Rt}n(Yt,rr,rt,$e,4),rr+=4,mt[0+je]=Rt}}else Rt=oe(Re,156)?oe(Re,128)?1:3:oe(Re,163)?2:0,Xe.Ob[0]=Rt,s(rt,$e,Rt,4),s(mt,0,Rt,4);Xe.Dd=oe(Re,142)?oe(Re,114)?oe(Re,183)?1:3:2:0}if(Le.m.Ka)return vr(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(Le=pe,Re=(we=Ee).rb[we.sb-1],rt=we.rb[we.sb+we.ja],Ue=we.ya[we.aa+we.ja],$e=we.kc?Ue.Ad:0)Re.la=rt.la=0,Ue.Za||(Re.Na=rt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var ar,kt;if(Re=rt,rt=Le,$e=we.Pa.Xc,mt=we.ya[we.aa+we.ja],Xe=we.pb[mt.$b],je=mt.ad,Yt=0,rr=we.rb[we.sb-1],Rt=Gt=0,s(je,Yt,0,384),mt.Za)var Zr=0,vs=$e[3];else{ur=i(16);var en=Re.Na+rr.Na;if(en=od(rt,$e[1],en,Xe.Eb,0,ur,0),Re.Na=rr.Na=(0<en)+0,1<en)vc(ur,0,je,Yt);else{var ys=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)je[Yt+ur]=ys}Zr=1,vs=$e[0]}var nr=15&Re.la,Ds=15&rr.la;for(ur=0;4>ur;++ur){var Rs=1&Ds;for(ys=kt=0;4>ys;++ys)nr=nr>>1|(Rs=(en=od(rt,vs,en=Rs+(1&nr),Xe.Sc,Zr,je,Yt))>Zr)<<7,kt=kt<<2|(3<en?3:1<en?2:je[Yt+0]!=0),Yt+=16;nr>>=4,Ds=Ds>>1|Rs<<7,Gt=(Gt<<8|kt)>>>0}for(vs=nr,Zr=Ds>>4,ar=0;4>ar;ar+=2){for(kt=0,nr=Re.la>>4+ar,Ds=rr.la>>4+ar,ur=0;2>ur;++ur){for(Rs=1&Ds,ys=0;2>ys;++ys)en=Rs+(1&nr),nr=nr>>1|(Rs=0<(en=od(rt,$e[2],en,Xe.Qc,0,je,Yt)))<<3,kt=kt<<2|(3<en?3:1<en?2:je[Yt+0]!=0),Yt+=16;nr>>=2,Ds=Ds>>1|Rs<<5}Rt|=kt<<4*ar,vs|=nr<<4<<ar,Zr|=(240&Ds)<<ar}Re.la=vs,rr.la=Zr,mt.Hc=Gt,mt.Gc=Rt,mt.ia=43690&Rt?0:Xe.ia,$e=!(Gt|Rt)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[Ue.$b][Ue.Za],we.wa[we.Y+we.ja].La|=!$e),Le.Ka)return vr(Ee,7,"Premature end-of-file encountered.")}if(nl(Ee),we=Pe,Le=1,Ue=(pe=Ee).D,Re=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(Ue.M=pe.M,Ue.uc=Re,sA(pe,Ue),Le=1,Ue=(kt=pe.D).Nb,Re=(Rt=Sf[pe.L])*pe.R,rt=Rt/2*pe.B,ur=16*Ue*pe.R,ys=8*Ue*pe.B,$e=pe.sa,mt=pe.ta-Re+ur,Xe=pe.qa,je=pe.ra-rt+ys,Yt=pe.Ha,rr=pe.Ia-rt+ys,Ds=(nr=kt.M)==0,Gt=nr>=pe.Va-1,pe.Aa==2&&sA(pe,kt),kt.uc)for(Rs=(en=pe).D.M,e(en.D.uc),kt=en.yb;kt<en.Hb;++kt){Zr=kt,vs=Rs;var dn=(Cn=(Ur=en).D).Nb;ar=Ur.R;var Cn=Cn.wa[Cn.Y+Zr],as=Ur.sa,si=Ur.ta+16*dn*ar+16*Zr,AA=Cn.dd,hn=Cn.tc;if(hn!=0)if(e(3<=hn),Ur.L==1)0<Zr&&Ra(as,si,ar,hn+4),Cn.La&&ei(as,si,ar,hn),0<vs&&gl(as,si,ar,hn+4),Cn.La&&Ad(as,si,ar,hn);else{var HA=Ur.B,vl=Ur.qa,Bc=Ur.ra+8*dn*HA+8*Zr,Ma=Ur.Ha,Ur=Ur.Ia+8*dn*HA+8*Zr;dn=Cn.ld,0<Zr&&(yf(as,si,ar,hn+4,AA,dn),fl(vl,Bc,Ma,Ur,HA,hn+4,AA,dn)),Cn.La&&(Da(as,si,ar,hn,AA,dn),wc(vl,Bc,Ma,Ur,HA,hn,AA,dn)),0<vs&&(yc(as,si,ar,hn+4,AA,dn),id(vl,Bc,Ma,Ur,HA,hn+4,AA,dn)),Cn.La&&(ml(as,si,ar,hn,AA,dn),pl(vl,Bc,Ma,Ur,HA,hn,AA,dn))}}if(pe.ia&&alert("todo:DitherRow"),we.put!=null){if(kt=16*nr,nr=16*(nr+1),Ds?(we.y=pe.sa,we.O=pe.ta+ur,we.f=pe.qa,we.N=pe.ra+ys,we.ea=pe.Ha,we.W=pe.Ia+ys):(kt-=Rt,we.y=$e,we.O=mt,we.f=Xe,we.N=je,we.ea=Yt,we.W=rr),Gt||(nr-=Rt),nr>we.o&&(nr=we.o),we.F=null,we.J=null,pe.Fa!=null&&0<pe.Fa.length&&kt<nr&&(we.J=La(pe,we,kt,nr-kt),we.F=pe.mb,we.F==null&&we.F.length==0)){Le=vr(pe,3,"Could not decode alpha data.");break e}kt<we.j&&(Rt=we.j-kt,kt=we.j,e(!(1&Rt)),we.O+=pe.R*Rt,we.N+=pe.B*(Rt>>1),we.W+=pe.B*(Rt>>1),we.F!=null&&(we.J+=we.width*Rt)),kt<nr&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=kt-we.j,we.U=we.va-we.v,we.T=nr-kt,Le=we.put(we))}Ue+1!=pe.Ic||Gt||(n(pe.sa,pe.ta-Re,$e,mt+16*pe.R,Re),n(pe.qa,pe.ra-rt,Xe,je+8*pe.B,rt),n(pe.Ha,pe.Ia-rt,Yt,rr+8*pe.B,rt))}if(!Le)return vr(Ee,6,"Output aborted.")}return 1}(u,m)),m.bc!=null&&m.bc(m),x&=1}return x?(u.cb=0,x):0}function ms(u,m,x,S,R){R=u[m+x+32*S]+(R>>3),u[m+x+32*S]=-256&R?0>R?0:255:R}function wa(u,m,x,S,R,O){ms(u,m,0,x,S+R),ms(u,m,1,x,S+O),ms(u,m,2,x,S-O),ms(u,m,3,x,S-R)}function Tr(u){return(20091*u>>16)+u}function ss(u,m,x,S){var R,O=0,K=i(16);for(R=0;4>R;++R){var q=u[m+0]+u[m+8],J=u[m+0]-u[m+8],ne=(35468*u[m+4]>>16)-Tr(u[m+12]),fe=Tr(u[m+4])+(35468*u[m+12]>>16);K[O+0]=q+fe,K[O+1]=J+ne,K[O+2]=J-ne,K[O+3]=q-fe,O+=4,m++}for(R=O=0;4>R;++R)q=(u=K[O+0]+4)+K[O+8],J=u-K[O+8],ne=(35468*K[O+4]>>16)-Tr(K[O+12]),ms(x,S,0,0,q+(fe=Tr(K[O+4])+(35468*K[O+12]>>16))),ms(x,S,1,0,J+ne),ms(x,S,2,0,J-ne),ms(x,S,3,0,q-fe),O++,S+=32}function SA(u,m,x,S){var R=u[m+0]+4,O=35468*u[m+4]>>16,K=Tr(u[m+4]),q=35468*u[m+1]>>16;wa(x,S,0,R+K,u=Tr(u[m+1]),q),wa(x,S,1,R+O,u,q),wa(x,S,2,R-O,u,q),wa(x,S,3,R-K,u,q)}function xa(u,m,x,S,R){ss(u,m,x,S),R&&ss(u,m+16,x,S+4)}function sl(u,m,x,S){DA(u,m+0,x,S,1),DA(u,m+32,x,S+128,1)}function tr(u,m,x,S){var R;for(u=u[m+0]+4,R=0;4>R;++R)for(m=0;4>m;++m)ms(x,S,m,R,u)}function FA(u,m,x,S){u[m+0]&&As(u,m+0,x,S),u[m+16]&&As(u,m+16,x,S+4),u[m+32]&&As(u,m+32,x,S+128),u[m+48]&&As(u,m+48,x,S+128+4)}function kA(u,m,x,S){var R,O=i(16);for(R=0;4>R;++R){var K=u[m+0+R]+u[m+12+R],q=u[m+4+R]+u[m+8+R],J=u[m+4+R]-u[m+8+R],ne=u[m+0+R]-u[m+12+R];O[0+R]=K+q,O[8+R]=K-q,O[4+R]=ne+J,O[12+R]=ne-J}for(R=0;4>R;++R)K=(u=O[0+4*R]+3)+O[3+4*R],q=O[1+4*R]+O[2+4*R],J=O[1+4*R]-O[2+4*R],ne=u-O[3+4*R],x[S+0]=K+q>>3,x[S+16]=ne+J>>3,x[S+32]=K-q>>3,x[S+48]=ne-J>>3,S+=64}function yi(u,m,x){var S,R=m-32,O=Ps,K=255-u[R-1];for(S=0;S<x;++S){var q,J=O,ne=K+u[m-1];for(q=0;q<x;++q)u[m+q]=J[ne+u[R+q]];m+=32}}function Ju(u,m){yi(u,m,4)}function ac(u,m){yi(u,m,8)}function Xu(u,m){yi(u,m,16)}function wi(u,m){var x;for(x=0;16>x;++x)n(u,m+32*x,u,m-32,16)}function Ba(u,m){var x;for(x=16;0<x;--x)s(u,m,u[m-1],16),m+=32}function ba(u,m,x){var S;for(S=0;16>S;++S)s(m,x+32*S,u,16)}function Zi(u,m){var x,S=16;for(x=0;16>x;++x)S+=u[m-1+32*x]+u[m+x-32];ba(S>>5,u,m)}function yr(u,m){var x,S=8;for(x=0;16>x;++x)S+=u[m-1+32*x];ba(S>>4,u,m)}function oc(u,m){var x,S=8;for(x=0;16>x;++x)S+=u[m+x-32];ba(S>>4,u,m)}function il(u,m){ba(128,u,m)}function yt(u,m,x){return u+2*m+x+2>>2}function eA(u,m){var x,S=m-32;for(S=new Uint8Array([yt(u[S-1],u[S+0],u[S+1]),yt(u[S+0],u[S+1],u[S+2]),yt(u[S+1],u[S+2],u[S+3]),yt(u[S+2],u[S+3],u[S+4])]),x=0;4>x;++x)n(u,m+32*x,S,0,S.length)}function Zu(u,m){var x=u[m-1],S=u[m-1+32],R=u[m-1+64],O=u[m-1+96];G(u,m+0,16843009*yt(u[m-1-32],x,S)),G(u,m+32,16843009*yt(x,S,R)),G(u,m+64,16843009*yt(S,R,O)),G(u,m+96,16843009*yt(R,O,O))}function Js(u,m){var x,S=4;for(x=0;4>x;++x)S+=u[m+x-32]+u[m-1+32*x];for(S>>=3,x=0;4>x;++x)s(u,m+32*x,S,4)}function lc(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1-32],K=u[m+0-32],q=u[m+1-32],J=u[m+2-32],ne=u[m+3-32];u[m+0+96]=yt(S,R,u[m-1+96]),u[m+1+96]=u[m+0+64]=yt(x,S,R),u[m+2+96]=u[m+1+64]=u[m+0+32]=yt(O,x,S),u[m+3+96]=u[m+2+64]=u[m+1+32]=u[m+0+0]=yt(K,O,x),u[m+3+64]=u[m+2+32]=u[m+1+0]=yt(q,K,O),u[m+3+32]=u[m+2+0]=yt(J,q,K),u[m+3+0]=yt(ne,J,q)}function Qs(u,m){var x=u[m+1-32],S=u[m+2-32],R=u[m+3-32],O=u[m+4-32],K=u[m+5-32],q=u[m+6-32],J=u[m+7-32];u[m+0+0]=yt(u[m+0-32],x,S),u[m+1+0]=u[m+0+32]=yt(x,S,R),u[m+2+0]=u[m+1+32]=u[m+0+64]=yt(S,R,O),u[m+3+0]=u[m+2+32]=u[m+1+64]=u[m+0+96]=yt(R,O,K),u[m+3+32]=u[m+2+64]=u[m+1+96]=yt(O,K,q),u[m+3+64]=u[m+2+96]=yt(K,q,J),u[m+3+96]=yt(q,J,J)}function Ca(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1-32],K=u[m+0-32],q=u[m+1-32],J=u[m+2-32],ne=u[m+3-32];u[m+0+0]=u[m+1+64]=O+K+1>>1,u[m+1+0]=u[m+2+64]=K+q+1>>1,u[m+2+0]=u[m+3+64]=q+J+1>>1,u[m+3+0]=J+ne+1>>1,u[m+0+96]=yt(R,S,x),u[m+0+64]=yt(S,x,O),u[m+0+32]=u[m+1+96]=yt(x,O,K),u[m+1+32]=u[m+2+96]=yt(O,K,q),u[m+2+32]=u[m+3+96]=yt(K,q,J),u[m+3+32]=yt(q,J,ne)}function Al(u,m){var x=u[m+0-32],S=u[m+1-32],R=u[m+2-32],O=u[m+3-32],K=u[m+4-32],q=u[m+5-32],J=u[m+6-32],ne=u[m+7-32];u[m+0+0]=x+S+1>>1,u[m+1+0]=u[m+0+64]=S+R+1>>1,u[m+2+0]=u[m+1+64]=R+O+1>>1,u[m+3+0]=u[m+2+64]=O+K+1>>1,u[m+0+32]=yt(x,S,R),u[m+1+32]=u[m+0+96]=yt(S,R,O),u[m+2+32]=u[m+1+96]=yt(R,O,K),u[m+3+32]=u[m+2+96]=yt(O,K,q),u[m+3+64]=yt(K,q,J),u[m+3+96]=yt(q,J,ne)}function Ea(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1+96];u[m+0+0]=x+S+1>>1,u[m+2+0]=u[m+0+32]=S+R+1>>1,u[m+2+32]=u[m+0+64]=R+O+1>>1,u[m+1+0]=yt(x,S,R),u[m+3+0]=u[m+1+32]=yt(S,R,O),u[m+3+32]=u[m+1+64]=yt(R,O,O),u[m+3+64]=u[m+2+64]=u[m+0+96]=u[m+1+96]=u[m+2+96]=u[m+3+96]=O}function _a(u,m){var x=u[m-1+0],S=u[m-1+32],R=u[m-1+64],O=u[m-1+96],K=u[m-1-32],q=u[m+0-32],J=u[m+1-32],ne=u[m+2-32];u[m+0+0]=u[m+2+32]=x+K+1>>1,u[m+0+32]=u[m+2+64]=S+x+1>>1,u[m+0+64]=u[m+2+96]=R+S+1>>1,u[m+0+96]=O+R+1>>1,u[m+3+0]=yt(q,J,ne),u[m+2+0]=yt(K,q,J),u[m+1+0]=u[m+3+32]=yt(x,K,q),u[m+1+32]=u[m+3+64]=yt(S,x,K),u[m+1+64]=u[m+3+96]=yt(R,S,x),u[m+1+96]=yt(O,R,S)}function cc(u,m){var x;for(x=0;8>x;++x)n(u,m+32*x,u,m-32,8)}function xi(u,m){var x;for(x=0;8>x;++x)s(u,m,u[m-1],8),m+=32}function Ls(u,m,x){var S;for(S=0;8>S;++S)s(m,x+32*S,u,8)}function Bi(u,m){var x,S=8;for(x=0;8>x;++x)S+=u[m+x-32]+u[m-1+32*x];Ls(S>>4,u,m)}function al(u,m){var x,S=4;for(x=0;8>x;++x)S+=u[m+x-32];Ls(S>>3,u,m)}function Jt(u,m){var x,S=4;for(x=0;8>x;++x)S+=u[m-1+32*x];Ls(S>>3,u,m)}function ol(u,m){Ls(128,u,m)}function Ia(u,m,x){var S=u[m-x],R=u[m+0],O=3*(R-S)+x0[1020+u[m-2*x]-u[m+x]],K=xf[112+(O+4>>3)];u[m-x]=Ps[255+S+xf[112+(O+3>>3)]],u[m+0]=Ps[255+R-K]}function ll(u,m,x,S){var R=u[m+0],O=u[m+x];return ri[255+u[m-2*x]-u[m-x]]>S||ri[255+O-R]>S}function cl(u,m,x,S){return 4*ri[255+u[m-x]-u[m+0]]+ri[255+u[m-2*x]-u[m+x]]<=S}function ul(u,m,x,S,R){var O=u[m-3*x],K=u[m-2*x],q=u[m-x],J=u[m+0],ne=u[m+x],fe=u[m+2*x],Ne=u[m+3*x];return 4*ri[255+q-J]+ri[255+K-ne]>S?0:ri[255+u[m-4*x]-O]<=R&&ri[255+O-K]<=R&&ri[255+K-q]<=R&&ri[255+Ne-fe]<=R&&ri[255+fe-ne]<=R&&ri[255+ne-J]<=R}function TA(u,m,x,S){var R=2*S+1;for(S=0;16>S;++S)cl(u,m+S,x,R)&&Ia(u,m+S,x)}function js(u,m,x,S){var R=2*S+1;for(S=0;16>S;++S)cl(u,m+S*x,1,R)&&Ia(u,m+S*x,1)}function an(u,m,x,S){var R;for(R=3;0<R;--R)TA(u,m+=4*x,x,S)}function uc(u,m,x,S){var R;for(R=3;0<R;--R)js(u,m+=4,x,S)}function tA(u,m,x,S,R,O,K,q){for(O=2*O+1;0<R--;){if(ul(u,m,x,O,K))if(ll(u,m,x,q))Ia(u,m,x);else{var J=u,ne=m,fe=x,Ne=J[ne-2*fe],Se=J[ne-fe],Ee=J[ne+0],Pe=J[ne+fe],Ue=J[ne+2*fe],pe=27*(Le=x0[1020+3*(Ee-Se)+x0[1020+Ne-Pe]])+63>>7,we=18*Le+63>>7,Le=9*Le+63>>7;J[ne-3*fe]=Ps[255+J[ne-3*fe]+Le],J[ne-2*fe]=Ps[255+Ne+we],J[ne-fe]=Ps[255+Se+pe],J[ne+0]=Ps[255+Ee-pe],J[ne+fe]=Ps[255+Pe-we],J[ne+2*fe]=Ps[255+Ue-Le]}m+=S}}function xn(u,m,x,S,R,O,K,q){for(O=2*O+1;0<R--;){if(ul(u,m,x,O,K))if(ll(u,m,x,q))Ia(u,m,x);else{var J=u,ne=m,fe=x,Ne=J[ne-fe],Se=J[ne+0],Ee=J[ne+fe],Pe=xf[112+((Ue=3*(Se-Ne))+4>>3)],Ue=xf[112+(Ue+3>>3)],pe=Pe+1>>1;J[ne-2*fe]=Ps[255+J[ne-2*fe]+pe],J[ne-fe]=Ps[255+Ne+Ue],J[ne+0]=Ps[255+Se-Pe],J[ne+fe]=Ps[255+Ee-pe]}m+=S}}function Na(u,m,x,S,R,O){tA(u,m,x,1,16,S,R,O)}function bi(u,m,x,S,R,O){tA(u,m,1,x,16,S,R,O)}function Sa(u,m,x,S,R,O){var K;for(K=3;0<K;--K)xn(u,m+=4*x,x,1,16,S,R,O)}function UA(u,m,x,S,R,O){var K;for(K=3;0<K;--K)xn(u,m+=4,1,x,16,S,R,O)}function Fa(u,m,x,S,R,O,K,q){tA(u,m,R,1,8,O,K,q),tA(x,S,R,1,8,O,K,q)}function dl(u,m,x,S,R,O,K,q){tA(u,m,1,R,8,O,K,q),tA(x,S,1,R,8,O,K,q)}function ka(u,m,x,S,R,O,K,q){xn(u,m+4*R,R,1,8,O,K,q),xn(x,S+4*R,R,1,8,O,K,q)}function rA(u,m,x,S,R,O,K,q){xn(u,m+4,1,R,8,O,K,q),xn(x,S+4,1,R,8,O,K,q)}function QA(){this.ba=new We,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ta(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function LA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ua(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new Q}function dc(){this.xb=this.a=0,this.l=new NA,this.ca=new We,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ua,this.ab=0,this.gc=A(4,LA),this.Oc=0}function Ci(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new NA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nA(u,m,x,S,R,O,K){for(u=u==null?0:u[m+0],m=0;m<K;++m)R[O+m]=u+x[S+m]&255,u=R[O+m]}function Qa(u,m,x,S,R,O,K){var q;if(u==null)nA(null,null,x,S,R,O,K);else for(q=0;q<K;++q)R[O+q]=u[m+q]+x[S+q]&255}function Dn(u,m,x,S,R,O,K){if(u==null)nA(null,null,x,S,R,O,K);else{var q,J=u[m+0],ne=J,fe=J;for(q=0;q<K;++q)ne=fe+(J=u[m+q])-ne,fe=x[S+q]+(-256&ne?0>ne?0:255:ne)&255,ne=J,R[O+q]=fe}}function La(u,m,x,S){var R=m.width,O=m.o;if(e(u!=null&&m!=null),0>x||0>=S||x+S>O)return null;if(!u.Cc){if(u.ga==null){var K;if(u.ga=new Ci,(K=u.ga==null)||(K=m.width*m.o,e(u.Gb.length==0),u.Gb=i(K),u.Uc=0,u.Gb==null?K=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,K=1),K=!K),!K){K=u.ga;var q=u.Fa,J=u.P,ne=u.qc,fe=u.mb,Ne=u.nb,Se=J+1,Ee=ne-1,Pe=K.l;if(e(q!=null&&fe!=null&&m!=null),Ha[0]=null,Ha[1]=nA,Ha[2]=Qa,Ha[3]=Dn,K.ca=fe,K.tb=Ne,K.c=m.width,K.i=m.height,e(0<K.c&&0<K.i),1>=ne)m=0;else if(K.$a=q[J+0]>>0&3,K.Z=q[J+0]>>2&3,K.Lc=q[J+0]>>4&3,J=q[J+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||J)m=0;else if(Pe.put=_r,Pe.ac=lr,Pe.bc=Ln,Pe.ma=K,Pe.width=m.width,Pe.height=m.height,Pe.Da=m.Da,Pe.v=m.v,Pe.va=m.va,Pe.j=m.j,Pe.o=m.o,K.$a)e:{e(K.$a==1),m=Dr();t:for(;;){if(m==null){m=0;break e}if(e(K!=null),K.mc=m,m.c=K.c,m.i=K.i,m.l=K.l,m.l.ma=K,m.l.width=K.c,m.l.height=K.i,m.a=0,V(m.m,q,Se,Ee),!Us(K.c,K.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&gi(m.s)?(K.ic=1,q=m.c*m.i,m.Ta=null,m.Ua=0,m.V=i(q),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(K.ic=0,m=Wi(m,K.c)),!m))break t;m=1;break e}K.mc=null,m=0}else m=Ee>=K.c*K.i;K=!m}if(K)return null;u.ga.Lc!=1?u.Ga=0:S=O-x}e(u.ga!=null),e(x+S<=O);e:{if(m=(q=u.ga).c,O=q.l.o,q.$a==0){if(Se=u.rc,Ee=u.Vc,Pe=u.Fa,J=u.P+1+x*m,ne=u.mb,fe=u.nb+x*m,e(J<=u.P+u.qc),q.Z!=0)for(e(Ha[q.Z]!=null),K=0;K<S;++K)Ha[q.Z](Se,Ee,Pe,J,ne,fe,m),Se=ne,Ee=fe,fe+=m,J+=m;else for(K=0;K<S;++K)n(ne,fe,Pe,J,m),Se=ne,Ee=fe,fe+=m,J+=m;u.rc=Se,u.Vc=Ee}else{if(e(q.mc!=null),m=x+S,e((K=q.mc)!=null),e(m<=K.i),K.C>=m)m=1;else if(q.ic||Ce(),q.ic){q=K.V,Se=K.Ba,Ee=K.c;var Ue=K.i,pe=(Pe=1,J=K.$/Ee,ne=K.$%Ee,fe=K.m,Ne=K.s,K.$),we=Ee*Ue,Le=Ee*m,Re=Ne.wc,je=pe<Le?kr(Ne,ne,J):null;e(pe<=we),e(m<=Ue),e(gi(Ne));t:for(;;){for(;!fe.h&&pe<Le;){if(ne&Re||(je=kr(Ne,ne,J)),e(je!=null),X(fe),256>(Ue=Jr(je.G[0],je.H[0],fe)))q[Se+pe]=Ue,++pe,++ne>=Ee&&(ne=0,++J<=m&&!(J%16)&&fs(K,J));else{if(!(280>Ue)){Pe=0;break t}Ue=hs(Ue-256,fe);var rt,$e=Jr(je.G[4],je.H[4],fe);if(X(fe),!(pe>=($e=jn(Ee,$e=hs($e,fe)))&&we-pe>=Ue)){Pe=0;break t}for(rt=0;rt<Ue;++rt)q[Se+pe+rt]=q[Se+pe+rt-$e];for(pe+=Ue,ne+=Ue;ne>=Ee;)ne-=Ee,++J<=m&&!(J%16)&&fs(K,J);pe<Le&&ne&Re&&(je=kr(Ne,ne,J))}e(fe.h==$(fe))}fs(K,J>m?m:J);break t}!Pe||fe.h&&pe<we?(Pe=0,K.a=fe.h?5:3):K.$=pe,m=Pe}else m=rs(K,K.V,K.Ba,K.c,K.i,m,$i);if(!m){S=0;break e}}x+S>=O&&(u.Cc=1),S=1}if(!S)return null;if(u.Cc&&((S=u.ga)!=null&&(S.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+x*R}function v(u,m,x,S,R,O){for(;0<R--;){var K,q=u,J=m+(x?1:0),ne=u,fe=m+(x?0:3);for(K=0;K<S;++K){var Ne=ne[fe+4*K];Ne!=255&&(Ne*=32897,q[J+4*K+0]=q[J+4*K+0]*Ne>>23,q[J+4*K+1]=q[J+4*K+1]*Ne>>23,q[J+4*K+2]=q[J+4*K+2]*Ne>>23)}m+=O}}function D(u,m,x,S,R){for(;0<S--;){var O;for(O=0;O<x;++O){var K=u[m+2*O+0],q=15&(ne=u[m+2*O+1]),J=4369*q,ne=(240&ne|ne>>4)*J>>16;u[m+2*O+0]=(240&K|K>>4)*J>>16&240|(15&K|K<<4)*J>>16>>4&15,u[m+2*O+1]=240&ne|q}m+=R}}function Ae(u,m,x,S,R,O,K,q){var J,ne,fe=255;for(ne=0;ne<R;++ne){for(J=0;J<S;++J){var Ne=u[m+J];O[K+4*J]=Ne,fe&=Ne}m+=x,K+=q}return fe!=255}function de(u,m,x,S,R){var O;for(O=0;O<R;++O)x[S+O]=u[m+O]>>8}function Ce(){ti=v,hr=D,fr=Ae,Or=de}function Qe(u,m,x){b[u]=function(S,R,O,K,q,J,ne,fe,Ne,Se,Ee,Pe,Ue,pe,we,Le,Re){var je,rt=Re-1>>1,$e=q[J+0]|ne[fe+0]<<16,mt=Ne[Se+0]|Ee[Pe+0]<<16;e(S!=null);var Xe=3*$e+mt+131074>>2;for(m(S[R+0],255&Xe,Xe>>16,Ue,pe),O!=null&&(Xe=3*mt+$e+131074>>2,m(O[K+0],255&Xe,Xe>>16,we,Le)),je=1;je<=rt;++je){var Yt=q[J+je]|ne[fe+je]<<16,rr=Ne[Se+je]|Ee[Pe+je]<<16,Gt=$e+Yt+mt+rr+524296,Rt=Gt+2*(Yt+mt)>>3;Xe=Rt+$e>>1,$e=(Gt=Gt+2*($e+rr)>>3)+Yt>>1,m(S[R+2*je-1],255&Xe,Xe>>16,Ue,pe+(2*je-1)*x),m(S[R+2*je-0],255&$e,$e>>16,Ue,pe+(2*je-0)*x),O!=null&&(Xe=Gt+mt>>1,$e=Rt+rr>>1,m(O[K+2*je-1],255&Xe,Xe>>16,we,Le+(2*je-1)*x),m(O[K+2*je+0],255&$e,$e>>16,we,Le+(2*je+0)*x)),$e=Yt,mt=rr}1&Re||(Xe=3*$e+mt+131074>>2,m(S[R+Re-1],255&Xe,Xe>>16,Ue,pe+(Re-1)*x),O!=null&&(Xe=3*mt+$e+131074>>2,m(O[K+Re-1],255&Xe,Xe>>16,we,Le+(Re-1)*x)))}}function Oe(){ni[Bf]=yF,ni[bf]=dx,ni[ax]=wF,ni[Cf]=hx,ni[Ef]=fx,ni[B0]=mx,ni[ox]=xF,ni[b0]=dx,ni[C0]=hx,ni[_f]=fx,ni[E0]=mx}function Ye(u){return u&~BF?0>u?0:255:u>>px}function d(u,m){return Ye((19077*u>>8)+(26149*m>>8)-14234)}function C(u,m,x){return Ye((19077*u>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function U(u,m){return Ye((19077*u>>8)+(33050*m>>8)-17685)}function z(u,m,x,S,R){S[R+0]=d(u,x),S[R+1]=C(u,m,x),S[R+2]=U(u,m)}function Be(u,m,x,S,R){S[R+0]=U(u,m),S[R+1]=C(u,m,x),S[R+2]=d(u,x)}function Fe(u,m,x,S,R){var O=C(u,m,x);m=O<<3&224|U(u,m)>>3,S[R+0]=248&d(u,x)|O>>5,S[R+1]=m}function He(u,m,x,S,R){var O=240&U(u,m)|15;S[R+0]=240&d(u,x)|C(u,m,x)>>4,S[R+1]=O}function Ct(u,m,x,S,R){S[R+0]=255,z(u,m,x,S,R+1)}function Dt(u,m,x,S,R){Be(u,m,x,S,R),S[R+3]=255}function Et(u,m,x,S,R){z(u,m,x,S,R),S[R+3]=255}function Xt(u,m){return 0>u?0:u>m?m:u}function cr(u,m,x){b[u]=function(S,R,O,K,q,J,ne,fe,Ne){for(var Se=fe+(-2&Ne)*x;fe!=Se;)m(S[R+0],O[K+0],q[J+0],ne,fe),m(S[R+1],O[K+0],q[J+0],ne,fe+x),R+=2,++K,++J,fe+=2*x;1&Ne&&m(S[R+0],O[K+0],q[J+0],ne,fe)}}function Ei(u,m,x){return x==0?u==0?m==0?6:5:m==0?4:0:x}function Bn(u,m,x,S,R){switch(u>>>30){case 3:DA(m,x,S,R,0);break;case 2:Rr(m,x,S,R);break;case 1:As(m,x,S,R)}}function sA(u,m){var x,S,R=m.M,O=m.Nb,K=u.oc,q=u.pc+40,J=u.oc,ne=u.pc+584,fe=u.oc,Ne=u.pc+600;for(x=0;16>x;++x)K[q+32*x-1]=129;for(x=0;8>x;++x)J[ne+32*x-1]=129,fe[Ne+32*x-1]=129;for(0<R?K[q-1-32]=J[ne-1-32]=fe[Ne-1-32]=129:(s(K,q-32-1,127,21),s(J,ne-32-1,127,9),s(fe,Ne-32-1,127,9)),S=0;S<u.za;++S){var Se=m.ya[m.aa+S];if(0<S){for(x=-1;16>x;++x)n(K,q+32*x-4,K,q+32*x+12,4);for(x=-1;8>x;++x)n(J,ne+32*x-4,J,ne+32*x+4,4),n(fe,Ne+32*x-4,fe,Ne+32*x+4,4)}var Ee=u.Gd,Pe=u.Hd+S,Ue=Se.ad,pe=Se.Hc;if(0<R&&(n(K,q-32,Ee[Pe].y,0,16),n(J,ne-32,Ee[Pe].f,0,8),n(fe,Ne-32,Ee[Pe].ea,0,8)),Se.Za){var we=K,Le=q-32+16;for(0<R&&(S>=u.za-1?s(we,Le,Ee[Pe].y[15],4):n(we,Le,Ee[Pe+1].y,0,4)),x=0;4>x;x++)we[Le+128+x]=we[Le+256+x]=we[Le+384+x]=we[Le+0+x];for(x=0;16>x;++x,pe<<=2)we=K,Le=q+vx[x],_i[Se.Ob[x]](we,Le),Bn(pe,Ue,16*+x,we,Le)}else if(we=Ei(S,R,Se.Ob[0]),Oa[we](K,q),pe!=0)for(x=0;16>x;++x,pe<<=2)Bn(pe,Ue,16*+x,K,q+vx[x]);for(x=Se.Gc,we=Ei(S,R,Se.Dd),OA[we](J,ne),OA[we](fe,Ne),pe=Ue,we=J,Le=ne,255&(Se=x>>0)&&(170&Se?sd(pe,256,we,Le):Zs(pe,256,we,Le)),Se=fe,pe=Ne,255&(x>>=8)&&(170&x?sd(Ue,320,Se,pe):Zs(Ue,320,Se,pe)),R<u.Ub-1&&(n(Ee[Pe].y,0,K,q+480,16),n(Ee[Pe].f,0,J,ne+224,8),n(Ee[Pe].ea,0,fe,Ne+224,8)),x=8*O*u.B,Ee=u.sa,Pe=u.ta+16*S+16*O*u.R,Ue=u.qa,Se=u.ra+8*S+x,pe=u.Ha,we=u.Ia+8*S+x,x=0;16>x;++x)n(Ee,Pe+x*u.R,K,q+32*x,16);for(x=0;8>x;++x)n(Ue,Se+x*u.B,J,ne+32*x,8),n(pe,we+x*u.B,fe,Ne+32*x,8)}}function iA(u,m,x,S,R,O,K,q,J){var ne=[0],fe=[0],Ne=0,Se=J!=null?J.kd:0,Ee=J??new Ta;if(u==null||12>x)return 7;Ee.data=u,Ee.w=m,Ee.ha=x,m=[m],x=[x],Ee.gb=[Ee.gb];e:{var Pe=m,Ue=x,pe=Ee.gb;if(e(u!=null),e(Ue!=null),e(pe!=null),pe[0]=0,12<=Ue[0]&&!r(u,Pe[0],"RIFF")){if(r(u,Pe[0]+8,"WEBP")){pe=3;break e}var we=_e(u,Pe[0]+4);if(12>we||4294967286<we){pe=3;break e}if(Se&&we>Ue[0]-8){pe=7;break e}pe[0]=we,Pe[0]+=12,Ue[0]-=12}pe=0}if(pe!=0)return pe;for(we=0<Ee.gb[0],x=x[0];;){e:{var Le=u;Ue=m,pe=x;var Re=ne,je=fe,rt=Pe=[0];if((Xe=Ne=[Ne])[0]=0,8>pe[0])pe=7;else{if(!r(Le,Ue[0],"VP8X")){if(_e(Le,Ue[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var $e=_e(Le,Ue[0]+8),mt=1+ge(Le,Ue[0]+12);if(2147483648<=mt*(Le=1+ge(Le,Ue[0]+15))){pe=3;break e}rt!=null&&(rt[0]=$e),Re!=null&&(Re[0]=mt),je!=null&&(je[0]=Le),Ue[0]+=18,pe[0]-=18,Xe[0]=1}pe=0}}if(Ne=Ne[0],Pe=Pe[0],pe!=0)return pe;if(Ue=!!(2&Pe),!we&&Ne)return 3;if(O!=null&&(O[0]=!!(16&Pe)),K!=null&&(K[0]=Ue),q!=null&&(q[0]=0),K=ne[0],Pe=fe[0],Ne&&Ue&&J==null){pe=0;break}if(4>x){pe=7;break}if(we&&Ne||!we&&!Ne&&!r(u,m[0],"ALPH")){x=[x],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{$e=u,pe=m,we=x;var Xe=Ee.gb;Re=Ee.na,je=Ee.P,rt=Ee.Sa,mt=22,e($e!=null),e(we!=null),Le=pe[0];var Yt=we[0];for(e(Re!=null),e(rt!=null),Re[0]=null,je[0]=null,rt[0]=0;;){if(pe[0]=Le,we[0]=Yt,8>Yt){pe=7;break e}var rr=_e($e,Le+4);if(4294967286<rr){pe=3;break e}var Gt=8+rr+1&-2;if(mt+=Gt,0<Xe&&mt>Xe){pe=3;break e}if(!r($e,Le,"VP8 ")||!r($e,Le,"VP8L")){pe=0;break e}if(Yt[0]<Gt){pe=7;break e}r($e,Le,"ALPH")||(Re[0]=$e,je[0]=Le+8,rt[0]=rr),Le+=Gt,Yt-=Gt}}if(x=x[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],pe!=0)break}x=[x],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(Xe=u,pe=m,we=x,Re=Ee.gb[0],je=Ee.Ja,rt=Ee.xa,$e=pe[0],Le=!r(Xe,$e,"VP8 "),mt=!r(Xe,$e,"VP8L"),e(Xe!=null),e(we!=null),e(je!=null),e(rt!=null),8>we[0])pe=7;else{if(Le||mt){if(Xe=_e(Xe,$e+4),12<=Re&&Xe>Re-12){pe=3;break e}if(Se&&Xe>we[0]-8){pe=7;break e}je[0]=Xe,pe[0]+=8,we[0]-=8,rt[0]=mt}else rt[0]=5<=we[0]&&Xe[$e+0]==47&&!(Xe[$e+4]>>5),je[0]=we[0];pe=0}if(x=x[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],m=m[0],pe!=0)break;if(4294967286<Ee.Ja)return 3;if(q==null||Ue||(q[0]=Ee.xa?2:1),K=[K],Pe=[Pe],Ee.xa){if(5>x){pe=7;break}q=K,Se=Pe,Ue=O,u==null||5>x?u=0:5<=x&&u[m+0]==47&&!(u[m+4]>>5)?(we=[0],Xe=[0],Re=[0],V(je=new L,u,m,x),nt(je,we,Xe,Re)?(q!=null&&(q[0]=we[0]),Se!=null&&(Se[0]=Xe[0]),Ue!=null&&(Ue[0]=Re[0]),u=1):u=0):u=0}else{if(10>x){pe=7;break}q=Pe,u==null||10>x||!tl(u,m+3,x-3)?u=0:(Se=u[m+0]|u[m+1]<<8|u[m+2]<<16,Ue=16383&(u[m+7]<<8|u[m+6]),u=16383&(u[m+9]<<8|u[m+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Ee.Ja||!Ue||!u?u=0:(K&&(K[0]=Ue),q&&(q[0]=u),u=1))}if(!u||(K=K[0],Pe=Pe[0],Ne&&(ne[0]!=K||fe[0]!=Pe)))return 3;J!=null&&(J[0]=Ee,J.offset=m-J.w,e(4294967286>m-J.w),e(J.offset==J.ha-x));break}return pe==0||pe==7&&Ne&&J==null?(O!=null&&(O[0]|=Ee.na!=null&&0<Ee.na.length),S!=null&&(S[0]=K),R!=null&&(R[0]=Pe),0):pe}function ed(u,m,x){var S=m.width,R=m.height,O=0,K=0,q=S,J=R;if(m.Da=u!=null&&0<u.Da,m.Da&&(q=u.cd,J=u.bd,O=u.v,K=u.j,11>x||(O&=-2,K&=-2),0>O||0>K||0>=q||0>=J||O+q>S||K+J>R))return 0;if(m.v=O,m.j=K,m.va=O+q,m.o=K+J,m.U=q,m.T=J,m.da=u!=null&&0<u.da,m.da){if(!me(q,J,x=[u.ib],O=[u.hb]))return 0;m.ib=x[0],m.hb=O[0]}return m.ob=u!=null&&u.ob,m.Kb=u==null||!u.Sd,m.da&&(m.ob=m.ib<3*S/4&&m.hb<3*R/4,m.Kb=0),1}function td(u){if(u==null)return 2;if(11>u.S){var m=u.f.RGBA;m.fb+=(u.height-1)*m.A,m.A=-m.A}else m=u.f.kb,u=u.height,m.O+=(u-1)*m.fa,m.fa=-m.fa,m.N+=(u-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(u-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(u-1)*m.lb,m.lb=-m.lb);return 0}function hc(u,m,x,S){if(S==null||0>=u||0>=m)return 2;if(x!=null){if(x.Da){var R=x.cd,O=x.bd,K=-2&x.v,q=-2&x.j;if(0>K||0>q||0>=R||0>=O||K+R>u||q+O>m)return 2;u=R,m=O}if(x.da){if(!me(u,m,R=[x.ib],O=[x.hb]))return 2;u=R[0],m=O[0]}}S.width=u,S.height=m;e:{var J=S.width,ne=S.height;if(u=S.S,0>=J||0>=ne||!(u>=Bf&&13>u))u=2;else{if(0>=S.Rd&&S.sd==null){K=O=R=m=0;var fe=(q=J*yx[u])*ne;if(11>u||(O=(ne+1)/2*(m=(J+1)/2),u==12&&(K=(R=J)*ne)),(ne=i(fe+2*O+K))==null){u=1;break e}S.sd=ne,11>u?((J=S.f.RGBA).eb=ne,J.fb=0,J.A=q,J.size=fe):((J=S.f.kb).y=ne,J.O=0,J.fa=q,J.Fd=fe,J.f=ne,J.N=0+fe,J.Ab=m,J.Cd=O,J.ea=ne,J.W=0+fe+O,J.Db=m,J.Ed=O,u==12&&(J.F=ne,J.J=0+fe+2*O),J.Tc=K,J.lb=R)}if(m=1,R=S.S,O=S.width,K=S.height,R>=Bf&&13>R)if(11>R)u=S.f.RGBA,m&=(q=Math.abs(u.A))*(K-1)+O<=u.size,m&=q>=O*yx[R],m&=u.eb!=null;else{u=S.f.kb,q=(O+1)/2,fe=(K+1)/2,J=Math.abs(u.fa),ne=Math.abs(u.Ab);var Ne=Math.abs(u.Db),Se=Math.abs(u.lb),Ee=Se*(K-1)+O;m&=J*(K-1)+O<=u.Fd,m&=ne*(fe-1)+q<=u.Cd,m=(m&=Ne*(fe-1)+q<=u.Ed)&J>=O&ne>=q&Ne>=q,m&=u.y!=null,m&=u.f!=null,m&=u.ea!=null,R==12&&(m&=Se>=O,m&=Ee<=u.Tc,m&=u.F!=null)}else m=0;u=m?0:2}}return u!=0||x!=null&&x.fd&&(u=td(S)),u}var bn=64,fc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mc=24,pc=32,rd=8,ps=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(u){return u},b.Predictor2=function(u,m,x){return m[x+0]},b.Predictor3=function(u,m,x){return m[x+1]},b.Predictor4=function(u,m,x){return m[x-1]},b.Predictor5=function(u,m,x){return Ge(Ge(u,m[x+1]),m[x+0])},b.Predictor6=function(u,m,x){return Ge(u,m[x-1])},b.Predictor7=function(u,m,x){return Ge(u,m[x+0])},b.Predictor8=function(u,m,x){return Ge(m[x-1],m[x+0])},b.Predictor9=function(u,m,x){return Ge(m[x+0],m[x+1])},b.Predictor10=function(u,m,x){return Ge(Ge(u,m[x-1]),Ge(m[x+0],m[x+1]))},b.Predictor11=function(u,m,x){var S=m[x+0];return 0>=Bt(S>>24&255,u>>24&255,(m=m[x-1])>>24&255)+Bt(S>>16&255,u>>16&255,m>>16&255)+Bt(S>>8&255,u>>8&255,m>>8&255)+Bt(255&S,255&u,255&m)?S:u},b.Predictor12=function(u,m,x){var S=m[x+0];return(et((u>>24&255)+(S>>24&255)-((m=m[x-1])>>24&255))<<24|et((u>>16&255)+(S>>16&255)-(m>>16&255))<<16|et((u>>8&255)+(S>>8&255)-(m>>8&255))<<8|et((255&u)+(255&S)-(255&m)))>>>0},b.Predictor13=function(u,m,x){var S=m[x-1];return(dt((u=Ge(u,m[x+0]))>>24&255,S>>24&255)<<24|dt(u>>16&255,S>>16&255)<<16|dt(u>>8&255,S>>8&255)<<8|dt(u>>0&255,S>>0&255))>>>0};var w0=b.PredictorAdd0;b.PredictorAdd1=ut,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var nd=b.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var pf,Xs=b.ColorIndexInverseTransform,gc=b.MapARGB,gf=b.VP8LColorIndexInverseTransformAlpha,vf=b.MapAlpha,ja=b.VP8LPredictorsAdd=[];ja.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var hl,gs,is,Pa,jA,PA,vc,DA,Rr,sd,As,Zs,yc,yf,id,fl,ml,Da,pl,wc,gl,Ra,Ad,ei,ti,hr,fr,Or,on=i(511),RA=i(2041),ad=i(225),xc=i(767),wf=0,x0=RA,xf=ad,Ps=xc,ri=on,Bf=0,bf=1,ax=2,Cf=3,Ef=4,B0=5,ox=6,b0=7,C0=8,_f=9,E0=10,iF=[2,3,7],AF=[3,3,11],lx=[280,256,256,256,40],aF=[0,1,1,1,0],oF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],cF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uF=8,_0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],I0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],od=null,dF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],_i=[],OA=[],vF=1,ux=2,Ha=[],ni=[];Qe("UpsampleRgbLinePair",z,3),Qe("UpsampleBgrLinePair",Be,3),Qe("UpsampleRgbaLinePair",Et,4),Qe("UpsampleBgraLinePair",Dt,4),Qe("UpsampleArgbLinePair",Ct,4),Qe("UpsampleRgba4444LinePair",He,2),Qe("UpsampleRgb565LinePair",Fe,2);var yF=b.UpsampleRgbLinePair,wF=b.UpsampleBgrLinePair,dx=b.UpsampleRgbaLinePair,hx=b.UpsampleBgraLinePair,fx=b.UpsampleArgbLinePair,mx=b.UpsampleRgba4444LinePair,xF=b.UpsampleRgb565LinePair,If=16,Nf=1<<If-1,ld=-227,N0=482,px=6,BF=(256<<px)-1,gx=0,bF=i(256),CF=i(256),EF=i(256),_F=i(256),IF=i(N0-ld),NF=i(N0-ld);cr("YuvToRgbRow",z,3),cr("YuvToBgrRow",Be,3),cr("YuvToRgbaRow",Et,4),cr("YuvToBgraRow",Dt,4),cr("YuvToArgbRow",Ct,4),cr("YuvToRgba4444Row",He,2),cr("YuvToRgb565Row",Fe,2);var vx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sf=[0,2,8],SF=[8,7,6,4,4,2,2,2,1,1,1,1],FF=1;this.WebPDecodeRGBA=function(u,m,x,S,R){var O=bf,K=new QA,q=new We;K.ba=q,q.S=O,q.width=[q.width],q.height=[q.height];var J=q.width,ne=q.height,fe=new tt;if(fe==null||u==null)var Ne=2;else e(fe!=null),Ne=iA(u,m,x,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ne!=0?J=0:(J!=null&&(J[0]=fe.width[0]),ne!=null&&(ne[0]=fe.height[0]),J=1),J){q.width=q.width[0],q.height=q.height[0],S!=null&&(S[0]=q.width),R!=null&&(R[0]=q.height);e:{if(S=new NA,(R=new Ta).data=u,R.w=m,R.ha=x,R.kd=1,m=[0],e(R!=null),((u=iA(R.data,R.w,R.ha,null,null,null,m,null,R))==0||u==7)&&m[0]&&(u=4),(m=u)==0){if(e(K!=null),S.data=R.data,S.w=R.w+R.offset,S.ha=R.ha-R.offset,S.put=_r,S.ac=lr,S.bc=Ln,S.ma=K,R.xa){if((u=Dr())==null){K=1;break e}if(function(Se,Ee){var Pe=[0],Ue=[0],pe=[0];t:for(;;){if(Se==null)return 0;if(Ee==null)return Se.a=2,0;if(Se.l=Ee,Se.a=0,V(Se.m,Ee.data,Ee.w,Ee.ha),!nt(Se.m,Pe,Ue,pe)){Se.a=3;break t}if(Se.xb=ux,Ee.width=Pe[0],Ee.height=Ue[0],!Us(Pe[0],Ue[0],1,Se,null))break t;return 1}return e(Se.a!=0),0}(u,S)){if(S=(m=hc(S.width,S.height,K.Oa,K.ba))==0){t:{S=u;r:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((x=S.l)!=null),e((R=x.ma)!=null),S.xb!=0){if(S.ca=R.ba,S.tb=R.tb,e(S.ca!=null),!ed(R.Oa,x,Cf)){S.a=2;break r}if(!Wi(S,x.width)||x.da)break r;if((x.da||jt(S.ca.S))&&Ce(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&Ce()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!ke(S.s.vb,S.s.Wa.Xa)){S.a=1;break r}S.xb=0}if(!rs(S,S.V,S.Ba,S.c,S.i,x.o,va))break r;R.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(m=u.a)}else m=u.a}else{if((u=new el)==null){K=1;break e}if(u.Fa=R.na,u.P=R.P,u.qc=R.Sa,rl(u,S)){if((m=hc(S.width,S.height,K.Oa,K.ba))==0){if(u.Aa=0,x=K.Oa,e((R=u)!=null),x!=null){if(0<(J=0>(J=x.Md)?0:100<J?255:255*J/100)){for(ne=fe=0;4>ne;++ne)12>(Ne=R.pb[ne]).lc&&(Ne.ia=J*SF[0>Ne.lc?0:Ne.lc]>>3),fe|=Ne.ia;fe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=x.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}Ac(u,S)||(m=u.a)}}else m=u.a}m==0&&K.Oa!=null&&K.Oa.fd&&(m=td(K.ba))}K=m}O=K!=0?null:11>O?q.f.RGBA.eb:q.f.kb.y}else O=null;return O};var yx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(b,k){for(var j="",N=0;N<4;N++)j+=String.fromCharCode(b[k++]);return j}function h(b,k){return(b[k+0]<<0|b[k+1]<<8|b[k+2]<<16)>>>0}function f(b,k){return(b[k+0]<<0|b[k+1]<<8|b[k+2]<<16|b[k+3]<<24)>>>0}new l;var p=[0],g=[0],B=[],E=new l,I=t,w=function(b,k){var j={},N=0,Q=!1,F=0,te=0;if(j.frames=[],!function(M,$,Y,X){for(var ee=0;ee<X;ee++)if(M[$+ee]!=Y.charCodeAt(ee))return!0;return!1}(b,k,"RIFF",4)){var xe,ve;for(f(b,k+=4),k+=8;k<b.length;){var ye=c(b,k),V=f(b,k+=4);k+=4;var le=V+(1&V);switch(ye){case"VP8 ":case"VP8L":j.frames[N]===void 0&&(j.frames[N]={}),(L=j.frames[N]).src_off=Q?te:k-8,L.src_size=F+V+8,N++,Q&&(Q=!1,F=0,te=0);break;case"VP8X":(L=j.header={}).feature_flags=b[k];var Z=k+4;L.canvas_width=1+h(b,Z),Z+=3,L.canvas_height=1+h(b,Z),Z+=3;break;case"ALPH":Q=!0,F=le+8,te=k-8;break;case"ANIM":(L=j.header).bgcolor=f(b,k),Z=k+4,L.loop_count=(xe=b)[(ve=Z)+0]<<0|xe[ve+1]<<8,Z+=2;break;case"ANMF":var ue,L;(L=j.frames[N]={}).offset_x=2*h(b,k),k+=3,L.offset_y=2*h(b,k),k+=3,L.width=1+h(b,k),k+=3,L.height=1+h(b,k),k+=3,L.duration=h(b,k),k+=3,ue=b[k++],L.dispose=1&ue,L.blend=ue>>1&1}ye!="ANMF"&&(k+=le)}return j}}(I,0);w.response=I,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,_=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],g=[y.canvas_width];for(var P=0;P<_.length&&_[P].blend!=0;P++);}var H=_[0],W=E.WebPDecodeRGBA(I,H.src_off,H.src_size,g,p);H.rgba=W,H.imgwidth=g[0],H.imgheight=p[0];for(var T=0;T<g[0]*p[0]*4;T++)B[T]=W[T];return this.width=g,this.height=p,this.data=B,this}(function(t){var e=function(){return typeof Yy=="function"},r=function(p,g,B,E){var I=4,w=A;switch(E){case t.image_compression.FAST:I=1,w=i;break;case t.image_compression.MEDIUM:I=6,w=a;break;case t.image_compression.SLOW:I=9,w=l}p=n(p,g,B,w);var y=Yy(p,{level:I});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(p,g,B,E){for(var I,w,y,_=p.length/g,P=new Uint8Array(p.length+_),H=h(),W=0;W<_;W+=1){if(y=W*g,I=p.subarray(y,y+g),E)P.set(E(I,B,w),y+W);else{for(var T,b=H.length,k=[];T<b;T+=1)k[T]=H[T](I,B,w);var j=f(k.concat());P.set(k[j],y+W)}w=I}return P},s=function(p){var g=Array.apply([],p);return g.unshift(0),g},i=function(p,g){var B,E=[],I=p.length;E[0]=1;for(var w=0;w<I;w+=1)B=p[w-g]||0,E[w+1]=p[w]-B+256&255;return E},A=function(p,g,B){var E,I=[],w=p.length;I[0]=2;for(var y=0;y<w;y+=1)E=B&&B[y]||0,I[y+1]=p[y]-E+256&255;return I},a=function(p,g,B){var E,I,w=[],y=p.length;w[0]=3;for(var _=0;_<y;_+=1)E=p[_-g]||0,I=B&&B[_]||0,w[_+1]=p[_]+256-(E+I>>>1)&255;return w},l=function(p,g,B){var E,I,w,y,_=[],P=p.length;_[0]=4;for(var H=0;H<P;H+=1)E=p[H-g]||0,I=B&&B[H]||0,w=B&&B[H-g]||0,y=c(E,I,w),_[H+1]=p[H]-y+256&255;return _},c=function(p,g,B){if(p===g&&g===B)return p;var E=Math.abs(g-B),I=Math.abs(p-B),w=Math.abs(p+g-B-B);return E<=I&&E<=w?p:I<=w?g:B},h=function(){return[s,i,A,a,l]},f=function(p){var g=p.map(function(B){return B.reduce(function(E,I){return E+Math.abs(I)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,B,E){var I,w,y,_,P,H,W,T,b,k,j,N,Q,F,te,xe=this.decode.FLATE_DECODE,ve="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new dV(p)).imgData,w=y.bits,I=y.colorSpace,P=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){b=(T=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,j=new Uint8Array(b*y.colors),k=new Uint8Array(b);var ye,V=y.pixelBitlength-y.bits;for(F=0,te=0;F<b;F++){for(Q=T[F],ye=0;ye<V;)j[te++]=Q>>>ye&255,ye+=y.bits;k[F]=Q>>>ye&255}}if(y.bits===16){b=(T=new Uint32Array(y.decodePixels().buffer)).length,j=new Uint8Array(b*(32/y.pixelBitlength)*y.colors),k=new Uint8Array(b*(32/y.pixelBitlength)),N=y.colors>1,F=0,te=0;for(var le=0;F<b;)Q=T[F++],j[te++]=Q>>>0&255,N&&(j[te++]=Q>>>16&255,Q=T[F++],j[te++]=Q>>>0&255),k[le++]=Q>>>16&255;w=8}E!==t.image_compression.NONE&&e()?(p=r(j,y.width*y.colors,y.colors,E),W=r(k,y.width,1,E)):(p=j,W=k,xe=void 0)}if(y.colorType===3&&(I=this.color_spaces.INDEXED,H=y.palette,y.transparency.indexed)){var Z=y.transparency.indexed,ue=0;for(F=0,b=Z.length;F<b;++F)ue+=Z[F];if((ue/=255)===b-1&&Z.indexOf(0)!==-1)_=[Z.indexOf(0)];else if(ue!==b){for(T=y.decodePixels(),k=new Uint8Array(T.length),F=0,b=T.length;F<b;F++)k[F]=Z[T[F]];W=r(k,y.width,1)}}var L=function(M){var $;switch(M){case t.image_compression.FAST:$=11;break;case t.image_compression.MEDIUM:$=13;break;case t.image_compression.SLOW:$=14;break;default:$=12}return $}(E);return xe===this.decode.FLATE_DECODE&&(ve="/Predictor "+L+" "),ve+="/Colors "+P+" /BitsPerComponent "+w+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(W&&this.__addimage__.isArrayBuffer(W)||this.__addimage__.isArrayBufferView(W))&&(W=this.__addimage__.arrayBufferToBinaryString(W)),{alias:B,data:p,index:g,filter:xe,decodeParameters:ve,transparency:_,palette:H,sMask:W,predictor:L,width:y.width,height:y.height,bitsPerComponent:w,colorSpace:I}}}})(gt.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new hV(e),A=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:A,height:a},h=new Z1(100).encode(c,100);return t.processJPEG.call(this,h,r,n,s)},t.processGIF87A=t.processGIF89A}(gt.API),Fi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){dr.log("bit decode error:"+r)}},Fi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[A+4*a]=l.blue,this.data[A+4*a+1]=l.green,this.data[A+4*a+2]=l.red,this.data[A+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Fi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[A]=c.blue,this.data[A+1]=c.green,this.data[A+2]=c.red,this.data[A+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[A+4]=c.blue,this.data[A+4+1]=c.green,this.data[A+4+2]=c.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},Fi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var A=this.palette[s];this.data[i]=A.red,this.data[i+1]=A.green,this.data[i+2]=A.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Fi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=A,this.data[h+3]=c}this.pos+=t}},Fi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(A&e)/e*255|0,l=(A>>5&r)/r*255|0,c=(A>>11)/e*255|0,h=s*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},Fi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},Fi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=A}},Fi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Fi(e,!1),A=i.width,a=i.height,l={data:i.getData(),width:A,height:a},c=new Z1(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(gt.API),jC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new jC(e),A=i.width,a=i.height,l={data:i.getData(),width:A,height:a},c=new Z1(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(gt.API),gt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),A=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var h=n[c],f=n[c+1],p=n[c+2],g=n[c+3];i[a++]=h,i[a++]=f,i[a++]=p,A[l++]=g}var B=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:B,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},gt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qc=gt.API,Pm=Qc.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,g=t.length,B=0,E=a[0]||l,I=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?I.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+A*(1e3/i)||0)/1e3):(p=f&&sr(c[n])==="object"&&!isNaN(parseInt(c[n][B],10))?c[n][B]/h:0,I.push((a[n]||E)/l+p)),B=n;return I},TC=Qc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Qc.processArabic&&(t=Qc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Pm.apply(this,arguments).reduce(function(i,A){return i+A},0)},UC=function(t,e,r,n){for(var s=[],i=0,A=t.length,a=0;i!==A&&a+e[i]<r;)a+=e[i],i++;s.push(t.slice(0,i));var l=i;for(a=0;i!==A;)a+e[i]>n&&(s.push(t.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},QC=function(t,e,r){r||(r={});var n,s,i,A,a,l,c,h=[],f=[h],p=r.textIndent||0,g=0,B=0,E=t.split(" "),I=Pm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),y=[];E.map(function(P){(P=P.split(/\s*\n/)).length>1?y=y.concat(P.map(function(H,W){return(W&&H.length?`
`:"")+H})):y.push(P[0])}),E=y,l=TC.apply(this,[w,r])}for(i=0,A=E.length;i<A;i++){var _=0;if(n=E[i],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+g+(B=(s=Pm.apply(this,[n,r])).reduce(function(P,H){return P+H},0))>e||_){if(B>e){for(a=UC.apply(this,[n,s,e-(p+g),e]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);B=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(P,H){return P+H},0)}else h=[n];f.push(h),p=B+l,g=I}else h.push(n),p+=g+B,g=I}return c=l?function(P,H){return(H?w:"")+P.join(" ")}:function(P){return P.join(" ")},f.map(c)},Qc.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(QC.apply(this,[n[a],A,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(f){return"0x"+parseInt(f,10).toString(16)},A=t.__fontmetrics__.compress=function(f){var p,g,B,E,I=["{"];for(var w in f){if(p=f[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=i(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(B=i(p).slice(3),E="-"):(B=i(p).slice(2),E=""),B=E+B.slice(0,-1)+n[B.slice(-1)];else{if(sr(p)!=="object")throw new Error("Don't know what to do with value type "+sr(p)+".");B=A(p)}I.push(g+B)}return I.push("}"),I.join("")},a=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,B,E,I={},w=1,y=I,_=[],P="",H="",W=f.length-1,T=1;T<W;T+=1)(E=f[T])=="'"?p?(B=p.join(""),p=void 0):p=[]:p?p.push(E):E=="{"?(_.push([y,B]),y={},B=void 0):E=="}"?((g=_.pop())[0][g[1]]=y,B=void 0,y=g[0]):E=="-"?w=-1:B===void 0?r.hasOwnProperty(E)?(P+=r[E],B=parseInt(P,16)*w,w=1,P=""):P+=E:r.hasOwnProperty(E)?(H+=r[E],y[B]=parseInt(H,16)*w,w=1,B=void 0,H=""):H+=E;return I},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,g=h.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var B=c.Unicode[p.postScriptName];B&&(p.metadata.Unicode.encoding=B,p.encoding=B.codePages[0])}])}(gt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(A,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(uh(a)),A.metadata=t.API.TTFFont.open(a),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(s,n)}}])}(gt),function(t){function e(){return(vt.canvg?Promise.resolve(vt.canvg):zy(()=>import("./index.es-DHXOYCYF.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}gt.API.addSvgAsImage=function(r,n,s,i,A,a,l,c){if(isNaN(n)||isNaN(s))throw dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(A))throw dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=A;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(B){return B.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(p)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),n,s,i,A,l,c)})}}(),gt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},gt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(A),l=[],c=0,h=0,f=0;function p(B,E){var I,w=!1;for(I=0;I<B.length;I+=1)B[I]===E&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(f=0;f<g;f+=1)r[a[f]].value=r[a[f]].defaultValue,r[a[f]].explicitSet=!1}if(sr(t)==="object"){for(s in t)if(i=t[s],p(a,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(h=0;h<i[c].length;h+=1)typeof i[c][h]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var B,E=[];for(B in r)r[B].explicitSet===!0&&(r[B].type==="name"?E.push("/"+B+" /"+r[B].value):E.push("/"+B+" "+r[B].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+A.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+A+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(gt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,A){for(var a,l=A.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,p=i.length;f<p;++f){if(a=A.metadata.characterToGlyph(i.charCodeAt(f)),A.metadata.glyIdsUsed.push(a),A.metadata.toUnicode[a]=i.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(A.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},n=function(i){var A,a,l,c,h,f,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(a=Object.keys(i).sort(function(g,B){return g-B})).length;f<p;f++)A=a[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[A]!==void 0&&i[A]!==null&&typeof i[A].toString=="function"&&(c=("0000"+i[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),l.push("<"+A+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(A){var a=A.font,l=A.out,c=A.newObject,h=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",B=0;B<p.length;B++)g+=String.fromCharCode(p[B]);var E=c();h({data:g,addLength1:!0,objectId:E}),l("endobj");var I=c();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Hc(a.fontName)),l("/FontFile2 "+E+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Hc(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+Hc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(A){var a=A.font,l=A.out,c=A.newObject,h=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var B=c();h({data:p,addLength1:!0,objectId:B}),l("endobj");var E=c();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var I=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+B+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Hc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Hc(a.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var A,a=i.text||"",l=i.x,c=i.y,h=i.options||{},f=i.mutex||{},p=f.pdfEscape,g=f.activeFontKey,B=f.fonts,E=g,I="",w=0,y="",_=B[E].encoding;if(B[E].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:f};for(y=a,E=g,Array.isArray(a)&&(y=a[0]),w=0;w<y.length;w+=1)B[E].metadata.hasOwnProperty("cmap")&&(A=B[E].metadata.cmap.unicode.codeMap[y[w].charCodeAt(0)]),A||y[w].charCodeAt(0)<256&&B[E].metadata.hasOwnProperty("Unicode")?I+=y[w]:I+="";var P="";return parseInt(E.slice(1))<14||_==="WinAnsiEncoding"?P=p(I,E).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(P=r(I,B[E])),f.isHex=!0,{text:P,x:l,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(i){var A=i.text||"",a=[],l={text:A,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(A)){var c=0;for(c=0;c<A.length;c+=1)Array.isArray(A[c])&&A[c].length===3?a.push([s(Object.assign({},l,{text:A[c][0]})).text,A[c][1],A[c][2]]):a.push(s(Object.assign({},l,{text:A[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:A})).text}])}(gt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(gt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,A,a,l,c,h,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,_=0;this.__bidiEngine__={};var P=function(N){var Q=N.charCodeAt(),F=Q>>8,te=E[F];return te!==void 0?f[256*te+(255&Q)]:F===252||F===253?"AL":w.test(F)?"L":F===8?"R":"N"},H=function(N){for(var Q,F=0;F<N.length;F++){if((Q=P(N.charAt(F)))==="L")return!1;if(Q==="R")return!0}return!1},W=function(N,Q,F,te){var xe,ve,ye,V,le=Q[te];switch(le){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(le="AN");break;case"AL":y=!0,le="R";break;case"WS":le="N";break;case"CS":te<1||te+1>=Q.length||(xe=F[te-1])!=="EN"&&xe!=="AN"||(ve=Q[te+1])!=="EN"&&ve!=="AN"?le="N":y&&(ve="AN"),le=ve===xe?ve:"N";break;case"ES":le=(xe=te>0?F[te-1]:"B")==="EN"&&te+1<Q.length&&Q[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&F[te-1]==="EN"){le="EN";break}if(y){le="N";break}for(ye=te+1,V=Q.length;ye<V&&Q[ye]==="ET";)ye++;le=ye<V&&Q[ye]==="EN"?"EN":"N";break;case"NSM":if(A&&!a){for(V=Q.length,ye=te+1;ye<V&&Q[ye]==="NSM";)ye++;if(ye<V){var Z=N[te],ue=Z>=1425&&Z<=2303||Z===64286;if(xe=Q[ye],ue&&(xe==="R"||xe==="AL")){le="R";break}}}le=te<1||(xe=Q[te-1])==="B"?"N":F[te-1];break;case"B":y=!1,s=!0,le=_;break;case"S":i=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":le="N"}return le},T=function(N,Q,F){var te=N.split("");return F&&b(te,F,{hiLevel:_}),te.reverse(),Q&&Q.reverse(),te.join("")},b=function(N,Q,F){var te,xe,ve,ye,V,le=-1,Z=N.length,ue=0,L=[],M=_?g:p,$=[];for(y=!1,s=!1,i=!1,xe=0;xe<Z;xe++)$[xe]=P(N[xe]);for(ve=0;ve<Z;ve++){if(V=ue,L[ve]=W(N,$,L,ve),te=240&(ue=M[V][B[L[ve]]]),ue&=15,Q[ve]=ye=M[ue][5],te>0)if(te===16){for(xe=le;xe<ve;xe++)Q[xe]=1;le=-1}else le=-1;if(M[ue][6])le===-1&&(le=ve);else if(le>-1){for(xe=le;xe<ve;xe++)Q[xe]=ye;le=-1}$[ve]==="B"&&(Q[ve]=0),F.hiLevel|=ye}i&&function(Y,X,ee){for(var ie=0;ie<ee;ie++)if(Y[ie]==="S"){X[ie]=_;for(var oe=ie-1;oe>=0&&Y[oe]==="WS";oe--)X[oe]=_}}($,Q,Z)},k=function(N,Q,F,te,xe){if(!(xe.hiLevel<N)){if(N===1&&_===1&&!s)return Q.reverse(),void(F&&F.reverse());for(var ve,ye,V,le,Z=Q.length,ue=0;ue<Z;){if(te[ue]>=N){for(V=ue+1;V<Z&&te[V]>=N;)V++;for(le=ue,ye=V-1;le<ye;le++,ye--)ve=Q[le],Q[le]=Q[ye],Q[ye]=ve,F&&(ve=F[le],F[le]=F[ye],F[ye]=ve);ue=V}ue++}}},j=function(N,Q,F){var te=N.split(""),xe={hiLevel:_};return F||(F=[]),b(te,F,xe),function(ve,ye,V){if(V.hiLevel!==0&&h)for(var le,Z=0;Z<ve.length;Z++)ye[Z]===1&&(le=I.indexOf(ve[Z]))>=0&&(ve[Z]=I[le+1])}(te,F,xe),k(2,te,Q,F,xe),k(1,te,Q,F,xe),te.join("")};return this.__bidiEngine__.doBidiReorder=function(N,Q,F){if(function(xe,ve){if(ve)for(var ye=0;ye<xe.length;ye++)ve[ye]=ye;a===void 0&&(a=H(xe)),c===void 0&&(c=H(xe))}(N,Q),A||!l||c)if(A&&l&&a^c)_=a?1:0,N=T(N,Q,F);else if(!A&&l&&c)_=a?1:0,N=j(N,Q,F),N=T(N,Q);else if(!A||a||l||c){if(A&&!l&&a^c)N=T(N,Q),a?(_=0,N=j(N,Q,F)):(_=1,N=j(N,Q,F),N=T(N,Q));else if(A&&a&&!l&&c)_=1,N=j(N,Q,F),N=T(N,Q);else if(!A&&!l&&a^c){var te=h;a?(_=1,N=j(N,Q,F),_=0,h=!1,N=j(N,Q,F),h=te):(_=0,N=j(N,Q,F),N=T(N,Q),_=1,h=!1,N=j(N,Q,F),h=te,N=T(N,Q))}}else _=0,N=j(N,Q,F);else _=a?1:0,N=j(N,Q,F);return N},this.__bidiEngine__.setOptions=function(N){N&&(A=N.isInputVisual,l=N.isOutputVisual,a=N.isInputRtl,c=N.isOutputRtl,h=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),A=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(A=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?A.push([r.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):A.push([r.doBidiReorder(s[a])]);n.text=A}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(gt),gt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Vo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new NV(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new fV(this.contents),this.head=new pV(this),this.name=new xV(this),this.cmap=new rF(this),this.toUnicode={},this.hhea=new gV(this),this.maxp=new BV(this),this.hmtx=new bV(this),this.post=new yV(this),this.os2=new vV(this),this.loca=new IV(this),this.glyf=new CV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,a,l,c;for(c=[],A=0,a=(l=this.bbox).length;A<a;A++)e=l[A],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,A,a;for(A=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),A+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var qi,Vo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,A,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),A=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^A)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*A+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),fV=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,A,a,l,c,h,f,p,g,B,E;for(E in g=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),A=Math.floor(f/l),h=16*g-f,(s=new Vo).writeInt(this.scalarType),s.writeShort(g),s.writeShort(f),s.writeShort(A),s.writeShort(h),i=16*g,c=s.pos+i,a=null,B=[],r)for(p=r[E],s.writeString(E),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),B=B.concat(p),E==="head"&&(a=c),c+=p.length;c%4;)B.push(0),c++;return s.write(B),n=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,A;for(r=nF.call(r);r.length%4;)r.push(0);for(i=new Vo(r),s=0,n=0,A=r.length;n<A;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),mV={}.hasOwnProperty,CA=function(t,e){for(var r in e)mV.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};qi=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Vo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),PC=function(){function t(e,r){var n,s,i,A,a,l,c,h,f,p,g,B,E,I,w,y,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,i=function(){var P,H;for(H=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)H.push(e.readUInt16());return H}(),e.pos+=2,E=function(){var P,H;for(H=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)H.push(e.readUInt16());return H}(),c=function(){var P,H;for(H=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)H.push(e.readUInt16());return H}(),h=function(){var P,H;for(H=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)H.push(e.readUInt16());return H}(),s=(this.length-e.pos+this.offset)/2,a=function(){var P,H;for(H=[],l=P=0;0<=s?P<s:P>s;l=0<=s?++P:--P)H.push(e.readUInt16());return H}(),l=w=0,_=i.length;w<_;l=++w)for(I=i[l],n=y=B=E[l];B<=I?y<=I:y>=I;n=B<=I?++y:--y)h[l]===0?A=n+c[l]:(A=a[h[l]/2+(n-B)-(p-l)]||0)!==0&&(A+=c[l]),this.codeMap[n]=65535&A}e.pos=f}return t.encode=function(e,r){var n,s,i,A,a,l,c,h,f,p,g,B,E,I,w,y,_,P,H,W,T,b,k,j,N,Q,F,te,xe,ve,ye,V,le,Z,ue,L,M,$,Y,X,ee,ie,oe,G,se,ge;switch(te=new Vo,A=Object.keys(e).sort(function(_e,ke){return _e-ke}),r){case"macroman":for(E=0,I=function(){var _e=[];for(B=0;B<256;++B)_e.push(0);return _e}(),y={0:0},i={},xe=0,le=A.length;xe<le;xe++)y[oe=e[s=A[xe]]]==null&&(y[oe]=++E),i[s]={old:e[s],new:y[e[s]]},I[s]=y[e[s]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(I),{charMap:i,subtable:te.data,maxGlyphID:E+1};case"unicode":for(Q=[],f=[],_=0,y={},n={},w=c=null,ve=0,Z=A.length;ve<Z;ve++)y[H=e[s=A[ve]]]==null&&(y[H]=++_),n[s]={old:H,new:y[H]},a=y[H]-s,w!=null&&a===c||(w&&f.push(w),Q.push(s),c=a),w=s;for(w&&f.push(w),f.push(65535),Q.push(65535),j=2*(k=Q.length),b=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(b/2)/Math.LN2,T=2*k-b,l=[],W=[],g=[],B=ye=0,ue=Q.length;ye<ue;B=++ye){if(N=Q[B],h=f[B],N===65535){l.push(0),W.push(0);break}if(N-(F=n[N].new)>=32768)for(l.push(0),W.push(2*(g.length+k-B)),s=V=N;N<=h?V<=h:V>=h;s=N<=h?++V:--V)g.push(n[s].new);else l.push(F-N),W.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*k+2*g.length),te.writeUInt16(0),te.writeUInt16(j),te.writeUInt16(b),te.writeUInt16(p),te.writeUInt16(T),ee=0,L=f.length;ee<L;ee++)s=f[ee],te.writeUInt16(s);for(te.writeUInt16(0),ie=0,M=Q.length;ie<M;ie++)s=Q[ie],te.writeUInt16(s);for(G=0,$=l.length;G<$;G++)a=l[G],te.writeUInt16(a);for(se=0,Y=W.length;se<Y;se++)P=W[se],te.writeUInt16(P);for(ge=0,X=g.length;ge<X;ge++)E=g[ge],te.writeUInt16(E);return{charMap:n,subtable:te.data,maxGlyphID:_+1}}},t}(),rF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new PC(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=PC.encode(r,n),(i=new Vo).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),gV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),vV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),yV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var A;for(s=r.readUInt16(),this.glyphNameIndex=[],A=0;0<=s?A<s:A>s;A=0<=s?++A:--A)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],A=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;A=0<=l?++a:--a)c.push(r.readUInt32());return c}).call(this)}},e}(),wV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,A,a,l,c,h,f,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},A=f=0,p=s.length;f<p;A=++f)i=s[A],r.pos=i.offset,h=r.readString(i.length),a=new wV(h,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),BV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),bV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,A,a,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)f.push(r.readInt16());return f}(),this.widths=(function(){var h,f,p,g;for(g=[],h=0,f=(p=this.metrics).length;h<f;h++)A=p[h],g.push(A.advance);return g}).call(this),s=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),nF=[].slice,CV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,A,a,l,c,h,f,p;return r in this.cache?this.cache[r]:(A=this.file.loca,n=this.file.contents,s=A.indexOf(r),(i=A.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,a=(l=new Vo(n.read(i))).readShort(),h=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=a===-1?new _V(l,h,p,c,f):new EV(l,a,h,p,c,f),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,A,a,l,c;for(a=[],A=[],l=0,c=n.length;l<c;l++)i=r[n[l]],A.push(a.length),i&&(a=a.concat(i.encode(s)));return A.push(a.length),{table:a,offsets:A}},e}(),EV=function(){function t(e,r,n,s,i,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),_V=function(){function t(e,r,n,s,i){var A,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;a=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&a;)A.pos+=1&a?4:2,128&a?A.pos+=8:64&a?A.pos+=4:8&a&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Vo(nF.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),IV=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,qi),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=2)A.push(2*r.readUInt16());return A}).call(this):(function(){var i,A;for(A=[],s=0,i=this.length;s<i;s+=4)A.push(r.readUInt32());return A}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,A=0,a=0;a<s.length;++a)if(s[a]=i,A<n.length&&n[A]==a){++A,s[a]=i;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(i+=c)}for(var h=new Array(4*s.length),f=0;f<s.length;++f)h[4*f+3]=255&s[f],h[4*f+2]=(65280&s[f])>>8,h[4*f+1]=(16711680&s[f])>>16,h[4*f]=(4278190080&s[f])>>24;return h},e}(),NV=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,A,a,l;for(s={},A=0,a=e.length;A<a;A++)s[i=e[A]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,A,a,l,c,h,f,p,g,B,E,I,w;for(s in n=rF.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),g={0:0},w=n.charMap)g[(l=w[s]).old]=l.new;for(B in p=n.maxGlyphID,A)B in g||(g[B]=p++);return h=function(y){var _,P;for(_ in P={},y)P[y[_]]=_;return P}(g),f=Object.keys(h).sort(function(y,_){return y-_}),E=function(){var y,_,P;for(P=[],y=0,_=f.length;y<_;y++)a=f[y],P.push(h[a]);return P}(),i=this.font.glyf.encode(A,E,g),c=this.font.loca.encode(i.offsets,E),I={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},t}();gt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,A;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)n=r[a],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)A=r[s],i.push("/"+s+" "+e.convert(A));return i.push(">>"),i.join(`
`)}return""+r},e}();const sF=({teacher:t,schedule:e,subjects:r,classes:n})=>{const s=(a,l)=>{var f;const c=(f=e.schedule[a])==null?void 0:f[l];return c!=null&&c.classId?{classItem:n.find(p=>p.id===c.classId)}:null},i=(a,l,c)=>{var f;const h=(f=e.schedule[a])==null?void 0:f[l];return!h||h.classId!=="fixed-period"?null:h.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:c==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:h.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:c==="Ortaokul"?"09:15-09:35":"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:h.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:c==="İlkokul"||c==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:h.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},A=a=>{const l=i0(a,t.level);return l?A0(l.startTime,l.endTime):`${a}. Ders`};return o.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[o.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[o.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 4px 0",color:"#000000"},children:t.name}),o.jsxs("p",{style:{fontSize:"14px",margin:0,color:"#000000"},children:[t.branch," - ",t.level]})]}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Tt.map(a=>o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:a.toUpperCase()},a))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{style:{backgroundColor:"#f0f8ff"},children:[o.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:[o.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı"}),o.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50"})]}),Tt.map(a=>{const l=i(a,"prep",t.level);return o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0f8ff"},children:(l==null?void 0:l.title)||(t.level==="Ortaokul"?"Hazırlık":"Kahvaltı")},`${a}-prep`)})]}),vn.map((a,l)=>{const c=A(a),h=(t.level==="İlkokul"||t.level==="Anaokulu")&&a==="5"||t.level==="Ortaokul"&&a==="6",f=t.level==="Ortaokul"&&a==="1",p=a==="8";return o.jsxs(hi.Fragment,{children:[o.jsxs("tr",{style:{backgroundColor:h?"#f0fff0":l%2===0?"#ffffff":"#f8f9fa"},children:[o.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:h?"#e6ffe6":"#e6f3ff"},children:[o.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:h?"Yemek":`${a}.`}),o.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:h?t.level==="İlkokul"||t.level==="Anaokulu"?"11:50-12:25":"12:30-13:05":c})]}),Tt.map(g=>{var E;if(h)return o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#f0fff0"},children:"Yemek"},`${g}-${a}`);const B=s(g,a);return o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:l%2===0?"#ffffff":"#f8f9fa"},children:B?o.jsx("div",{style:{fontWeight:"bold",fontSize:"10px"},children:(E=B.classItem)==null?void 0:E.name}):o.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${g}-${a}`)})]}),f&&o.jsxs("tr",{style:{backgroundColor:"#fff8f0"},children:[o.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#ffe6cc"},children:[o.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"Kahvaltı"}),o.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"09:15-09:35"})]}),Tt.map(g=>{const B=i(g,"breakfast",t.level);return o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fff8f0"},children:(B==null?void 0:B.title)||"Kahvaltı"},`${g}-breakfast`)})]}),p&&o.jsxs("tr",{style:{backgroundColor:"#fffbf0"},children:[o.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#fff3e0"},children:[o.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:"İkindi Kahvaltısı"}),o.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:"14:35-14:45"})]}),Tt.map(g=>o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:"#fffbf0"},children:"İkindi Kahvaltısı"},`${g}-afternoon-breakfast`))]})]},a)})]})]})]})},SV=()=>{const{data:t}=xt("teachers"),{data:e}=xt("classes"),{data:r}=xt("subjects"),{data:n,remove:s}=xt("schedules"),{data:i}=xt("schedule-templates"),{success:A,error:a,warning:l}=pi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=pa(),[g,B]=ce.useState(""),[E,I]=ce.useState(""),[w,y]=ce.useState(""),[_,P]=ce.useState(""),[H,W]=ce.useState(!1),[T,b]=ce.useState(!1),k=ce.useRef({}),j=[...t].sort((G,se)=>G.name.localeCompare(se.name,"tr"));[...e].sort((G,se)=>G.name.localeCompare(se.name,"tr"));const N=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],Q=[{value:"",label:"Tüm Günler"},...Tt.map(G=>({value:G,label:G}))],F=[{value:"",label:"Tüm Saatler"},...vn.map(G=>({value:G,label:`${G}. Ders`}))],te=()=>j.filter(G=>{const se=!g||G.level===g,ge=!_||G.name.toLowerCase().includes(_.toLowerCase())||G.branch.toLowerCase().includes(_.toLowerCase());return se&&ge}),xe=G=>n.find(se=>se.teacherId===G),ve=(G,se,ge)=>{var re;const _e=xe(G),ke=(re=_e==null?void 0:_e.schedule[se])==null?void 0:re[ge];return ke!=null&&ke.classId?{classItem:e.find(me=>me.id===ke.classId)}:null},ye=(G,se,ge,_e)=>{var re;const ke=xe(ge),be=(re=ke==null?void 0:ke.schedule[G])==null?void 0:re[se];return!be||be.classId!=="fixed-period"?null:be.subjectId==="fixed-prep"?{title:"Hazırlık",subtitle:_e==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:be.subjectId==="fixed-breakfast"?{title:"Kahvaltı",subtitle:"08:30-08:50",color:"bg-orange-100 border-orange-300 text-orange-800"}:be.subjectId==="fixed-lunch"?{title:"Yemek",subtitle:_e==="İlkokul"||_e==="Anaokulu"?"11:50-12:25":"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:be.subjectId==="fixed-afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null},V=(G,se)=>{const ge={};return n.forEach(_e=>{var be;const ke=(be=_e.schedule[G])==null?void 0:be[se];if(ke!=null&&ke.classId&&ke.classId!=="fixed-period"){const re=t.find(me=>me.id===_e.teacherId);re&&(ge[ke.classId]={teacher:re})}}),ge},le=()=>{const G=[];return Tt.forEach(se=>{vn.forEach(ge=>{const _e=V(se,ge),ke=Object.keys(_e);ke.filter((re,me)=>ke.indexOf(re)!==me).forEach(re=>{var ae;const me=((ae=e.find(he=>he.id===re))==null?void 0:ae.name)||"Bilinmeyen Sınıf";G.push(`${se} ${ge}. ders: ${me} sınıfı çakışıyor`)})})}),[...new Set(G)]},Z=G=>{const se=i.find(ge=>{var _e,ke,be;return(be=(ke=(_e=ge.wizardData)==null?void 0:_e.teachers)==null?void 0:ke.selectedTeachers)==null?void 0:be.includes(G)});return se?se.name:null},ue=()=>{const G=ee.filter(se=>n.some(ge=>ge.teacherId===se.id));if(G.length===0){l("⚠️ Silinecek Program Yok","Filtrelenen öğretmenler arasında silinecek program bulunamadı");return}p(`${G.length} Öğretmen Programı`,async()=>{b(!0);try{let se=0;const ge=n.filter(_e=>G.some(ke=>ke.id===_e.teacherId));console.log("🗑️ Silinecek öğretmen programları:",{totalSchedules:n.length,schedulesToDelete:ge.length,teachersWithSchedules:G.length});for(const _e of ge)try{await s(_e.id),se++,console.log(`✅ Öğretmen programı silindi: ${_e.id}`)}catch(ke){console.error(`❌ Program silinemedi: ${_e.id}`,ke)}se>0?A("🗑️ Programlar Silindi",`${se} öğretmen programı başarıyla silindi`):a("❌ Silme Hatası","Hiçbir program silinemedi")}catch(se){console.error("❌ Toplu silme hatası:",se),a("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{b(!1)}})},L=async(G,se)=>{const ge=k.current[G.id];if(!ge)return null;try{await new Promise(he=>setTimeout(he,100));const _e=await Pu(ge,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:ge.scrollWidth,height:ge.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0,onclone:he=>{const Ie=he.querySelector('[data-teacher-id="'+G.id+'"]');Ie&&(Ie.style.transform="none",Ie.style.position="static")}}),ke=new gt({orientation:"landscape",unit:"mm",format:"a4"}),be=_e.toDataURL("image/png",1),re=297,me=_e.height*re/_e.width,ae=me<210?(210-me)/2:0;return ke.addImage(be,"PNG",0,ae,re,me),ke}catch(_e){return console.error(`${G.name} için PDF oluşturma hatası:`,_e),null}},M=async G=>{if(!xe(G.id))return;const ge=await L(G);if(ge){const ke=`${G.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;ge.save(ke)}},$=async()=>{const G=ee.filter(se=>n.some(ge=>ge.teacherId===se.id));if(G.length===0){alert("İndirilecek program bulunamadı");return}W(!0);try{let se=null;for(let ge=0;ge<G.length;ge++){const _e=G[ge],ke=n.find(be=>be.teacherId===_e.id);if(ke){const be=await L(_e,ke);if(be){if(ge===0)se=be;else if(se){se.addPage();const re=k.current[_e.id];if(re){await new Promise(Ge=>setTimeout(Ge,100));const me=await Pu(re,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),ae=me.toDataURL("image/png",1),he=297,Ie=me.height*he/me.width,Ke=Ie<210?(210-Ie)/2:0;se.addImage(ae,"PNG",0,Ke,he,Ie)}}}}}if(se){const ge=`Tum_Ders_Programlari_${new Date().getFullYear()}.pdf`;se.save(ge)}}catch(se){console.error("Toplu PDF oluşturma hatası:",se),alert("PDF oluşturulurken bir hata oluştu")}finally{W(!1)}},Y=()=>{P("")},X=G=>{G.key==="Enter"&&(G.preventDefault(),console.log("🔍 Enter ile öğretmen araması:",_),G.target.blur()),G.key==="Escape"&&(Y(),G.target.blur())},ee=te(),ie=le(),oe=ee.filter(G=>n.some(se=>se.teacherId===G.id));return o.jsxs("div",{className:"container-mobile",children:[o.jsxs("div",{className:"header-mobile",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Xn,{className:"w-8 h-8 text-indigo-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Öğretmen Ders Programları"}),o.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Okuldaki tüm öğretmen programlarını görüntüleyin"})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[oe.length>0&&o.jsx(Me,{onClick:ue,icon:Tn,variant:"danger",disabled:T,className:"w-full sm:w-auto",children:T?"Siliniyor...":`Tüm Programları Sil (${oe.length})`}),o.jsx(Me,{onClick:$,icon:Ll,variant:"primary",disabled:oe.length===0||H,className:"w-full sm:w-auto",children:H?"PDF Oluşturuluyor...":`Tüm Programları İndir (${oe.length})`})]})]}),o.jsxs("div",{className:"mobile-card mobile-spacing mb-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"🔍 Öğretmen Ara"}),o.jsxs("div",{className:"relative",children:[o.jsx(FN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",value:_,onChange:G=>P(G.target.value),onKeyDown:X,placeholder:"Öğretmen adı veya branş ara... (Enter ile ara)",className:"w-full pl-10 pr-10 py-3 text-base border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",title:"Enter ile ara, ESC ile temizle"}),_&&o.jsx("button",{onClick:Y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors btn-touch",title:"Aramayı temizle",children:o.jsx(ua,{className:"w-5 h-5"})})]}),_&&o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsxs("p",{className:"text-sm text-blue-600",children:['🔍 "',_,'" için ',ee.length," sonuç bulundu"]}),o.jsx("button",{onClick:Y,className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Temizle"})]})]}),o.jsxs("div",{className:"responsive-grid gap-responsive",children:[o.jsx(Vt,{label:"Seviye Filtresi",value:g,onChange:B,options:N}),o.jsx(Vt,{label:"Gün Filtresi",value:E,onChange:I,options:Q}),o.jsx(Vt,{label:"Ders Saati",value:w,onChange:y,options:F})]})]}),ie.length>0&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fl,{className:"w-5 h-5 text-red-600 mt-0.5"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Program Çakışmaları Tespit Edildi"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("ul",{className:"list-disc list-inside space-y-1",children:ie.map((G,se)=>o.jsx("li",{children:G},se))})})]})]})}),o.jsxs("div",{className:"responsive-grid mb-6",children:[o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wr,{className:"w-8 h-8 text-blue-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Öğretmen"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fs,{className:"w-8 h-8 text-emerald-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Xn,{className:"w-8 h-8 text-purple-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Hazır Program"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),o.jsx("div",{className:"space-y-6",children:ee.map(G=>{const se=xe(G.id),ge=Z(G.id);return o.jsxs("div",{className:"mobile-card overflow-hidden",children:[o.jsx("div",{className:"p-4 bg-gray-50 border-b",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:G.name}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[G.branch," - ",G.level]}),ge&&o.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:ge})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[se&&o.jsx(Me,{onClick:()=>M(G),icon:Ll,variant:"secondary",size:"sm",className:"flex-1 sm:flex-none",children:"PDF İndir"}),!se&&o.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})]})]})}),se?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"table-responsive schedule-mobile",children:o.jsxs("table",{className:"min-w-full schedule-table",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Saat"}),Tt.map(_e=>o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:_e},_e))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[o.jsxs("tr",{className:"bg-blue-50",children:[o.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-blue-100 text-sm",children:"Hazırlık"}),Tt.map(_e=>{const ke=ye(_e,"prep",G.id,G.level);return o.jsx("td",{className:"px-2 py-2",children:o.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:o.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(ke==null?void 0:ke.title)||"Hazırlık"})})},`${_e}-prep`)})]}),vn.map(_e=>{if(E&&!Tt.includes(E)||w&&_e!==w)return null;const ke=(G.level==="İlkokul"||G.level==="Anaokulu")&&_e==="5"||G.level==="Ortaokul"&&_e==="6",be=_e==="8";return o.jsxs(hi.Fragment,{children:[o.jsxs("tr",{className:ke?"bg-green-50":"",children:[o.jsx("td",{className:`px-3 py-2 font-medium text-gray-900 text-sm ${ke?"bg-green-100":"bg-gray-50"}`,children:ke?"Yemek":`${_e}.`}),Tt.map(re=>{var ae;if(E&&re!==E)return null;if(ke)return ye(re,_e,G.id,G.level),o.jsx("td",{className:"px-2 py-2",children:o.jsx("div",{className:"text-center p-2 bg-green-50 rounded border border-green-200",children:o.jsx("div",{className:"font-medium text-green-900 text-sm",children:"Yemek"})})},`${re}-${_e}`);const me=ve(G.id,re,_e);return o.jsx("td",{className:"px-2 py-2",children:me?o.jsx("div",{className:"text-center p-2 bg-blue-50 rounded border border-blue-200",children:o.jsx("div",{className:"font-medium text-blue-900 text-sm",children:(ae=me.classItem)==null?void 0:ae.name})}):o.jsx("div",{className:"text-center p-2 bg-gray-50 rounded border border-gray-200",children:o.jsx("div",{className:"text-gray-400 text-xs",children:"Boş"})})},`${re}-${_e}`)})]}),be&&o.jsxs("tr",{className:"bg-yellow-50",children:[o.jsx("td",{className:"px-3 py-2 font-medium text-gray-900 bg-yellow-100 text-sm",children:"İkindi Kahvaltısı"}),Tt.map(re=>(ye(re,"afternoon-breakfast",G.id,G.level),o.jsx("td",{className:"px-2 py-2",children:o.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:o.jsx("div",{className:"font-medium text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${re}-afternoon-breakfast`)))]})]},_e)})]})]})}),o.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:o.jsx("div",{ref:_e=>k.current[G.id]=_e,"data-teacher-id":G.id,style:{transform:"none",position:"static"},children:o.jsx(sF,{teacher:G,schedule:se,subjects:r,classes:e})})})]}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Xn,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"Bu öğretmen için henüz program oluşturulmamış"})]})]},G.id)})}),ee.length===0&&o.jsxs("div",{className:"text-center py-12 mobile-card",children:[o.jsx(Wr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:_?"Arama Sonucu Bulunamadı":"Öğretmen Bulunamadı"}),o.jsx("p",{className:"text-gray-500 mb-4",children:_?`"${_}" araması için sonuç bulunamadı`:"Seçilen filtrelere uygun öğretmen bulunmuyor"}),(_||g)&&o.jsxs("div",{className:"button-group-mobile",children:[_&&o.jsx(Me,{onClick:Y,variant:"secondary",children:"Aramayı Temizle"}),g&&o.jsx(Me,{onClick:()=>B(""),variant:"secondary",children:"Filtreleri Temizle"})]})]}),o.jsx(ga,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},DC=({classItem:t,schedule:e,teachers:r,subjects:n})=>{const s=()=>{let l=0;return e?(Tt.forEach(c=>{e[c]&&vn.forEach(h=>{const f=e[c][h];f&&!f.isFixed&&l++})}),l):0},i=l=>{const c=i0(l,t.level);return c?A0(c.startTime,c.endTime):`${l}. Ders`},A=l=>{const c=t.level==="Ortaokul"?"6":"5";return l==="prep"?{title:t.level==="Ortaokul"?"Hazırlık":"Kahvaltı",time:t.level==="Ortaokul"?"08:30-08:40":"08:30-08:50",isFixed:!0,bg:"#e6f3ff"}:l==="breakfast"?{title:"Kahvaltı",time:"09:15-09:35",isFixed:!0,bg:"#fff8f0"}:l===c?{title:"Yemek",time:i(l),isFixed:!0,bg:"#e6ffe6"}:l==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",time:"14:35-14:45",isFixed:!0,bg:"#fffbf0"}:{title:`${l}.`,time:i(l),isFixed:!1,bg:"#e6f3ff"}},a=["prep","1","2","3","4","5","6","7","8","9","10","breakfast","afternoon-breakfast"].filter(l=>{var c;return((c=e==null?void 0:e[Tt[0]])==null?void 0:c[l])!==void 0}).sort((l,c)=>{const h=f=>f==="prep"?0:isNaN(parseInt(f))?f==="breakfast"?1.5:f==="afternoon-breakfast"?8.5:99:parseInt(f);return h(l)-h(c)});return o.jsxs("div",{style:{width:"297mm",height:"210mm",padding:"10mm",fontSize:"12px",lineHeight:"1.4",fontFamily:'"Segoe UI", Tahoma, Geneva, Verdana, sans-serif',backgroundColor:"white",color:"#000000"},children:[o.jsxs("div",{style:{marginBottom:"8mm",paddingBottom:"4mm",borderBottom:"2px solid #000000"},children:[o.jsxs("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:[t.name," Sınıfı Ders Programı"]}),o.jsxs("p",{style:{fontSize:"14px",margin:"4px 0 0 0"},children:[t.level," • Haftalık Toplam: ",s()," ders saati"]})]}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff",width:"80px"},children:"SAAT"}),Tt.map(l=>o.jsx("th",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:"#e6f3ff"},children:l.toUpperCase()},l))]})}),o.jsx("tbody",{children:a.map((l,c)=>{const h=A(l),f=h.isFixed?h.bg:c%2===0?"#ffffff":"#f8f9fa";return o.jsxs("tr",{style:{backgroundColor:f},children:[o.jsxs("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",fontWeight:"bold",backgroundColor:h.bg},children:[o.jsx("div",{style:{fontSize:"10px",fontWeight:"bold"},children:h.title}),o.jsx("div",{style:{fontSize:"8px",color:"#666666",marginTop:"2px"},children:h.time})]}),Tt.map(p=>{var I;const g=(I=e==null?void 0:e[p])==null?void 0:I[l];if(!g)return o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:o.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"-"})},`${p}-${l}`);if(g.isFixed)return o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center",backgroundColor:h.bg},children:g.subjectId},`${p}-${l}`);const B=r.find(w=>{var y;return w.id===((y=g.teacher)==null?void 0:y.id)}),E=g.subject;return o.jsx("td",{style:{border:"1px solid #000000",padding:"8px 4px",textAlign:"center"},children:B?o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"10px",marginBottom:"2px"},children:B.name}),o.jsx("div",{style:{fontSize:"9px",color:"#666666"},children:(E==null?void 0:E.name)||(E==null?void 0:E.branch)||""})]}):o.jsx("span",{style:{color:"#999999",fontSize:"9px"},children:"Boş"})},`${p}-${l}`)})]},l)})})]}),o.jsxs("div",{style:{marginTop:"10mm",display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666666"},children:[o.jsxs("div",{children:["Haftalık Toplam: ",s()," ders saati"]}),o.jsx("div",{children:"İDE Okulları Ders Programı"})]})]})},FV=()=>{const t=$o(),{data:e}=xt("teachers"),{data:r}=xt("classes"),{data:n}=xt("subjects"),{data:s,remove:i}=xt("schedules"),{success:A,error:a,info:l,warning:c}=pi(),{confirmation:h,showConfirmation:f,hideConfirmation:p,confirmDelete:g}=pa(),[B,E]=ce.useState(""),[I,w]=ce.useState(""),[y,_]=ce.useState(!1),[P,H]=ce.useState(!1),[W,T]=ce.useState(!1),b=ce.useRef({}),k=ce.useRef(null);ce.useEffect(()=>{const ie=new URLSearchParams(t.search).get("classId");ie&&r.length>0&&r.find(G=>G.id===ie)&&(E(ie),setTimeout(()=>{var G;(G=k.current)==null||G.scrollIntoView({behavior:"smooth",block:"start"})},500))},[t.search,r]);const j=[...r].sort((ee,ie)=>ee.name.localeCompare(ie.name,"tr")),N=[{value:"",label:"Tüm Seviyeler"},{value:"Anaokulu",label:"Anaokulu"},{value:"İlkokul",label:"İlkokul"},{value:"Ortaokul",label:"Ortaokul"}],Q=()=>j.filter(ee=>!I||ee.level===I),F=ee=>{const ie={};return Tt.forEach(oe=>{ie[oe]={},vn.forEach(G=>{ie[oe][G]=null,s.forEach(se=>{var _e;const ge=(_e=se.schedule[oe])==null?void 0:_e[G];if((ge==null?void 0:ge.classId)===ee){const ke=e.find(re=>re.id===se.teacherId),be=n.find(re=>re.id===ge.subjectId);ke&&(ie[oe][G]={teacher:ke,subject:be})}})})}),ie},te=(ee,ie,oe)=>ie==="prep"||ie==="afternoon-breakfast",xe=(ee,ie)=>ee==="prep"?{title:"Hazırlık",subtitle:ie==="Ortaokul"?"08:30-08:40":"08:30-08:50",color:"bg-blue-100 border-blue-300 text-blue-800"}:(ie==="İlkokul"||ie==="Anaokulu")&&ee==="5"?{title:"Yemek",subtitle:"11:50-12:25",color:"bg-green-100 border-green-300 text-green-800"}:ie==="Ortaokul"&&ee==="6"?{title:"Yemek",subtitle:"12:30-13:05",color:"bg-green-100 border-green-300 text-green-800"}:ee==="afternoon-breakfast"?{title:"İkindi Kahvaltısı",subtitle:"14:35-14:45",color:"bg-yellow-100 border-yellow-300 text-yellow-800"}:null,ve=ee=>{let ie=0;const oe=F(ee);return Tt.forEach(G=>{vn.forEach(se=>{oe[G][se]&&!te(G,se)&&ie++})}),ie},ye=(ee,ie)=>{let oe=0;const G=F(ee);return vn.forEach(se=>{G[ie][se]&&!te(ie,se)&&oe++}),oe},V=ee=>{const ie=r.find(oe=>oe.id===ee);ie&&(console.log("👁️ Sınıf görüntüleme:",{classId:ee,className:ie.name}),E(ee),setTimeout(()=>{var oe;(oe=k.current)==null||oe.scrollIntoView({behavior:"smooth",block:"start"})},100),l("Program Görüntülendi",`${ie.name} sınıfının programı yukarıda görüntüleniyor`))},le=()=>{const ee=M.filter(ie=>ve(ie.id)>0);if(ee.length===0){c("⚠️ Silinecek Program Yok","Filtrelenen sınıflar arasında silinecek program bulunamadı");return}g(`${ee.length} Sınıf Programı`,async()=>{T(!0);try{let ie=0;const oe=s.filter(G=>Object.values(G.schedule).some(se=>Object.values(se).some(ge=>(ge==null?void 0:ge.classId)&&ee.some(_e=>_e.id===ge.classId))));console.log("🗑️ Silinecek programlar:",{totalSchedules:s.length,schedulesToDelete:oe.length,classesWithSchedules:ee.length});for(const G of oe)try{await i(G.id),ie++,console.log(`✅ Program silindi: ${G.id}`)}catch(se){console.error(`❌ Program silinemedi: ${G.id}`,se)}ie>0?(A("🗑️ Programlar Silindi",`${ie} sınıf programı başarıyla silindi`),B&&ee.some(G=>G.id===B)&&E("")):a("❌ Silme Hatası","Hiçbir program silinemedi")}catch(ie){console.error("❌ Toplu silme hatası:",ie),a("❌ Silme Hatası","Programlar silinirken bir hata oluştu")}finally{T(!1)}})},Z=async ee=>{const ie=b.current[ee.id];if(!ie)return null;try{await new Promise(be=>setTimeout(be,200));const oe=await Pu(ie,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:ie.scrollWidth,height:ie.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),G=new gt({orientation:"landscape",unit:"mm",format:"a4"}),se=oe.toDataURL("image/png",1),ge=297,_e=oe.height*ge/oe.width,ke=_e<210?(210-_e)/2:0;return G.addImage(se,"PNG",0,ke,ge,_e),G}catch(oe){return console.error(`${ee.name} için PDF oluşturma hatası:`,oe),null}},ue=async ee=>{_(!0);try{const ie=await Z(ee);if(ie){const G=`${ee.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"_")}_Sinif_Programi_${new Date().getFullYear()}.pdf`;ie.save(G),A("PDF İndirildi",`${ee.name} sınıfı programı başarıyla indirildi`)}else a("PDF Hatası","PDF oluşturulurken bir hata oluştu")}catch{a("PDF Hatası","PDF oluşturulurken bir hata oluştu")}finally{_(!1)}},L=async()=>{const ie=Q().filter(oe=>ve(oe.id)>0);if(ie.length===0){a("Program Bulunamadı","İndirilecek sınıf programı bulunamadı");return}H(!0);try{let oe=null;for(let G=0;G<ie.length;G++){const se=ie[G],ge=await Z(se);if(ge){if(G===0)oe=ge;else if(oe){oe.addPage();const _e=b.current[se.id];if(_e){await new Promise(he=>setTimeout(he,100));const ke=await Pu(_e,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1}),be=ke.toDataURL("image/png",1),re=297,me=ke.height*re/ke.width,ae=me<210?(210-me)/2:0;oe.addImage(be,"PNG",0,ae,re,me)}}}}if(oe){const G=`Tum_Sinif_Programlari_${new Date().getFullYear()}.pdf`;oe.save(G),A("Toplu PDF İndirildi",`${ie.length} sınıf programı başarıyla indirildi`)}}catch{a("PDF Hatası","Toplu PDF oluşturulurken bir hata oluştu")}finally{H(!1)}},M=Q(),$=M.filter(ee=>ve(ee.id)>0),Y=r.find(ee=>ee.id===B),X=Y?ve(Y.id)>0:!1;return o.jsxs("div",{className:"container-mobile",children:[o.jsxs("div",{className:"header-mobile",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fs,{className:"w-8 h-8 text-emerald-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Sınıf Ders Programları"}),o.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Sınıf bazında ders programlarını görüntüleyin"})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[$.length>0&&o.jsx(Me,{onClick:le,icon:Tn,variant:"danger",disabled:W,className:"w-full sm:w-auto",children:W?"Siliniyor...":`Tüm Programları Sil (${$.length})`}),o.jsx(Me,{onClick:L,icon:Ll,variant:"primary",disabled:$.length===0||P,className:"w-full sm:w-auto",children:P?"PDF Oluşturuluyor...":`Tüm Programları İndir (${$.length})`})]})]}),o.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:o.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[o.jsx(Vt,{label:"Seviye Filtresi",value:I,onChange:w,options:N}),o.jsx(Vt,{label:"Sınıf Seçin",value:B,onChange:ee=>{console.log("🔄 Sınıf değiştirildi:",{oldClass:B,newClass:ee}),E(ee),ee&&r.find(oe=>oe.id===ee)&&ve(ee)>0&&setTimeout(()=>{var oe;(oe=k.current)==null||oe.scrollIntoView({behavior:"smooth",block:"start"})},100)},options:M.map(ee=>({value:ee.id,label:`${ee.name} (${ee.level})`}))})]})}),o.jsxs("div",{className:"responsive-grid gap-responsive mb-6",children:[o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fs,{className:"w-8 h-8 text-emerald-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Sınıf"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Xn,{className:"w-8 h-8 text-blue-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Programlı Sınıf"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.length})]})]})}),o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wr,{className:"w-8 h-8 text-purple-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Öğretmen"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),o.jsx("div",{className:"mobile-card mobile-spacing",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Ders"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),Y&&o.jsxs("div",{ref:k,className:"mobile-card overflow-hidden mb-6 scroll-mt-6",children:[o.jsx("div",{className:"p-4 bg-emerald-50 border-b border-emerald-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-emerald-900 text-lg",children:["📚 ",Y.name," Sınıfı Ders Programı"]}),o.jsxs("p",{className:"text-emerald-700 mt-1",children:[o.jsx("span",{className:"font-medium",children:Y.level})," •",o.jsxs("span",{className:"ml-2",children:["Haftalık toplam: ",o.jsxs("strong",{children:[ve(Y.id)," ders saati"]})]})]})]}),X&&o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx(Me,{onClick:()=>ue(Y),icon:Ll,variant:"primary",size:"sm",disabled:y,children:y?"PDF Oluşturuluyor...":"PDF İndir"})})]})}),X?o.jsx("div",{className:"table-responsive",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{className:"bg-emerald-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-emerald-800 uppercase tracking-wider",children:"Ders Saati"}),Tt.map(ee=>o.jsxs("th",{className:"px-4 py-3 text-center text-xs font-bold text-emerald-800 uppercase tracking-wider",children:[o.jsx("div",{className:"font-bold",children:ee}),o.jsx("div",{className:"text-xs mt-1 font-normal",children:o.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:[ye(Y.id,ee)," ders"]})})]},ee))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200",children:[o.jsxs("tr",{className:"bg-blue-50",children:[o.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-blue-100 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full font-bold",children:"H"}),o.jsx("div",{className:"text-xs mt-1",children:"Hazırlık"})]}),Tt.map(ee=>{const ie=xe("prep",Y.level);return o.jsx("td",{className:"px-3 py-3",children:o.jsx("div",{className:"text-center p-3 bg-blue-50 rounded-lg border-2 border-blue-200 hover:bg-blue-100 transition-colors",children:o.jsx("div",{className:"font-bold text-blue-900 text-sm",children:(ie==null?void 0:ie.title)||"Hazırlık"})})},`${ee}-prep`)})]}),vn.map((ee,ie)=>{const oe=F(Y.id),G=(Y.level==="İlkokul"||Y.level==="Anaokulu")&&ee==="5"||Y.level==="Ortaokul"&&ee==="6",se=ee==="8";return o.jsxs(hi.Fragment,{children:[o.jsxs("tr",{className:G?"bg-green-50":ie%2===0?"bg-white":"bg-gray-50",children:[o.jsx("td",{className:`px-4 py-4 font-bold text-gray-900 text-center ${G?"bg-green-100":"bg-emerald-50"}`,children:G?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-green-600 text-white rounded-full font-bold",children:"Y"}),o.jsx("div",{className:"text-xs mt-1",children:"Yemek"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-emerald-600 text-white rounded-full font-bold",children:ee}),o.jsxs("div",{className:"text-xs mt-1",children:[ee,". Ders"]})]})}),Tt.map(ge=>{var ke,be;if(G)return xe(ee,Y.level),o.jsx("td",{className:"px-3 py-3",children:o.jsx("div",{className:"text-center p-3 bg-green-50 rounded-lg border-2 border-green-200 hover:bg-green-100 transition-colors",children:o.jsx("div",{className:"font-bold text-green-900 text-sm",children:"Yemek"})})},`${ge}-${ee}`);const _e=oe[ge][ee];return o.jsx("td",{className:"px-3 py-3",children:_e?o.jsxs("div",{className:"text-center p-3 bg-emerald-50 rounded-lg border-2 border-emerald-200 hover:bg-emerald-100 transition-colors",children:[o.jsx("div",{className:"font-bold text-emerald-900 text-sm",children:_e.teacher.name.length>20?_e.teacher.name.substring(0,20)+"...":_e.teacher.name}),o.jsx("div",{className:"text-emerald-700 text-xs mt-1 font-medium",children:((ke=_e.subject)==null?void 0:ke.name)||((be=_e.subject)==null?void 0:be.branch)||""})]}):o.jsx("div",{className:"text-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:o.jsx("div",{className:"text-gray-400 text-xs font-medium",children:"Boş Ders"})})},`${ge}-${ee}`)})]}),se&&o.jsxs("tr",{className:"bg-yellow-50",children:[o.jsxs("td",{className:"px-4 py-4 font-bold text-gray-900 bg-yellow-100 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-yellow-600 text-white rounded-full font-bold",children:"İ"}),o.jsx("div",{className:"text-xs mt-1",children:"İkindi Kahvaltısı"})]}),Tt.map(ge=>(xe("afternoon-breakfast",Y.level),o.jsx("td",{className:"px-3 py-3",children:o.jsx("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border-2 border-yellow-200 hover:bg-yellow-100 transition-colors",children:o.jsx("div",{className:"font-bold text-yellow-900 text-sm",children:"İkindi Kahvaltısı"})})},`${ge}-afternoon-breakfast`)))]})]},ee)})]})]})}):o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(Xn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Program Bulunamadı"}),o.jsx("p",{className:"text-gray-500",children:"Bu sınıf için henüz program oluşturulmamış"}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'Program oluşturmak için "Program Oluştur" sayfasını kullanın'})]}),X&&o.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:o.jsx("div",{ref:ee=>b.current[Y.id]=ee,"data-class-id":Y.id,style:{transform:"none",position:"static"},children:o.jsx(DC,{classItem:Y,schedule:F(Y.id),teachers:e,subjects:n})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(_N,{className:"w-6 h-6 mr-2 text-emerald-600"}),"Tüm Sınıf Programları"]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[M.length," sınıf • ",$.length," programlı"]})]}),M.map(ee=>{const ie=ve(ee.id),oe=B===ee.id;return o.jsxs("div",{className:`mobile-card mobile-spacing hover:shadow-md transition-shadow ${oe?"ring-2 ring-emerald-500 shadow-lg":""}`,children:[o.jsx("div",{className:"p-4 bg-gray-50 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${ie>0?"bg-emerald-500":"bg-gray-300"}`}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:ee.name}),o.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee.level==="Anaokulu"?"bg-green-100 text-green-800":ee.level==="İlkokul"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:ee.level}),o.jsx("span",{className:"text-sm text-gray-600",children:ie>0?`${ie} ders saati`:"Program yok"})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:ie>0?o.jsxs(o.Fragment,{children:[o.jsx(Me,{onClick:()=>V(ee.id),variant:oe?"primary":"secondary",size:"sm",children:oe?"Görüntüleniyor":"Görüntüle"}),o.jsx(Me,{onClick:()=>ue(ee),icon:Ll,variant:"primary",size:"sm",disabled:y,children:"PDF İndir"})]}):o.jsx("span",{className:"inline-flex px-3 py-2 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Program Yok"})})]})}),ie>0&&o.jsx(o.Fragment,{children:o.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px",zIndex:-1,opacity:0,pointerEvents:"none"},children:o.jsx("div",{ref:G=>b.current[ee.id]=G,"data-class-id":ee.id,style:{transform:"none",position:"static"},children:o.jsx(DC,{classItem:ee,schedule:F(ee.id),teachers:e,subjects:n})})})})]},ee.id)})]}),M.length===0&&o.jsxs("div",{className:"text-center py-12 mobile-card",children:[o.jsx(Fs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sınıf Bulunamadı"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Seçilen filtrelere uygun sınıf bulunmuyor"}),o.jsx(Me,{onClick:()=>w(""),variant:"secondary",children:"Filtreleri Temizle"})]}),o.jsx(ga,{isOpen:h.isOpen,onClose:p,onConfirm:h.onConfirm,title:h.title,message:h.message,type:h.type,confirmText:h.confirmText,cancelText:h.cancelText,confirmVariant:h.confirmVariant})]})},kV=()=>{const{data:t}=xt("teachers"),{data:e}=xt("classes"),{data:r}=xt("subjects"),{data:n}=xt("schedules"),[s,i]=ce.useState(""),[A,a]=ce.useState(!1),[l,c]=ce.useState(!1),h=ce.useRef(null),f=[...t].sort((I,w)=>I.name.localeCompare(w.name,"tr")),p=async()=>{if(!s||!h.current)return;const I=t.find(y=>y.id===s),w=n.find(y=>y.teacherId===s);if(!I||!w){alert("Seçilen öğretmen için program bulunamadı");return}c(!0);try{const y=A;y||(a(!0),await new Promise(N=>setTimeout(N,200)));const _=await Pu(h.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:h.current.scrollWidth,height:h.current.scrollHeight,scrollX:0,scrollY:0,logging:!1,removeContainer:!0,imageTimeout:0}),P=new gt({orientation:"landscape",unit:"mm",format:"a4"}),H=_.toDataURL("image/png",1),W=297,T=_.height*W/_.width,b=T<210?(210-T)/2:0;P.addImage(H,"PNG",0,b,W,T);const j=`${I.name.replace(/ğ/g,"g").replace(/Ğ/g,"G").replace(/ü/g,"u").replace(/Ü/g,"U").replace(/ş/g,"s").replace(/Ş/g,"S").replace(/ı/g,"i").replace(/İ/g,"I").replace(/ö/g,"o").replace(/Ö/g,"O").replace(/ç/g,"c").replace(/Ç/g,"C").replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"_")}_Ders_Programi_${new Date().getFullYear()}.pdf`;P.save(j),y||a(!1)}catch(y){console.error("PDF oluşturma hatası:",y),alert("PDF oluşturulurken bir hata oluştu")}finally{c(!1)}},g=f.map(I=>({value:I.id,label:`${I.name} (${I.branch} - ${I.level})`})),B=t.find(I=>I.id===s),E=n.find(I=>I.teacherId===s);return o.jsxs("div",{className:"container-mobile",children:[o.jsx("div",{className:"header-mobile",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fl,{className:"w-8 h-8 text-orange-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"PDF Çıktı"}),o.jsx("p",{className:"text-responsive-sm text-gray-600",children:"Öğretmen ders programlarını PDF olarak indirin"})]})]})}),o.jsxs("div",{className:"mobile-card mobile-spacing",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-center",children:[o.jsx("div",{className:"lg:col-span-4",children:o.jsx(Vt,{label:"Öğretmen Seçin",value:s,onChange:i,options:g,required:!0})}),o.jsx("div",{className:"lg:col-span-4 flex items-end justify-center",children:B&&E&&o.jsx(Me,{onClick:()=>a(!A),icon:s0,variant:"secondary",className:"w-full",children:A?"Önizlemeyi Gizle":"Önizleme Göster"})}),o.jsx("div",{className:"lg:col-span-4 flex items-end justify-end",children:B&&E&&o.jsx(Me,{onClick:p,icon:Ll,variant:"primary",disabled:l,className:"w-full",children:l?"PDF Oluşturuluyor...":"PDF İndir"})})]}),o.jsxs("div",{className:"mt-6",children:[B&&!E&&o.jsx("div",{className:"ide-notification ide-notification-warning",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fl,{className:"w-5 h-5 text-ide-accent-600 mt-0.5"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-ide-accent-800",children:"Program Bulunamadı"}),o.jsxs("p",{className:"text-sm text-ide-accent-700 mt-1",children:[o.jsx("strong",{children:B.name}),' için henüz program oluşturulmamış. Önce "Program Oluştur\\" bölümünden program oluşturun, sonra PDF olarak indirebilirsiniz.']})]})]})}),B&&E&&o.jsx("div",{className:"ide-notification ide-notification-success",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Fl,{className:"w-5 h-5 text-ide-secondary-600 mt-0.5"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-ide-secondary-800",children:"Program Hazır"}),o.jsxs("p",{className:"text-sm text-ide-secondary-700 mt-1",children:[o.jsx("strong",{children:B.name})," için program hazır. Önizleme gösterip PDF olarak indirebilirsiniz."]}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4 text-xs text-ide-secondary-600",children:[o.jsxs("div",{children:[o.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),o.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),o.jsx("p",{children:"✓ Yüksek çözünürlük"}),o.jsx("p",{children:"✓ Renkli görünüm"})]}),o.jsxs("div",{children:[o.jsx("p",{children:"✓ Profesyonel tasarım"}),o.jsx("p",{children:"✓ Yazdırma dostu"}),o.jsx("p",{children:"✓ Okul logosu"}),o.jsx("p",{children:"✓ İmza alanları"})]})]})]})]})})]})]}),!B&&o.jsxs("div",{className:"text-center py-12 mobile-card mt-6",children:[o.jsx(Fl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"PDF İndirmek İçin Öğretmen Seçin"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Bir öğretmen seçerek ders programını PDF olarak indirebilirsiniz"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-400 max-w-md mx-auto",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{children:"✓ Gerçek ekran görüntüsü"}),o.jsx("p",{children:"✓ Tam Türkçe karakter desteği"}),o.jsx("p",{children:"✓ Yüksek çözünürlük"}),o.jsx("p",{children:"✓ Renkli görünüm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{children:"✓ Profesyonel tasarım"}),o.jsx("p",{children:"✓ Yazdırma dostu"}),o.jsx("p",{children:"✓ Okul logosu"}),o.jsx("p",{children:"✓ İmza alanları"})]})]})]}),B&&E&&o.jsx("div",{className:`mt-8 ${A?"block":"hidden"}`,children:o.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Program Önizlemesi"}),o.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:o.jsx("div",{ref:h,children:o.jsx(sF,{teacher:B,schedule:E,subjects:r,classes:e})})})]})})]})},TV=t=>{const e=t.trim().toLocaleLowerCase("tr-TR");return e.includes("anaokul")?"Anaokulu":e.includes("ilkokul")?"İlkokul":e.includes("ortaokul")?"Ortaokul":null},UV=t=>{const e=new Map,r=new Map,n=new Map,s=new Map,i=new Map,A=[];return t.split(`
`).filter(c=>c.trim()&&!c.startsWith(";")).slice(1).forEach((c,h)=>{var w,y,_,P,H;const p=c.replace(/^\uFEFF/,"").replace(/\r$/,"").split(";").map(W=>W.trim().replace(/^"|"$/g,"")),g={teacherName:((w=p[0])==null?void 0:w.trim())||"",branch:((y=p[1])==null?void 0:y.trim())||"",level:((_=p[2])==null?void 0:_.trim())||"",subjectName:((P=p[3])==null?void 0:P.trim())||"",className:((H=p[4])==null?void 0:H.trim())||"",weeklyHours:parseInt(p[5]||"0",10)};if(!g.teacherName||!g.branch||!g.level||!g.subjectName||!g.className){c.trim()&&A.push(`${h+2}. satırda eksik veri: ${c}`);return}const B=g.level.split("|").map(W=>TV(W.trim())).filter(W=>!!W);if(B.length===0){A.push(`${h+2}. satırda geçersiz eğitim seviyesi: "${g.level}"`);return}const E=g.branch.split("|").map(W=>W.trim()),I=`${g.subjectName.toLowerCase()}-${g.branch.toLowerCase()}`;i.has(g.teacherName)||i.set(g.teacherName,new Set),i.get(g.teacherName).add(I),B.forEach(W=>{e.has(g.teacherName)||e.set(g.teacherName,{name:g.teacherName,branches:new Set,levels:new Set});const T=e.get(g.teacherName);E.forEach(k=>T.branches.add(k)),T.levels.add(W),g.className.split("/").map(k=>k.trim()).forEach(k=>{r.has(k)||r.set(k,{name:k,level:W,levels:[W]});const j=r.get(k),N=new Set(j.levels||[j.level]);N.add(W),j.levels=Array.from(N),s.has(k)||s.set(k,{classTeacherName:null,teacherNames:new Set});const Q=s.get(k);Q.teacherNames.add(g.teacherName),g.branch.toUpperCase().includes("SINIF ÖĞRETMENLİĞİ")&&W!=="Ortaokul"&&(Q.classTeacherName=g.teacherName)}),n.has(I)?n.get(I).levels.add(W):n.set(I,{name:g.subjectName,branch:g.branch,level:W,levels:new Set([W]),weeklyHours:g.weeklyHours||1})})}),e.forEach(c=>{c.branches=Array.from(c.branches),c.levels=Array.from(c.levels),c.branch=c.branches[0],c.level=c.levels[0]}),r.forEach(c=>{c.levels=Array.from(c.levels),c.level=c.levels[0]}),n.forEach(c=>{c.levels=Array.from(c.levels),c.level=c.levels[0]}),{teachers:e,classes:r,subjects:n,classTeacherAssignments:s,teacherSubjectAssignments:i,errors:A}},QV=(t,e)=>{const r=new Uint8Array([239,187,191]),n=new Blob([r,t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),i=URL.createObjectURL(n);s.setAttribute("href",i),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},LV=()=>{const t=Jl(),{data:e,remove:r,add:n}=xt("teachers"),{data:s,remove:i,add:A,update:a}=xt("classes"),{data:l,remove:c,add:h}=xt("subjects"),{data:f,remove:p}=xt("schedules"),{data:g,remove:B}=xt("schedule-templates"),{data:E,remove:I}=xt("classrooms"),{success:w,error:y,warning:_,info:P}=pi(),{confirmation:H,hideConfirmation:W,confirmDelete:T}=pa(),[b,k]=ce.useState(!1),j=ce.useRef(null),[N,Q]=ce.useState(!1),[F,te]=ce.useState(null),[xe,ve]=ce.useState([]),[ye,V]=ce.useState(!1),le=$=>{var ee;const Y=(ee=$.target.files)==null?void 0:ee[0];if(!Y)return;const X=new FileReader;X.onload=ie=>{var G;const oe=(G=ie.target)==null?void 0:G.result;if(!oe){y("❌ Dosya Hatası","Dosya içeriği okunamadı");return}try{const se=UV(oe);te({teachers:Array.from(se.teachers.values()),classes:Array.from(se.classes.values()),subjects:Array.from(se.subjects.values()),classTeacherAssignments:se.classTeacherAssignments,teacherSubjectAssignments:se.teacherSubjectAssignments}),ve(se.errors),Q(!0)}catch(se){console.error("Kapsamlı CSV işleme hatası:",se),y("❌ CSV Hatası","Dosya işlenirken beklenmedik bir hata oluştu.")}finally{j.current&&(j.current.value="")}},X.readAsText(Y,"UTF-8")},Z=()=>{QV(`öğretmen adı;branş;eğitim seviyesi;ders Adı;sınıf ve şube;haftalık saat
"Öğretmen 1";"SINIF ÖĞRETMENLİĞİ";"İLKOKUL";"TÜRKÇE";"1A";"10"
"Öğretmen 1";"SINIF ÖĞRETMENLİĞİ";"İLKOKUL";"MATEMATİK";"1A";"5"
"Öğretmen 2";"SINIF ÖĞRETMENLİĞİ";"İLKOKUL";"TÜRKÇE";"1B";"10"
"Öğretmen 3";"İNGİLİZCE";"İLKOKUL|ORTAOKUL";"İNGİLİZCE";"4A";"6"
"Öğretmen 3";"İNGİLİZCE";"İLKOKUL|ORTAOKUL";"İNGİLİZCE";"5A";"6"
"Öğretmen 4";"MATEMATİK|GEOMETRİ";"ORTAOKUL";"MATEMATİK";"5A";"5"
"Öğretmen 4";"MATEMATİK|GEOMETRİ";"ORTAOKUL";"SEÇMELİ GEOMETRİ";"8A";"2"
"Öğretmen 5";"ANAOKULU ÖĞRETMENLİĞİ";"ANAOKULU";"SINIF ÖĞRETMENİ";"Papatyalar";"15"
"Öğretmen 6";"BEDEN EĞİTİMİ";"İLKOKUL|ORTAOKUL";"BEDEN EĞİTİMİ";"4A";"2"
"Öğretmen 6";"BEDEN EĞİTİMİ";"İLKOKUL|ORTAOKUL";"BEDEN EĞİTİMİ";"8A";"2"
"Öğretmen 7";"FEN BİLİMLERİ";"ORTAOKUL";"FEN BİLİMLERİ";"5A";"4"
"Öğretmen 8";"SOSYAL BİLGİLER";"ORTAOKUL";"SOSYAL BİLGİLER";"5A";"3"
"Öğretmen 9";"GÖRSEL SANATLAR";"ANAOKULU";"GÖRSEL";"Papatyalar";"2"
"Öğretmen 9";"GÖRSEL SANATLAR";"İLKOKUL";"GÖRSEL";"2B";"2"
"Öğretmen 10";"İSPANYOLCA";"ORTAOKUL";"İSPANYOLCA";"7A";"2"
"Öğretmen 11";"ALMANCA";"ORTAOKUL";"ALMANCA";"7A";"2"
"Öğretmen 12";"BİLİŞİM TEKNOLOJİLERİ";"ORTAOKUL";"BİLİŞİM TEKNOLOJİLERİ";"7A";"2"
"Öğretmen 13";"REHBERLİK";"ORTAOKUL";"REHBERLİK";"8A";"1"
"Öğretmen 14";"DİN KÜLTÜRÜ";"ORTAOKUL";"DİN KÜLTÜRÜ";"8A";"2"`,"kapsamli_veri_sablonu.csv"),w("✅ Şablon İndirildi","CSV şablonu başarıyla indirildi")},ue=async()=>{if(!F)return;V(!0),P("Veri aktarımı başladı...","Lütfen bekleyin.");const{teachers:$,classes:Y,subjects:X,classTeacherAssignments:ee,teacherSubjectAssignments:ie}=F;let oe={teachers:0,classes:0,subjects:0,assignments:0};try{const G=f5(Vs),se=new Map,ge=new Map,_e=new Map;e.forEach(ke=>se.set(ke.name.toLowerCase(),ke.id)),s.forEach(ke=>ge.set(ke.name.toLowerCase(),ke.id)),l.forEach(ke=>{const be=`${ke.name.toLowerCase()}-${ke.branch.toLowerCase()}`;_e.set(be,ke.id)}),X.forEach(ke=>{var re,me;const be=`${(re=ke.name)==null?void 0:re.toLowerCase()}-${(me=ke.branch)==null?void 0:me.toLowerCase()}`;if(!_e.has(be)){const ae=WA(hu(Vs,"subjects"));G.set(ae,{...ke,createdAt:new Date}),_e.set(be,ae.id),oe.subjects++}}),Y.forEach(ke=>{if(!ge.has(ke.name.toLowerCase())){const be=WA(hu(Vs,"classes"));G.set(be,{...ke,createdAt:new Date}),ge.set(ke.name.toLowerCase(),be.id),oe.classes++}}),$.forEach(ke=>{if(!se.has(ke.name.toLowerCase())){const be=WA(hu(Vs,"teachers")),re=ie.get(ke.name)||new Set,me=Array.from(re).map(he=>_e.get(he)).filter(he=>!!he),ae={...ke,subjectIds:me,createdAt:new Date};G.set(be,ae),se.set(ke.name.toLowerCase(),be.id),oe.teachers++}});for(const[ke,be]of ee.entries()){const re=ke.split("/").map(me=>me.trim());for(const me of re){const ae=ge.get(me.toLowerCase());if(ae){const he=Array.from(be.teacherNames).map(et=>se.get(et.toLowerCase())).filter(et=>!!et);let Ie;be.classTeacherName&&(Ie=se.get(be.classTeacherName.toLowerCase()));const Ke=WA(Vs,"classes",ae),Ge={teacherIds:he};Ie&&(Ge.classTeacherId=Ie),G.update(Ke,Ge),oe.assignments++}else console.warn(`İlişki kurulamadı: '${me}' sınıfı bulunamadı.`)}}await G.commit(),w("✅ Aktarım Tamamlandı!",`${oe.teachers} öğretmen, ${oe.classes} sınıf, ${oe.subjects} ders eklendi ve ${oe.assignments} ilişki güncellendi.`)}catch(G){y("❌ Aktarım Hatası","Veriler içe aktarılırken bir hata oluştu. Lütfen konsolu kontrol edin."),console.error(G)}finally{V(!1),Q(!1)}},L=e.length+s.length+l.length+f.length+g.length+E.length,M=()=>{const $=[...e.map(Y=>({...Y,collection:"teachers"})),...s.map(Y=>({...Y,collection:"classes"})),...l.map(Y=>({...Y,collection:"subjects"})),...f.map(Y=>({...Y,collection:"schedules"})),...g.map(Y=>({...Y,collection:"schedule-templates"})),...E.map(Y=>({...Y,collection:"classrooms"}))];if($.length===0){_("⚠️ Silinecek Veri Yok","Sistemde silinecek veri bulunamadı");return}T(`Tüm Veriler (${$.length} öğe)`,async()=>{k(!0);const Y=f5(Vs);$.forEach(X=>{Y.delete(WA(Vs,X.collection,X.id))});try{await Y.commit(),w("🗑️ Tüm Veriler Silindi",`${$.length} öğe başarıyla sistemden kaldırıldı.`)}catch{y("❌ Toplu Silme Hatası","Tüm veriler silinirken bir hata oluştu.")}finally{k(!1)}})};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(q2,{className:"w-8 h-8 text-purple-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Veri Yönetimi"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Sistem verilerini yönetin ve temizleyin"})]})]}),o.jsx(Me,{onClick:()=>t("/"),variant:"secondary",children:"Ana Sayfaya Dön"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(hf,{className:"w-6 h-6 text-yellow-500 mr-3"}),o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Akıllı Veri Yükleme"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Verilen CSV dosyasını tek seferde yükleyerek tüm öğretmen, sınıf ve ders verilerini sisteme otomatik olarak ekleyin. Sistem verileri ayrıştıracak ve tekrar edenleri birleştirecektir."}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"file",accept:".csv",onChange:le,ref:j,className:"hidden",id:"comprehensive-csv-upload"}),o.jsx(Me,{onClick:()=>{var $;return($=j.current)==null?void 0:$.click()},icon:kR,variant:"primary",children:"Kapsamlı CSV Yükle"}),o.jsx(Me,{onClick:Z,icon:Ll,variant:"secondary",children:"Şablon İndir"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(CN,{className:"w-6 h-6 text-purple-600 mr-2"}),o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Veri İstatistikleri"})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Toplam ",L," veri öğesi"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[o.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[o.jsx(Wr,{className:"w-8 h-8 text-blue-600 mb-2"}),o.jsx("h3",{className:"text-base font-semibold text-blue-900 mb-1",children:"Öğretmenler"}),o.jsx("span",{className:"text-3xl font-extrabold text-blue-700 mb-1",children:e.length})]}),o.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:o.jsx(Me,{onClick:()=>t("/teachers"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),o.jsxs("div",{className:"bg-emerald-50 rounded-xl p-6 border border-emerald-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[o.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[o.jsx(Fs,{className:"w-8 h-8 text-emerald-600 mb-2"}),o.jsx("h3",{className:"text-base font-semibold text-emerald-900 mb-1",children:"Sınıflar"}),o.jsx("span",{className:"text-3xl font-extrabold text-emerald-700 mb-1",children:s.length})]}),o.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:o.jsx(Me,{onClick:()=>t("/classes"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),o.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 border border-indigo-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[o.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[o.jsx(Vi,{className:"w-8 h-8 text-indigo-600 mb-2"}),o.jsx("h3",{className:"text-base font-semibold text-indigo-900 mb-1",children:"Dersler"}),o.jsx("span",{className:"text-3xl font-extrabold text-indigo-700 mb-1",children:l.length})]}),o.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:o.jsx(Me,{onClick:()=>t("/subjects"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),o.jsxs("div",{className:"bg-teal-50 rounded-xl p-6 border border-teal-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[o.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[o.jsx(Vh,{className:"w-8 h-8 text-teal-600 mb-2"}),o.jsx("h3",{className:"text-base font-semibold text-teal-900 mb-1",children:"Derslikler"}),o.jsx("span",{className:"text-3xl font-extrabold text-teal-700 mb-1",children:E.length})]}),o.jsx("div",{className:"flex flex-col w-full gap-3 mt-auto pt-2",children:o.jsx(Me,{onClick:()=>t("/classrooms"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),o.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-100 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[o.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[o.jsx(Xn,{className:"w-8 h-8 text-purple-600 mb-2"}),o.jsx("h3",{className:"text-base font-semibold text-purple-900 mb-1",children:"Programlar"}),o.jsx("span",{className:"text-3xl font-extrabold text-purple-700 mb-1",children:f.length})]}),o.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:o.jsx(Me,{onClick:()=>t("/all-schedules"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]}),o.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 border border-orange-200 flex flex-col items-center justify-between min-h-[200px] shadow-sm",children:[o.jsxs("div",{className:"flex flex-col items-center mb-4 text-center",children:[o.jsx($2,{className:"w-8 h-8 text-orange-600 mb-2"}),o.jsx("h3",{className:"text-base font-semibold text-orange-900 mb-1",children:"Şablonlar"}),o.jsx("span",{className:"text-3xl font-extrabold text-orange-700 mb-1",children:g.length})]}),o.jsx("div",{className:"flex flex-col w-full gap-2 mt-auto",children:o.jsx(Me,{onClick:()=>t("/"),variant:"secondary",size:"md",className:"w-full",children:"Yönet"})})]})]})]}),o.jsxs("div",{className:"bg-red-50 rounded-lg shadow-sm border border-red-200 p-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(Mi,{className:"w-6 h-6 text-red-600 mr-2"}),o.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Tehlikeli Bölge"})]}),o.jsx("div",{className:"p-4 bg-white rounded-lg border border-red-100",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-red-900",children:"Tüm Verileri Sil"}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Bu işlem tüm verileri kalıcı olarak silecektir. Bu işlem geri alınamaz!"})]}),o.jsx(Me,{onClick:M,icon:Tn,variant:"danger",disabled:b||L===0,className:"w-full sm:w-auto flex-shrink-0",children:b?"Siliniyor...":`Tüm Verileri Sil (${L})`})]})})]})]}),o.jsx(Ki,{isOpen:N,onClose:()=>Q(!1),title:"Kapsamlı Veri İçe Aktarma Önizlemesi",size:"xl",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Ayrıştırma Sonucu"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-green-700",children:(F==null?void 0:F.teachers.length)||0}),o.jsx("p",{className:"text-sm text-green-600",children:"Benzersiz Öğretmen"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-green-700",children:(F==null?void 0:F.classes.length)||0}),o.jsx("p",{className:"text-sm text-green-600",children:"Benzersiz Sınıf"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-green-700",children:(F==null?void 0:F.subjects.length)||0}),o.jsx("p",{className:"text-sm text-green-600",children:"Benzersiz Ders"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-green-700",children:(F==null?void 0:F.classTeacherAssignments.size)||0}),o.jsx("p",{className:"text-sm text-green-600",children:"Sınıf-Öğretmen İlişkisi"})]})]})]}),xe.length>0&&o.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[o.jsxs("h4",{className:"font-medium text-red-800 mb-2",children:["Tespit Edilen Hatalar (",xe.length,")"]}),o.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 max-h-40 overflow-y-auto",children:xe.map(($,Y)=>o.jsx("li",{children:$},Y))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-md font-semibold mb-2 flex items-center",children:[o.jsx(NR,{className:"w-4 h-4 mr-2"}),"Sınıf-Öğretmen Atamaları Önizlemesi"]}),o.jsx("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-100 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 text-left font-medium",children:"Sınıf"}),o.jsx("th",{className:"p-2 text-left font-medium",children:"Sınıf Öğretmeni"}),o.jsx("th",{className:"p-2 text-left font-medium",children:"Derse Girecek Diğer Öğretmenler"})]})}),o.jsx("tbody",{children:F&&Array.from(F.classTeacherAssignments.entries()).map(([$,Y],X)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"p-2 font-bold",children:$}),o.jsx("td",{className:"p-2 text-blue-600 font-medium",children:Y.classTeacherName||o.jsx("span",{className:"text-gray-400",children:"Belirtilmemiş"})}),o.jsx("td",{className:"p-2 text-gray-600",children:Array.from(Y.teacherNames).filter(ee=>ee!==Y.classTeacherName).join(", ")})]},X))})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Me,{type:"button",onClick:()=>Q(!1),variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"button",onClick:ue,variant:"primary",disabled:ye,children:ye?"Aktarılıyor...":"Verileri İçe Aktar"})]})]})}),o.jsx(ga,{isOpen:H.isOpen,onClose:W,onConfirm:H.onConfirm,title:H.title,message:H.message,type:H.type,confirmText:H.confirmText,cancelText:H.cancelText,confirmVariant:H.confirmVariant})]})},jV=()=>{const t=Jl(),{data:e,loading:r,add:n,update:s,remove:i}=xt("classrooms"),{success:A,error:a,warning:l}=pi(),{confirmation:c,showConfirmation:h,hideConfirmation:f,confirmDelete:p}=pa(),[g,B]=ce.useState(!1),[E,I]=ce.useState(null),[w,y]=ce.useState(""),[_,P]=ce.useState(""),[H,W]=ce.useState(!1),[T,b]=ce.useState({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),k=X=>X?X.substring(0,2).toUpperCase():"",j=()=>{const X=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"];return X[Math.floor(Math.random()*X.length)]},N=[{value:"normal",label:"Normal Sınıf"},{value:"laboratory",label:"Laboratuvar"},{value:"workshop",label:"Atölye"},{value:"gym",label:"Spor Salonu"},{value:"library",label:"Kütüphane"},{value:"computer",label:"Bilgisayar Sınıfı"}],Q=[{id:"projector",label:"Projeksiyon",icon:ng},{id:"computer",label:"Bilgisayar",icon:ng},{id:"wifi",label:"WiFi",icon:TN},{id:"sound",label:"Ses Sistemi",icon:kN}],F=[{value:"Ana Bina",label:"Ana Bina"},{value:"Ek Bina",label:"Ek Bina"},{value:"Spor Kompleksi",label:"Spor Kompleksi"},{value:"Laboratuvar Binası",label:"Laboratuvar Binası"}],xe=e.filter(X=>{const ee=!w||X.type===w,ie=!_||X.building===_;return ee&&ie}).sort((X,ee)=>X.name.localeCompare(ee.name,"tr")),ve=()=>{if(e.length===0){l("⚠️ Silinecek Derslik Yok","Sistemde silinecek derslik bulunamadı");return}p(`${e.length} Derslik`,async()=>{W(!0);try{let X=0;for(const ee of e)try{await i(ee.id),X++}catch(ie){console.error(`❌ Derslik silinemedi: ${ee.name}`,ie)}X>0?(A("🗑️ Derslikler Silindi",`${X} derslik başarıyla silindi`),y(""),P("")):a("❌ Silme Hatası","Hiçbir derslik silinemedi")}catch(X){console.error("❌ Toplu silme hatası:",X),a("❌ Silme Hatası","Derslikler silinirken bir hata oluştu")}finally{W(!1)}})},ye=async X=>{X.preventDefault();const ee={name:T.name,type:T.type||"normal",capacity:parseInt(T.capacity)||30,floor:T.floor||"1",building:T.building||"Ana Bina",equipment:T.equipment,shortName:T.shortName||k(T.name),color:T.color||j()};try{E?(await s(E.id,ee),A("✅ Güncellendi",`${T.name} başarıyla güncellendi`)):(await n(ee),A("✅ Eklendi",`${T.name} başarıyla eklendi`)),V()}catch{a("❌ Hata","Derslik kaydedilirken bir hata oluştu")}},V=()=>{b({name:"",shortName:"",type:"",capacity:"",floor:"",building:"",equipment:[],color:""}),I(null),B(!1)},le=X=>{b({name:X.name,shortName:X.shortName||k(X.name),type:X.type,capacity:X.capacity.toString(),floor:X.floor,building:X.building,equipment:X.equipment||[],color:X.color||j()}),I(X),B(!0)},Z=async X=>{const ee=e.find(ie=>ie.id===X);ee&&p(ee.name,async()=>{await i(X),A("🗑️ Derslik Silindi",`${ee.name} başarıyla silindi`)})},ue=(X,ee)=>{b(ee?ie=>({...ie,equipment:[...ie.equipment,X]}):ie=>({...ie,equipment:ie.equipment.filter(oe=>oe!==X)}))};hi.useEffect(()=>{T.name&&!E&&b(X=>({...X,shortName:k(X.name)}))},[T.name,E]),hi.useEffect(()=>{T.name&&!E&&!T.color&&b(X=>({...X,color:j()}))},[T.name,E]);const L=X=>{var ee;return((ee=N.find(ie=>ie.value===X))==null?void 0:ee.label)||X},M=X=>({normal:"bg-blue-100 text-blue-800",laboratory:"bg-purple-100 text-purple-800",workshop:"bg-orange-100 text-orange-800",gym:"bg-green-100 text-green-800",library:"bg-indigo-100 text-indigo-800",computer:"bg-red-100 text-red-800"})[X]||"bg-gray-100 text-gray-800",$=[{value:"",label:"Tüm Türler"},...N],Y=[{value:"",label:"Tüm Binalar"},...F];return r?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"mobile-loading",children:[o.jsx("div",{className:"mobile-loading-spinner"}),o.jsx("div",{className:"mobile-loading-text",children:"Yükleniyor..."})]})}):o.jsxs("div",{className:"container-mobile",children:[o.jsxs("div",{className:"header-mobile",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vh,{className:"w-8 h-8 text-teal-600 mr-3"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-responsive-xl font-bold text-gray-900",children:"Derslik Yönetimi"}),o.jsxs("p",{className:"text-responsive-sm text-gray-600",children:[e.length," derslik kayıtlı (",xe.length," gösteriliyor)"]})]})]}),o.jsxs("div",{className:"button-group-mobile",children:[o.jsx(Me,{onClick:()=>t("/data-management"),variant:"secondary",className:"w-full sm:w-auto",children:"Veri Yönetimine Dön"}),e.length>0&&o.jsx(Me,{onClick:ve,icon:Tn,variant:"danger",disabled:H,className:"w-full sm:w-auto",children:H?"Siliniyor...":`Tümünü Sil (${e.length})`}),o.jsx(Me,{onClick:()=>B(!0),icon:$r,variant:"primary",className:"w-full sm:w-auto",children:"Yeni Derslik"})]})]}),o.jsx("div",{className:"mobile-card mobile-spacing mb-6",children:o.jsxs("div",{className:"responsive-grid-2 gap-responsive",children:[o.jsx(Vt,{label:"Tür Filtresi",value:w,onChange:y,options:$}),o.jsx(Vt,{label:"Bina Filtresi",value:_,onChange:P,options:Y})]})}),xe.length===0?o.jsxs("div",{className:"text-center py-12 mobile-card",children:[o.jsx(Vh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.length===0?"Henüz derslik eklenmemiş":"Filtrelere uygun derslik bulunamadı"}),o.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"İlk dersliğinizi ekleyerek başlayın":"Farklı filtre kriterleri deneyin"}),o.jsx("div",{className:"button-group-mobile",children:e.length===0&&o.jsx(Me,{onClick:()=>B(!0),icon:$r,variant:"primary",children:"Derslik Ekle"})})]}):o.jsx("div",{className:"responsive-grid gap-responsive",children:xe.map(X=>o.jsxs("div",{className:"mobile-card mobile-spacing hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:X.name}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${M(X.type)}`,children:L(X.type)})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>le(X),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:o.jsx(ma,{size:16})}),o.jsx("button",{onClick:()=>Z(X.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:o.jsx(Tn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Kapasite:"}),o.jsxs("span",{className:"font-medium",children:[X.capacity," kişi"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Konum:"}),o.jsxs("span",{className:"font-medium",children:[X.building," - ",X.floor,". Kat"]})]}),X.equipment&&X.equipment.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Ekipmanlar:"}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:X.equipment.map(ee=>{const ie=Q.find(oe=>oe.id===ee);return ie?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[o.jsx(ie.icon,{size:12,className:"mr-1"}),ie.label]},ee):null})})]})]})]},X.id))}),o.jsx(Ki,{isOpen:g,onClose:V,title:E?"Derslik Düzenle":"Yeni Derslik Ekle",size:"lg",children:o.jsxs("form",{onSubmit:ye,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(qt,{label:"İsim",value:T.name,onChange:X=>b({...T,name:X}),placeholder:"Örn: A101, Fen Lab 1",required:!0}),o.jsx(qt,{label:"Kısaltma",value:T.shortName,onChange:X=>b({...T,shortName:X}),placeholder:"Otomatik oluşturulur",disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Vt,{label:"Derslik Türü",value:T.type,onChange:X=>b({...T,type:X}),options:N}),o.jsx(qt,{label:"Kapasite",type:"number",value:T.capacity,onChange:X=>b({...T,capacity:X}),placeholder:"30",min:"1",max:"100"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Vt,{label:"Bina",value:T.building,onChange:X=>b({...T,building:X}),options:F}),o.jsx(qt,{label:"Kat",value:T.floor,onChange:X=>b({...T,floor:X}),placeholder:"1"})]}),o.jsx(qt,{label:"Renk",value:T.color,onChange:X=>b({...T,color:X}),placeholder:"Otomatik atanır",disabled:!0}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Ekipmanlar"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:Q.map(X=>o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:T.equipment.includes(X.id),onChange:ee=>ue(X.id,ee.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),o.jsx(X.icon,{size:16,className:"text-gray-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:X.label})]},X.id))})]}),o.jsxs("div",{className:"button-group-mobile mt-6",children:[o.jsx(Me,{type:"button",onClick:V,variant:"secondary",children:"İptal"}),o.jsx(Me,{type:"submit",variant:"primary",children:E?"Güncelle":"Kaydet"})]})]})}),o.jsx(ga,{isOpen:c.isOpen,onClose:f,onConfirm:c.onConfirm,title:c.title,message:c.message,type:c.type,confirmText:c.confirmText,cancelText:c.cancelText,confirmVariant:c.confirmVariant})]})},PV=({id:t,type:e,title:r,message:n,duration:s=5e3,onClose:i})=>{const[A,a]=ce.useState(!1),[l,c]=ce.useState(!1),[h,f]=ce.useState(100);ce.useEffect(()=>{const _=setTimeout(()=>{a(!0)},e==="error"?50:100);return()=>clearTimeout(_)},[e]),ce.useEffect(()=>{if(s>0){const y=setInterval(()=>{f(P=>{const H=P-100/(s/100);return H<=0?0:H})},100),_=setTimeout(()=>{p()},s);return()=>{clearInterval(y),clearTimeout(_)}}},[s]);const p=()=>{c(!0),setTimeout(()=>{i(t)},300)},g={success:Mh,error:Y2,warning:Hh,info:W2},B={success:"bg-ide-secondary-50 border-ide-secondary-500 text-ide-secondary-800",error:"bg-ide-accent-50 border-ide-accent-500 text-ide-accent-800",warning:"bg-ide-orange-50 border-ide-orange-500 text-ide-orange-800",info:"bg-ide-primary-50 border-ide-primary-500 text-ide-primary-800"},E={success:"text-ide-secondary-600",error:"text-ide-accent-600",warning:"text-ide-orange-600",info:"text-ide-primary-600"},I={success:"bg-ide-secondary-500",error:"bg-ide-accent-600",warning:"bg-ide-orange-500",info:"bg-ide-primary-500"},w=g[e];return o.jsxs("div",{className:`
        w-full bg-white pointer-events-auto transform transition-all duration-500 ease-out relative overflow-hidden
        ${B[e]}
        ${A&&!l?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
        ${e==="error"?"ring-8 ring-ide-accent-400 ring-opacity-75 shadow-ide-2xl":"shadow-ide-xl"}
        hover:shadow-ide-2xl hover:scale-105 rounded-xl border-l-8
      `,style:{minHeight:e==="error"?"120px":"90px",maxWidth:"400px",zIndex:2147483647,position:"relative",...e==="error"&&{animation:"shake 0.6s ease-in-out, glow 2s ease-in-out infinite",boxShadow:"0 25px 50px -12px rgba(220, 38, 38, 0.5), 0 0 0 4px rgba(220, 38, 38, 0.2), 0 0 30px rgba(220, 38, 38, 0.4)"}},children:[e==="error"&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-ide-accent-100 via-ide-accent-50 to-ide-accent-100 animate-pulse opacity-60"}),o.jsx("div",{className:"p-6 relative z-10",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(w,{className:`h-8 w-8 ${E[e]} ${e==="error"?"animate-bounce":""}`})}),o.jsxs("div",{className:"ml-4 w-0 flex-1",children:[o.jsx("p",{className:`text-lg font-bold leading-tight ${e==="error"?"text-ide-accent-900":"text-ide-gray-900"}`,children:r}),n&&o.jsx("p",{className:`mt-3 text-sm leading-relaxed whitespace-pre-line ${e==="error"?"text-ide-accent-800 font-semibold":"text-ide-gray-700"}`,children:n})]}),o.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:o.jsx("button",{onClick:p,className:`rounded-full p-2 inline-flex transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 ${e==="error"?"text-ide-accent-600 hover:text-ide-accent-800 hover:bg-ide-accent-200 focus:ring-ide-accent-500":"text-ide-gray-400 hover:text-ide-gray-600 hover:bg-ide-gray-100 focus:ring-ide-primary-500"}`,children:o.jsx(ua,{className:"h-6 w-6"})})})]})}),s>0&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-ide-gray-200 overflow-hidden",children:o.jsx("div",{className:`h-full transition-all ease-linear ${I[e]}`,style:{width:`${h}%`,transition:"width 100ms linear"}})}),e==="error"&&o.jsx("div",{className:"absolute -inset-2 bg-ide-accent-500 rounded-xl blur-sm opacity-20 animate-pulse -z-10"})]})},DV=({toasts:t,onClose:e})=>t.length===0?null:o.jsx("div",{className:"space-y-4 w-full",style:{pointerEvents:"auto",position:"relative",zIndex:2147483647},children:t.map((r,n)=>o.jsx("div",{style:{transform:`translateY(${n*10}px) scale(${1-n*.02})`,zIndex:2147483647-n,position:"relative",opacity:1-n*.1},children:o.jsx(PV,{...r,onClose:e})},r.id))});function RV(){const{user:t,loading:e}=G2(),{toasts:r,removeToast:n}=pi();return e?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("div",{className:"text-gray-600 font-medium",children:"Yükleniyor..."})]})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{id:"toast-portal-root",style:{position:"fixed",top:"20px",right:"20px",zIndex:2147483647,pointerEvents:"none",width:"420px",maxWidth:"90vw"},children:o.jsx(DV,{toasts:r,onClose:n})}),t?o.jsx(mU,{children:o.jsx(aU,{children:o.jsxs(Os,{path:"/",element:o.jsx(UR,{}),children:[o.jsx(Os,{index:!0,element:o.jsx(LR,{})}),o.jsx(Os,{path:"teachers",element:o.jsx(RR,{})}),o.jsx(Os,{path:"classes",element:o.jsx(OR,{})}),o.jsx(Os,{path:"subjects",element:o.jsx(HR,{})}),o.jsx(Os,{path:"schedules",element:o.jsx(GR,{})}),o.jsx(Os,{path:"schedule-wizard",element:o.jsx(s8,{})}),o.jsx(Os,{path:"class-schedules",element:o.jsx(FV,{})}),o.jsx(Os,{path:"all-schedules",element:o.jsx(SV,{})}),o.jsx(Os,{path:"pdf",element:o.jsx(kV,{})}),o.jsx(Os,{path:"data-management",element:o.jsx(LV,{})}),o.jsx(Os,{path:"classrooms",element:o.jsx(jV,{})})]})})}):o.jsx(QR,{})]})}J4(document.getElementById("root")).render(o.jsx(ce.StrictMode,{children:o.jsx(RV,{})}));export{sr as _,OV as c,VF as g};
